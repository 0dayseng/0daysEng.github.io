<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KVM: arch/x86/kvm/mtrr.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ea9599923402ca8ab47fc3e495999dea.html">arch</a></li><li class="navelem"><a class="el" href="dir_c21774f8bc9f0de15163573e5f5fa2b5.html">x86</a></li><li class="navelem"><a class="el" href="dir_fde450fd4b58e2560c53a1e73bfa4d6d.html">kvm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">mtrr.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/kvm_host.h&gt;</code><br />
<code>#include &lt;asm/mtrr.h&gt;</code><br />
<code>#include &quot;<a class="el" href="cpuid_8h_source.html">cpuid.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mmu_8h_source.html">mmu.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for mtrr.c:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c__incl.png" border="0" usemap="#aarch_2x86_2kvm_2mtrr_8c" alt=""/></div>
<map name="aarch_2x86_2kvm_2mtrr_8c" id="aarch_2x86_2kvm_2mtrr_8c">
<area shape="rect" title=" " alt="" coords="125,5,278,32"/>
<area shape="rect" title=" " alt="" coords="43,379,178,405"/>
<area shape="rect" title=" " alt="" coords="275,80,368,107"/>
<area shape="rect" href="cpuid_8h.html" title=" " alt="" coords="545,155,615,181"/>
<area shape="rect" href="mmu_8h.html" title=" " alt="" coords="131,80,199,107"/>
<area shape="rect" href="x86_8h.html" title=" " alt="" coords="349,229,408,256"/>
<area shape="rect" href="reverse__cpuid_8h.html" title=" " alt="" coords="952,229,1077,256"/>
<area shape="rect" title=" " alt="" coords="1102,229,1191,256"/>
<area shape="rect" title=" " alt="" coords="432,229,560,256"/>
<area shape="rect" title=" " alt="" coords="584,229,747,256"/>
<area shape="rect" href="governed__features_8h.html" title=" " alt="" coords="771,229,927,256"/>
<area shape="rect" title=" " alt="" coords="313,304,445,331"/>
<area shape="rect" title=" " alt="" coords="469,304,563,331"/>
<area shape="rect" title=" " alt="" coords="587,304,703,331"/>
<area shape="rect" href="kvm__cache__regs_8h.html" title=" " alt="" coords="94,304,237,331"/>
<area shape="rect" href="kvm__emulate_8h.html" title=" " alt="" coords="727,304,851,331"/>
<area shape="rect" title=" " alt="" coords="783,379,913,405"/>
<area shape="rect" href="fpu_8h.html" title=" " alt="" coords="703,379,758,405"/>
<area shape="rect" title=" " alt="" coords="675,453,786,480"/>
<area shape="rect" title=" " alt="" coords="1042,304,1169,331"/>
<area shape="rect" title=" " alt="" coords="1193,304,1329,331"/>
<area shape="rect" title=" " alt="" coords="875,304,1018,331"/>
</map>
</div>
</div>
<p><a href="mtrr_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfixed__mtrr__segment.html">fixed_mtrr_segment</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmtrr__iter.html">mtrr_iter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1f8c165bf4196327bc3abff648276d92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a1f8c165bf4196327bc3abff648276d92">pr_fmt</a>(fmt)&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td></tr>
<tr class="separator:a1f8c165bf4196327bc3abff648276d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a200600b9ef908926085b1703f7ad21a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a200600b9ef908926085b1703f7ad21a2">IA32_MTRR_DEF_TYPE_E</a>&#160;&#160;&#160;(1ULL &lt;&lt; 11)</td></tr>
<tr class="separator:a200600b9ef908926085b1703f7ad21a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae5f0ea056dd2a853f7faa0c3c1d2649"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#aae5f0ea056dd2a853f7faa0c3c1d2649">IA32_MTRR_DEF_TYPE_FE</a>&#160;&#160;&#160;(1ULL &lt;&lt; 10)</td></tr>
<tr class="separator:aae5f0ea056dd2a853f7faa0c3c1d2649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a848fbfe53846e2549797ed3702b6e1e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a848fbfe53846e2549797ed3702b6e1e9">IA32_MTRR_DEF_TYPE_TYPE_MASK</a>&#160;&#160;&#160;(0xff)</td></tr>
<tr class="separator:a848fbfe53846e2549797ed3702b6e1e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ff7c6393ea6c8e33971b2a5e7523aa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#ac4ff7c6393ea6c8e33971b2a5e7523aa">mtrr_for_each_mem_type</a>(_iter_,  _mtrr_,  _gpa_start_,  _gpa_end_)</td></tr>
<tr class="separator:ac4ff7c6393ea6c8e33971b2a5e7523aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a175681f9bc2f7ce2f99dd5e5f9d1da84"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a175681f9bc2f7ce2f99dd5e5f9d1da84">is_mtrr_base_msr</a> (unsigned int msr)</td></tr>
<tr class="separator:a175681f9bc2f7ce2f99dd5e5f9d1da84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48767cfb0bdec5a2a38ea0395fad54e9"><td class="memItemLeft" align="right" valign="top">static struct kvm_mtrr_range *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a48767cfb0bdec5a2a38ea0395fad54e9">var_mtrr_msr_to_range</a> (struct kvm_vcpu *vcpu, unsigned int msr)</td></tr>
<tr class="separator:a48767cfb0bdec5a2a38ea0395fad54e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fde5f938b047bce967efc41c8b0e756"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a9fde5f938b047bce967efc41c8b0e756">msr_mtrr_valid</a> (unsigned msr)</td></tr>
<tr class="separator:a9fde5f938b047bce967efc41c8b0e756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeebf7497c54707dc1e4ac8591a2cb779"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#aeebf7497c54707dc1e4ac8591a2cb779">valid_mtrr_type</a> (unsigned t)</td></tr>
<tr class="separator:aeebf7497c54707dc1e4ac8591a2cb779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1775807b30fdd1d17a4fb9f1f82a6aab"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a1775807b30fdd1d17a4fb9f1f82a6aab">kvm_mtrr_valid</a> (struct kvm_vcpu *vcpu, u32 msr, u64 data)</td></tr>
<tr class="separator:a1775807b30fdd1d17a4fb9f1f82a6aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fbe59dbf51580dd836cbb1a0ea70a72"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a1fbe59dbf51580dd836cbb1a0ea70a72">mtrr_is_enabled</a> (struct kvm_mtrr *mtrr_state)</td></tr>
<tr class="separator:a1fbe59dbf51580dd836cbb1a0ea70a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9585e37781f7744895fb5882606268e0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a9585e37781f7744895fb5882606268e0">fixed_mtrr_is_enabled</a> (struct kvm_mtrr *mtrr_state)</td></tr>
<tr class="separator:a9585e37781f7744895fb5882606268e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb25e3cab8f1edf904c9b8c93a0ee055"><td class="memItemLeft" align="right" valign="top">static u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#aeb25e3cab8f1edf904c9b8c93a0ee055">mtrr_default_type</a> (struct kvm_mtrr *mtrr_state)</td></tr>
<tr class="separator:aeb25e3cab8f1edf904c9b8c93a0ee055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac83b78738987e5fddd004c50acccafc1"><td class="memItemLeft" align="right" valign="top">static u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#ac83b78738987e5fddd004c50acccafc1">mtrr_disabled_type</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:ac83b78738987e5fddd004c50acccafc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a956f625c3363cdda4d426e010d2fa2fe"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a956f625c3363cdda4d426e010d2fa2fe">fixed_mtrr_seg_unit_size</a> (int seg)</td></tr>
<tr class="separator:a956f625c3363cdda4d426e010d2fa2fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a962f0a7169bbd5b126b707e9fdb7eea0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a962f0a7169bbd5b126b707e9fdb7eea0">fixed_msr_to_seg_unit</a> (u32 msr, int *seg, int *unit)</td></tr>
<tr class="separator:a962f0a7169bbd5b126b707e9fdb7eea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5354b7902bd46368278a681e0e389edc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a5354b7902bd46368278a681e0e389edc">fixed_mtrr_seg_unit_range</a> (int seg, int unit, u64 *start, u64 *end)</td></tr>
<tr class="separator:a5354b7902bd46368278a681e0e389edc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2d93fcc6ac83ddc5610c6326b7eb84"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#afe2d93fcc6ac83ddc5610c6326b7eb84">fixed_mtrr_seg_unit_range_index</a> (int seg, int unit)</td></tr>
<tr class="separator:afe2d93fcc6ac83ddc5610c6326b7eb84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9718c773ed2016fa0e1d12e4820e6498"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a9718c773ed2016fa0e1d12e4820e6498">fixed_mtrr_seg_end_range_index</a> (int seg)</td></tr>
<tr class="separator:a9718c773ed2016fa0e1d12e4820e6498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5461e5a931a2cd2927851cfa8893d1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#aba5461e5a931a2cd2927851cfa8893d1">fixed_msr_to_range</a> (u32 msr, u64 *start, u64 *end)</td></tr>
<tr class="separator:aba5461e5a931a2cd2927851cfa8893d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39fe4726415af865aeb43bf8181e5610"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a39fe4726415af865aeb43bf8181e5610">fixed_msr_to_range_index</a> (u32 msr)</td></tr>
<tr class="separator:a39fe4726415af865aeb43bf8181e5610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af08ff4867af25a61346e59af6b645eb7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#af08ff4867af25a61346e59af6b645eb7">fixed_mtrr_addr_to_seg</a> (u64 addr)</td></tr>
<tr class="separator:af08ff4867af25a61346e59af6b645eb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade85c98131adc1613b846614d4d3bd1c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#ade85c98131adc1613b846614d4d3bd1c">fixed_mtrr_addr_seg_to_range_index</a> (u64 addr, int seg)</td></tr>
<tr class="separator:ade85c98131adc1613b846614d4d3bd1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a292203c2d9a60ee813a275bec05aea25"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a292203c2d9a60ee813a275bec05aea25">fixed_mtrr_range_end_addr</a> (int seg, int index)</td></tr>
<tr class="separator:a292203c2d9a60ee813a275bec05aea25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c36af6a46dba6dc17f0fc19e74194d8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a2c36af6a46dba6dc17f0fc19e74194d8">var_mtrr_range</a> (struct kvm_mtrr_range *range, u64 *start, u64 *end)</td></tr>
<tr class="separator:a2c36af6a46dba6dc17f0fc19e74194d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca604775fbcfad49bfaf9441fc2253dc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#aca604775fbcfad49bfaf9441fc2253dc">update_mtrr</a> (struct kvm_vcpu *vcpu, u32 msr)</td></tr>
<tr class="separator:aca604775fbcfad49bfaf9441fc2253dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22190e25344b28da2687639ffac2599e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a22190e25344b28da2687639ffac2599e">var_mtrr_range_is_valid</a> (struct kvm_mtrr_range *range)</td></tr>
<tr class="separator:a22190e25344b28da2687639ffac2599e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae76247135f576f78a7740ff82f92b10c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#ae76247135f576f78a7740ff82f92b10c">set_var_mtrr_msr</a> (struct kvm_vcpu *vcpu, u32 msr, u64 data)</td></tr>
<tr class="separator:ae76247135f576f78a7740ff82f92b10c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b95f238c68e317e64e57d06f2a698dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd">kvm_mtrr_set_msr</a> (struct kvm_vcpu *vcpu, u32 msr, u64 data)</td></tr>
<tr class="separator:a2b95f238c68e317e64e57d06f2a698dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81a164c2615ef1c0fc231d71e5ba9a53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a81a164c2615ef1c0fc231d71e5ba9a53">kvm_mtrr_get_msr</a> (struct kvm_vcpu *vcpu, u32 msr, u64 *pdata)</td></tr>
<tr class="separator:a81a164c2615ef1c0fc231d71e5ba9a53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f8955b4b4c2ac234228a84811d2b1d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a1f8955b4b4c2ac234228a84811d2b1d8">kvm_vcpu_mtrr_init</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a1f8955b4b4c2ac234228a84811d2b1d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c522be198a8840c67b198751032d9d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#ab6c522be198a8840c67b198751032d9d">mtrr_lookup_fixed_start</a> (struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *iter)</td></tr>
<tr class="separator:ab6c522be198a8840c67b198751032d9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09d985111c436af15e24ffaab3407a54"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a09d985111c436af15e24ffaab3407a54">match_var_range</a> (struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *iter, struct kvm_mtrr_range *range)</td></tr>
<tr class="separator:a09d985111c436af15e24ffaab3407a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52038e489fc6b97237ad813a2bb10023"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a52038e489fc6b97237ad813a2bb10023">__mtrr_lookup_var_next</a> (struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *iter)</td></tr>
<tr class="separator:a52038e489fc6b97237ad813a2bb10023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a137001038810c362b9474ed6bd8c13d0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a137001038810c362b9474ed6bd8c13d0">mtrr_lookup_var_start</a> (struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *iter)</td></tr>
<tr class="separator:a137001038810c362b9474ed6bd8c13d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a047d2d6559b8c9faa25c45de7f45097c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a047d2d6559b8c9faa25c45de7f45097c">mtrr_lookup_fixed_next</a> (struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *iter)</td></tr>
<tr class="separator:a047d2d6559b8c9faa25c45de7f45097c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a193c687fa120551ba5a09090415fe741"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a193c687fa120551ba5a09090415fe741">mtrr_lookup_var_next</a> (struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *iter)</td></tr>
<tr class="separator:a193c687fa120551ba5a09090415fe741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e9551de7abf8bd3b941a66909cdc368"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a1e9551de7abf8bd3b941a66909cdc368">mtrr_lookup_start</a> (struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *iter)</td></tr>
<tr class="separator:a1e9551de7abf8bd3b941a66909cdc368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dc869db4319218359dd9b7a4dd470b0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a4dc869db4319218359dd9b7a4dd470b0">mtrr_lookup_init</a> (struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *iter, struct kvm_mtrr *mtrr_state, u64 start, u64 end)</td></tr>
<tr class="separator:a4dc869db4319218359dd9b7a4dd470b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a379585ac6ad68a56411c588097c2c9aa"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a379585ac6ad68a56411c588097c2c9aa">mtrr_lookup_okay</a> (struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *iter)</td></tr>
<tr class="separator:a379585ac6ad68a56411c588097c2c9aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31274ba2cfbf30c7f6803fff6e78a97d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a31274ba2cfbf30c7f6803fff6e78a97d">mtrr_lookup_next</a> (struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *iter)</td></tr>
<tr class="separator:a31274ba2cfbf30c7f6803fff6e78a97d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92c398e9dacb06cf11f5f5364f3e1c36"><td class="memItemLeft" align="right" valign="top">u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a92c398e9dacb06cf11f5f5364f3e1c36">kvm_mtrr_get_guest_memory_type</a> (struct kvm_vcpu *vcpu, gfn_t gfn)</td></tr>
<tr class="separator:a92c398e9dacb06cf11f5f5364f3e1c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d956d7499c26db069dd14d5d5aa6698"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a5d956d7499c26db069dd14d5d5aa6698">EXPORT_SYMBOL_GPL</a> (<a class="el" href="x86_8h.html#a92c398e9dacb06cf11f5f5364f3e1c36">kvm_mtrr_get_guest_memory_type</a>)</td></tr>
<tr class="separator:a5d956d7499c26db069dd14d5d5aa6698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3f4e197f50db225e34de21d65633fcb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#ae3f4e197f50db225e34de21d65633fcb">kvm_mtrr_check_gfn_range_consistency</a> (struct kvm_vcpu *vcpu, gfn_t gfn, int page_num)</td></tr>
<tr class="separator:ae3f4e197f50db225e34de21d65633fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3d5d78782ef6fb6917f9a955bf7472ba"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structfixed__mtrr__segment.html">fixed_mtrr_segment</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mtrr_8c.html#a3d5d78782ef6fb6917f9a955bf7472ba">fixed_seg_table</a> []</td></tr>
<tr class="separator:a3d5d78782ef6fb6917f9a955bf7472ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a200600b9ef908926085b1703f7ad21a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a200600b9ef908926085b1703f7ad21a2">&#9670;&nbsp;</a></span>IA32_MTRR_DEF_TYPE_E</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IA32_MTRR_DEF_TYPE_E&#160;&#160;&#160;(1ULL &lt;&lt; 11)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00024">24</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>

</div>
</div>
<a id="aae5f0ea056dd2a853f7faa0c3c1d2649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae5f0ea056dd2a853f7faa0c3c1d2649">&#9670;&nbsp;</a></span>IA32_MTRR_DEF_TYPE_FE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IA32_MTRR_DEF_TYPE_FE&#160;&#160;&#160;(1ULL &lt;&lt; 10)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00025">25</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>

</div>
</div>
<a id="a848fbfe53846e2549797ed3702b6e1e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a848fbfe53846e2549797ed3702b6e1e9">&#9670;&nbsp;</a></span>IA32_MTRR_DEF_TYPE_TYPE_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IA32_MTRR_DEF_TYPE_TYPE_MASK&#160;&#160;&#160;(0xff)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00026">26</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>

</div>
</div>
<a id="ac4ff7c6393ea6c8e33971b2a5e7523aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4ff7c6393ea6c8e33971b2a5e7523aa">&#9670;&nbsp;</a></span>mtrr_for_each_mem_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mtrr_for_each_mem_type</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_iter_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_mtrr_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_gpa_start_, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_gpa_end_&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">for</span> (<a class="code" href="mtrr_8c.html#a4dc869db4319218359dd9b7a4dd470b0">mtrr_lookup_init</a>(_iter_, _mtrr_, _gpa_start_, _gpa_end_); \</div>
<div class="line">         mtrr_lookup_okay(_iter_); <a class="code" href="mtrr_8c.html#a31274ba2cfbf30c7f6803fff6e78a97d">mtrr_lookup_next</a>(_iter_))</div>
<div class="ttc" id="amtrr_8c_html_a31274ba2cfbf30c7f6803fff6e78a97d"><div class="ttname"><a href="mtrr_8c.html#a31274ba2cfbf30c7f6803fff6e78a97d">mtrr_lookup_next</a></div><div class="ttdeci">static void mtrr_lookup_next(struct mtrr_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00602">mtrr.c:602</a></div></div>
<div class="ttc" id="amtrr_8c_html_a4dc869db4319218359dd9b7a4dd470b0"><div class="ttname"><a href="mtrr_8c.html#a4dc869db4319218359dd9b7a4dd470b0">mtrr_lookup_init</a></div><div class="ttdeci">static void mtrr_lookup_init(struct mtrr_iter *iter, struct kvm_mtrr *mtrr_state, u64 start, u64 end)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00573">mtrr.c:573</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00610">610</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>

</div>
</div>
<a id="a1f8c165bf4196327bc3abff648276d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8c165bf4196327bc3abff648276d92">&#9670;&nbsp;</a></span>pr_fmt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pr_fmt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt</td><td>)</td>
          <td>&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00016">16</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a52038e489fc6b97237ad813a2bb10023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52038e489fc6b97237ad813a2bb10023">&#9670;&nbsp;</a></span>__mtrr_lookup_var_next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __mtrr_lookup_var_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00513">513</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;{</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keyword">struct </span>kvm_mtrr *mtrr_state = iter-&gt;<a class="code" href="structmtrr__iter.html#a52200de87d91924050ec889989355775">mtrr_state</a>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    list_for_each_entry_continue(iter-&gt;<a class="code" href="structmtrr__iter.html#a369d019801dc83e4c45ead59655471ef">range</a>, &amp;mtrr_state-&gt;head, node)</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="mtrr_8c.html#a09d985111c436af15e24ffaab3407a54">match_var_range</a>(iter, iter-&gt;<a class="code" href="structmtrr__iter.html#a369d019801dc83e4c45ead59655471ef">range</a>))</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#a369d019801dc83e4c45ead59655471ef">range</a> = NULL;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#ae8dbbd9f01f0bf80637a39ec7d822630">partial_map</a> |= iter-&gt;<a class="code" href="structmtrr__iter.html#a941ed9faf93a5a0681c28463b7bd9535">start_max</a> &lt; iter-&gt;<a class="code" href="structmtrr__iter.html#ad4d251b5ef8b4714b6228ca3d68898c7">end</a>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a09d985111c436af15e24ffaab3407a54"><div class="ttname"><a href="mtrr_8c.html#a09d985111c436af15e24ffaab3407a54">match_var_range</a></div><div class="ttdeci">static bool match_var_range(struct mtrr_iter *iter, struct kvm_mtrr_range *range)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00489">mtrr.c:489</a></div></div>
<div class="ttc" id="astructmtrr__iter_html_a369d019801dc83e4c45ead59655471ef"><div class="ttname"><a href="structmtrr__iter.html#a369d019801dc83e4c45ead59655471ef">mtrr_iter::range</a></div><div class="ttdeci">struct kvm_mtrr_range * range</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00462">mtrr.c:462</a></div></div>
<div class="ttc" id="astructmtrr__iter_html_a52200de87d91924050ec889989355775"><div class="ttname"><a href="structmtrr__iter.html#a52200de87d91924050ec889989355775">mtrr_iter::mtrr_state</a></div><div class="ttdeci">struct kvm_mtrr * mtrr_state</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00441">mtrr.c:441</a></div></div>
<div class="ttc" id="astructmtrr__iter_html_a941ed9faf93a5a0681c28463b7bd9535"><div class="ttname"><a href="structmtrr__iter.html#a941ed9faf93a5a0681c28463b7bd9535">mtrr_iter::start_max</a></div><div class="ttdeci">u64 start_max</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00464">mtrr.c:464</a></div></div>
<div class="ttc" id="astructmtrr__iter_html_ad4d251b5ef8b4714b6228ca3d68898c7"><div class="ttname"><a href="structmtrr__iter.html#ad4d251b5ef8b4714b6228ca3d68898c7">mtrr_iter::end</a></div><div class="ttdeci">u64 end</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00443">mtrr.c:443</a></div></div>
<div class="ttc" id="astructmtrr__iter_html_ae8dbbd9f01f0bf80637a39ec7d822630"><div class="ttname"><a href="structmtrr__iter.html#ae8dbbd9f01f0bf80637a39ec7d822630">mtrr_iter::partial_map</a></div><div class="ttdeci">bool partial_map</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00450">mtrr.c:450</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a52038e489fc6b97237ad813a2bb10023_cgraph.png" border="0" usemap="#amtrr_8c_a52038e489fc6b97237ad813a2bb10023_cgraph" alt=""/></div>
<map name="amtrr_8c_a52038e489fc6b97237ad813a2bb10023_cgraph" id="amtrr_8c_a52038e489fc6b97237ad813a2bb10023_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,184,32"/>
<area shape="rect" href="mtrr_8c.html#a09d985111c436af15e24ffaab3407a54" title=" " alt="" coords="232,5,367,32"/>
<area shape="rect" href="mtrr_8c.html#a2c36af6a46dba6dc17f0fc19e74194d8" title=" " alt="" coords="415,5,537,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a52038e489fc6b97237ad813a2bb10023_icgraph.png" border="0" usemap="#amtrr_8c_a52038e489fc6b97237ad813a2bb10023_icgraph" alt=""/></div>
<map name="amtrr_8c_a52038e489fc6b97237ad813a2bb10023_icgraph" id="amtrr_8c_a52038e489fc6b97237ad813a2bb10023_icgraph">
<area shape="rect" title=" " alt="" coords="625,31,804,57"/>
<area shape="rect" href="mtrr_8c.html#a193c687fa120551ba5a09090415fe741" title=" " alt="" coords="413,5,577,32"/>
<area shape="rect" href="mtrr_8c.html#a137001038810c362b9474ed6bd8c13d0" title=" " alt="" coords="412,56,577,83"/>
<area shape="rect" href="mtrr_8c.html#a31274ba2cfbf30c7f6803fff6e78a97d" title=" " alt="" coords="5,31,141,57"/>
<area shape="rect" href="mtrr_8c.html#a047d2d6559b8c9faa25c45de7f45097c" title=" " alt="" coords="189,56,364,83"/>
<area shape="rect" href="mtrr_8c.html#a1e9551de7abf8bd3b941a66909cdc368" title=" " alt="" coords="208,107,345,133"/>
<area shape="rect" href="mtrr_8c.html#a4dc869db4319218359dd9b7a4dd470b0" title=" " alt="" coords="9,107,137,133"/>
</map>
</div>

</div>
</div>
<a id="a5d956d7499c26db069dd14d5d5aa6698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d956d7499c26db069dd14d5d5aa6698">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="x86_8h.html#a92c398e9dacb06cf11f5f5364f3e1c36">kvm_mtrr_get_guest_memory_type</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aba5461e5a931a2cd2927851cfa8893d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba5461e5a931a2cd2927851cfa8893d1">&#9670;&nbsp;</a></span>fixed_msr_to_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool fixed_msr_to_range </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00250">250</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;{</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordtype">int</span> seg, unit;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mtrr_8c.html#a962f0a7169bbd5b126b707e9fdb7eea0">fixed_msr_to_seg_unit</a>(msr, &amp;seg, &amp;unit))</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="mtrr_8c.html#a5354b7902bd46368278a681e0e389edc">fixed_mtrr_seg_unit_range</a>(seg, unit, start, end);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a5354b7902bd46368278a681e0e389edc"><div class="ttname"><a href="mtrr_8c.html#a5354b7902bd46368278a681e0e389edc">fixed_mtrr_seg_unit_range</a></div><div class="ttdeci">static void fixed_mtrr_seg_unit_range(int seg, int unit, u64 *start, u64 *end)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00220">mtrr.c:220</a></div></div>
<div class="ttc" id="amtrr_8c_html_a962f0a7169bbd5b126b707e9fdb7eea0"><div class="ttname"><a href="mtrr_8c.html#a962f0a7169bbd5b126b707e9fdb7eea0">fixed_msr_to_seg_unit</a></div><div class="ttdeci">static bool fixed_msr_to_seg_unit(u32 msr, int *seg, int *unit)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00194">mtrr.c:194</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_aba5461e5a931a2cd2927851cfa8893d1_cgraph.png" border="0" usemap="#amtrr_8c_aba5461e5a931a2cd2927851cfa8893d1_cgraph" alt=""/></div>
<map name="amtrr_8c_aba5461e5a931a2cd2927851cfa8893d1_cgraph" id="amtrr_8c_aba5461e5a931a2cd2927851cfa8893d1_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,155,61"/>
<area shape="rect" href="mtrr_8c.html#a962f0a7169bbd5b126b707e9fdb7eea0" title=" " alt="" coords="203,5,369,32"/>
<area shape="rect" href="mtrr_8c.html#a5354b7902bd46368278a681e0e389edc" title=" " alt="" coords="211,57,361,98"/>
<area shape="rect" href="mtrr_8c.html#a956f625c3363cdda4d426e010d2fa2fe" title=" " alt="" coords="417,64,600,91"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_aba5461e5a931a2cd2927851cfa8893d1_icgraph.png" border="0" usemap="#amtrr_8c_aba5461e5a931a2cd2927851cfa8893d1_icgraph" alt=""/></div>
<map name="amtrr_8c_aba5461e5a931a2cd2927851cfa8893d1_icgraph" id="amtrr_8c_aba5461e5a931a2cd2927851cfa8893d1_icgraph">
<area shape="rect" title=" " alt="" coords="731,56,880,83"/>
<area shape="rect" href="mtrr_8c.html#aca604775fbcfad49bfaf9441fc2253dc" title=" " alt="" coords="580,56,683,83"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="387,56,532,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
</map>
</div>

</div>
</div>
<a id="a39fe4726415af865aeb43bf8181e5610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39fe4726415af865aeb43bf8181e5610">&#9670;&nbsp;</a></span>fixed_msr_to_range_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fixed_msr_to_range_index </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>msr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00261">261</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;{</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordtype">int</span> seg, unit;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mtrr_8c.html#a962f0a7169bbd5b126b707e9fdb7eea0">fixed_msr_to_seg_unit</a>(msr, &amp;seg, &amp;unit))</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mtrr_8c.html#afe2d93fcc6ac83ddc5610c6326b7eb84">fixed_mtrr_seg_unit_range_index</a>(seg, unit);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_afe2d93fcc6ac83ddc5610c6326b7eb84"><div class="ttname"><a href="mtrr_8c.html#afe2d93fcc6ac83ddc5610c6326b7eb84">fixed_mtrr_seg_unit_range_index</a></div><div class="ttdeci">static int fixed_mtrr_seg_unit_range_index(int seg, int unit)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00230">mtrr.c:230</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a39fe4726415af865aeb43bf8181e5610_cgraph.png" border="0" usemap="#amtrr_8c_a39fe4726415af865aeb43bf8181e5610_cgraph" alt=""/></div>
<map name="amtrr_8c_a39fe4726415af865aeb43bf8181e5610_cgraph" id="amtrr_8c_a39fe4726415af865aeb43bf8181e5610_cgraph">
<area shape="rect" title=" " alt="" coords="5,27,155,69"/>
<area shape="rect" href="mtrr_8c.html#a962f0a7169bbd5b126b707e9fdb7eea0" title=" " alt="" coords="203,5,369,32"/>
<area shape="rect" href="mtrr_8c.html#afe2d93fcc6ac83ddc5610c6326b7eb84" title=" " alt="" coords="211,57,361,98"/>
<area shape="rect" href="mtrr_8c.html#a956f625c3363cdda4d426e010d2fa2fe" title=" " alt="" coords="417,64,600,91"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a39fe4726415af865aeb43bf8181e5610_icgraph.png" border="0" usemap="#amtrr_8c_a39fe4726415af865aeb43bf8181e5610_icgraph" alt=""/></div>
<map name="amtrr_8c_a39fe4726415af865aeb43bf8181e5610_icgraph" id="amtrr_8c_a39fe4726415af865aeb43bf8181e5610_icgraph">
<area shape="rect" title=" " alt="" coords="581,111,731,153"/>
<area shape="rect" href="mtrr_8c.html#a81a164c2615ef1c0fc231d71e5ba9a53" title=" " alt="" coords="387,68,533,95"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="387,144,533,171"/>
<area shape="rect" href="x86_8c.html#a0e93cb5e88dc8c07d9357181a3a7b2e9" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="5,5,116,32"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="5,56,116,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,151,339,177"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,107,101,133"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,157,115,184"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,208,116,235"/>
</map>
</div>

</div>
</div>
<a id="a962f0a7169bbd5b126b707e9fdb7eea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a962f0a7169bbd5b126b707e9fdb7eea0">&#9670;&nbsp;</a></span>fixed_msr_to_seg_unit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool fixed_msr_to_seg_unit </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>seg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>unit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00194">194</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">switch</span> (msr) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">case</span> MSR_MTRRfix64K_00000:</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        *seg = 0;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        *unit = 0;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">case</span> MSR_MTRRfix16K_80000 ... MSR_MTRRfix16K_A0000:</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        *seg = 1;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        *unit = array_index_nospec(</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            msr - MSR_MTRRfix16K_80000,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            MSR_MTRRfix16K_A0000 - MSR_MTRRfix16K_80000 + 1);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">case</span> MSR_MTRRfix4K_C0000 ... MSR_MTRRfix4K_F8000:</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        *seg = 2;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        *unit = array_index_nospec(</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            msr - MSR_MTRRfix4K_C0000,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            MSR_MTRRfix4K_F8000 - MSR_MTRRfix4K_C0000 + 1);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a962f0a7169bbd5b126b707e9fdb7eea0_icgraph.png" border="0" usemap="#amtrr_8c_a962f0a7169bbd5b126b707e9fdb7eea0_icgraph" alt=""/></div>
<map name="amtrr_8c_a962f0a7169bbd5b126b707e9fdb7eea0_icgraph" id="amtrr_8c_a962f0a7169bbd5b126b707e9fdb7eea0_icgraph">
<area shape="rect" title=" " alt="" coords="1001,60,1168,87"/>
<area shape="rect" href="mtrr_8c.html#aba5461e5a931a2cd2927851cfa8893d1" title=" " alt="" coords="804,31,953,57"/>
<area shape="rect" href="mtrr_8c.html#a39fe4726415af865aeb43bf8181e5610" title=" " alt="" coords="804,82,953,123"/>
<area shape="rect" href="mtrr_8c.html#aca604775fbcfad49bfaf9441fc2253dc" title=" " alt="" coords="631,31,734,57"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="401,56,547,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
<area shape="rect" href="mtrr_8c.html#a81a164c2615ef1c0fc231d71e5ba9a53" title=" " alt="" coords="609,132,756,159"/>
<area shape="rect" href="x86_8c.html#a0e93cb5e88dc8c07d9357181a3a7b2e9" title=" " alt="" coords="387,132,561,159"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="196,119,307,145"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="196,169,307,196"/>
</map>
</div>

</div>
</div>
<a id="ade85c98131adc1613b846614d4d3bd1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade85c98131adc1613b846614d4d3bd1c">&#9670;&nbsp;</a></span>fixed_mtrr_addr_seg_to_range_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fixed_mtrr_addr_seg_to_range_index </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>seg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00285">285</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;{</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keyword">struct </span><a class="code" href="structfixed__mtrr__segment.html">fixed_mtrr_segment</a> *mtrr_seg;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordtype">int</span> index;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    mtrr_seg = &amp;<a class="code" href="mtrr_8c.html#a3d5d78782ef6fb6917f9a955bf7472ba">fixed_seg_table</a>[seg];</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    index = mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a853dca9e94373c6880633a9983946960">range_start</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    index += (addr - mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a99afd27027f66adef2e7bcf19eeeb95f">start</a>) &gt;&gt; mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a6644b05b22b66e4dac5334fa7d3a5477">range_shift</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span> index;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a3d5d78782ef6fb6917f9a955bf7472ba"><div class="ttname"><a href="mtrr_8c.html#a3d5d78782ef6fb6917f9a955bf7472ba">fixed_seg_table</a></div><div class="ttdeci">static struct fixed_mtrr_segment fixed_seg_table[]</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00119">mtrr.c:153</a></div></div>
<div class="ttc" id="astructfixed__mtrr__segment_html"><div class="ttname"><a href="structfixed__mtrr__segment.html">fixed_mtrr_segment</a></div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00143">mtrr.c:143</a></div></div>
<div class="ttc" id="astructfixed__mtrr__segment_html_a6644b05b22b66e4dac5334fa7d3a5477"><div class="ttname"><a href="structfixed__mtrr__segment.html#a6644b05b22b66e4dac5334fa7d3a5477">fixed_mtrr_segment::range_shift</a></div><div class="ttdeci">int range_shift</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00147">mtrr.c:147</a></div></div>
<div class="ttc" id="astructfixed__mtrr__segment_html_a853dca9e94373c6880633a9983946960"><div class="ttname"><a href="structfixed__mtrr__segment.html#a853dca9e94373c6880633a9983946960">fixed_mtrr_segment::range_start</a></div><div class="ttdeci">int range_start</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00150">mtrr.c:150</a></div></div>
<div class="ttc" id="astructfixed__mtrr__segment_html_a99afd27027f66adef2e7bcf19eeeb95f"><div class="ttname"><a href="structfixed__mtrr__segment.html#a99afd27027f66adef2e7bcf19eeeb95f">fixed_mtrr_segment::start</a></div><div class="ttdeci">u64 start</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00144">mtrr.c:144</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_ade85c98131adc1613b846614d4d3bd1c_icgraph.png" border="0" usemap="#amtrr_8c_ade85c98131adc1613b846614d4d3bd1c_icgraph" alt=""/></div>
<map name="amtrr_8c_ade85c98131adc1613b846614d4d3bd1c_icgraph" id="amtrr_8c_ade85c98131adc1613b846614d4d3bd1c_icgraph">
<area shape="rect" title=" " alt="" coords="589,5,744,47"/>
<area shape="rect" href="mtrr_8c.html#ab6c522be198a8840c67b198751032d9d" title=" " alt="" coords="367,13,541,39"/>
<area shape="rect" href="mtrr_8c.html#a1e9551de7abf8bd3b941a66909cdc368" title=" " alt="" coords="181,13,319,39"/>
<area shape="rect" href="mtrr_8c.html#a4dc869db4319218359dd9b7a4dd470b0" title=" " alt="" coords="5,13,133,39"/>
</map>
</div>

</div>
</div>
<a id="af08ff4867af25a61346e59af6b645eb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af08ff4867af25a61346e59af6b645eb7">&#9670;&nbsp;</a></span>fixed_mtrr_addr_to_seg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fixed_mtrr_addr_to_seg </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00271">271</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keyword">struct </span><a class="code" href="structfixed__mtrr__segment.html">fixed_mtrr_segment</a> *mtrr_seg;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordtype">int</span> seg, seg_num = ARRAY_SIZE(<a class="code" href="mtrr_8c.html#a3d5d78782ef6fb6917f9a955bf7472ba">fixed_seg_table</a>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">for</span> (seg = 0; seg &lt; seg_num; seg++) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        mtrr_seg = &amp;<a class="code" href="mtrr_8c.html#a3d5d78782ef6fb6917f9a955bf7472ba">fixed_seg_table</a>[seg];</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">if</span> (mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a99afd27027f66adef2e7bcf19eeeb95f">start</a> &lt;= addr &amp;&amp; addr &lt; mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a6296e66ba55893d12d5ab980551e43de">end</a>)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="keywordflow">return</span> seg;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="ttc" id="astructfixed__mtrr__segment_html_a6296e66ba55893d12d5ab980551e43de"><div class="ttname"><a href="structfixed__mtrr__segment.html#a6296e66ba55893d12d5ab980551e43de">fixed_mtrr_segment::end</a></div><div class="ttdeci">u64 end</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00145">mtrr.c:145</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_af08ff4867af25a61346e59af6b645eb7_icgraph.png" border="0" usemap="#amtrr_8c_af08ff4867af25a61346e59af6b645eb7_icgraph" alt=""/></div>
<map name="amtrr_8c_af08ff4867af25a61346e59af6b645eb7_icgraph" id="amtrr_8c_af08ff4867af25a61346e59af6b645eb7_icgraph">
<area shape="rect" title=" " alt="" coords="589,5,764,32"/>
<area shape="rect" href="mtrr_8c.html#ab6c522be198a8840c67b198751032d9d" title=" " alt="" coords="367,5,541,32"/>
<area shape="rect" href="mtrr_8c.html#a1e9551de7abf8bd3b941a66909cdc368" title=" " alt="" coords="181,5,319,32"/>
<area shape="rect" href="mtrr_8c.html#a4dc869db4319218359dd9b7a4dd470b0" title=" " alt="" coords="5,5,133,32"/>
</map>
</div>

</div>
</div>
<a id="a9585e37781f7744895fb5882606268e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9585e37781f7744895fb5882606268e0">&#9670;&nbsp;</a></span>fixed_mtrr_is_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool fixed_mtrr_is_enabled </td>
          <td>(</td>
          <td class="paramtype">struct kvm_mtrr *&#160;</td>
          <td class="paramname"><em>mtrr_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00109">109</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span> !!(mtrr_state-&gt;deftype &amp; <a class="code" href="mtrr_8c.html#aae5f0ea056dd2a853f7faa0c3c1d2649">IA32_MTRR_DEF_TYPE_FE</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_aae5f0ea056dd2a853f7faa0c3c1d2649"><div class="ttname"><a href="mtrr_8c.html#aae5f0ea056dd2a853f7faa0c3c1d2649">IA32_MTRR_DEF_TYPE_FE</a></div><div class="ttdeci">#define IA32_MTRR_DEF_TYPE_FE</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00025">mtrr.c:25</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a9585e37781f7744895fb5882606268e0_icgraph.png" border="0" usemap="#amtrr_8c_a9585e37781f7744895fb5882606268e0_icgraph" alt=""/></div>
<map name="amtrr_8c_a9585e37781f7744895fb5882606268e0_icgraph" id="amtrr_8c_a9585e37781f7744895fb5882606268e0_icgraph">
<area shape="rect" title=" " alt="" coords="803,31,968,57"/>
<area shape="rect" href="mtrr_8c.html#ab6c522be198a8840c67b198751032d9d" title=" " alt="" coords="580,5,755,32"/>
<area shape="rect" href="mtrr_8c.html#aca604775fbcfad49bfaf9441fc2253dc" title=" " alt="" coords="616,56,719,83"/>
<area shape="rect" href="mtrr_8c.html#a1e9551de7abf8bd3b941a66909cdc368" title=" " alt="" coords="391,5,528,32"/>
<area shape="rect" href="mtrr_8c.html#a4dc869db4319218359dd9b7a4dd470b0" title=" " alt="" coords="187,5,315,32"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="387,56,532,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
</map>
</div>

</div>
</div>
<a id="a292203c2d9a60ee813a275bec05aea25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a292203c2d9a60ee813a275bec05aea25">&#9670;&nbsp;</a></span>fixed_mtrr_range_end_addr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 fixed_mtrr_range_end_addr </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>seg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00296">296</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;{</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keyword">struct </span><a class="code" href="structfixed__mtrr__segment.html">fixed_mtrr_segment</a> *mtrr_seg = &amp;<a class="code" href="mtrr_8c.html#a3d5d78782ef6fb6917f9a955bf7472ba">fixed_seg_table</a>[seg];</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordtype">int</span> pos = index - mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a853dca9e94373c6880633a9983946960">range_start</a>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">return</span> mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a99afd27027f66adef2e7bcf19eeeb95f">start</a> + ((pos + 1) &lt;&lt; mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a6644b05b22b66e4dac5334fa7d3a5477">range_shift</a>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a292203c2d9a60ee813a275bec05aea25_icgraph.png" border="0" usemap="#amtrr_8c_a292203c2d9a60ee813a275bec05aea25_icgraph" alt=""/></div>
<map name="amtrr_8c_a292203c2d9a60ee813a275bec05aea25_icgraph" id="amtrr_8c_a292203c2d9a60ee813a275bec05aea25_icgraph">
<area shape="rect" title=" " alt="" coords="412,5,611,32"/>
<area shape="rect" href="mtrr_8c.html#a047d2d6559b8c9faa25c45de7f45097c" title=" " alt="" coords="189,5,364,32"/>
<area shape="rect" href="mtrr_8c.html#a31274ba2cfbf30c7f6803fff6e78a97d" title=" " alt="" coords="5,5,141,32"/>
</map>
</div>

</div>
</div>
<a id="a9718c773ed2016fa0e1d12e4820e6498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9718c773ed2016fa0e1d12e4820e6498">&#9670;&nbsp;</a></span>fixed_mtrr_seg_end_range_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fixed_mtrr_seg_end_range_index </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>seg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00241">241</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keyword">struct </span><a class="code" href="structfixed__mtrr__segment.html">fixed_mtrr_segment</a> *mtrr_seg = &amp;<a class="code" href="mtrr_8c.html#a3d5d78782ef6fb6917f9a955bf7472ba">fixed_seg_table</a>[seg];</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">int</span> n;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    n = (mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a6296e66ba55893d12d5ab980551e43de">end</a> - mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a99afd27027f66adef2e7bcf19eeeb95f">start</a>) &gt;&gt; mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a6644b05b22b66e4dac5334fa7d3a5477">range_shift</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">return</span> mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a853dca9e94373c6880633a9983946960">range_start</a> + n - 1;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a9718c773ed2016fa0e1d12e4820e6498_icgraph.png" border="0" usemap="#amtrr_8c_a9718c773ed2016fa0e1d12e4820e6498_icgraph" alt=""/></div>
<map name="amtrr_8c_a9718c773ed2016fa0e1d12e4820e6498_icgraph" id="amtrr_8c_a9718c773ed2016fa0e1d12e4820e6498_icgraph">
<area shape="rect" title=" " alt="" coords="412,5,561,47"/>
<area shape="rect" href="mtrr_8c.html#a047d2d6559b8c9faa25c45de7f45097c" title=" " alt="" coords="189,13,364,39"/>
<area shape="rect" href="mtrr_8c.html#a31274ba2cfbf30c7f6803fff6e78a97d" title=" " alt="" coords="5,13,141,39"/>
</map>
</div>

</div>
</div>
<a id="a5354b7902bd46368278a681e0e389edc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5354b7902bd46368278a681e0e389edc">&#9670;&nbsp;</a></span>fixed_mtrr_seg_unit_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fixed_mtrr_seg_unit_range </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>seg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>unit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00220">220</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keyword">struct </span><a class="code" href="structfixed__mtrr__segment.html">fixed_mtrr_segment</a> *mtrr_seg = &amp;<a class="code" href="mtrr_8c.html#a3d5d78782ef6fb6917f9a955bf7472ba">fixed_seg_table</a>[seg];</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    u64 unit_size = <a class="code" href="mtrr_8c.html#a956f625c3363cdda4d426e010d2fa2fe">fixed_mtrr_seg_unit_size</a>(seg);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    *<a class="code" href="structfixed__mtrr__segment.html#a99afd27027f66adef2e7bcf19eeeb95f">start</a> = mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a99afd27027f66adef2e7bcf19eeeb95f">start</a> + unit * unit_size;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    *<a class="code" href="structfixed__mtrr__segment.html#a6296e66ba55893d12d5ab980551e43de">end</a> = *<a class="code" href="structfixed__mtrr__segment.html#a99afd27027f66adef2e7bcf19eeeb95f">start</a> + unit_size;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    WARN_ON(*<a class="code" href="structfixed__mtrr__segment.html#a6296e66ba55893d12d5ab980551e43de">end</a> &gt; mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a6296e66ba55893d12d5ab980551e43de">end</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a956f625c3363cdda4d426e010d2fa2fe"><div class="ttname"><a href="mtrr_8c.html#a956f625c3363cdda4d426e010d2fa2fe">fixed_mtrr_seg_unit_size</a></div><div class="ttdeci">static u64 fixed_mtrr_seg_unit_size(int seg)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00189">mtrr.c:189</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a5354b7902bd46368278a681e0e389edc_cgraph.png" border="0" usemap="#amtrr_8c_a5354b7902bd46368278a681e0e389edc_cgraph" alt=""/></div>
<map name="amtrr_8c_a5354b7902bd46368278a681e0e389edc_cgraph" id="amtrr_8c_a5354b7902bd46368278a681e0e389edc_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,156,47"/>
<area shape="rect" href="mtrr_8c.html#a956f625c3363cdda4d426e010d2fa2fe" title=" " alt="" coords="204,13,387,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a5354b7902bd46368278a681e0e389edc_icgraph.png" border="0" usemap="#amtrr_8c_a5354b7902bd46368278a681e0e389edc_icgraph" alt=""/></div>
<map name="amtrr_8c_a5354b7902bd46368278a681e0e389edc_icgraph" id="amtrr_8c_a5354b7902bd46368278a681e0e389edc_icgraph">
<area shape="rect" title=" " alt="" coords="928,49,1079,90"/>
<area shape="rect" href="mtrr_8c.html#aba5461e5a931a2cd2927851cfa8893d1" title=" " alt="" coords="731,56,880,83"/>
<area shape="rect" href="mtrr_8c.html#aca604775fbcfad49bfaf9441fc2253dc" title=" " alt="" coords="580,56,683,83"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="387,56,532,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
</map>
</div>

</div>
</div>
<a id="afe2d93fcc6ac83ddc5610c6326b7eb84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe2d93fcc6ac83ddc5610c6326b7eb84">&#9670;&nbsp;</a></span>fixed_mtrr_seg_unit_range_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fixed_mtrr_seg_unit_range_index </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>seg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>unit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00230">230</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;{</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keyword">struct </span><a class="code" href="structfixed__mtrr__segment.html">fixed_mtrr_segment</a> *mtrr_seg = &amp;<a class="code" href="mtrr_8c.html#a3d5d78782ef6fb6917f9a955bf7472ba">fixed_seg_table</a>[seg];</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    WARN_ON(mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a99afd27027f66adef2e7bcf19eeeb95f">start</a> + unit * <a class="code" href="mtrr_8c.html#a956f625c3363cdda4d426e010d2fa2fe">fixed_mtrr_seg_unit_size</a>(seg)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        &gt; mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a6296e66ba55893d12d5ab980551e43de">end</a>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">/* each unit has 8 ranges. */</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">return</span> mtrr_seg-&gt;<a class="code" href="structfixed__mtrr__segment.html#a853dca9e94373c6880633a9983946960">range_start</a> + 8 * unit;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_afe2d93fcc6ac83ddc5610c6326b7eb84_cgraph.png" border="0" usemap="#amtrr_8c_afe2d93fcc6ac83ddc5610c6326b7eb84_cgraph" alt=""/></div>
<map name="amtrr_8c_afe2d93fcc6ac83ddc5610c6326b7eb84_cgraph" id="amtrr_8c_afe2d93fcc6ac83ddc5610c6326b7eb84_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,156,47"/>
<area shape="rect" href="mtrr_8c.html#a956f625c3363cdda4d426e010d2fa2fe" title=" " alt="" coords="204,13,387,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_afe2d93fcc6ac83ddc5610c6326b7eb84_icgraph.png" border="0" usemap="#amtrr_8c_afe2d93fcc6ac83ddc5610c6326b7eb84_icgraph" alt=""/></div>
<map name="amtrr_8c_afe2d93fcc6ac83ddc5610c6326b7eb84_icgraph" id="amtrr_8c_afe2d93fcc6ac83ddc5610c6326b7eb84_icgraph">
<area shape="rect" title=" " alt="" coords="779,111,929,153"/>
<area shape="rect" href="mtrr_8c.html#a39fe4726415af865aeb43bf8181e5610" title=" " alt="" coords="581,111,731,153"/>
<area shape="rect" href="mtrr_8c.html#a81a164c2615ef1c0fc231d71e5ba9a53" title=" " alt="" coords="387,68,533,95"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="387,144,533,171"/>
<area shape="rect" href="x86_8c.html#a0e93cb5e88dc8c07d9357181a3a7b2e9" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="5,5,116,32"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="5,56,116,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,151,339,177"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,107,101,133"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,157,115,184"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,208,116,235"/>
</map>
</div>

</div>
</div>
<a id="a956f625c3363cdda4d426e010d2fa2fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a956f625c3363cdda4d426e010d2fa2fe">&#9670;&nbsp;</a></span>fixed_mtrr_seg_unit_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 fixed_mtrr_seg_unit_size </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>seg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00189">189</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">return</span> 8 &lt;&lt; <a class="code" href="mtrr_8c.html#a3d5d78782ef6fb6917f9a955bf7472ba">fixed_seg_table</a>[seg].<a class="code" href="structfixed__mtrr__segment.html#a6644b05b22b66e4dac5334fa7d3a5477">range_shift</a>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a956f625c3363cdda4d426e010d2fa2fe_icgraph.png" border="0" usemap="#amtrr_8c_a956f625c3363cdda4d426e010d2fa2fe_icgraph" alt=""/></div>
<map name="amtrr_8c_a956f625c3363cdda4d426e010d2fa2fe_icgraph" id="amtrr_8c_a956f625c3363cdda4d426e010d2fa2fe_icgraph">
<area shape="rect" title=" " alt="" coords="1200,76,1383,103"/>
<area shape="rect" href="mtrr_8c.html#a5354b7902bd46368278a681e0e389edc" title=" " alt="" coords="1001,35,1152,77"/>
<area shape="rect" href="mtrr_8c.html#afe2d93fcc6ac83ddc5610c6326b7eb84" title=" " alt="" coords="1001,101,1152,142"/>
<area shape="rect" href="mtrr_8c.html#aba5461e5a931a2cd2927851cfa8893d1" title=" " alt="" coords="804,43,953,69"/>
<area shape="rect" href="mtrr_8c.html#aca604775fbcfad49bfaf9441fc2253dc" title=" " alt="" coords="631,43,734,69"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="401,56,547,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
<area shape="rect" href="mtrr_8c.html#a39fe4726415af865aeb43bf8181e5610" title=" " alt="" coords="804,101,953,142"/>
<area shape="rect" href="mtrr_8c.html#a81a164c2615ef1c0fc231d71e5ba9a53" title=" " alt="" coords="609,144,756,171"/>
<area shape="rect" href="x86_8c.html#a0e93cb5e88dc8c07d9357181a3a7b2e9" title=" " alt="" coords="387,144,561,171"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="196,119,307,145"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="196,169,307,196"/>
</map>
</div>

</div>
</div>
<a id="a175681f9bc2f7ce2f99dd5e5f9d1da84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a175681f9bc2f7ce2f99dd5e5f9d1da84">&#9670;&nbsp;</a></span>is_mtrr_base_msr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_mtrr_base_msr </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>msr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00028">28</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="comment">/* MTRR base MSRs use even numbers, masks use odd numbers. */</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">return</span> !(msr &amp; 0x1);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a175681f9bc2f7ce2f99dd5e5f9d1da84_icgraph.png" border="0" usemap="#amtrr_8c_a175681f9bc2f7ce2f99dd5e5f9d1da84_icgraph" alt=""/></div>
<map name="amtrr_8c_a175681f9bc2f7ce2f99dd5e5f9d1da84_icgraph" id="amtrr_8c_a175681f9bc2f7ce2f99dd5e5f9d1da84_icgraph">
<area shape="rect" title=" " alt="" coords="804,81,943,108"/>
<area shape="rect" href="mtrr_8c.html#a81a164c2615ef1c0fc231d71e5ba9a53" title=" " alt="" coords="609,56,756,83"/>
<area shape="rect" href="mtrr_8c.html#ae76247135f576f78a7740ff82f92b10c" title=" " alt="" coords="614,107,751,133"/>
<area shape="rect" href="x86_8c.html#a0e93cb5e88dc8c07d9357181a3a7b2e9" title=" " alt="" coords="387,56,561,83"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="196,5,307,32"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="196,56,307,83"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="401,107,547,133"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,107,339,133"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,56,101,83"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,107,115,133"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,157,116,184"/>
</map>
</div>

</div>
</div>
<a id="ae3f4e197f50db225e34de21d65633fcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3f4e197f50db225e34de21d65633fcb">&#9670;&nbsp;</a></span>kvm_mtrr_check_gfn_range_consistency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool kvm_mtrr_check_gfn_range_consistency </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gfn_t&#160;</td>
          <td class="paramname"><em>gfn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>page_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00690">690</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;{</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keyword">struct </span>kvm_mtrr *mtrr_state = &amp;vcpu-&gt;arch.mtrr_state;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keyword">struct </span><a class="code" href="structmtrr__iter.html">mtrr_iter</a> iter;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    u64 <a class="code" href="structmtrr__iter.html#ab61f01bb838fce5d2ccecc30ed26fafd">start</a>, <a class="code" href="structmtrr__iter.html#ad4d251b5ef8b4714b6228ca3d68898c7">end</a>;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordtype">int</span> type = -1;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <a class="code" href="structmtrr__iter.html#ab61f01bb838fce5d2ccecc30ed26fafd">start</a> = gfn_to_gpa(gfn);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <a class="code" href="structmtrr__iter.html#ad4d251b5ef8b4714b6228ca3d68898c7">end</a> = gfn_to_gpa(gfn + page_num);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="mtrr_8c.html#ac4ff7c6393ea6c8e33971b2a5e7523aa">mtrr_for_each_mem_type</a>(&amp;iter, <a class="code" href="structmtrr__iter.html#a52200de87d91924050ec889989355775">mtrr_state</a>, <a class="code" href="structmtrr__iter.html#ab61f01bb838fce5d2ccecc30ed26fafd">start</a>, <a class="code" href="structmtrr__iter.html#ad4d251b5ef8b4714b6228ca3d68898c7">end</a>) {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="keywordflow">if</span> (type == -1) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            type = iter.mem_type;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="keywordflow">if</span> (type != iter.mem_type)</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    }</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">if</span> (iter.mtrr_disabled)</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">if</span> (!iter.partial_map)</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">if</span> (type == -1)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">return</span> type == <a class="code" href="mtrr_8c.html#aeb25e3cab8f1edf904c9b8c93a0ee055">mtrr_default_type</a>(<a class="code" href="structmtrr__iter.html#a52200de87d91924050ec889989355775">mtrr_state</a>);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_ac4ff7c6393ea6c8e33971b2a5e7523aa"><div class="ttname"><a href="mtrr_8c.html#ac4ff7c6393ea6c8e33971b2a5e7523aa">mtrr_for_each_mem_type</a></div><div class="ttdeci">#define mtrr_for_each_mem_type(_iter_, _mtrr_, _gpa_start_, _gpa_end_)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00610">mtrr.c:610</a></div></div>
<div class="ttc" id="amtrr_8c_html_aeb25e3cab8f1edf904c9b8c93a0ee055"><div class="ttname"><a href="mtrr_8c.html#aeb25e3cab8f1edf904c9b8c93a0ee055">mtrr_default_type</a></div><div class="ttdeci">static u8 mtrr_default_type(struct kvm_mtrr *mtrr_state)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00114">mtrr.c:114</a></div></div>
<div class="ttc" id="astructmtrr__iter_html"><div class="ttname"><a href="structmtrr__iter.html">mtrr_iter</a></div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00439">mtrr.c:439</a></div></div>
<div class="ttc" id="astructmtrr__iter_html_ab61f01bb838fce5d2ccecc30ed26fafd"><div class="ttname"><a href="structmtrr__iter.html#ab61f01bb838fce5d2ccecc30ed26fafd">mtrr_iter::start</a></div><div class="ttdeci">u64 start</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00442">mtrr.c:442</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_ae3f4e197f50db225e34de21d65633fcb_cgraph.png" border="0" usemap="#amtrr_8c_ae3f4e197f50db225e34de21d65633fcb_cgraph" alt=""/></div>
<map name="amtrr_8c_ae3f4e197f50db225e34de21d65633fcb_cgraph" id="amtrr_8c_ae3f4e197f50db225e34de21d65633fcb_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,164,47"/>
<area shape="rect" href="mtrr_8c.html#aeb25e3cab8f1edf904c9b8c93a0ee055" title=" " alt="" coords="212,13,351,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_ae3f4e197f50db225e34de21d65633fcb_icgraph.png" border="0" usemap="#amtrr_8c_ae3f4e197f50db225e34de21d65633fcb_icgraph" alt=""/></div>
<map name="amtrr_8c_ae3f4e197f50db225e34de21d65633fcb_icgraph" id="amtrr_8c_ae3f4e197f50db225e34de21d65633fcb_icgraph">
<area shape="rect" title=" " alt="" coords="1795,591,1953,633"/>
<area shape="rect" href="mmu_8c.html#a4bd7a8fd81e65c4e06e025d92c5787d9" title=" " alt="" coords="1592,599,1747,625"/>
<area shape="rect" href="mmu_8c.html#a2346100ce00fd4d842c51c4be6cbfe35" title=" " alt="" coords="1396,624,1544,651"/>
<area shape="rect" href="mmu__internal_8h.html#ae3c71be306692107b4d90bfb8d24d7f5" title=" " alt="" coords="1157,227,1348,253"/>
<area shape="rect" href="mmu_8c.html#a88ade1c65bbbb9b25a78e82003a71a7c" title=" " alt="" coords="1193,867,1313,893"/>
<area shape="rect" href="x86_8c.html#ae2ebf37d8daf1a8b43a9823bae4ab32b" title=" " alt="" coords="447,1061,619,1088"/>
<area shape="rect" href="mmu_8c.html#a56f1568115a55fdacc188e9b41159b8f" title=" " alt="" coords="921,644,1109,671"/>
<area shape="rect" href="x86_8c.html#a3df01e8bd995bb72420812ea1d39df4b" title=" " alt="" coords="704,753,844,780"/>
<area shape="rect" href="svm_2nested_8c.html#a2d996c5be366f0a7b21228fd18be85ab" title=" " alt="" coords="934,1032,1097,1059"/>
<area shape="rect" href="vmx_2nested_8c.html#a6541b63ab236a1d9732c8ffc3c604ee9" title=" " alt="" coords="933,905,1097,932"/>
<area shape="rect" href="kvm__main_8c.html#ab8870469dadfadf9a204346c62016293" title=" " alt="" coords="191,1061,391,1088"/>
<area shape="rect" href="x86_8c.html#ac766943d4a9d3c7a489012c02e25be54" title=" " alt="" coords="725,368,823,395"/>
<area shape="rect" href="x86_8c.html#a48bee74c7062ceb8db0b0fa3beebfbbc" title=" " alt="" coords="479,492,586,519"/>
<area shape="rect" href="smm_8c.html#ae1445727a8459a6cc7d2e49e5a63c0d5" title=" " alt="" coords="485,644,581,671"/>
<area shape="rect" href="mmu_8c.html#a3b03fb05a1055f336fa61182cf0c760b" title=" " alt="" coords="675,804,873,831"/>
<area shape="rect" href="x86_8c.html#afb193fb2b1c3f240d0ad5a5378afc118" title=" " alt="" coords="704,585,844,612"/>
<area shape="rect" href="smm_8c.html#a5382946234c910e05c6e2c09aff15713" title=" " alt="" coords="697,535,851,561"/>
<area shape="rect" href="x86_8c.html#a2694456104c02a7204796d89d13a1e91" title=" " alt="" coords="709,855,839,881"/>
<area shape="rect" href="vmx_2nested_8c.html#a001f930db9a867e828cf01b48d3e4e25" title=" " alt="" coords="697,637,851,678"/>
<area shape="rect" href="x86_8c.html#a420caf80521ab8d6ef7218d5dd26d47f" title=" " alt="" coords="737,307,811,333"/>
<area shape="rect" href="x86_8c.html#adfaccb9ae903e8b5aee77f8591d51dc9" title=" " alt="" coords="453,361,612,402"/>
<area shape="rect" href="x86_8c.html#ade4b46f56f9ee72375fa967f97e62b56" title=" " alt="" coords="247,345,334,372"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="211,463,370,489"/>
<area shape="rect" href="x86_8c.html#a2b372d06c72b7d8c25e9004bb3a3fd3b" title=" " alt="" coords="205,641,376,682"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="5,648,143,675"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="456,797,609,838"/>
<area shape="rect" href="svm_8c.html#af4590239d3e0b5fbad189a245207dfaa" title=" " alt="" coords="499,695,566,721"/>
<area shape="rect" href="x86_8c.html#aa9556b4ebb06617f66625ff73a3f56b4" title=" " alt="" coords="480,745,585,772"/>
<area shape="rect" href="smm_8c.html#a0943012ff008c7999f582998f0f9167a" title=" " alt="" coords="209,589,373,616"/>
<area shape="rect" href="x86_8c.html#a39acca4a1624a86a5d8e547339729536" title=" " alt="" coords="480,593,585,620"/>
<area shape="rect" href="x86_8c.html#ad6f80d324684bb9f6674522e5d84dccc" title=" " alt="" coords="455,426,610,467"/>
<area shape="rect" href="lapic_8c.html#a27836a2bcd51ebcfe2ca478e9ad7aa04" title=" " alt="" coords="197,787,384,813"/>
<area shape="rect" href="svm_8c.html#a2ca2b108d5447ed4093cb0b07092b07d" title=" " alt="" coords="447,913,618,940"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="445,259,620,285"/>
<area shape="rect" href="svm_2nested_8c.html#a9b21378a3de8baae9bcb689f00cad48e" title=" " alt="" coords="685,1057,863,1084"/>
<area shape="rect" href="svm_2nested_8c.html#a73d1cb9b9fcfa112138681d9080a1c05" title=" " alt="" coords="697,1108,851,1135"/>
<area shape="rect" href="svm_2nested_8c.html#a8bac395de612ca2b748016c6f5ea0fef" title=" " alt="" coords="690,1007,858,1033"/>
<area shape="rect" href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0" title=" " alt="" coords="683,956,865,983"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="709,905,839,932"/>
<area shape="rect" href="mmu_8c.html#a339656816251af93fbd52aece22a2009" title=" " alt="" coords="930,219,1101,261"/>
<area shape="rect" href="mmu_8c.html#a3d0bd209d792a4316f3b40681fdc10f9" title=" " alt="" coords="931,107,1099,133"/>
<area shape="rect" href="async__pf_8c.html#aac6395172fbf7947412604d7e2f33417" title=" " alt="" coords="693,219,855,261"/>
<area shape="rect" href="vmx_8c.html#a8acbb27feacd0dd2105ccd2957cab474" title=" " alt="" coords="692,56,856,83"/>
<area shape="rect" href="vmx_8c.html#a55a56c6fe3cbee7ead4da26de4074000" title=" " alt="" coords="695,157,853,184"/>
<area shape="rect" href="mmu_8c.html#a4d6f2ec540cbdb86e2594df2e4d453c2" title=" " alt="" coords="685,107,863,133"/>
<area shape="rect" href="svm_8c.html#a723646ac5d3234ba8e1845249e6a0935" title=" " alt="" coords="710,5,838,32"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="459,56,607,83"/>
<area shape="rect" href="vmx_8c.html#a7a38ddbd01bec99bf94ab4868ad4c6ea" title=" " alt="" coords="448,107,617,133"/>
<area shape="rect" href="svm_8c.html#a589e870c8a06d1ba26f24da299e47b95" title=" " alt="" coords="473,157,593,184"/>
<area shape="rect" href="svm_8c.html#a8afafecae406016532810194f187fe2c" title=" " alt="" coords="439,5,627,32"/>
</map>
</div>

</div>
</div>
<a id="a92c398e9dacb06cf11f5f5364f3e1c36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92c398e9dacb06cf11f5f5364f3e1c36">&#9670;&nbsp;</a></span>kvm_mtrr_get_guest_memory_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8 kvm_mtrr_get_guest_memory_type </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gfn_t&#160;</td>
          <td class="paramname"><em>gfn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00614">614</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;{</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keyword">struct </span>kvm_mtrr *mtrr_state = &amp;vcpu-&gt;arch.mtrr_state;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keyword">struct </span><a class="code" href="structmtrr__iter.html">mtrr_iter</a> iter;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    u64 <a class="code" href="structmtrr__iter.html#ab61f01bb838fce5d2ccecc30ed26fafd">start</a>, <a class="code" href="structmtrr__iter.html#ad4d251b5ef8b4714b6228ca3d68898c7">end</a>;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordtype">int</span> type = -1;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> wt_wb_mask = (1 &lt;&lt; MTRR_TYPE_WRBACK)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                   | (1 &lt;&lt; MTRR_TYPE_WRTHROUGH);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="structmtrr__iter.html#ab61f01bb838fce5d2ccecc30ed26fafd">start</a> = gfn_to_gpa(gfn);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <a class="code" href="structmtrr__iter.html#ad4d251b5ef8b4714b6228ca3d68898c7">end</a> = <a class="code" href="structmtrr__iter.html#ab61f01bb838fce5d2ccecc30ed26fafd">start</a> + PAGE_SIZE;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="mtrr_8c.html#ac4ff7c6393ea6c8e33971b2a5e7523aa">mtrr_for_each_mem_type</a>(&amp;iter, <a class="code" href="structmtrr__iter.html#a52200de87d91924050ec889989355775">mtrr_state</a>, <a class="code" href="structmtrr__iter.html#ab61f01bb838fce5d2ccecc30ed26fafd">start</a>, <a class="code" href="structmtrr__iter.html#ad4d251b5ef8b4714b6228ca3d68898c7">end</a>) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordtype">int</span> curr_type = iter.mem_type;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">         * Please refer to Intel SDM Volume 3: 11.11.4.1 MTRR</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">         * Precedences.</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">if</span> (type == -1) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            type = curr_type;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">         * If two or more variable memory ranges match and the</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">         * memory types are identical, then that memory type is</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">         * used.</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordflow">if</span> (type == curr_type)</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">         * If two or more variable memory ranges match and one of</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment">         * the memory types is UC, the UC memory type used.</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="keywordflow">if</span> (curr_type == MTRR_TYPE_UNCACHABLE)</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <span class="keywordflow">return</span> MTRR_TYPE_UNCACHABLE;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">         * If two or more variable memory ranges match and the</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">         * memory types are WT and WB, the WT memory type is used.</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">if</span> (((1 &lt;&lt; type) &amp; wt_wb_mask) &amp;&amp;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;              ((1 &lt;&lt; curr_type) &amp; wt_wb_mask)) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            type = MTRR_TYPE_WRTHROUGH;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">         * For overlaps not defined by the above rules, processor</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">         * behavior is undefined.</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="comment">/* We use WB for this undefined behavior. :( */</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordflow">return</span> MTRR_TYPE_WRBACK;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160; </div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">if</span> (iter.mtrr_disabled)</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="mtrr_8c.html#ac83b78738987e5fddd004c50acccafc1">mtrr_disabled_type</a>(vcpu);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="comment">/* not contained in any MTRRs. */</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">if</span> (type == -1)</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="mtrr_8c.html#aeb25e3cab8f1edf904c9b8c93a0ee055">mtrr_default_type</a>(<a class="code" href="structmtrr__iter.html#a52200de87d91924050ec889989355775">mtrr_state</a>);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">     * We just check one page, partially covered by MTRRs is</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">     * impossible.</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    WARN_ON(iter.partial_map);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">return</span> type;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_ac83b78738987e5fddd004c50acccafc1"><div class="ttname"><a href="mtrr_8c.html#ac83b78738987e5fddd004c50acccafc1">mtrr_disabled_type</a></div><div class="ttdeci">static u8 mtrr_disabled_type(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00119">mtrr.c:119</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a92c398e9dacb06cf11f5f5364f3e1c36_cgraph.png" border="0" usemap="#amtrr_8c_a92c398e9dacb06cf11f5f5364f3e1c36_cgraph" alt=""/></div>
<map name="amtrr_8c_a92c398e9dacb06cf11f5f5364f3e1c36_cgraph" id="amtrr_8c_a92c398e9dacb06cf11f5f5364f3e1c36_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,163,65"/>
<area shape="rect" href="mtrr_8c.html#aeb25e3cab8f1edf904c9b8c93a0ee055" title=" " alt="" coords="215,5,354,32"/>
<area shape="rect" href="mtrr_8c.html#ac83b78738987e5fddd004c50acccafc1" title=" " alt="" coords="211,56,359,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a92c398e9dacb06cf11f5f5364f3e1c36_icgraph.png" border="0" usemap="#amtrr_8c_a92c398e9dacb06cf11f5f5364f3e1c36_icgraph" alt=""/></div>
<map name="amtrr_8c_a92c398e9dacb06cf11f5f5364f3e1c36_icgraph" id="amtrr_8c_a92c398e9dacb06cf11f5f5364f3e1c36_icgraph">
<area shape="rect" title=" " alt="" coords="200,5,357,47"/>
<area shape="rect" href="vmx_8c.html#ace49cb366d564758f22c5cbc7c910ab7" title=" " alt="" coords="5,13,152,39"/>
</map>
</div>

</div>
</div>
<a id="a81a164c2615ef1c0fc231d71e5ba9a53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81a164c2615ef1c0fc231d71e5ba9a53">&#9670;&nbsp;</a></span>kvm_mtrr_get_msr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_mtrr_get_msr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>pdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00397">397</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;{</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordtype">int</span> index;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">/* MSR_MTRRcap is a readonly MSR. */</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (msr == MSR_MTRRcap) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">         * SMRR = 0</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">         * WC = 1</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">         * FIX = 1</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">         * VCNT = KVM_NR_VAR_MTRR</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        *pdata = 0x500 | KVM_NR_VAR_MTRR;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mtrr_8c.html#a9fde5f938b047bce967efc41c8b0e756">msr_mtrr_valid</a>(msr))</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    index = <a class="code" href="mtrr_8c.html#a39fe4726415af865aeb43bf8181e5610">fixed_msr_to_range_index</a>(msr);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span> (index &gt;= 0) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        *pdata = *(u64 *)&amp;vcpu-&gt;arch.mtrr_state.fixed_ranges[index];</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msr == MSR_MTRRdefType) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        *pdata = vcpu-&gt;arch.mtrr_state.deftype;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="comment">/* Variable MTRRs */</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="mtrr_8c.html#a175681f9bc2f7ce2f99dd5e5f9d1da84">is_mtrr_base_msr</a>(msr))</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            *pdata = <a class="code" href="mtrr_8c.html#a48767cfb0bdec5a2a38ea0395fad54e9">var_mtrr_msr_to_range</a>(vcpu, msr)-&gt;base;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            *pdata = <a class="code" href="mtrr_8c.html#a48767cfb0bdec5a2a38ea0395fad54e9">var_mtrr_msr_to_range</a>(vcpu, msr)-&gt;mask;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        *pdata &amp;= ~<a class="code" href="cpuid_8c.html#a8bf272b370f8a27bb68bf5bf9e5ae7d5">kvm_vcpu_reserved_gpa_bits_raw</a>(vcpu);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div>
<div class="ttc" id="acpuid_8c_html_a8bf272b370f8a27bb68bf5bf9e5ae7d5"><div class="ttname"><a href="cpuid_8c.html#a8bf272b370f8a27bb68bf5bf9e5ae7d5">kvm_vcpu_reserved_gpa_bits_raw</a></div><div class="ttdeci">u64 kvm_vcpu_reserved_gpa_bits_raw(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l00409">cpuid.c:409</a></div></div>
<div class="ttc" id="amtrr_8c_html_a175681f9bc2f7ce2f99dd5e5f9d1da84"><div class="ttname"><a href="mtrr_8c.html#a175681f9bc2f7ce2f99dd5e5f9d1da84">is_mtrr_base_msr</a></div><div class="ttdeci">static bool is_mtrr_base_msr(unsigned int msr)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00028">mtrr.c:28</a></div></div>
<div class="ttc" id="amtrr_8c_html_a39fe4726415af865aeb43bf8181e5610"><div class="ttname"><a href="mtrr_8c.html#a39fe4726415af865aeb43bf8181e5610">fixed_msr_to_range_index</a></div><div class="ttdeci">static int fixed_msr_to_range_index(u32 msr)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00261">mtrr.c:261</a></div></div>
<div class="ttc" id="amtrr_8c_html_a48767cfb0bdec5a2a38ea0395fad54e9"><div class="ttname"><a href="mtrr_8c.html#a48767cfb0bdec5a2a38ea0395fad54e9">var_mtrr_msr_to_range</a></div><div class="ttdeci">static struct kvm_mtrr_range * var_mtrr_msr_to_range(struct kvm_vcpu *vcpu, unsigned int msr)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00034">mtrr.c:34</a></div></div>
<div class="ttc" id="amtrr_8c_html_a9fde5f938b047bce967efc41c8b0e756"><div class="ttname"><a href="mtrr_8c.html#a9fde5f938b047bce967efc41c8b0e756">msr_mtrr_valid</a></div><div class="ttdeci">static bool msr_mtrr_valid(unsigned msr)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00042">mtrr.c:42</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a81a164c2615ef1c0fc231d71e5ba9a53_cgraph.png" border="0" usemap="#amtrr_8c_a81a164c2615ef1c0fc231d71e5ba9a53_cgraph" alt=""/></div>
<map name="amtrr_8c_a81a164c2615ef1c0fc231d71e5ba9a53_cgraph" id="amtrr_8c_a81a164c2615ef1c0fc231d71e5ba9a53_cgraph">
<area shape="rect" title=" " alt="" coords="5,167,152,193"/>
<area shape="rect" href="mtrr_8c.html#a39fe4726415af865aeb43bf8181e5610" title=" " alt="" coords="217,42,367,83"/>
<area shape="rect" href="mtrr_8c.html#a175681f9bc2f7ce2f99dd5e5f9d1da84" title=" " alt="" coords="223,108,361,135"/>
<area shape="rect" href="cpuid_8c.html#a8bf272b370f8a27bb68bf5bf9e5ae7d5" title=" " alt="" coords="200,159,384,201"/>
<area shape="rect" href="mtrr_8c.html#a9fde5f938b047bce967efc41c8b0e756" title=" " alt="" coords="231,225,353,252"/>
<area shape="rect" href="mtrr_8c.html#a48767cfb0bdec5a2a38ea0395fad54e9" title=" " alt="" coords="205,276,379,303"/>
<area shape="rect" href="mtrr_8c.html#a962f0a7169bbd5b126b707e9fdb7eea0" title=" " alt="" coords="432,5,599,32"/>
<area shape="rect" href="mtrr_8c.html#afe2d93fcc6ac83ddc5610c6326b7eb84" title=" " alt="" coords="440,57,591,98"/>
<area shape="rect" href="mtrr_8c.html#a956f625c3363cdda4d426e010d2fa2fe" title=" " alt="" coords="647,64,829,91"/>
<area shape="rect" href="cpuid_8h.html#a1678e00b10264045277c1abfcb6eec3e" title=" " alt="" coords="442,152,589,179"/>
<area shape="rect" href="mmu_8h.html#a20a41b0166b13eb22b15786964f5de9d" title=" " alt="" coords="475,203,556,229"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a81a164c2615ef1c0fc231d71e5ba9a53_icgraph.png" border="0" usemap="#amtrr_8c_a81a164c2615ef1c0fc231d71e5ba9a53_icgraph" alt=""/></div>
<map name="amtrr_8c_a81a164c2615ef1c0fc231d71e5ba9a53_icgraph" id="amtrr_8c_a81a164c2615ef1c0fc231d71e5ba9a53_icgraph">
<area shape="rect" title=" " alt="" coords="387,31,533,57"/>
<area shape="rect" href="x86_8c.html#a0e93cb5e88dc8c07d9357181a3a7b2e9" title=" " alt="" coords="164,31,339,57"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="5,5,116,32"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="5,56,116,83"/>
</map>
</div>

</div>
</div>
<a id="a2b95f238c68e317e64e57d06f2a698dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b95f238c68e317e64e57d06f2a698dd">&#9670;&nbsp;</a></span>kvm_mtrr_set_msr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_mtrr_set_msr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00378">378</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;{</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordtype">int</span> index;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mtrr_8c.html#a1775807b30fdd1d17a4fb9f1f82a6aab">kvm_mtrr_valid</a>(vcpu, msr, data))</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    index = <a class="code" href="mtrr_8c.html#a39fe4726415af865aeb43bf8181e5610">fixed_msr_to_range_index</a>(msr);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">if</span> (index &gt;= 0)</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        *(u64 *)&amp;vcpu-&gt;arch.mtrr_state.fixed_ranges[index] = data;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">else</span> if (msr == MSR_MTRRdefType)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        vcpu-&gt;arch.mtrr_state.deftype = data;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <a class="code" href="mtrr_8c.html#ae76247135f576f78a7740ff82f92b10c">set_var_mtrr_msr</a>(vcpu, msr, data);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="mtrr_8c.html#aca604775fbcfad49bfaf9441fc2253dc">update_mtrr</a>(vcpu, msr);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a1775807b30fdd1d17a4fb9f1f82a6aab"><div class="ttname"><a href="mtrr_8c.html#a1775807b30fdd1d17a4fb9f1f82a6aab">kvm_mtrr_valid</a></div><div class="ttdeci">static bool kvm_mtrr_valid(struct kvm_vcpu *vcpu, u32 msr, u64 data)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00068">mtrr.c:68</a></div></div>
<div class="ttc" id="amtrr_8c_html_aca604775fbcfad49bfaf9441fc2253dc"><div class="ttname"><a href="mtrr_8c.html#aca604775fbcfad49bfaf9441fc2253dc">update_mtrr</a></div><div class="ttdeci">static void update_mtrr(struct kvm_vcpu *vcpu, u32 msr)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00318">mtrr.c:318</a></div></div>
<div class="ttc" id="amtrr_8c_html_ae76247135f576f78a7740ff82f92b10c"><div class="ttname"><a href="mtrr_8c.html#ae76247135f576f78a7740ff82f92b10c">set_var_mtrr_msr</a></div><div class="ttdeci">static void set_var_mtrr_msr(struct kvm_vcpu *vcpu, u32 msr, u64 data)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00349">mtrr.c:349</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a2b95f238c68e317e64e57d06f2a698dd_cgraph.png" border="0" usemap="#amtrr_8c_a2b95f238c68e317e64e57d06f2a698dd_cgraph" alt=""/></div>
<map name="amtrr_8c_a2b95f238c68e317e64e57d06f2a698dd_cgraph" id="amtrr_8c_a2b95f238c68e317e64e57d06f2a698dd_cgraph">
<area shape="rect" title=" " alt="" coords="5,209,151,236"/>
<area shape="rect" href="mtrr_8c.html#a39fe4726415af865aeb43bf8181e5610" title=" " alt="" coords="403,173,552,214"/>
<area shape="rect" href="mtrr_8c.html#a1775807b30fdd1d17a4fb9f1f82a6aab" title=" " alt="" coords="205,85,330,112"/>
<area shape="rect" href="mtrr_8c.html#ae76247135f576f78a7740ff82f92b10c" title=" " alt="" coords="199,239,336,265"/>
<area shape="rect" href="mtrr_8c.html#aca604775fbcfad49bfaf9441fc2253dc" title=" " alt="" coords="216,479,319,505"/>
<area shape="rect" href="mtrr_8c.html#a962f0a7169bbd5b126b707e9fdb7eea0" title=" " alt="" coords="655,276,822,303"/>
<area shape="rect" href="mtrr_8c.html#afe2d93fcc6ac83ddc5610c6326b7eb84" title=" " alt="" coords="663,198,814,239"/>
<area shape="rect" href="mtrr_8c.html#a956f625c3363cdda4d426e010d2fa2fe" title=" " alt="" coords="921,299,1103,325"/>
<area shape="rect" href="cpuid_8c.html#a8bf272b370f8a27bb68bf5bf9e5ae7d5" title=" " alt="" coords="385,107,569,149"/>
<area shape="rect" href="mtrr_8c.html#a9fde5f938b047bce967efc41c8b0e756" title=" " alt="" coords="417,56,538,83"/>
<area shape="rect" href="mtrr_8c.html#aeebf7497c54707dc1e4ac8591a2cb779" title=" " alt="" coords="415,5,540,32"/>
<area shape="rect" href="cpuid_8h.html#a1678e00b10264045277c1abfcb6eec3e" title=" " alt="" coords="665,89,812,116"/>
<area shape="rect" href="mmu_8h.html#a20a41b0166b13eb22b15786964f5de9d" title=" " alt="" coords="698,140,779,167"/>
<area shape="rect" href="mtrr_8c.html#a175681f9bc2f7ce2f99dd5e5f9d1da84" title=" " alt="" coords="408,289,547,316"/>
<area shape="rect" href="mtrr_8c.html#a48767cfb0bdec5a2a38ea0395fad54e9" title=" " alt="" coords="390,340,565,367"/>
<area shape="rect" href="mtrr_8c.html#a22190e25344b28da2687639ffac2599e" title=" " alt="" coords="388,239,567,265"/>
<area shape="rect" href="mtrr_8c.html#aba5461e5a931a2cd2927851cfa8893d1" title=" " alt="" coords="403,391,552,417"/>
<area shape="rect" href="mtrr_8c.html#a9585e37781f7744895fb5882606268e0" title=" " alt="" coords="395,609,560,636"/>
<area shape="rect" href="mmu_8h.html#a11c275bc8cfad409c0681f0c953ebcae" title=" " alt="" coords="384,442,571,483"/>
<area shape="rect" href="mmu_8c.html#a8b2588158566c9bb798cdb77760e6446" title=" " alt="" coords="401,660,554,687"/>
<area shape="rect" href="mtrr_8c.html#a1fbe59dbf51580dd836cbb1a0ea70a72" title=" " alt="" coords="414,508,541,535"/>
<area shape="rect" href="mtrr_8c.html#a2c36af6a46dba6dc17f0fc19e74194d8" title=" " alt="" coords="416,559,539,585"/>
<area shape="rect" href="mtrr_8c.html#a5354b7902bd46368278a681e0e389edc" title=" " alt="" coords="663,359,814,401"/>
<area shape="rect" href="mmu_8h.html#aaac7b37c7c917c491331020726730c02" title=" " alt="" coords="639,489,839,530"/>
<area shape="rect" href="x86_8c.html#a07ecc086564147d2003e0699cd506aa4" title=" " alt="" coords="619,437,859,464"/>
<area shape="rect" href="kvm__main_8c.html#a523d3c698dd532d3fbc1bb046246ea5f" title=" " alt="" coords="1187,813,1361,854"/>
<area shape="rect" href="mmu_8c.html#aafdb4964a081741c295ad440ae9ff0f4" title=" " alt="" coords="641,588,836,615"/>
<area shape="rect" href="tdp__mmu_8c.html#aa4fb1a66a2bc67f8699e8ddafdd4b1e8" title=" " alt="" coords="644,660,833,687"/>
<area shape="rect" href="kvm__main_8c.html#a54913b65d68c88909678d5cf9c983a6b" title=" " alt="" coords="1444,791,1619,817"/>
<area shape="rect" href="kvm__main_8c.html#abaa3f5ff00150487b52dd21c1617bab6" title=" " alt="" coords="1680,791,1891,817"/>
<area shape="rect" href="kvm__main_8c.html#ac46e1a0e43c0784194a451a7e7394c02" title=" " alt="" coords="1939,783,2149,825"/>
<area shape="rect" href="kvm__main_8c.html#a56fa7dccf37545a9046522ded0354c7e" title=" " alt="" coords="2208,765,2375,792"/>
<area shape="rect" href="kvm__main_8c.html#a90667c5619416298aea980ad51ec8525" title=" " alt="" coords="2197,816,2385,843"/>
<area shape="rect" href="mmu_8c.html#a51e0b9f12c2d968627ad2c32cc8b2b12" title=" " alt="" coords="944,548,1080,575"/>
<area shape="rect" href="mmu_8c.html#a0d6468f2fe0ff56e6a8465e1dbe759aa" title=" " alt="" coords="939,725,1085,752"/>
<area shape="rect" href="mmu_8h.html#ac9867cac2f7c0a763088b2112951b5ac" title=" " alt="" coords="907,457,1117,484"/>
<area shape="rect" href="mmu_8c.html#aee3bce967ca931b9d1b1766632f0561e" title=" " alt="" coords="1181,508,1367,535"/>
<area shape="rect" href="mmu_8c.html#a790300e09cfcb98ec72f8c55822df153" title=" " alt="" coords="1441,508,1622,535"/>
<area shape="rect" href="mmu_8c.html#a63ad2b3c2d88537186f5732c6d26793e" title=" " alt="" coords="1431,457,1632,484"/>
<area shape="rect" href="mmu_8c.html#a29dd1887c83a0d49219b0fd5f28ce401" title=" " alt="" coords="1692,457,1879,484"/>
<area shape="rect" href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686" title=" " alt="" coords="1698,559,1873,585"/>
<area shape="rect" href="mmu_8h.html#a89c85e383e0f6dfe6f91f5c1dd25e522" title=" " alt="" coords="1170,457,1378,484"/>
<area shape="rect" href="tdp__mmu_8c.html#a182ff449fd87f9503148e88c33cff5ac" title=" " alt="" coords="935,660,1089,687"/>
<area shape="rect" href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5" title=" " alt="" coords="1225,711,1323,737"/>
<area shape="rect" href="tdp__mmu_8c.html#abc2d73db35961f670cedf8ce1206c4d2" title=" " alt="" coords="1169,761,1379,788"/>
<area shape="rect" href="tdp__mmu_8c.html#af6444812b70d9509539a3fa478cde14d" title=" " alt="" coords="1187,559,1361,585"/>
<area shape="rect" href="tdp__mmu_8c.html#ac323268ae26fde5a608d694f4943d476" title=" " alt="" coords="1165,660,1383,687"/>
<area shape="rect" href="spte_8h.html#ae9b1a94fccf74f0837e1a775bc57d729" title=" " alt="" coords="1481,711,1582,737"/>
<area shape="rect" href="tdp__mmu_8c.html#a1880e056251c1743579f5c7a25ccad1a" title=" " alt="" coords="1458,559,1605,585"/>
<area shape="rect" href="mmu_8h.html#a6555cf2d510d04ae19bee154d166f778" title=" " alt="" coords="1453,660,1609,687"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a2b95f238c68e317e64e57d06f2a698dd_icgraph.png" border="0" usemap="#amtrr_8c_a2b95f238c68e317e64e57d06f2a698dd_icgraph" alt=""/></div>
<map name="amtrr_8c_a2b95f238c68e317e64e57d06f2a698dd_icgraph" id="amtrr_8c_a2b95f238c68e317e64e57d06f2a698dd_icgraph">
<area shape="rect" title=" " alt="" coords="387,56,532,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
</map>
</div>

</div>
</div>
<a id="a1775807b30fdd1d17a4fb9f1f82a6aab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1775807b30fdd1d17a4fb9f1f82a6aab">&#9670;&nbsp;</a></span>kvm_mtrr_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool kvm_mtrr_valid </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00068">68</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    u64 mask;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mtrr_8c.html#a9fde5f938b047bce967efc41c8b0e756">msr_mtrr_valid</a>(msr))</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span> (msr == MSR_MTRRdefType) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">if</span> (data &amp; ~0xcff)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="mtrr_8c.html#aeebf7497c54707dc1e4ac8591a2cb779">valid_mtrr_type</a>(data &amp; 0xff);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msr &gt;= MSR_MTRRfix64K_00000 &amp;&amp; msr &lt;= MSR_MTRRfix4K_F8000) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; 8 ; i++)</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="mtrr_8c.html#aeebf7497c54707dc1e4ac8591a2cb779">valid_mtrr_type</a>((data &gt;&gt; (i * 8)) &amp; 0xff))</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">/* variable MTRRs */</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    WARN_ON(!(msr &gt;= MTRRphysBase_MSR(0) &amp;&amp;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;          msr &lt;= MTRRphysMask_MSR(KVM_NR_VAR_MTRR - 1)));</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    mask = <a class="code" href="cpuid_8c.html#a8bf272b370f8a27bb68bf5bf9e5ae7d5">kvm_vcpu_reserved_gpa_bits_raw</a>(vcpu);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> ((msr &amp; 1) == 0) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="comment">/* MTRR base */</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="mtrr_8c.html#aeebf7497c54707dc1e4ac8591a2cb779">valid_mtrr_type</a>(data &amp; 0xff))</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        mask |= 0xf00;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="comment">/* MTRR mask */</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        mask |= 0x7ff;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> (data &amp; mask) == 0;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_aeebf7497c54707dc1e4ac8591a2cb779"><div class="ttname"><a href="mtrr_8c.html#aeebf7497c54707dc1e4ac8591a2cb779">valid_mtrr_type</a></div><div class="ttdeci">static bool valid_mtrr_type(unsigned t)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00063">mtrr.c:63</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a1775807b30fdd1d17a4fb9f1f82a6aab_cgraph.png" border="0" usemap="#amtrr_8c_a1775807b30fdd1d17a4fb9f1f82a6aab_cgraph" alt=""/></div>
<map name="amtrr_8c_a1775807b30fdd1d17a4fb9f1f82a6aab_cgraph" id="amtrr_8c_a1775807b30fdd1d17a4fb9f1f82a6aab_cgraph">
<area shape="rect" title=" " alt="" coords="5,89,131,116"/>
<area shape="rect" href="cpuid_8c.html#a8bf272b370f8a27bb68bf5bf9e5ae7d5" title=" " alt="" coords="179,23,363,65"/>
<area shape="rect" href="mtrr_8c.html#a9fde5f938b047bce967efc41c8b0e756" title=" " alt="" coords="210,89,331,116"/>
<area shape="rect" href="mtrr_8c.html#aeebf7497c54707dc1e4ac8591a2cb779" title=" " alt="" coords="208,140,333,167"/>
<area shape="rect" href="cpuid_8h.html#a1678e00b10264045277c1abfcb6eec3e" title=" " alt="" coords="411,5,557,32"/>
<area shape="rect" href="mmu_8h.html#a20a41b0166b13eb22b15786964f5de9d" title=" " alt="" coords="443,56,525,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a1775807b30fdd1d17a4fb9f1f82a6aab_icgraph.png" border="0" usemap="#amtrr_8c_a1775807b30fdd1d17a4fb9f1f82a6aab_icgraph" alt=""/></div>
<map name="amtrr_8c_a1775807b30fdd1d17a4fb9f1f82a6aab_icgraph" id="amtrr_8c_a1775807b30fdd1d17a4fb9f1f82a6aab_icgraph">
<area shape="rect" title=" " alt="" coords="580,56,705,83"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="387,56,532,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
</map>
</div>

</div>
</div>
<a id="a1f8955b4b4c2ac234228a84811d2b1d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8955b4b4c2ac234228a84811d2b1d8">&#9670;&nbsp;</a></span>kvm_vcpu_mtrr_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_vcpu_mtrr_init </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00434">434</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;{</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    INIT_LIST_HEAD(&amp;vcpu-&gt;arch.mtrr_state.head);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a1f8955b4b4c2ac234228a84811d2b1d8_icgraph.png" border="0" usemap="#amtrr_8c_a1f8955b4b4c2ac234228a84811d2b1d8_icgraph" alt=""/></div>
<map name="amtrr_8c_a1f8955b4b4c2ac234228a84811d2b1d8_icgraph" id="amtrr_8c_a1f8955b4b4c2ac234228a84811d2b1d8_icgraph">
<area shape="rect" title=" " alt="" coords="473,5,625,32"/>
<area shape="rect" href="x86_8c.html#ae2ebf37d8daf1a8b43a9823bae4ab32b" title=" " alt="" coords="253,5,425,32"/>
<area shape="rect" href="kvm__main_8c.html#ab8870469dadfadf9a204346c62016293" title=" " alt="" coords="5,5,205,32"/>
</map>
</div>

</div>
</div>
<a id="a09d985111c436af15e24ffaab3407a54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09d985111c436af15e24ffaab3407a54">&#9670;&nbsp;</a></span>match_var_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool match_var_range </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_mtrr_range *&#160;</td>
          <td class="paramname"><em>range</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00489">489</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;{</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    u64 start, end;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="mtrr_8c.html#a2c36af6a46dba6dc17f0fc19e74194d8">var_mtrr_range</a>(range, &amp;start, &amp;end);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">if</span> (!(start &gt;= iter-&gt;<a class="code" href="structmtrr__iter.html#ad4d251b5ef8b4714b6228ca3d68898c7">end</a> || end &lt;= iter-&gt;start)) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        iter-&gt;<a class="code" href="structmtrr__iter.html#a369d019801dc83e4c45ead59655471ef">range</a> = range;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">         * the function is called when we do kvm_mtrr.head walking.</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">         * Range has the minimum base address which interleaves</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">         * [looker-&gt;start_max, looker-&gt;end).</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        iter-&gt;<a class="code" href="structmtrr__iter.html#ae8dbbd9f01f0bf80637a39ec7d822630">partial_map</a> |= iter-&gt;<a class="code" href="structmtrr__iter.html#a941ed9faf93a5a0681c28463b7bd9535">start_max</a> &lt; start;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="comment">/* update the max address has been covered. */</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        iter-&gt;<a class="code" href="structmtrr__iter.html#a941ed9faf93a5a0681c28463b7bd9535">start_max</a> = max(iter-&gt;<a class="code" href="structmtrr__iter.html#a941ed9faf93a5a0681c28463b7bd9535">start_max</a>, end);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a2c36af6a46dba6dc17f0fc19e74194d8"><div class="ttname"><a href="mtrr_8c.html#a2c36af6a46dba6dc17f0fc19e74194d8">var_mtrr_range</a></div><div class="ttdeci">static void var_mtrr_range(struct kvm_mtrr_range *range, u64 *start, u64 *end)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00304">mtrr.c:304</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a09d985111c436af15e24ffaab3407a54_cgraph.png" border="0" usemap="#amtrr_8c_a09d985111c436af15e24ffaab3407a54_cgraph" alt=""/></div>
<map name="amtrr_8c_a09d985111c436af15e24ffaab3407a54_cgraph" id="amtrr_8c_a09d985111c436af15e24ffaab3407a54_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,140,32"/>
<area shape="rect" href="mtrr_8c.html#a2c36af6a46dba6dc17f0fc19e74194d8" title=" " alt="" coords="188,5,311,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a09d985111c436af15e24ffaab3407a54_icgraph.png" border="0" usemap="#amtrr_8c_a09d985111c436af15e24ffaab3407a54_icgraph" alt=""/></div>
<map name="amtrr_8c_a09d985111c436af15e24ffaab3407a54_icgraph" id="amtrr_8c_a09d985111c436af15e24ffaab3407a54_icgraph">
<area shape="rect" title=" " alt="" coords="852,31,987,57"/>
<area shape="rect" href="mtrr_8c.html#a52038e489fc6b97237ad813a2bb10023" title=" " alt="" coords="625,31,804,57"/>
<area shape="rect" href="mtrr_8c.html#a193c687fa120551ba5a09090415fe741" title=" " alt="" coords="413,5,577,32"/>
<area shape="rect" href="mtrr_8c.html#a137001038810c362b9474ed6bd8c13d0" title=" " alt="" coords="412,56,577,83"/>
<area shape="rect" href="mtrr_8c.html#a31274ba2cfbf30c7f6803fff6e78a97d" title=" " alt="" coords="5,31,141,57"/>
<area shape="rect" href="mtrr_8c.html#a047d2d6559b8c9faa25c45de7f45097c" title=" " alt="" coords="189,56,364,83"/>
<area shape="rect" href="mtrr_8c.html#a1e9551de7abf8bd3b941a66909cdc368" title=" " alt="" coords="208,107,345,133"/>
<area shape="rect" href="mtrr_8c.html#a4dc869db4319218359dd9b7a4dd470b0" title=" " alt="" coords="9,107,137,133"/>
</map>
</div>

</div>
</div>
<a id="a9fde5f938b047bce967efc41c8b0e756"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fde5f938b047bce967efc41c8b0e756">&#9670;&nbsp;</a></span>msr_mtrr_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool msr_mtrr_valid </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>msr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00042">42</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">switch</span> (msr) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">case</span> MTRRphysBase_MSR(0) ... MTRRphysMask_MSR(KVM_NR_VAR_MTRR - 1):</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    case MSR_MTRRfix64K_00000:</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    case MSR_MTRRfix16K_80000:</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    case MSR_MTRRfix16K_A0000:</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    case MSR_MTRRfix4K_C0000:</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    case MSR_MTRRfix4K_C8000:</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    case MSR_MTRRfix4K_D0000:</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    case MSR_MTRRfix4K_D8000:</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    case MSR_MTRRfix4K_E0000:</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    case MSR_MTRRfix4K_E8000:</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    case MSR_MTRRfix4K_F0000:</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    case MSR_MTRRfix4K_F8000:</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    case MSR_MTRRdefType:</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        return true;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a9fde5f938b047bce967efc41c8b0e756_icgraph.png" border="0" usemap="#amtrr_8c_a9fde5f938b047bce967efc41c8b0e756_icgraph" alt=""/></div>
<map name="amtrr_8c_a9fde5f938b047bce967efc41c8b0e756_icgraph" id="amtrr_8c_a9fde5f938b047bce967efc41c8b0e756_icgraph">
<area shape="rect" title=" " alt="" coords="804,81,925,108"/>
<area shape="rect" href="mtrr_8c.html#a81a164c2615ef1c0fc231d71e5ba9a53" title=" " alt="" coords="609,56,756,83"/>
<area shape="rect" href="mtrr_8c.html#a1775807b30fdd1d17a4fb9f1f82a6aab" title=" " alt="" coords="620,107,745,133"/>
<area shape="rect" href="x86_8c.html#a0e93cb5e88dc8c07d9357181a3a7b2e9" title=" " alt="" coords="387,56,561,83"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="196,5,307,32"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="196,56,307,83"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="401,107,547,133"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,107,339,133"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,56,101,83"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,107,115,133"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,157,116,184"/>
</map>
</div>

</div>
</div>
<a id="aeb25e3cab8f1edf904c9b8c93a0ee055"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb25e3cab8f1edf904c9b8c93a0ee055">&#9670;&nbsp;</a></span>mtrr_default_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u8 mtrr_default_type </td>
          <td>(</td>
          <td class="paramtype">struct kvm_mtrr *&#160;</td>
          <td class="paramname"><em>mtrr_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00114">114</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">return</span> mtrr_state-&gt;deftype &amp; <a class="code" href="mtrr_8c.html#a848fbfe53846e2549797ed3702b6e1e9">IA32_MTRR_DEF_TYPE_TYPE_MASK</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a848fbfe53846e2549797ed3702b6e1e9"><div class="ttname"><a href="mtrr_8c.html#a848fbfe53846e2549797ed3702b6e1e9">IA32_MTRR_DEF_TYPE_TYPE_MASK</a></div><div class="ttdeci">#define IA32_MTRR_DEF_TYPE_TYPE_MASK</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00026">mtrr.c:26</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_aeb25e3cab8f1edf904c9b8c93a0ee055_icgraph.png" border="0" usemap="#amtrr_8c_aeb25e3cab8f1edf904c9b8c93a0ee055_icgraph" alt=""/></div>
<map name="amtrr_8c_aeb25e3cab8f1edf904c9b8c93a0ee055_icgraph" id="amtrr_8c_aeb25e3cab8f1edf904c9b8c93a0ee055_icgraph">
<area shape="rect" title=" " alt="" coords="2001,465,2140,492"/>
<area shape="rect" href="mtrr_8c.html#ae3f4e197f50db225e34de21d65633fcb" title=" " alt="" coords="1795,425,1953,466"/>
<area shape="rect" href="mtrr_8c.html#a92c398e9dacb06cf11f5f5364f3e1c36" title=" " alt="" coords="1795,490,1953,531"/>
<area shape="rect" href="mmu_8c.html#a4bd7a8fd81e65c4e06e025d92c5787d9" title=" " alt="" coords="1592,432,1747,459"/>
<area shape="rect" href="mmu_8c.html#a2346100ce00fd4d842c51c4be6cbfe35" title=" " alt="" coords="1396,477,1544,504"/>
<area shape="rect" href="mmu__internal_8h.html#ae3c71be306692107b4d90bfb8d24d7f5" title=" " alt="" coords="1157,216,1348,243"/>
<area shape="rect" href="mmu_8c.html#a88ade1c65bbbb9b25a78e82003a71a7c" title=" " alt="" coords="1193,557,1313,584"/>
<area shape="rect" href="x86_8c.html#ae2ebf37d8daf1a8b43a9823bae4ab32b" title=" " alt="" coords="447,469,619,496"/>
<area shape="rect" href="mmu_8c.html#a56f1568115a55fdacc188e9b41159b8f" title=" " alt="" coords="921,688,1109,715"/>
<area shape="rect" href="x86_8c.html#a3df01e8bd995bb72420812ea1d39df4b" title=" " alt="" coords="704,949,844,976"/>
<area shape="rect" href="svm_2nested_8c.html#a2d996c5be366f0a7b21228fd18be85ab" title=" " alt="" coords="934,351,1097,377"/>
<area shape="rect" href="vmx_2nested_8c.html#a6541b63ab236a1d9732c8ffc3c604ee9" title=" " alt="" coords="933,1000,1097,1027"/>
<area shape="rect" href="kvm__main_8c.html#ab8870469dadfadf9a204346c62016293" title=" " alt="" coords="191,469,391,496"/>
<area shape="rect" href="x86_8c.html#ac766943d4a9d3c7a489012c02e25be54" title=" " alt="" coords="725,797,823,824"/>
<area shape="rect" href="x86_8c.html#a48bee74c7062ceb8db0b0fa3beebfbbc" title=" " alt="" coords="721,848,827,875"/>
<area shape="rect" href="smm_8c.html#ae1445727a8459a6cc7d2e49e5a63c0d5" title=" " alt="" coords="485,629,581,656"/>
<area shape="rect" href="mmu_8c.html#a3b03fb05a1055f336fa61182cf0c760b" title=" " alt="" coords="675,579,873,605"/>
<area shape="rect" href="x86_8c.html#afb193fb2b1c3f240d0ad5a5378afc118" title=" " alt="" coords="704,899,844,925"/>
<area shape="rect" href="smm_8c.html#a5382946234c910e05c6e2c09aff15713" title=" " alt="" coords="697,747,851,773"/>
<area shape="rect" href="x86_8c.html#a2694456104c02a7204796d89d13a1e91" title=" " alt="" coords="709,528,839,555"/>
<area shape="rect" href="vmx_2nested_8c.html#a001f930db9a867e828cf01b48d3e4e25" title=" " alt="" coords="697,681,851,722"/>
<area shape="rect" href="x86_8c.html#a420caf80521ab8d6ef7218d5dd26d47f" title=" " alt="" coords="737,477,811,504"/>
<area shape="rect" href="x86_8c.html#adfaccb9ae903e8b5aee77f8591d51dc9" title=" " alt="" coords="453,782,612,823"/>
<area shape="rect" href="x86_8c.html#ade4b46f56f9ee72375fa967f97e62b56" title=" " alt="" coords="489,731,576,757"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="453,848,612,875"/>
<area shape="rect" href="x86_8c.html#a2b372d06c72b7d8c25e9004bb3a3fd3b" title=" " alt="" coords="205,571,376,613"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="5,408,143,435"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="456,563,609,605"/>
<area shape="rect" href="svm_8c.html#af4590239d3e0b5fbad189a245207dfaa" title=" " alt="" coords="499,949,566,976"/>
<area shape="rect" href="x86_8c.html#aa9556b4ebb06617f66625ff73a3f56b4" title=" " alt="" coords="480,1000,585,1027"/>
<area shape="rect" href="smm_8c.html#a0943012ff008c7999f582998f0f9167a" title=" " alt="" coords="209,899,373,925"/>
<area shape="rect" href="x86_8c.html#a39acca4a1624a86a5d8e547339729536" title=" " alt="" coords="480,899,585,925"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="445,364,620,391"/>
<area shape="rect" href="svm_2nested_8c.html#a9b21378a3de8baae9bcb689f00cad48e" title=" " alt="" coords="685,325,863,352"/>
<area shape="rect" href="svm_2nested_8c.html#a73d1cb9b9fcfa112138681d9080a1c05" title=" " alt="" coords="697,376,851,403"/>
<area shape="rect" href="svm_2nested_8c.html#a8bac395de612ca2b748016c6f5ea0fef" title=" " alt="" coords="690,275,858,301"/>
<area shape="rect" href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0" title=" " alt="" coords="683,1000,865,1027"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="709,1051,839,1077"/>
<area shape="rect" href="mmu_8c.html#a339656816251af93fbd52aece22a2009" title=" " alt="" coords="930,209,1101,250"/>
<area shape="rect" href="mmu_8c.html#a3d0bd209d792a4316f3b40681fdc10f9" title=" " alt="" coords="931,107,1099,133"/>
<area shape="rect" href="async__pf_8c.html#aac6395172fbf7947412604d7e2f33417" title=" " alt="" coords="693,209,855,250"/>
<area shape="rect" href="vmx_8c.html#a8acbb27feacd0dd2105ccd2957cab474" title=" " alt="" coords="692,56,856,83"/>
<area shape="rect" href="vmx_8c.html#a55a56c6fe3cbee7ead4da26de4074000" title=" " alt="" coords="695,107,853,133"/>
<area shape="rect" href="mmu_8c.html#a4d6f2ec540cbdb86e2594df2e4d453c2" title=" " alt="" coords="685,157,863,184"/>
<area shape="rect" href="svm_8c.html#a723646ac5d3234ba8e1845249e6a0935" title=" " alt="" coords="710,5,838,32"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="459,56,607,83"/>
<area shape="rect" href="vmx_8c.html#a7a38ddbd01bec99bf94ab4868ad4c6ea" title=" " alt="" coords="448,132,617,159"/>
<area shape="rect" href="svm_8c.html#a589e870c8a06d1ba26f24da299e47b95" title=" " alt="" coords="473,183,593,209"/>
<area shape="rect" href="svm_8c.html#a8afafecae406016532810194f187fe2c" title=" " alt="" coords="439,5,627,32"/>
<area shape="rect" href="vmx_8c.html#ace49cb366d564758f22c5cbc7c910ab7" title=" " alt="" coords="1596,497,1743,524"/>
</map>
</div>

</div>
</div>
<a id="ac83b78738987e5fddd004c50acccafc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac83b78738987e5fddd004c50acccafc1">&#9670;&nbsp;</a></span>mtrr_disabled_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u8 mtrr_disabled_type </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00119">119</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">     * Intel SDM 11.11.2.2: all MTRRs are disabled when</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">     * IA32_MTRR_DEF_TYPE.E bit is cleared, and the UC</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">     * memory type is applied to all of physical memory.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">     * However, virtual machines can be run with CPUID such that</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">     * there are no MTRRs.  In that case, the firmware will never</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">     * enable MTRRs and it is obviously undesirable to run the</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">     * guest entirely with UC memory and we use WB.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9">guest_cpuid_has</a>(vcpu, X86_FEATURE_MTRR))</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">return</span> MTRR_TYPE_UNCACHABLE;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">return</span> MTRR_TYPE_WRBACK;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_ad8c2a90f2f099af1d7ca23750d9d2eb9"><div class="ttname"><a href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9">guest_cpuid_has</a></div><div class="ttdeci">static __always_inline bool guest_cpuid_has(struct kvm_vcpu *vcpu, unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00083">cpuid.h:83</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_ac83b78738987e5fddd004c50acccafc1_icgraph.png" border="0" usemap="#amtrr_8c_ac83b78738987e5fddd004c50acccafc1_icgraph" alt=""/></div>
<map name="amtrr_8c_ac83b78738987e5fddd004c50acccafc1_icgraph" id="amtrr_8c_ac83b78738987e5fddd004c50acccafc1_icgraph">
<area shape="rect" title=" " alt="" coords="405,13,553,39"/>
<area shape="rect" href="mtrr_8c.html#a92c398e9dacb06cf11f5f5364f3e1c36" title=" " alt="" coords="200,5,357,47"/>
<area shape="rect" href="vmx_8c.html#ace49cb366d564758f22c5cbc7c910ab7" title=" " alt="" coords="5,13,152,39"/>
</map>
</div>

</div>
</div>
<a id="a1fbe59dbf51580dd836cbb1a0ea70a72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fbe59dbf51580dd836cbb1a0ea70a72">&#9670;&nbsp;</a></span>mtrr_is_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool mtrr_is_enabled </td>
          <td>(</td>
          <td class="paramtype">struct kvm_mtrr *&#160;</td>
          <td class="paramname"><em>mtrr_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00104">104</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> !!(mtrr_state-&gt;deftype &amp; <a class="code" href="mtrr_8c.html#a200600b9ef908926085b1703f7ad21a2">IA32_MTRR_DEF_TYPE_E</a>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a200600b9ef908926085b1703f7ad21a2"><div class="ttname"><a href="mtrr_8c.html#a200600b9ef908926085b1703f7ad21a2">IA32_MTRR_DEF_TYPE_E</a></div><div class="ttdeci">#define IA32_MTRR_DEF_TYPE_E</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00024">mtrr.c:24</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a1fbe59dbf51580dd836cbb1a0ea70a72_icgraph.png" border="0" usemap="#amtrr_8c_a1fbe59dbf51580dd836cbb1a0ea70a72_icgraph" alt=""/></div>
<map name="amtrr_8c_a1fbe59dbf51580dd836cbb1a0ea70a72_icgraph" id="amtrr_8c_a1fbe59dbf51580dd836cbb1a0ea70a72_icgraph">
<area shape="rect" title=" " alt="" coords="765,31,892,57"/>
<area shape="rect" href="mtrr_8c.html#a1e9551de7abf8bd3b941a66909cdc368" title=" " alt="" coords="580,5,717,32"/>
<area shape="rect" href="mtrr_8c.html#aca604775fbcfad49bfaf9441fc2253dc" title=" " alt="" coords="597,56,700,83"/>
<area shape="rect" href="mtrr_8c.html#a4dc869db4319218359dd9b7a4dd470b0" title=" " alt="" coords="395,5,523,32"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="387,56,532,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
</map>
</div>

</div>
</div>
<a id="a047d2d6559b8c9faa25c45de7f45097c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a047d2d6559b8c9faa25c45de7f45097c">&#9670;&nbsp;</a></span>mtrr_lookup_fixed_next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mtrr_lookup_fixed_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00537">537</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;{</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="comment">/* terminate the lookup. */</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mtrr_8c.html#a292203c2d9a60ee813a275bec05aea25">fixed_mtrr_range_end_addr</a>(iter-&gt;<a class="code" href="structmtrr__iter.html#aec3d3da4b466fdb494ef2164bd9ee3b9">seg</a>, iter-&gt;<a class="code" href="structmtrr__iter.html#afd76ebd9bf8451396caf44056ee5778b">index</a>) &gt;= iter-&gt;<a class="code" href="structmtrr__iter.html#ad4d251b5ef8b4714b6228ca3d68898c7">end</a>) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        iter-&gt;<a class="code" href="structmtrr__iter.html#a656aa302b0fc634b21eb0a3359cad0be">fixed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        iter-&gt;<a class="code" href="structmtrr__iter.html#a369d019801dc83e4c45ead59655471ef">range</a> = NULL;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#afd76ebd9bf8451396caf44056ee5778b">index</a>++;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="comment">/* have looked up for all fixed MTRRs. */</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structmtrr__iter.html#afd76ebd9bf8451396caf44056ee5778b">index</a> &gt;= ARRAY_SIZE(iter-&gt;<a class="code" href="structmtrr__iter.html#a52200de87d91924050ec889989355775">mtrr_state</a>-&gt;fixed_ranges))</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="mtrr_8c.html#a137001038810c362b9474ed6bd8c13d0">mtrr_lookup_var_start</a>(iter);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">/* switch to next segment. */</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structmtrr__iter.html#afd76ebd9bf8451396caf44056ee5778b">index</a> &gt; <a class="code" href="mtrr_8c.html#a9718c773ed2016fa0e1d12e4820e6498">fixed_mtrr_seg_end_range_index</a>(iter-&gt;<a class="code" href="structmtrr__iter.html#aec3d3da4b466fdb494ef2164bd9ee3b9">seg</a>))</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        iter-&gt;<a class="code" href="structmtrr__iter.html#aec3d3da4b466fdb494ef2164bd9ee3b9">seg</a>++;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a137001038810c362b9474ed6bd8c13d0"><div class="ttname"><a href="mtrr_8c.html#a137001038810c362b9474ed6bd8c13d0">mtrr_lookup_var_start</a></div><div class="ttdeci">static void mtrr_lookup_var_start(struct mtrr_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00525">mtrr.c:525</a></div></div>
<div class="ttc" id="amtrr_8c_html_a292203c2d9a60ee813a275bec05aea25"><div class="ttname"><a href="mtrr_8c.html#a292203c2d9a60ee813a275bec05aea25">fixed_mtrr_range_end_addr</a></div><div class="ttdeci">static u64 fixed_mtrr_range_end_addr(int seg, int index)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00296">mtrr.c:296</a></div></div>
<div class="ttc" id="amtrr_8c_html_a9718c773ed2016fa0e1d12e4820e6498"><div class="ttname"><a href="mtrr_8c.html#a9718c773ed2016fa0e1d12e4820e6498">fixed_mtrr_seg_end_range_index</a></div><div class="ttdeci">static int fixed_mtrr_seg_end_range_index(int seg)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00241">mtrr.c:241</a></div></div>
<div class="ttc" id="astructmtrr__iter_html_a656aa302b0fc634b21eb0a3359cad0be"><div class="ttname"><a href="structmtrr__iter.html#a656aa302b0fc634b21eb0a3359cad0be">mtrr_iter::fixed</a></div><div class="ttdeci">bool fixed</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00468">mtrr.c:468</a></div></div>
<div class="ttc" id="astructmtrr__iter_html_aec3d3da4b466fdb494ef2164bd9ee3b9"><div class="ttname"><a href="structmtrr__iter.html#aec3d3da4b466fdb494ef2164bd9ee3b9">mtrr_iter::seg</a></div><div class="ttdeci">int seg</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00457">mtrr.c:457</a></div></div>
<div class="ttc" id="astructmtrr__iter_html_afd76ebd9bf8451396caf44056ee5778b"><div class="ttname"><a href="structmtrr__iter.html#afd76ebd9bf8451396caf44056ee5778b">mtrr_iter::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00456">mtrr.c:456</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a047d2d6559b8c9faa25c45de7f45097c_cgraph.png" border="0" usemap="#amtrr_8c_a047d2d6559b8c9faa25c45de7f45097c_cgraph" alt=""/></div>
<map name="amtrr_8c_a047d2d6559b8c9faa25c45de7f45097c_cgraph" id="amtrr_8c_a047d2d6559b8c9faa25c45de7f45097c_cgraph">
<area shape="rect" title=" " alt="" coords="5,64,180,91"/>
<area shape="rect" href="mtrr_8c.html#a292203c2d9a60ee813a275bec05aea25" title=" " alt="" coords="228,5,427,32"/>
<area shape="rect" href="mtrr_8c.html#a9718c773ed2016fa0e1d12e4820e6498" title=" " alt="" coords="253,57,402,98"/>
<area shape="rect" href="mtrr_8c.html#a137001038810c362b9474ed6bd8c13d0" title=" " alt="" coords="245,123,410,149"/>
<area shape="rect" href="mtrr_8c.html#a52038e489fc6b97237ad813a2bb10023" title=" " alt="" coords="475,123,653,149"/>
<area shape="rect" href="mtrr_8c.html#a09d985111c436af15e24ffaab3407a54" title=" " alt="" coords="701,123,836,149"/>
<area shape="rect" href="mtrr_8c.html#a2c36af6a46dba6dc17f0fc19e74194d8" title=" " alt="" coords="884,123,1007,149"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a047d2d6559b8c9faa25c45de7f45097c_icgraph.png" border="0" usemap="#amtrr_8c_a047d2d6559b8c9faa25c45de7f45097c_icgraph" alt=""/></div>
<map name="amtrr_8c_a047d2d6559b8c9faa25c45de7f45097c_icgraph" id="amtrr_8c_a047d2d6559b8c9faa25c45de7f45097c_icgraph">
<area shape="rect" title=" " alt="" coords="189,5,364,32"/>
<area shape="rect" href="mtrr_8c.html#a31274ba2cfbf30c7f6803fff6e78a97d" title=" " alt="" coords="5,5,141,32"/>
</map>
</div>

</div>
</div>
<a id="ab6c522be198a8840c67b198751032d9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6c522be198a8840c67b198751032d9d">&#9670;&nbsp;</a></span>mtrr_lookup_fixed_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool mtrr_lookup_fixed_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00471">471</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;{</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordtype">int</span> seg, index;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mtrr_8c.html#a9585e37781f7744895fb5882606268e0">fixed_mtrr_is_enabled</a>(iter-&gt;<a class="code" href="structmtrr__iter.html#a52200de87d91924050ec889989355775">mtrr_state</a>))</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    seg = <a class="code" href="mtrr_8c.html#af08ff4867af25a61346e59af6b645eb7">fixed_mtrr_addr_to_seg</a>(iter-&gt;<a class="code" href="structmtrr__iter.html#ab61f01bb838fce5d2ccecc30ed26fafd">start</a>);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">if</span> (seg &lt; 0)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#a656aa302b0fc634b21eb0a3359cad0be">fixed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    index = <a class="code" href="mtrr_8c.html#ade85c98131adc1613b846614d4d3bd1c">fixed_mtrr_addr_seg_to_range_index</a>(iter-&gt;<a class="code" href="structmtrr__iter.html#ab61f01bb838fce5d2ccecc30ed26fafd">start</a>, seg);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#afd76ebd9bf8451396caf44056ee5778b">index</a> = index;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#aec3d3da4b466fdb494ef2164bd9ee3b9">seg</a> = seg;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a9585e37781f7744895fb5882606268e0"><div class="ttname"><a href="mtrr_8c.html#a9585e37781f7744895fb5882606268e0">fixed_mtrr_is_enabled</a></div><div class="ttdeci">static bool fixed_mtrr_is_enabled(struct kvm_mtrr *mtrr_state)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00109">mtrr.c:109</a></div></div>
<div class="ttc" id="amtrr_8c_html_ade85c98131adc1613b846614d4d3bd1c"><div class="ttname"><a href="mtrr_8c.html#ade85c98131adc1613b846614d4d3bd1c">fixed_mtrr_addr_seg_to_range_index</a></div><div class="ttdeci">static int fixed_mtrr_addr_seg_to_range_index(u64 addr, int seg)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00285">mtrr.c:285</a></div></div>
<div class="ttc" id="amtrr_8c_html_af08ff4867af25a61346e59af6b645eb7"><div class="ttname"><a href="mtrr_8c.html#af08ff4867af25a61346e59af6b645eb7">fixed_mtrr_addr_to_seg</a></div><div class="ttdeci">static int fixed_mtrr_addr_to_seg(u64 addr)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00271">mtrr.c:271</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_ab6c522be198a8840c67b198751032d9d_cgraph.png" border="0" usemap="#amtrr_8c_ab6c522be198a8840c67b198751032d9d_cgraph" alt=""/></div>
<map name="amtrr_8c_ab6c522be198a8840c67b198751032d9d_cgraph" id="amtrr_8c_ab6c522be198a8840c67b198751032d9d_cgraph">
<area shape="rect" title=" " alt="" coords="5,71,180,98"/>
<area shape="rect" href="mtrr_8c.html#ade85c98131adc1613b846614d4d3bd1c" title=" " alt="" coords="238,5,393,47"/>
<area shape="rect" href="mtrr_8c.html#af08ff4867af25a61346e59af6b645eb7" title=" " alt="" coords="228,71,403,98"/>
<area shape="rect" href="mtrr_8c.html#a9585e37781f7744895fb5882606268e0" title=" " alt="" coords="233,122,398,149"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_ab6c522be198a8840c67b198751032d9d_icgraph.png" border="0" usemap="#amtrr_8c_ab6c522be198a8840c67b198751032d9d_icgraph" alt=""/></div>
<map name="amtrr_8c_ab6c522be198a8840c67b198751032d9d_icgraph" id="amtrr_8c_ab6c522be198a8840c67b198751032d9d_icgraph">
<area shape="rect" title=" " alt="" coords="367,5,541,32"/>
<area shape="rect" href="mtrr_8c.html#a1e9551de7abf8bd3b941a66909cdc368" title=" " alt="" coords="181,5,319,32"/>
<area shape="rect" href="mtrr_8c.html#a4dc869db4319218359dd9b7a4dd470b0" title=" " alt="" coords="5,5,133,32"/>
</map>
</div>

</div>
</div>
<a id="a4dc869db4319218359dd9b7a4dd470b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dc869db4319218359dd9b7a4dd470b0">&#9670;&nbsp;</a></span>mtrr_lookup_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mtrr_lookup_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_mtrr *&#160;</td>
          <td class="paramname"><em>mtrr_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00573">573</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;{</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#a52200de87d91924050ec889989355775">mtrr_state</a> = mtrr_state;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#ab61f01bb838fce5d2ccecc30ed26fafd">start</a> = start;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#ad4d251b5ef8b4714b6228ca3d68898c7">end</a> = end;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#a332841f53236f12ecfc522148497cb88">mtrr_disabled</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#ae8dbbd9f01f0bf80637a39ec7d822630">partial_map</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#a656aa302b0fc634b21eb0a3359cad0be">fixed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#a369d019801dc83e4c45ead59655471ef">range</a> = NULL;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="mtrr_8c.html#a1e9551de7abf8bd3b941a66909cdc368">mtrr_lookup_start</a>(iter);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a1e9551de7abf8bd3b941a66909cdc368"><div class="ttname"><a href="mtrr_8c.html#a1e9551de7abf8bd3b941a66909cdc368">mtrr_lookup_start</a></div><div class="ttdeci">static void mtrr_lookup_start(struct mtrr_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00562">mtrr.c:562</a></div></div>
<div class="ttc" id="astructmtrr__iter_html_a332841f53236f12ecfc522148497cb88"><div class="ttname"><a href="structmtrr__iter.html#a332841f53236f12ecfc522148497cb88">mtrr_iter::mtrr_disabled</a></div><div class="ttdeci">bool mtrr_disabled</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00448">mtrr.c:448</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a4dc869db4319218359dd9b7a4dd470b0_cgraph.png" border="0" usemap="#amtrr_8c_a4dc869db4319218359dd9b7a4dd470b0_cgraph" alt=""/></div>
<map name="amtrr_8c_a4dc869db4319218359dd9b7a4dd470b0_cgraph" id="amtrr_8c_a4dc869db4319218359dd9b7a4dd470b0_cgraph">
<area shape="rect" title=" " alt="" coords="5,85,133,111"/>
<area shape="rect" href="mtrr_8c.html#a1e9551de7abf8bd3b941a66909cdc368" title=" " alt="" coords="181,85,319,111"/>
<area shape="rect" href="mtrr_8c.html#a1fbe59dbf51580dd836cbb1a0ea70a72" title=" " alt="" coords="391,34,517,61"/>
<area shape="rect" href="mtrr_8c.html#ab6c522be198a8840c67b198751032d9d" title=" " alt="" coords="367,85,541,111"/>
<area shape="rect" href="mtrr_8c.html#a137001038810c362b9474ed6bd8c13d0" title=" " alt="" coords="371,147,537,174"/>
<area shape="rect" href="mtrr_8c.html#ade85c98131adc1613b846614d4d3bd1c" title=" " alt="" coords="601,5,756,47"/>
<area shape="rect" href="mtrr_8c.html#af08ff4867af25a61346e59af6b645eb7" title=" " alt="" coords="591,71,766,98"/>
<area shape="rect" href="mtrr_8c.html#a9585e37781f7744895fb5882606268e0" title=" " alt="" coords="596,122,761,149"/>
<area shape="rect" href="mtrr_8c.html#a52038e489fc6b97237ad813a2bb10023" title=" " alt="" coords="589,173,768,199"/>
<area shape="rect" href="mtrr_8c.html#a09d985111c436af15e24ffaab3407a54" title=" " alt="" coords="816,173,951,199"/>
<area shape="rect" href="mtrr_8c.html#a2c36af6a46dba6dc17f0fc19e74194d8" title=" " alt="" coords="999,173,1121,199"/>
</map>
</div>

</div>
</div>
<a id="a31274ba2cfbf30c7f6803fff6e78a97d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31274ba2cfbf30c7f6803fff6e78a97d">&#9670;&nbsp;</a></span>mtrr_lookup_next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mtrr_lookup_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00602">602</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;{</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structmtrr__iter.html#a656aa302b0fc634b21eb0a3359cad0be">fixed</a>)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <a class="code" href="mtrr_8c.html#a047d2d6559b8c9faa25c45de7f45097c">mtrr_lookup_fixed_next</a>(iter);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <a class="code" href="mtrr_8c.html#a193c687fa120551ba5a09090415fe741">mtrr_lookup_var_next</a>(iter);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a047d2d6559b8c9faa25c45de7f45097c"><div class="ttname"><a href="mtrr_8c.html#a047d2d6559b8c9faa25c45de7f45097c">mtrr_lookup_fixed_next</a></div><div class="ttdeci">static void mtrr_lookup_fixed_next(struct mtrr_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00537">mtrr.c:537</a></div></div>
<div class="ttc" id="amtrr_8c_html_a193c687fa120551ba5a09090415fe741"><div class="ttname"><a href="mtrr_8c.html#a193c687fa120551ba5a09090415fe741">mtrr_lookup_var_next</a></div><div class="ttdeci">static void mtrr_lookup_var_next(struct mtrr_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00557">mtrr.c:557</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a31274ba2cfbf30c7f6803fff6e78a97d_cgraph.png" border="0" usemap="#amtrr_8c_a31274ba2cfbf30c7f6803fff6e78a97d_cgraph" alt=""/></div>
<map name="amtrr_8c_a31274ba2cfbf30c7f6803fff6e78a97d_cgraph" id="amtrr_8c_a31274ba2cfbf30c7f6803fff6e78a97d_cgraph">
<area shape="rect" title=" " alt="" coords="5,119,141,145"/>
<area shape="rect" href="mtrr_8c.html#a047d2d6559b8c9faa25c45de7f45097c" title=" " alt="" coords="189,79,364,105"/>
<area shape="rect" href="mtrr_8c.html#a193c687fa120551ba5a09090415fe741" title=" " alt="" coords="195,144,359,171"/>
<area shape="rect" href="mtrr_8c.html#a292203c2d9a60ee813a275bec05aea25" title=" " alt="" coords="412,5,611,32"/>
<area shape="rect" href="mtrr_8c.html#a9718c773ed2016fa0e1d12e4820e6498" title=" " alt="" coords="437,57,586,98"/>
<area shape="rect" href="mtrr_8c.html#a137001038810c362b9474ed6bd8c13d0" title=" " alt="" coords="429,123,594,149"/>
<area shape="rect" href="mtrr_8c.html#a52038e489fc6b97237ad813a2bb10023" title=" " alt="" coords="659,148,837,175"/>
<area shape="rect" href="mtrr_8c.html#a09d985111c436af15e24ffaab3407a54" title=" " alt="" coords="885,148,1020,175"/>
<area shape="rect" href="mtrr_8c.html#a2c36af6a46dba6dc17f0fc19e74194d8" title=" " alt="" coords="1068,148,1191,175"/>
</map>
</div>

</div>
</div>
<a id="a379585ac6ad68a56411c588097c2c9aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a379585ac6ad68a56411c588097c2c9aa">&#9670;&nbsp;</a></span>mtrr_lookup_okay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool mtrr_lookup_okay </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00587">587</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;{</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structmtrr__iter.html#a656aa302b0fc634b21eb0a3359cad0be">fixed</a>) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        iter-&gt;<a class="code" href="structmtrr__iter.html#a27c20c491712907778d4c5fd3dd6ca7a">mem_type</a> = iter-&gt;<a class="code" href="structmtrr__iter.html#a52200de87d91924050ec889989355775">mtrr_state</a>-&gt;fixed_ranges[iter-&gt;<a class="code" href="structmtrr__iter.html#afd76ebd9bf8451396caf44056ee5778b">index</a>];</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structmtrr__iter.html#a369d019801dc83e4c45ead59655471ef">range</a>) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        iter-&gt;<a class="code" href="structmtrr__iter.html#a27c20c491712907778d4c5fd3dd6ca7a">mem_type</a> = iter-&gt;<a class="code" href="structmtrr__iter.html#a369d019801dc83e4c45ead59655471ef">range</a>-&gt;base &amp; 0xff;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div>
<div class="ttc" id="astructmtrr__iter_html_a27c20c491712907778d4c5fd3dd6ca7a"><div class="ttname"><a href="structmtrr__iter.html#a27c20c491712907778d4c5fd3dd6ca7a">mtrr_iter::mem_type</a></div><div class="ttdeci">int mem_type</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00446">mtrr.c:446</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e9551de7abf8bd3b941a66909cdc368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e9551de7abf8bd3b941a66909cdc368">&#9670;&nbsp;</a></span>mtrr_lookup_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mtrr_lookup_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00562">562</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;{</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mtrr_8c.html#a1fbe59dbf51580dd836cbb1a0ea70a72">mtrr_is_enabled</a>(iter-&gt;<a class="code" href="structmtrr__iter.html#a52200de87d91924050ec889989355775">mtrr_state</a>)) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        iter-&gt;<a class="code" href="structmtrr__iter.html#a332841f53236f12ecfc522148497cb88">mtrr_disabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mtrr_8c.html#ab6c522be198a8840c67b198751032d9d">mtrr_lookup_fixed_start</a>(iter))</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <a class="code" href="mtrr_8c.html#a137001038810c362b9474ed6bd8c13d0">mtrr_lookup_var_start</a>(iter);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a1fbe59dbf51580dd836cbb1a0ea70a72"><div class="ttname"><a href="mtrr_8c.html#a1fbe59dbf51580dd836cbb1a0ea70a72">mtrr_is_enabled</a></div><div class="ttdeci">static bool mtrr_is_enabled(struct kvm_mtrr *mtrr_state)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00104">mtrr.c:104</a></div></div>
<div class="ttc" id="amtrr_8c_html_ab6c522be198a8840c67b198751032d9d"><div class="ttname"><a href="mtrr_8c.html#ab6c522be198a8840c67b198751032d9d">mtrr_lookup_fixed_start</a></div><div class="ttdeci">static bool mtrr_lookup_fixed_start(struct mtrr_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00471">mtrr.c:471</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a1e9551de7abf8bd3b941a66909cdc368_cgraph.png" border="0" usemap="#amtrr_8c_a1e9551de7abf8bd3b941a66909cdc368_cgraph" alt=""/></div>
<map name="amtrr_8c_a1e9551de7abf8bd3b941a66909cdc368_cgraph" id="amtrr_8c_a1e9551de7abf8bd3b941a66909cdc368_cgraph">
<area shape="rect" title=" " alt="" coords="5,85,143,111"/>
<area shape="rect" href="mtrr_8c.html#a1fbe59dbf51580dd836cbb1a0ea70a72" title=" " alt="" coords="215,34,341,61"/>
<area shape="rect" href="mtrr_8c.html#ab6c522be198a8840c67b198751032d9d" title=" " alt="" coords="191,85,365,111"/>
<area shape="rect" href="mtrr_8c.html#a137001038810c362b9474ed6bd8c13d0" title=" " alt="" coords="195,147,361,174"/>
<area shape="rect" href="mtrr_8c.html#ade85c98131adc1613b846614d4d3bd1c" title=" " alt="" coords="425,5,580,47"/>
<area shape="rect" href="mtrr_8c.html#af08ff4867af25a61346e59af6b645eb7" title=" " alt="" coords="415,71,590,98"/>
<area shape="rect" href="mtrr_8c.html#a9585e37781f7744895fb5882606268e0" title=" " alt="" coords="420,122,585,149"/>
<area shape="rect" href="mtrr_8c.html#a52038e489fc6b97237ad813a2bb10023" title=" " alt="" coords="413,173,592,199"/>
<area shape="rect" href="mtrr_8c.html#a09d985111c436af15e24ffaab3407a54" title=" " alt="" coords="640,173,775,199"/>
<area shape="rect" href="mtrr_8c.html#a2c36af6a46dba6dc17f0fc19e74194d8" title=" " alt="" coords="823,173,945,199"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a1e9551de7abf8bd3b941a66909cdc368_icgraph.png" border="0" usemap="#amtrr_8c_a1e9551de7abf8bd3b941a66909cdc368_icgraph" alt=""/></div>
<map name="amtrr_8c_a1e9551de7abf8bd3b941a66909cdc368_icgraph" id="amtrr_8c_a1e9551de7abf8bd3b941a66909cdc368_icgraph">
<area shape="rect" title=" " alt="" coords="181,5,319,32"/>
<area shape="rect" href="mtrr_8c.html#a4dc869db4319218359dd9b7a4dd470b0" title=" " alt="" coords="5,5,133,32"/>
</map>
</div>

</div>
</div>
<a id="a193c687fa120551ba5a09090415fe741"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a193c687fa120551ba5a09090415fe741">&#9670;&nbsp;</a></span>mtrr_lookup_var_next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mtrr_lookup_var_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00557">557</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;{</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <a class="code" href="mtrr_8c.html#a52038e489fc6b97237ad813a2bb10023">__mtrr_lookup_var_next</a>(iter);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a52038e489fc6b97237ad813a2bb10023"><div class="ttname"><a href="mtrr_8c.html#a52038e489fc6b97237ad813a2bb10023">__mtrr_lookup_var_next</a></div><div class="ttdeci">static void __mtrr_lookup_var_next(struct mtrr_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00513">mtrr.c:513</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a193c687fa120551ba5a09090415fe741_cgraph.png" border="0" usemap="#amtrr_8c_a193c687fa120551ba5a09090415fe741_cgraph" alt=""/></div>
<map name="amtrr_8c_a193c687fa120551ba5a09090415fe741_cgraph" id="amtrr_8c_a193c687fa120551ba5a09090415fe741_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,169,32"/>
<area shape="rect" href="mtrr_8c.html#a52038e489fc6b97237ad813a2bb10023" title=" " alt="" coords="217,5,396,32"/>
<area shape="rect" href="mtrr_8c.html#a09d985111c436af15e24ffaab3407a54" title=" " alt="" coords="444,5,579,32"/>
<area shape="rect" href="mtrr_8c.html#a2c36af6a46dba6dc17f0fc19e74194d8" title=" " alt="" coords="627,5,749,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a193c687fa120551ba5a09090415fe741_icgraph.png" border="0" usemap="#amtrr_8c_a193c687fa120551ba5a09090415fe741_icgraph" alt=""/></div>
<map name="amtrr_8c_a193c687fa120551ba5a09090415fe741_icgraph" id="amtrr_8c_a193c687fa120551ba5a09090415fe741_icgraph">
<area shape="rect" title=" " alt="" coords="189,5,353,32"/>
<area shape="rect" href="mtrr_8c.html#a31274ba2cfbf30c7f6803fff6e78a97d" title=" " alt="" coords="5,5,141,32"/>
</map>
</div>

</div>
</div>
<a id="a137001038810c362b9474ed6bd8c13d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a137001038810c362b9474ed6bd8c13d0">&#9670;&nbsp;</a></span>mtrr_lookup_var_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mtrr_lookup_var_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmtrr__iter.html">mtrr_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00525">525</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;{</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keyword">struct </span>kvm_mtrr *mtrr_state = iter-&gt;<a class="code" href="structmtrr__iter.html#a52200de87d91924050ec889989355775">mtrr_state</a>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#a656aa302b0fc634b21eb0a3359cad0be">fixed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#a941ed9faf93a5a0681c28463b7bd9535">start_max</a> = iter-&gt;<a class="code" href="structmtrr__iter.html#ab61f01bb838fce5d2ccecc30ed26fafd">start</a>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#a369d019801dc83e4c45ead59655471ef">range</a> = NULL;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    iter-&gt;<a class="code" href="structmtrr__iter.html#a369d019801dc83e4c45ead59655471ef">range</a> = list_prepare_entry(iter-&gt;<a class="code" href="structmtrr__iter.html#a369d019801dc83e4c45ead59655471ef">range</a>, &amp;mtrr_state-&gt;head, node);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="mtrr_8c.html#a52038e489fc6b97237ad813a2bb10023">__mtrr_lookup_var_next</a>(iter);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a137001038810c362b9474ed6bd8c13d0_cgraph.png" border="0" usemap="#amtrr_8c_a137001038810c362b9474ed6bd8c13d0_cgraph" alt=""/></div>
<map name="amtrr_8c_a137001038810c362b9474ed6bd8c13d0_cgraph" id="amtrr_8c_a137001038810c362b9474ed6bd8c13d0_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,171,32"/>
<area shape="rect" href="mtrr_8c.html#a52038e489fc6b97237ad813a2bb10023" title=" " alt="" coords="219,5,397,32"/>
<area shape="rect" href="mtrr_8c.html#a09d985111c436af15e24ffaab3407a54" title=" " alt="" coords="445,5,580,32"/>
<area shape="rect" href="mtrr_8c.html#a2c36af6a46dba6dc17f0fc19e74194d8" title=" " alt="" coords="628,5,751,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a137001038810c362b9474ed6bd8c13d0_icgraph.png" border="0" usemap="#amtrr_8c_a137001038810c362b9474ed6bd8c13d0_icgraph" alt=""/></div>
<map name="amtrr_8c_a137001038810c362b9474ed6bd8c13d0_icgraph" id="amtrr_8c_a137001038810c362b9474ed6bd8c13d0_icgraph">
<area shape="rect" title=" " alt="" coords="412,31,577,57"/>
<area shape="rect" href="mtrr_8c.html#a047d2d6559b8c9faa25c45de7f45097c" title=" " alt="" coords="189,5,364,32"/>
<area shape="rect" href="mtrr_8c.html#a1e9551de7abf8bd3b941a66909cdc368" title=" " alt="" coords="208,56,345,83"/>
<area shape="rect" href="mtrr_8c.html#a31274ba2cfbf30c7f6803fff6e78a97d" title=" " alt="" coords="5,5,141,32"/>
<area shape="rect" href="mtrr_8c.html#a4dc869db4319218359dd9b7a4dd470b0" title=" " alt="" coords="9,56,137,83"/>
</map>
</div>

</div>
</div>
<a id="ae76247135f576f78a7740ff82f92b10c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae76247135f576f78a7740ff82f92b10c">&#9670;&nbsp;</a></span>set_var_mtrr_msr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_var_mtrr_msr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00349">349</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;{</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keyword">struct </span>kvm_mtrr *mtrr_state = &amp;vcpu-&gt;arch.mtrr_state;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keyword">struct </span>kvm_mtrr_range *tmp, *cur;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    cur = <a class="code" href="mtrr_8c.html#a48767cfb0bdec5a2a38ea0395fad54e9">var_mtrr_msr_to_range</a>(vcpu, msr);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">/* remove the entry if it&#39;s in the list. */</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mtrr_8c.html#a22190e25344b28da2687639ffac2599e">var_mtrr_range_is_valid</a>(cur))</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        list_del(&amp;cur-&gt;node);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">     * Set all illegal GPA bits in the mask, since those bits must</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">     * implicitly be 0.  The bits are then cleared when reading them.</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mtrr_8c.html#a175681f9bc2f7ce2f99dd5e5f9d1da84">is_mtrr_base_msr</a>(msr))</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        cur-&gt;base = data;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        cur-&gt;mask = data | <a class="code" href="cpuid_8c.html#a8bf272b370f8a27bb68bf5bf9e5ae7d5">kvm_vcpu_reserved_gpa_bits_raw</a>(vcpu);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">/* add it to the list if it&#39;s enabled. */</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mtrr_8c.html#a22190e25344b28da2687639ffac2599e">var_mtrr_range_is_valid</a>(cur)) {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        list_for_each_entry(tmp, &amp;mtrr_state-&gt;head, node)</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">if</span> (cur-&gt;base &gt;= tmp-&gt;base)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        list_add_tail(&amp;cur-&gt;node, &amp;tmp-&gt;node);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;}</div>
<div class="ttc" id="amtrr_8c_html_a22190e25344b28da2687639ffac2599e"><div class="ttname"><a href="mtrr_8c.html#a22190e25344b28da2687639ffac2599e">var_mtrr_range_is_valid</a></div><div class="ttdeci">static bool var_mtrr_range_is_valid(struct kvm_mtrr_range *range)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00344">mtrr.c:344</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_ae76247135f576f78a7740ff82f92b10c_cgraph.png" border="0" usemap="#amtrr_8c_ae76247135f576f78a7740ff82f92b10c_cgraph" alt=""/></div>
<map name="amtrr_8c_ae76247135f576f78a7740ff82f92b10c_cgraph" id="amtrr_8c_ae76247135f576f78a7740ff82f92b10c_cgraph">
<area shape="rect" title=" " alt="" coords="5,93,143,120"/>
<area shape="rect" href="mtrr_8c.html#a175681f9bc2f7ce2f99dd5e5f9d1da84" title=" " alt="" coords="213,5,352,32"/>
<area shape="rect" href="cpuid_8c.html#a8bf272b370f8a27bb68bf5bf9e5ae7d5" title=" " alt="" coords="191,57,375,98"/>
<area shape="rect" href="mtrr_8c.html#a48767cfb0bdec5a2a38ea0395fad54e9" title=" " alt="" coords="195,123,370,149"/>
<area shape="rect" href="mtrr_8c.html#a22190e25344b28da2687639ffac2599e" title=" " alt="" coords="193,173,372,200"/>
<area shape="rect" href="cpuid_8h.html#a1678e00b10264045277c1abfcb6eec3e" title=" " alt="" coords="423,39,569,65"/>
<area shape="rect" href="mmu_8h.html#a20a41b0166b13eb22b15786964f5de9d" title=" " alt="" coords="455,89,537,116"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_ae76247135f576f78a7740ff82f92b10c_icgraph.png" border="0" usemap="#amtrr_8c_ae76247135f576f78a7740ff82f92b10c_icgraph" alt=""/></div>
<map name="amtrr_8c_ae76247135f576f78a7740ff82f92b10c_icgraph" id="amtrr_8c_ae76247135f576f78a7740ff82f92b10c_icgraph">
<area shape="rect" title=" " alt="" coords="580,56,717,83"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="387,56,532,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
</map>
</div>

</div>
</div>
<a id="aca604775fbcfad49bfaf9441fc2253dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca604775fbcfad49bfaf9441fc2253dc">&#9670;&nbsp;</a></span>update_mtrr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void update_mtrr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>msr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00318">318</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keyword">struct </span>kvm_mtrr *mtrr_state = &amp;vcpu-&gt;arch.mtrr_state;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    gfn_t start, end;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mmu_8h.html#a11c275bc8cfad409c0681f0c953ebcae">kvm_mmu_honors_guest_mtrrs</a>(vcpu-&gt;kvm))</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mtrr_8c.html#a1fbe59dbf51580dd836cbb1a0ea70a72">mtrr_is_enabled</a>(mtrr_state) &amp;&amp; msr != MSR_MTRRdefType)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">/* fixed MTRRs. */</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mtrr_8c.html#aba5461e5a931a2cd2927851cfa8893d1">fixed_msr_to_range</a>(msr, &amp;start, &amp;end)) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="mtrr_8c.html#a9585e37781f7744895fb5882606268e0">fixed_mtrr_is_enabled</a>(mtrr_state))</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msr == MSR_MTRRdefType) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        start = 0x0;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        end = ~0ULL;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="comment">/* variable range MTRRs. */</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="mtrr_8c.html#a2c36af6a46dba6dc17f0fc19e74194d8">var_mtrr_range</a>(<a class="code" href="mtrr_8c.html#a48767cfb0bdec5a2a38ea0395fad54e9">var_mtrr_msr_to_range</a>(vcpu, msr), &amp;start, &amp;end);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="mmu_8c.html#a8b2588158566c9bb798cdb77760e6446">kvm_zap_gfn_range</a>(vcpu-&gt;kvm, gpa_to_gfn(start), gpa_to_gfn(end));</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div>
<div class="ttc" id="ammu_8c_html_a8b2588158566c9bb798cdb77760e6446"><div class="ttname"><a href="mmu_8c.html#a8b2588158566c9bb798cdb77760e6446">kvm_zap_gfn_range</a></div><div class="ttdeci">void kvm_zap_gfn_range(struct kvm *kvm, gfn_t gfn_start, gfn_t gfn_end)</div><div class="ttdef"><b>Definition:</b> <a href="mmu_8c_source.html#l06373">mmu.c:6373</a></div></div>
<div class="ttc" id="ammu_8h_html_a11c275bc8cfad409c0681f0c953ebcae"><div class="ttname"><a href="mmu_8h.html#a11c275bc8cfad409c0681f0c953ebcae">kvm_mmu_honors_guest_mtrrs</a></div><div class="ttdeci">static bool kvm_mmu_honors_guest_mtrrs(struct kvm *kvm)</div><div class="ttdef"><b>Definition:</b> <a href="mmu_8h_source.html#l00250">mmu.h:250</a></div></div>
<div class="ttc" id="amtrr_8c_html_aba5461e5a931a2cd2927851cfa8893d1"><div class="ttname"><a href="mtrr_8c.html#aba5461e5a931a2cd2927851cfa8893d1">fixed_msr_to_range</a></div><div class="ttdeci">static bool fixed_msr_to_range(u32 msr, u64 *start, u64 *end)</div><div class="ttdef"><b>Definition:</b> <a href="mtrr_8c_source.html#l00250">mtrr.c:250</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_aca604775fbcfad49bfaf9441fc2253dc_cgraph.png" border="0" usemap="#amtrr_8c_aca604775fbcfad49bfaf9441fc2253dc_cgraph" alt=""/></div>
<map name="amtrr_8c_aca604775fbcfad49bfaf9441fc2253dc_cgraph" id="amtrr_8c_aca604775fbcfad49bfaf9441fc2253dc_cgraph">
<area shape="rect" title=" " alt="" coords="5,243,108,269"/>
<area shape="rect" href="mtrr_8c.html#aba5461e5a931a2cd2927851cfa8893d1" title=" " alt="" coords="175,64,324,91"/>
<area shape="rect" href="mtrr_8c.html#a9585e37781f7744895fb5882606268e0" title=" " alt="" coords="167,125,332,152"/>
<area shape="rect" href="mmu_8h.html#a11c275bc8cfad409c0681f0c953ebcae" title=" " alt="" coords="156,177,343,218"/>
<area shape="rect" href="mmu_8c.html#a8b2588158566c9bb798cdb77760e6446" title=" " alt="" coords="173,243,326,269"/>
<area shape="rect" href="mtrr_8c.html#a1fbe59dbf51580dd836cbb1a0ea70a72" title=" " alt="" coords="186,293,313,320"/>
<area shape="rect" href="mtrr_8c.html#a48767cfb0bdec5a2a38ea0395fad54e9" title=" " alt="" coords="162,344,337,371"/>
<area shape="rect" href="mtrr_8c.html#a2c36af6a46dba6dc17f0fc19e74194d8" title=" " alt="" coords="188,395,311,421"/>
<area shape="rect" href="mtrr_8c.html#a962f0a7169bbd5b126b707e9fdb7eea0" title=" " alt="" coords="427,5,594,32"/>
<area shape="rect" href="mtrr_8c.html#a5354b7902bd46368278a681e0e389edc" title=" " alt="" coords="435,57,586,98"/>
<area shape="rect" href="mtrr_8c.html#a956f625c3363cdda4d426e010d2fa2fe" title=" " alt="" coords="693,64,875,91"/>
<area shape="rect" href="mmu_8h.html#aaac7b37c7c917c491331020726730c02" title=" " alt="" coords="411,122,611,163"/>
<area shape="rect" href="x86_8c.html#a07ecc086564147d2003e0699cd506aa4" title=" " alt="" coords="391,188,631,215"/>
<area shape="rect" href="kvm__main_8c.html#a523d3c698dd532d3fbc1bb046246ea5f" title=" " alt="" coords="959,173,1133,214"/>
<area shape="rect" href="mmu_8c.html#aafdb4964a081741c295ad440ae9ff0f4" title=" " alt="" coords="413,384,608,411"/>
<area shape="rect" href="tdp__mmu_8c.html#aa4fb1a66a2bc67f8699e8ddafdd4b1e8" title=" " alt="" coords="416,315,605,341"/>
<area shape="rect" href="kvm__main_8c.html#a54913b65d68c88909678d5cf9c983a6b" title=" " alt="" coords="1209,207,1383,233"/>
<area shape="rect" href="kvm__main_8c.html#abaa3f5ff00150487b52dd21c1617bab6" title=" " alt="" coords="1437,207,1648,233"/>
<area shape="rect" href="kvm__main_8c.html#ac46e1a0e43c0784194a451a7e7394c02" title=" " alt="" coords="1698,199,1909,241"/>
<area shape="rect" href="kvm__main_8c.html#a56fa7dccf37545a9046522ded0354c7e" title=" " alt="" coords="1969,235,2136,261"/>
<area shape="rect" href="kvm__main_8c.html#a90667c5619416298aea980ad51ec8525" title=" " alt="" coords="1959,184,2147,211"/>
<area shape="rect" href="mmu_8c.html#a51e0b9f12c2d968627ad2c32cc8b2b12" title=" " alt="" coords="716,555,852,581"/>
<area shape="rect" href="mmu_8c.html#a0d6468f2fe0ff56e6a8465e1dbe759aa" title=" " alt="" coords="711,289,857,316"/>
<area shape="rect" href="mmu_8h.html#ac9867cac2f7c0a763088b2112951b5ac" title=" " alt="" coords="679,428,889,455"/>
<area shape="rect" href="mmu_8c.html#aee3bce967ca931b9d1b1766632f0561e" title=" " alt="" coords="1203,644,1389,671"/>
<area shape="rect" href="mmu_8c.html#a790300e09cfcb98ec72f8c55822df153" title=" " alt="" coords="1452,695,1633,721"/>
<area shape="rect" href="mmu_8c.html#a63ad2b3c2d88537186f5732c6d26793e" title=" " alt="" coords="1442,644,1643,671"/>
<area shape="rect" href="mmu_8c.html#a29dd1887c83a0d49219b0fd5f28ce401" title=" " alt="" coords="1710,745,1897,772"/>
<area shape="rect" href="mmu_8c.html#ab201fe546ae5c64aba03e7b56a97c47c" title=" " alt="" coords="1707,796,1899,823"/>
<area shape="rect" href="spte_8h.html#a16669248c64937ddec714d855609cacb" title=" " alt="" coords="1736,644,1871,671"/>
<area shape="rect" href="spte_8h.html#a0726c9cf54d23a373533a0833aaf979c" title=" " alt="" coords="1751,695,1856,721"/>
<area shape="rect" href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686" title=" " alt="" coords="1716,391,1891,417"/>
<area shape="rect" href="kvm__main_8c.html#a99f99281cc81d5cd69f5825ccb8793b4" title=" " alt="" coords="1696,847,1911,873"/>
<area shape="rect" href="kvm__main_8c.html#ad88d3f7ece0c0ad7dce0c296133beccb" title=" " alt="" coords="1717,441,1890,468"/>
<area shape="rect" href="kvm__main_8c.html#a3617d51882e6aba0abae53c0bf922873" title=" " alt="" coords="1732,492,1875,519"/>
<area shape="rect" href="mmu_8h.html#a9d589fd96a814e43fc146f83dc5d5f73" title=" " alt="" coords="1713,543,1894,569"/>
<area shape="rect" href="spte_8c.html#a11de60840b247621debae854aea928db" title=" " alt="" coords="1720,897,1887,924"/>
<area shape="rect" href="spte_8h.html#a88a720d39abac3aee2f63e03a20e8abd" title=" " alt="" coords="1754,593,1853,620"/>
<area shape="rect" href="spte_8h.html#a501c74fbb95a5dd015922c57a163ca13" title=" " alt="" coords="1753,948,1853,975"/>
<area shape="rect" href="mmu_8h.html#a89c85e383e0f6dfe6f91f5c1dd25e522" title=" " alt="" coords="942,492,1150,519"/>
<area shape="rect" href="tdp__mmu_8c.html#a182ff449fd87f9503148e88c33cff5ac" title=" " alt="" coords="707,340,861,367"/>
<area shape="rect" href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5" title=" " alt="" coords="1754,289,1853,316"/>
<area shape="rect" href="tdp__mmu_8c.html#abc2d73db35961f670cedf8ce1206c4d2" title=" " alt="" coords="941,239,1151,265"/>
<area shape="rect" href="tdp__mmu_8c.html#af6444812b70d9509539a3fa478cde14d" title=" " alt="" coords="959,441,1133,468"/>
<area shape="rect" href="tdp__mmu_8c.html#ac323268ae26fde5a608d694f4943d476" title=" " alt="" coords="937,289,1155,316"/>
<area shape="rect" href="spte_8h.html#ae9b1a94fccf74f0837e1a775bc57d729" title=" " alt="" coords="2002,289,2103,316"/>
<area shape="rect" href="tdp__mmu_8c.html#a1880e056251c1743579f5c7a25ccad1a" title=" " alt="" coords="1223,441,1369,468"/>
<area shape="rect" href="tdp__mmu_8c.html#a95692dd1daa13effa90e042a8a7057af" title=" " alt="" coords="1461,492,1624,519"/>
<area shape="rect" href="spte_8h.html#ad52bae526742289dbd54348dfa55310b" title=" " alt="" coords="1737,340,1870,367"/>
<area shape="rect" href="mmu_8h.html#a6555cf2d510d04ae19bee154d166f778" title=" " alt="" coords="1218,289,1374,316"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_aca604775fbcfad49bfaf9441fc2253dc_icgraph.png" border="0" usemap="#amtrr_8c_aca604775fbcfad49bfaf9441fc2253dc_icgraph" alt=""/></div>
<map name="amtrr_8c_aca604775fbcfad49bfaf9441fc2253dc_icgraph" id="amtrr_8c_aca604775fbcfad49bfaf9441fc2253dc_icgraph">
<area shape="rect" title=" " alt="" coords="580,56,683,83"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="387,56,532,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
</map>
</div>

</div>
</div>
<a id="aeebf7497c54707dc1e4ac8591a2cb779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeebf7497c54707dc1e4ac8591a2cb779">&#9670;&nbsp;</a></span>valid_mtrr_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool valid_mtrr_type </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00063">63</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">return</span> t &lt; 8 &amp;&amp; (1 &lt;&lt; t) &amp; 0x73; <span class="comment">/* 0, 1, 4, 5, 6 */</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_aeebf7497c54707dc1e4ac8591a2cb779_icgraph.png" border="0" usemap="#amtrr_8c_aeebf7497c54707dc1e4ac8591a2cb779_icgraph" alt=""/></div>
<map name="amtrr_8c_aeebf7497c54707dc1e4ac8591a2cb779_icgraph" id="amtrr_8c_aeebf7497c54707dc1e4ac8591a2cb779_icgraph">
<area shape="rect" title=" " alt="" coords="753,56,879,83"/>
<area shape="rect" href="mtrr_8c.html#a1775807b30fdd1d17a4fb9f1f82a6aab" title=" " alt="" coords="580,56,705,83"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="387,56,532,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
</map>
</div>

</div>
</div>
<a id="a48767cfb0bdec5a2a38ea0395fad54e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48767cfb0bdec5a2a38ea0395fad54e9">&#9670;&nbsp;</a></span>var_mtrr_msr_to_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct kvm_mtrr_range* var_mtrr_msr_to_range </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>msr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00034">34</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;{</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordtype">int</span> index = (msr - MTRRphysBase_MSR(0)) / 2;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">return</span> &amp;vcpu-&gt;arch.mtrr_state.var_ranges[index];</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a48767cfb0bdec5a2a38ea0395fad54e9_icgraph.png" border="0" usemap="#amtrr_8c_a48767cfb0bdec5a2a38ea0395fad54e9_icgraph" alt=""/></div>
<map name="amtrr_8c_a48767cfb0bdec5a2a38ea0395fad54e9_icgraph" id="amtrr_8c_a48767cfb0bdec5a2a38ea0395fad54e9_icgraph">
<area shape="rect" title=" " alt="" coords="804,95,979,121"/>
<area shape="rect" href="mtrr_8c.html#a81a164c2615ef1c0fc231d71e5ba9a53" title=" " alt="" coords="609,44,756,71"/>
<area shape="rect" href="mtrr_8c.html#ae76247135f576f78a7740ff82f92b10c" title=" " alt="" coords="614,95,751,121"/>
<area shape="rect" href="mtrr_8c.html#aca604775fbcfad49bfaf9441fc2253dc" title=" " alt="" coords="631,145,734,172"/>
<area shape="rect" href="x86_8c.html#a0e93cb5e88dc8c07d9357181a3a7b2e9" title=" " alt="" coords="387,44,561,71"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="196,5,307,32"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="196,56,307,83"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="401,120,547,147"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,120,339,147"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,69,101,96"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,120,115,147"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,171,116,197"/>
</map>
</div>

</div>
</div>
<a id="a2c36af6a46dba6dc17f0fc19e74194d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c36af6a46dba6dc17f0fc19e74194d8">&#9670;&nbsp;</a></span>var_mtrr_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void var_mtrr_range </td>
          <td>(</td>
          <td class="paramtype">struct kvm_mtrr_range *&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00304">304</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    u64 mask;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    *start = range-&gt;base &amp; PAGE_MASK;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    mask = range-&gt;mask &amp; PAGE_MASK;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">/* This cannot overflow because writing to the reserved bits of</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">     * variable MTRRs causes a #GP.</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    *end = (*start | ~mask) + 1;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a2c36af6a46dba6dc17f0fc19e74194d8_icgraph.png" border="0" usemap="#amtrr_8c_a2c36af6a46dba6dc17f0fc19e74194d8_icgraph" alt=""/></div>
<map name="amtrr_8c_a2c36af6a46dba6dc17f0fc19e74194d8_icgraph" id="amtrr_8c_a2c36af6a46dba6dc17f0fc19e74194d8_icgraph">
<area shape="rect" title=" " alt="" coords="1044,112,1167,139"/>
<area shape="rect" href="mtrr_8c.html#a09d985111c436af15e24ffaab3407a54" title=" " alt="" coords="861,75,996,101"/>
<area shape="rect" href="mtrr_8c.html#aca604775fbcfad49bfaf9441fc2253dc" title=" " alt="" coords="877,137,980,164"/>
<area shape="rect" href="mtrr_8c.html#a52038e489fc6b97237ad813a2bb10023" title=" " alt="" coords="635,68,813,95"/>
<area shape="rect" href="mtrr_8c.html#a193c687fa120551ba5a09090415fe741" title=" " alt="" coords="417,5,581,32"/>
<area shape="rect" href="mtrr_8c.html#a137001038810c362b9474ed6bd8c13d0" title=" " alt="" coords="417,68,582,95"/>
<area shape="rect" href="mtrr_8c.html#a31274ba2cfbf30c7f6803fff6e78a97d" title=" " alt="" coords="5,17,141,44"/>
<area shape="rect" href="mtrr_8c.html#a047d2d6559b8c9faa25c45de7f45097c" title=" " alt="" coords="189,43,364,69"/>
<area shape="rect" href="mtrr_8c.html#a1e9551de7abf8bd3b941a66909cdc368" title=" " alt="" coords="208,93,345,120"/>
<area shape="rect" href="mtrr_8c.html#a4dc869db4319218359dd9b7a4dd470b0" title=" " alt="" coords="9,93,137,120"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="651,163,797,189"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="412,179,587,205"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="236,144,317,171"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="222,195,331,221"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="221,245,332,272"/>
</map>
</div>

</div>
</div>
<a id="a22190e25344b28da2687639ffac2599e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22190e25344b28da2687639ffac2599e">&#9670;&nbsp;</a></span>var_mtrr_range_is_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool var_mtrr_range_is_valid </td>
          <td>(</td>
          <td class="paramtype">struct kvm_mtrr_range *&#160;</td>
          <td class="paramname"><em>range</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00344">344</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;{</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">return</span> (range-&gt;mask &amp; (1 &lt;&lt; 11)) != 0;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mtrr_8c_a22190e25344b28da2687639ffac2599e_icgraph.png" border="0" usemap="#amtrr_8c_a22190e25344b28da2687639ffac2599e_icgraph" alt=""/></div>
<map name="amtrr_8c_a22190e25344b28da2687639ffac2599e_icgraph" id="amtrr_8c_a22190e25344b28da2687639ffac2599e_icgraph">
<area shape="rect" title=" " alt="" coords="765,56,944,83"/>
<area shape="rect" href="mtrr_8c.html#ae76247135f576f78a7740ff82f92b10c" title=" " alt="" coords="580,56,717,83"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="387,56,532,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3d5d78782ef6fb6917f9a955bf7472ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d5d78782ef6fb6917f9a955bf7472ba">&#9670;&nbsp;</a></span>fixed_seg_table</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structfixed__mtrr__segment.html">fixed_mtrr_segment</a> fixed_seg_table[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">        .start = 0x0,</div>
<div class="line">        .end = 0x80000,</div>
<div class="line">        .range_shift = 16, </div>
<div class="line">        .range_start = 0,</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">        .start = 0x80000,</div>
<div class="line">        .end = 0xc0000,</div>
<div class="line">        .range_shift = 14, </div>
<div class="line">        .range_start = 8,</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">        .start = 0xc0000,</div>
<div class="line">        .end = 0x100000,</div>
<div class="line">        .range_shift = 12, </div>
<div class="line">        .range_start = 24,</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="mtrr_8c_source.html#l00119">119</a> of file <a class="el" href="mtrr_8c_source.html">mtrr.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
