<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KVM: arch/x86/kvm/mmu/tdp_iter.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ea9599923402ca8ab47fc3e495999dea.html">arch</a></li><li class="navelem"><a class="el" href="dir_c21774f8bc9f0de15163573e5f5fa2b5.html">x86</a></li><li class="navelem"><a class="el" href="dir_fde450fd4b58e2560c53a1e73bfa4d6d.html">kvm</a></li><li class="navelem"><a class="el" href="dir_5b5419bab78eb3e26ed0c43edf6fed27.html">mmu</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tdp_iter.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/kvm_host.h&gt;</code><br />
<code>#include &quot;<a class="el" href="mmu_8h_source.html">mmu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="spte_8h_source.html">spte.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tdp_iter.h:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h__incl.png" border="0" usemap="#aarch_2x86_2kvm_2mmu_2tdp__iter_8h" alt=""/></div>
<map name="aarch_2x86_2kvm_2mmu_2tdp__iter_8h" id="aarch_2x86_2kvm_2mmu_2tdp__iter_8h">
<area shape="rect" title=" " alt="" coords="1288,5,1463,47"/>
<area shape="rect" title=" " alt="" coords="1212,468,1347,495"/>
<area shape="rect" href="mmu_8h.html" title=" " alt="" coords="1245,169,1313,196"/>
<area shape="rect" href="spte_8h.html" title=" " alt="" coords="1344,95,1407,121"/>
<area shape="rect" href="kvm__cache__regs_8h.html" title=" " alt="" coords="1099,393,1241,420"/>
<area shape="rect" href="cpuid_8h.html" title=" " alt="" coords="699,244,769,271"/>
<area shape="rect" href="x86_8h.html" title=" " alt="" coords="705,319,763,345"/>
<area shape="rect" href="reverse__cpuid_8h.html" title=" " alt="" coords="478,319,603,345"/>
<area shape="rect" title=" " alt="" coords="968,319,1057,345"/>
<area shape="rect" title=" " alt="" coords="139,319,267,345"/>
<area shape="rect" title=" " alt="" coords="291,319,454,345"/>
<area shape="rect" href="governed__features_8h.html" title=" " alt="" coords="788,319,944,345"/>
<area shape="rect" title=" " alt="" coords="743,393,875,420"/>
<area shape="rect" title=" " alt="" coords="484,393,579,420"/>
<area shape="rect" title=" " alt="" coords="603,393,719,420"/>
<area shape="rect" href="kvm__emulate_8h.html" title=" " alt="" coords="899,393,1023,420"/>
<area shape="rect" title=" " alt="" coords="837,468,967,495"/>
<area shape="rect" href="fpu_8h.html" title=" " alt="" coords="992,468,1047,495"/>
<area shape="rect" title=" " alt="" coords="964,543,1075,569"/>
<area shape="rect" title=" " alt="" coords="5,393,132,420"/>
<area shape="rect" title=" " alt="" coords="157,393,293,420"/>
<area shape="rect" title=" " alt="" coords="317,393,460,420"/>
<area shape="rect" href="mmu__internal_8h.html" title=" " alt="" coords="1349,169,1474,196"/>
<area shape="rect" title=" " alt="" coords="1367,244,1474,271"/>
<area shape="rect" title=" " alt="" coords="1498,244,1629,271"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h__dep__incl.png" border="0" usemap="#aarch_2x86_2kvm_2mmu_2tdp__iter_8hdep" alt=""/></div>
<map name="aarch_2x86_2kvm_2mmu_2tdp__iter_8hdep" id="aarch_2x86_2kvm_2mmu_2tdp__iter_8hdep">
<area shape="rect" title=" " alt="" coords="104,5,279,47"/>
<area shape="rect" href="tdp__iter_8c.html" title=" " alt="" coords="5,95,180,136"/>
<area shape="rect" href="tdp__mmu_8c.html" title=" " alt="" coords="204,95,379,136"/>
</map>
</div>
</div>
<p><a href="tdp__iter_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtdp__iter.html">tdp_iter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae338deba99081393a1e19cdfa6640f48"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8h.html#ae338deba99081393a1e19cdfa6640f48">for_each_tdp_pte_min_level</a>(iter,  root,  min_level,  start,  end)</td></tr>
<tr class="separator:ae338deba99081393a1e19cdfa6640f48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83c970d2555495599eb8e75e3ced770f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8h.html#a83c970d2555495599eb8e75e3ced770f">for_each_tdp_pte</a>(iter,  root,  start,  end)&#160;&#160;&#160;	<a class="el" href="tdp__iter_8h.html#ae338deba99081393a1e19cdfa6640f48">for_each_tdp_pte_min_level</a>(iter, root, PG_LEVEL_4K, start, end)</td></tr>
<tr class="separator:a83c970d2555495599eb8e75e3ced770f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae1b8feffcbd421cbcb6a40cd57abf768"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768">kvm_tdp_mmu_read_spte</a> (<a class="el" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a> sptep)</td></tr>
<tr class="separator:ae1b8feffcbd421cbcb6a40cd57abf768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2138ed5465b3552439c1ad55ee1bc6d1"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8h.html#a2138ed5465b3552439c1ad55ee1bc6d1">kvm_tdp_mmu_write_spte_atomic</a> (<a class="el" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a> sptep, u64 new_spte)</td></tr>
<tr class="separator:a2138ed5465b3552439c1ad55ee1bc6d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce3a5afd04a68fc666c32e91d8c1770"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8h.html#acce3a5afd04a68fc666c32e91d8c1770">__kvm_tdp_mmu_write_spte</a> (<a class="el" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a> sptep, u64 new_spte)</td></tr>
<tr class="separator:acce3a5afd04a68fc666c32e91d8c1770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae00f2a54e0e899c2f169396a9c10d223"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8h.html#ae00f2a54e0e899c2f169396a9c10d223">kvm_tdp_mmu_spte_need_atomic_write</a> (u64 old_spte, int level)</td></tr>
<tr class="separator:ae00f2a54e0e899c2f169396a9c10d223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74cc1f032b50c7c6c64ded8866deb4a4"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8h.html#a74cc1f032b50c7c6c64ded8866deb4a4">kvm_tdp_mmu_write_spte</a> (<a class="el" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a> sptep, u64 old_spte, u64 new_spte, int level)</td></tr>
<tr class="separator:a74cc1f032b50c7c6c64ded8866deb4a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06888df6894eef0e93f82c77b99110b2"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8h.html#a06888df6894eef0e93f82c77b99110b2">tdp_mmu_clear_spte_bits</a> (<a class="el" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a> sptep, u64 old_spte, u64 mask, int level)</td></tr>
<tr class="separator:a06888df6894eef0e93f82c77b99110b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99ec23bfae963687a5cc488942688c82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8h.html#a99ec23bfae963687a5cc488942688c82">spte_to_child_pt</a> (u64 pte, int level)</td></tr>
<tr class="separator:a99ec23bfae963687a5cc488942688c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab290f5fe97e3911e3861f3c6035279b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8h.html#ab290f5fe97e3911e3861f3c6035279b9">tdp_iter_start</a> (struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *iter, struct <a class="el" href="structkvm__mmu__page.html">kvm_mmu_page</a> *root, int min_level, gfn_t next_last_level_gfn)</td></tr>
<tr class="separator:ab290f5fe97e3911e3861f3c6035279b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8acf7109400135dbba38aced135d44d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8h.html#a8acf7109400135dbba38aced135d44d8">tdp_iter_next</a> (struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *iter)</td></tr>
<tr class="separator:a8acf7109400135dbba38aced135d44d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4b66dc30c8f261c500b78382bd3c73f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8h.html#af4b66dc30c8f261c500b78382bd3c73f">tdp_iter_restart</a> (struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *iter)</td></tr>
<tr class="separator:af4b66dc30c8f261c500b78382bd3c73f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a83c970d2555495599eb8e75e3ced770f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83c970d2555495599eb8e75e3ced770f">&#9670;&nbsp;</a></span>for_each_tdp_pte</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define for_each_tdp_pte</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">iter, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">root, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">start, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">end&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;	<a class="el" href="tdp__iter_8h.html#ae338deba99081393a1e19cdfa6640f48">for_each_tdp_pte_min_level</a>(iter, root, PG_LEVEL_4K, start, end)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8h_source.html#l00128">128</a> of file <a class="el" href="tdp__iter_8h_source.html">tdp_iter.h</a>.</p>

</div>
</div>
<a id="ae338deba99081393a1e19cdfa6640f48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae338deba99081393a1e19cdfa6640f48">&#9670;&nbsp;</a></span>for_each_tdp_pte_min_level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define for_each_tdp_pte_min_level</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">iter, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">root, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">min_level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">start, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">end&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">for</span> (<a class="code" href="tdp__iter_8h.html#ab290f5fe97e3911e3861f3c6035279b9">tdp_iter_start</a>(&amp;iter, root, min_level, start); \</div>
<div class="line">         iter.valid &amp;&amp; iter.gfn &lt; end;           \</div>
<div class="line">         tdp_iter_next(&amp;iter))</div>
<div class="ttc" id="atdp__iter_8h_html_ab290f5fe97e3911e3861f3c6035279b9"><div class="ttname"><a href="tdp__iter_8h.html#ab290f5fe97e3911e3861f3c6035279b9">tdp_iter_start</a></div><div class="ttdeci">void tdp_iter_start(struct tdp_iter *iter, struct kvm_mmu_page *root, int min_level, gfn_t next_last_level_gfn)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8c_source.html#l00039">tdp_iter.c:39</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="tdp__iter_8h_source.html#l00123">123</a> of file <a class="el" href="tdp__iter_8h_source.html">tdp_iter.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="acce3a5afd04a68fc666c32e91d8c1770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce3a5afd04a68fc666c32e91d8c1770">&#9670;&nbsp;</a></span>__kvm_tdp_mmu_write_spte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __kvm_tdp_mmu_write_spte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a>&#160;</td>
          <td class="paramname"><em>sptep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>new_spte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8h_source.html#l00027">27</a> of file <a class="el" href="tdp__iter_8h_source.html">tdp_iter.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    WRITE_ONCE(*rcu_dereference(sptep), new_spte);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_acce3a5afd04a68fc666c32e91d8c1770_icgraph.png" border="0" usemap="#atdp__iter_8h_acce3a5afd04a68fc666c32e91d8c1770_icgraph" alt=""/></div>
<map name="atdp__iter_8h_acce3a5afd04a68fc666c32e91d8c1770_icgraph" id="atdp__iter_8h_acce3a5afd04a68fc666c32e91d8c1770_icgraph">
<area shape="rect" title=" " alt="" coords="2412,383,2621,410"/>
<area shape="rect" href="tdp__iter_8h.html#a74cc1f032b50c7c6c64ded8866deb4a4" title=" " alt="" coords="2169,383,2364,410"/>
<area shape="rect" href="tdp__mmu_8c.html#ab901a77cd00a4e809baa9a25e289b59d" title=" " alt="" coords="1035,55,1236,82"/>
<area shape="rect" href="tdp__iter_8h.html#a06888df6894eef0e93f82c77b99110b2" title=" " alt="" coords="2172,438,2361,465"/>
<area shape="rect" href="tdp__mmu_8c.html#a30ae563747c16580e9c760ea701eec6d" title=" " alt="" coords="1977,438,2096,465"/>
<area shape="rect" href="tdp__mmu_8c.html#ac509299bc28d3b827578915abdb2280e" title=" " alt="" coords="1961,333,2112,359"/>
<area shape="rect" href="tdp__mmu_8c.html#a1880e056251c1743579f5c7a25ccad1a" title=" " alt="" coords="1531,383,1677,410"/>
<area shape="rect" href="tdp__mmu_8c.html#a0a5c7f827057100e08b2f45da804fa30" title=" " alt="" coords="1725,435,1904,476"/>
<area shape="rect" href="mmu_8c.html#a39977aaa99a2eb423e12429a5deb15dc" title=" " alt="" coords="1549,442,1659,469"/>
<area shape="rect" href="tdp__mmu_8c.html#a95692dd1daa13effa90e042a8a7057af" title=" " alt="" coords="1733,333,1896,359"/>
<area shape="rect" href="tdp__mmu_8c.html#a692eb9d20075258e5d4a0e4289a7c9b6" title=" " alt="" coords="1284,215,1483,242"/>
<area shape="rect" href="tdp__mmu_8c.html#a381e22ee819864cf1fd726479a76b6c7" title=" " alt="" coords="1297,510,1469,537"/>
<area shape="rect" href="tdp__mmu_8c.html#af6444812b70d9509539a3fa478cde14d" title=" " alt="" coords="1296,383,1471,410"/>
<area shape="rect" href="mmu_8c.html#a85202c8f53b11b1c80f9b6e26210aa9a" title=" " alt="" coords="1051,587,1220,628"/>
<area shape="rect" href="mmu_8c.html#a2683113dbbf42e73c2b52410f9ef6f84" title=" " alt="" coords="758,595,974,636"/>
<area shape="rect" href="mmu_8c.html#a13148d5065ef27624701afcaa3229983" title=" " alt="" coords="491,602,673,629"/>
<area shape="rect" href="tdp__mmu_8c.html#af9c34fae0b7eac63cc78a01882498cfb" title=" " alt="" coords="1055,274,1216,301"/>
<area shape="rect" href="tdp__mmu_8c.html#a01bf8752c61ddeae2878ef46d312e00c" title=" " alt="" coords="1083,467,1188,494"/>
<area shape="rect" href="tdp__mmu_8c.html#a6588b054500f580603f94c0555fe3c06" title=" " alt="" coords="1067,325,1204,351"/>
<area shape="rect" href="tdp__mmu_8c.html#a182ff449fd87f9503148e88c33cff5ac" title=" " alt="" coords="1059,383,1212,410"/>
<area shape="rect" href="tdp__mmu_8c.html#aa07f9d272e2404a5b5392ae7aa175580" title=" " alt="" coords="1067,527,1203,554"/>
<area shape="rect" href="tdp__mmu_8c.html#a95955e5f31399228d6a722fba5a81477" title=" " alt="" coords="793,173,939,199"/>
<area shape="rect" href="tdp__mmu_8c.html#aca0f6025bf55596c80647e3a35997d92" title=" " alt="" coords="495,131,669,158"/>
<area shape="rect" href="tdp__mmu_8c.html#a8ab26f4fb05f388d8bcf04ad89ee6797" title=" " alt="" coords="467,183,697,224"/>
<area shape="rect" href="tdp__mmu_8c.html#aa53a75612d7b32153949be34f4055144" title=" " alt="" coords="761,493,971,519"/>
<area shape="rect" href="mmu_8c.html#a978186d69e4a1b753b9650294d80ca7d" title=" " alt="" coords="511,485,653,511"/>
<area shape="rect" href="tdp__mmu_8c.html#ad2479228afe629631e4f0331c440a4d6" title=" " alt="" coords="504,266,660,293"/>
<area shape="rect" href="tdp__mmu_8c.html#acf7d062eca8e6190d76f4934c290be61" title=" " alt="" coords="767,325,965,351"/>
<area shape="rect" href="tdp__mmu_8c.html#afa070d8c089f8547cfc2dbafa856e99c" title=" " alt="" coords="503,317,661,359"/>
<area shape="rect" href="tdp__mmu_8c.html#aaa8f0898db08dd5c9213ac2f8b355501" title=" " alt="" coords="766,427,966,468"/>
<area shape="rect" href="tdp__mmu_8c.html#aa4fb1a66a2bc67f8699e8ddafdd4b1e8" title=" " alt="" coords="771,375,961,402"/>
<area shape="rect" href="mmu_8c.html#aa37fc9ea36d6c97e97d77af76eca5767" title=" " alt="" coords="495,434,669,461"/>
<area shape="rect" href="mmu_8c.html#a8b2588158566c9bb798cdb77760e6446" title=" " alt="" coords="505,383,659,410"/>
<area shape="rect" href="tdp__mmu_8c.html#a45fd618d35fb0df14a3401a230f41faa" title=" " alt="" coords="745,543,987,570"/>
<area shape="rect" href="mmu_8c.html#a1f49638b71a482e4b0c3a6af10d0711e" title=" " alt="" coords="487,536,677,577"/>
<area shape="rect" href="mmu_8c.html#a035ec39ab60e2a3d382c272b15fc83a6" title=" " alt="" coords="230,653,409,695"/>
<area shape="rect" href="dirty__ring_8c.html#a68052369106191fbc506fdf4d64be449" title=" " alt="" coords="11,661,167,687"/>
<area shape="rect" href="tdp__mmu_8c.html#a9da9e7ba01717f85966fc080e86ecb84" title=" " alt="" coords="1054,106,1217,133"/>
<area shape="rect" href="tdp__mmu_8c.html#aa98226578ebe207e97e262a86bbd5427" title=" " alt="" coords="1050,208,1221,249"/>
<area shape="rect" href="tdp__mmu_8c.html#ae3e523e725021c7dd3f3796f4e074a37" title=" " alt="" coords="1067,157,1203,183"/>
<area shape="rect" href="tdp__mmu_8c.html#a670804848ccec53148d097c06b44657c" title=" " alt="" coords="753,71,979,98"/>
<area shape="rect" href="tdp__mmu_8c.html#ac72a38de4d0b8a5cfeace82f10cc4caf" title=" " alt="" coords="787,5,945,47"/>
<area shape="rect" href="tdp__mmu_8c.html#a3a86994ba17144f60df37ea7682d650b" title=" " alt="" coords="469,5,695,47"/>
<area shape="rect" href="mmu_8c.html#a35da5538a61de05522efdad8f615df4f" title=" " alt="" coords="220,5,419,47"/>
<area shape="rect" href="x86_8c.html#a9ca94438429f3e85a9b7b6db1ef55252" title=" " alt="" coords="5,5,172,47"/>
<area shape="rect" href="tdp__mmu_8c.html#a7f6c658f3ddf3ffac5ce96335b78e295" title=" " alt="" coords="766,122,966,149"/>
<area shape="rect" href="tdp__mmu_8c.html#a302b8c57cfb6b9bc82a2f68047477145" title=" " alt="" coords="1952,582,2121,609"/>
<area shape="rect" href="tdp__mmu_8c.html#ad1753c27bb053bc6ac3a3893e10b49f6" title=" " alt="" coords="768,660,964,701"/>
<area shape="rect" href="mmu_8c.html#afeee4db4dd885d0e891ccb05f545c876" title=" " alt="" coords="498,653,666,695"/>
<area shape="rect" href="mmu_8c.html#ace4eaa769a0c9e1f75a3900a51275d18" title=" " alt="" coords="489,719,675,760"/>
</map>
</div>

</div>
</div>
<a id="ae1b8feffcbd421cbcb6a40cd57abf768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1b8feffcbd421cbcb6a40cd57abf768">&#9670;&nbsp;</a></span>kvm_tdp_mmu_read_spte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 kvm_tdp_mmu_read_spte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a>&#160;</td>
          <td class="paramname"><em>sptep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8h_source.html#l00017">17</a> of file <a class="el" href="tdp__iter_8h_source.html">tdp_iter.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;{</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="keywordflow">return</span> READ_ONCE(*rcu_dereference(sptep));</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_ae1b8feffcbd421cbcb6a40cd57abf768_icgraph.png" border="0" usemap="#atdp__iter_8h_ae1b8feffcbd421cbcb6a40cd57abf768_icgraph" alt=""/></div>
<map name="atdp__iter_8h_ae1b8feffcbd421cbcb6a40cd57abf768_icgraph" id="atdp__iter_8h_ae1b8feffcbd421cbcb6a40cd57abf768_icgraph">
<area shape="rect" title=" " alt="" coords="1944,366,2135,393"/>
<area shape="rect" href="tdp__mmu_8c.html#ac509299bc28d3b827578915abdb2280e" title=" " alt="" coords="1737,265,1887,291"/>
<area shape="rect" href="tdp__mmu_8c.html#a381e22ee819864cf1fd726479a76b6c7" title=" " alt="" coords="1089,189,1261,215"/>
<area shape="rect" href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e" title=" " alt="" coords="1728,366,1896,393"/>
<area shape="rect" href="tdp__iter_8c.html#ac33361f92b725eb2260a76750b57e820" title=" " alt="" coords="1540,417,1657,443"/>
<area shape="rect" href="tdp__iter_8c.html#a63153e1d0a5d399bbdb49826be88d49f" title=" " alt="" coords="1757,467,1867,494"/>
<area shape="rect" href="tdp__mmu_8c.html#a95692dd1daa13effa90e042a8a7057af" title=" " alt="" coords="1517,265,1680,291"/>
<area shape="rect" href="tdp__mmu_8c.html#a1880e056251c1743579f5c7a25ccad1a" title=" " alt="" coords="1323,239,1469,266"/>
<area shape="rect" href="tdp__mmu_8c.html#a692eb9d20075258e5d4a0e4289a7c9b6" title=" " alt="" coords="1076,479,1275,506"/>
<area shape="rect" href="tdp__mmu_8c.html#af6444812b70d9509539a3fa478cde14d" title=" " alt="" coords="1088,239,1263,266"/>
<area shape="rect" href="mmu_8c.html#a85202c8f53b11b1c80f9b6e26210aa9a" title=" " alt="" coords="843,23,1012,64"/>
<area shape="rect" href="mmu_8c.html#a2683113dbbf42e73c2b52410f9ef6f84" title=" " alt="" coords="550,5,766,47"/>
<area shape="rect" href="mmu_8c.html#a13148d5065ef27624701afcaa3229983" title=" " alt="" coords="283,13,465,39"/>
<area shape="rect" href="x86_8c.html#a91673b399129921871f11d0752eea8c3" title=" " alt="" coords="19,13,197,39"/>
<area shape="rect" href="tdp__mmu_8c.html#af9c34fae0b7eac63cc78a01882498cfb" title=" " alt="" coords="847,317,1008,343"/>
<area shape="rect" href="tdp__mmu_8c.html#a01bf8752c61ddeae2878ef46d312e00c" title=" " alt="" coords="875,105,980,131"/>
<area shape="rect" href="tdp__mmu_8c.html#a6588b054500f580603f94c0555fe3c06" title=" " alt="" coords="859,403,996,430"/>
<area shape="rect" href="tdp__mmu_8c.html#a182ff449fd87f9503148e88c33cff5ac" title=" " alt="" coords="851,189,1004,215"/>
<area shape="rect" href="tdp__mmu_8c.html#aa07f9d272e2404a5b5392ae7aa175580" title=" " alt="" coords="859,239,995,266"/>
<area shape="rect" href="tdp__mmu_8c.html#a95955e5f31399228d6a722fba5a81477" title=" " alt="" coords="585,317,731,343"/>
<area shape="rect" href="tdp__mmu_8c.html#aca0f6025bf55596c80647e3a35997d92" title=" " alt="" coords="287,359,461,386"/>
<area shape="rect" href="tdp__mmu_8c.html#a8ab26f4fb05f388d8bcf04ad89ee6797" title=" " alt="" coords="259,293,489,335"/>
<area shape="rect" href="mmu_8c.html#a6db2d9d04af40584cbde51a2e1f74837" title=" " alt="" coords="35,359,181,386"/>
<area shape="rect" href="tdp__mmu_8c.html#a73432bf42fbb3d43b3e04f88cd92b592" title=" " alt="" coords="5,305,211,331"/>
<area shape="rect" href="mmu_8c.html#abd59fd9785b9b5676841e9706c1c6797" title=" " alt="" coords="19,254,197,281"/>
<area shape="rect" href="tdp__mmu_8c.html#aa53a75612d7b32153949be34f4055144" title=" " alt="" coords="553,71,763,98"/>
<area shape="rect" href="mmu_8c.html#a978186d69e4a1b753b9650294d80ca7d" title=" " alt="" coords="303,71,445,98"/>
<area shape="rect" href="tdp__mmu_8c.html#ad2479228afe629631e4f0331c440a4d6" title=" " alt="" coords="296,477,452,503"/>
<area shape="rect" href="tdp__mmu_8c.html#acf7d062eca8e6190d76f4934c290be61" title=" " alt="" coords="559,386,757,413"/>
<area shape="rect" href="tdp__mmu_8c.html#afa070d8c089f8547cfc2dbafa856e99c" title=" " alt="" coords="295,411,453,452"/>
<area shape="rect" href="tdp__mmu_8c.html#aaa8f0898db08dd5c9213ac2f8b355501" title=" " alt="" coords="558,123,758,164"/>
<area shape="rect" href="tdp__mmu_8c.html#aa4fb1a66a2bc67f8699e8ddafdd4b1e8" title=" " alt="" coords="563,189,753,215"/>
<area shape="rect" href="mmu_8c.html#aa37fc9ea36d6c97e97d77af76eca5767" title=" " alt="" coords="287,126,461,153"/>
<area shape="rect" href="mmu_8c.html#a8b2588158566c9bb798cdb77760e6446" title=" " alt="" coords="297,177,451,203"/>
<area shape="rect" href="tdp__mmu_8c.html#a45fd618d35fb0df14a3401a230f41faa" title=" " alt="" coords="537,239,779,266"/>
<area shape="rect" href="mmu_8c.html#a1f49638b71a482e4b0c3a6af10d0711e" title=" " alt="" coords="279,228,469,269"/>
<area shape="rect" href="tdp__mmu_8c.html#a9da9e7ba01717f85966fc080e86ecb84" title=" " alt="" coords="846,538,1009,565"/>
<area shape="rect" href="tdp__mmu_8c.html#aa98226578ebe207e97e262a86bbd5427" title=" " alt="" coords="842,472,1013,513"/>
<area shape="rect" href="tdp__mmu_8c.html#ab901a77cd00a4e809baa9a25e289b59d" title=" " alt="" coords="827,594,1028,621"/>
<area shape="rect" href="tdp__mmu_8c.html#ae3e523e725021c7dd3f3796f4e074a37" title=" " alt="" coords="859,650,995,677"/>
<area shape="rect" href="tdp__mmu_8c.html#a670804848ccec53148d097c06b44657c" title=" " alt="" coords="545,538,771,565"/>
<area shape="rect" href="mmu_8c.html#acb92068f6e948846797ac6814b3618f1" title=" " alt="" coords="277,528,471,569"/>
<area shape="rect" href="tdp__mmu_8c.html#ac72a38de4d0b8a5cfeace82f10cc4caf" title=" " alt="" coords="579,592,737,633"/>
<area shape="rect" href="tdp__mmu_8c.html#a3a86994ba17144f60df37ea7682d650b" title=" " alt="" coords="261,593,487,635"/>
<area shape="rect" href="tdp__mmu_8c.html#a7f6c658f3ddf3ffac5ce96335b78e295" title=" " alt="" coords="558,661,758,687"/>
<area shape="rect" href="mmu_8c.html#a168b7814e68a545abd8bf00fc4466610" title=" " alt="" coords="284,659,464,700"/>
<area shape="rect" href="tdp__iter_8c.html#af4b66dc30c8f261c500b78382bd3c73f" title=" " alt="" coords="1537,315,1660,342"/>
<area shape="rect" href="tdp__iter_8c.html#a2c7652570e5b5290b9ad645630208b4f" title=" " alt="" coords="1549,366,1648,393"/>
<area shape="rect" href="tdp__iter_8c.html#a8acf7109400135dbba38aced135d44d8" title=" " alt="" coords="1342,391,1450,418"/>
<area shape="rect" href="tdp__iter_8c.html#ab290f5fe97e3911e3861f3c6035279b9" title=" " alt="" coords="1341,341,1451,367"/>
</map>
</div>

</div>
</div>
<a id="ae00f2a54e0e899c2f169396a9c10d223"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae00f2a54e0e899c2f169396a9c10d223">&#9670;&nbsp;</a></span>kvm_tdp_mmu_spte_need_atomic_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool kvm_tdp_mmu_spte_need_atomic_write </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>old_spte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8h_source.html#l00044">44</a> of file <a class="el" href="tdp__iter_8h_source.html">tdp_iter.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686">is_shadow_present_pte</a>(old_spte) &amp;&amp;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;           <a class="code" href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5">is_last_spte</a>(old_spte, level) &amp;&amp;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;           <a class="code" href="spte_8c.html#a11de60840b247621debae854aea928db">spte_has_volatile_bits</a>(old_spte);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;}</div>
<div class="ttc" id="aspte_8c_html_a11de60840b247621debae854aea928db"><div class="ttname"><a href="spte_8c.html#a11de60840b247621debae854aea928db">spte_has_volatile_bits</a></div><div class="ttdeci">bool spte_has_volatile_bits(u64 spte)</div><div class="ttdef"><b>Definition:</b> <a href="spte_8c_source.html#l00114">spte.c:114</a></div></div>
<div class="ttc" id="aspte_8h_html_a785ce7507ac8cabfb2a667ed0c57b1f5"><div class="ttname"><a href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5">is_last_spte</a></div><div class="ttdeci">static bool is_last_spte(u64 pte, int level)</div><div class="ttdef"><b>Definition:</b> <a href="spte_8h_source.html#l00318">spte.h:318</a></div></div>
<div class="ttc" id="aspte_8h_html_a7d73c1cb0114320b9dab8ba78033c686"><div class="ttname"><a href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686">is_shadow_present_pte</a></div><div class="ttdeci">static bool is_shadow_present_pte(u64 pte)</div><div class="ttdef"><b>Definition:</b> <a href="spte_8h_source.html#l00258">spte.h:258</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_ae00f2a54e0e899c2f169396a9c10d223_cgraph.png" border="0" usemap="#atdp__iter_8h_ae00f2a54e0e899c2f169396a9c10d223_cgraph" alt=""/></div>
<map name="atdp__iter_8h_ae00f2a54e0e899c2f169396a9c10d223_cgraph" id="atdp__iter_8h_ae00f2a54e0e899c2f169396a9c10d223_cgraph">
<area shape="rect" title=" " alt="" coords="5,49,200,90"/>
<area shape="rect" href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5" title=" " alt="" coords="282,5,381,32"/>
<area shape="rect" href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686" title=" " alt="" coords="860,81,1035,108"/>
<area shape="rect" href="spte_8c.html#a11de60840b247621debae854aea928db" title=" " alt="" coords="248,157,415,184"/>
<area shape="rect" href="spte_8h.html#ae9b1a94fccf74f0837e1a775bc57d729" title=" " alt="" coords="497,5,598,32"/>
<area shape="rect" href="spte_8h.html#a30b8d20964e90337ab8eaeddca1ba192" title=" " alt="" coords="468,107,627,133"/>
<area shape="rect" href="spte_8h.html#a976cddc84d935189584bdce94d4805fd" title=" " alt="" coords="680,107,812,133"/>
<area shape="rect" href="spte_8h.html#aeb796217990be75433fd1430d5958184" title=" " alt="" coords="463,208,632,235"/>
<area shape="rect" href="spte_8h.html#a4d0035385de92ed42a75324a2fb96d49" title=" " alt="" coords="487,259,608,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_ae00f2a54e0e899c2f169396a9c10d223_icgraph.png" border="0" usemap="#atdp__iter_8h_ae00f2a54e0e899c2f169396a9c10d223_icgraph" alt=""/></div>
<map name="atdp__iter_8h_ae00f2a54e0e899c2f169396a9c10d223_icgraph" id="atdp__iter_8h_ae00f2a54e0e899c2f169396a9c10d223_icgraph">
<area shape="rect" title=" " alt="" coords="2381,551,2576,592"/>
<area shape="rect" href="tdp__iter_8h.html#a74cc1f032b50c7c6c64ded8866deb4a4" title=" " alt="" coords="2139,529,2333,555"/>
<area shape="rect" href="tdp__iter_8h.html#a06888df6894eef0e93f82c77b99110b2" title=" " alt="" coords="2141,583,2331,610"/>
<area shape="rect" href="tdp__mmu_8c.html#a30ae563747c16580e9c760ea701eec6d" title=" " alt="" coords="1947,583,2065,610"/>
<area shape="rect" href="tdp__mmu_8c.html#ac509299bc28d3b827578915abdb2280e" title=" " alt="" coords="1931,475,2081,502"/>
<area shape="rect" href="tdp__mmu_8c.html#a1880e056251c1743579f5c7a25ccad1a" title=" " alt="" coords="1500,501,1647,527"/>
<area shape="rect" href="tdp__mmu_8c.html#a0a5c7f827057100e08b2f45da804fa30" title=" " alt="" coords="1695,577,1873,619"/>
<area shape="rect" href="mmu_8c.html#a39977aaa99a2eb423e12429a5deb15dc" title=" " alt="" coords="1518,585,1629,611"/>
<area shape="rect" href="tdp__mmu_8c.html#a95692dd1daa13effa90e042a8a7057af" title=" " alt="" coords="1703,475,1865,502"/>
<area shape="rect" href="tdp__mmu_8c.html#a692eb9d20075258e5d4a0e4289a7c9b6" title=" " alt="" coords="1253,201,1452,227"/>
<area shape="rect" href="tdp__mmu_8c.html#a381e22ee819864cf1fd726479a76b6c7" title=" " alt="" coords="1267,582,1439,609"/>
<area shape="rect" href="tdp__mmu_8c.html#af6444812b70d9509539a3fa478cde14d" title=" " alt="" coords="1265,457,1440,483"/>
<area shape="rect" href="mmu_8c.html#a85202c8f53b11b1c80f9b6e26210aa9a" title=" " alt="" coords="1020,629,1189,671"/>
<area shape="rect" href="mmu_8c.html#a2683113dbbf42e73c2b52410f9ef6f84" title=" " alt="" coords="727,644,943,685"/>
<area shape="rect" href="mmu_8c.html#a13148d5065ef27624701afcaa3229983" title=" " alt="" coords="460,654,643,681"/>
<area shape="rect" href="tdp__mmu_8c.html#af9c34fae0b7eac63cc78a01882498cfb" title=" " alt="" coords="1024,358,1185,385"/>
<area shape="rect" href="tdp__mmu_8c.html#a01bf8752c61ddeae2878ef46d312e00c" title=" " alt="" coords="1052,429,1157,455"/>
<area shape="rect" href="tdp__mmu_8c.html#a6588b054500f580603f94c0555fe3c06" title=" " alt="" coords="1036,297,1173,323"/>
<area shape="rect" href="tdp__mmu_8c.html#a182ff449fd87f9503148e88c33cff5ac" title=" " alt="" coords="1028,483,1181,510"/>
<area shape="rect" href="tdp__mmu_8c.html#aa07f9d272e2404a5b5392ae7aa175580" title=" " alt="" coords="1037,563,1173,590"/>
<area shape="rect" href="tdp__mmu_8c.html#a95955e5f31399228d6a722fba5a81477" title=" " alt="" coords="762,358,909,385"/>
<area shape="rect" href="tdp__mmu_8c.html#aca0f6025bf55596c80647e3a35997d92" title=" " alt="" coords="465,385,638,411"/>
<area shape="rect" href="tdp__mmu_8c.html#a8ab26f4fb05f388d8bcf04ad89ee6797" title=" " alt="" coords="436,319,667,360"/>
<area shape="rect" href="tdp__mmu_8c.html#aa53a75612d7b32153949be34f4055144" title=" " alt="" coords="730,425,941,451"/>
<area shape="rect" href="mmu_8c.html#a978186d69e4a1b753b9650294d80ca7d" title=" " alt="" coords="481,435,622,462"/>
<area shape="rect" href="tdp__mmu_8c.html#ad2479228afe629631e4f0331c440a4d6" title=" " alt="" coords="473,202,629,229"/>
<area shape="rect" href="tdp__mmu_8c.html#acf7d062eca8e6190d76f4934c290be61" title=" " alt="" coords="737,302,934,329"/>
<area shape="rect" href="tdp__mmu_8c.html#afa070d8c089f8547cfc2dbafa856e99c" title=" " alt="" coords="472,253,631,295"/>
<area shape="rect" href="tdp__mmu_8c.html#aaa8f0898db08dd5c9213ac2f8b355501" title=" " alt="" coords="735,476,935,517"/>
<area shape="rect" href="tdp__mmu_8c.html#aa4fb1a66a2bc67f8699e8ddafdd4b1e8" title=" " alt="" coords="741,542,930,569"/>
<area shape="rect" href="mmu_8c.html#aa37fc9ea36d6c97e97d77af76eca5767" title=" " alt="" coords="464,486,639,513"/>
<area shape="rect" href="mmu_8c.html#a8b2588158566c9bb798cdb77760e6446" title=" " alt="" coords="475,537,628,563"/>
<area shape="rect" href="tdp__mmu_8c.html#a45fd618d35fb0df14a3401a230f41faa" title=" " alt="" coords="715,593,956,619"/>
<area shape="rect" href="mmu_8c.html#a1f49638b71a482e4b0c3a6af10d0711e" title=" " alt="" coords="456,588,647,629"/>
<area shape="rect" href="mmu_8c.html#a035ec39ab60e2a3d382c272b15fc83a6" title=" " alt="" coords="209,705,388,747"/>
<area shape="rect" href="dirty__ring_8c.html#a68052369106191fbc506fdf4d64be449" title=" " alt="" coords="5,713,161,739"/>
<area shape="rect" href="tdp__mmu_8c.html#a9da9e7ba01717f85966fc080e86ecb84" title=" " alt="" coords="1023,87,1186,114"/>
<area shape="rect" href="tdp__mmu_8c.html#aa98226578ebe207e97e262a86bbd5427" title=" " alt="" coords="1019,193,1190,235"/>
<area shape="rect" href="tdp__mmu_8c.html#ab901a77cd00a4e809baa9a25e289b59d" title=" " alt="" coords="1004,142,1205,169"/>
<area shape="rect" href="tdp__mmu_8c.html#ae3e523e725021c7dd3f3796f4e074a37" title=" " alt="" coords="1037,35,1173,62"/>
<area shape="rect" href="tdp__mmu_8c.html#a670804848ccec53148d097c06b44657c" title=" " alt="" coords="722,81,949,107"/>
<area shape="rect" href="mmu_8c.html#acb92068f6e948846797ac6814b3618f1" title=" " alt="" coords="454,71,649,112"/>
<area shape="rect" href="tdp__mmu_8c.html#ac72a38de4d0b8a5cfeace82f10cc4caf" title=" " alt="" coords="757,135,914,176"/>
<area shape="rect" href="tdp__mmu_8c.html#a3a86994ba17144f60df37ea7682d650b" title=" " alt="" coords="438,136,665,177"/>
<area shape="rect" href="tdp__mmu_8c.html#a7f6c658f3ddf3ffac5ce96335b78e295" title=" " alt="" coords="735,21,935,47"/>
<area shape="rect" href="mmu_8c.html#a168b7814e68a545abd8bf00fc4466610" title=" " alt="" coords="461,5,641,47"/>
<area shape="rect" href="tdp__mmu_8c.html#a302b8c57cfb6b9bc82a2f68047477145" title=" " alt="" coords="1921,638,2091,665"/>
<area shape="rect" href="tdp__mmu_8c.html#ad1753c27bb053bc6ac3a3893e10b49f6" title=" " alt="" coords="737,709,933,751"/>
<area shape="rect" href="mmu_8c.html#afeee4db4dd885d0e891ccb05f545c876" title=" " alt="" coords="467,705,635,747"/>
<area shape="rect" href="mmu_8c.html#ace4eaa769a0c9e1f75a3900a51275d18" title=" " alt="" coords="459,771,644,812"/>
</map>
</div>

</div>
</div>
<a id="a74cc1f032b50c7c6c64ded8866deb4a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74cc1f032b50c7c6c64ded8866deb4a4">&#9670;&nbsp;</a></span>kvm_tdp_mmu_write_spte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 kvm_tdp_mmu_write_spte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a>&#160;</td>
          <td class="paramname"><em>sptep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>old_spte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>new_spte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8h_source.html#l00051">51</a> of file <a class="el" href="tdp__iter_8h_source.html">tdp_iter.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tdp__iter_8h.html#ae00f2a54e0e899c2f169396a9c10d223">kvm_tdp_mmu_spte_need_atomic_write</a>(old_spte, level))</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="tdp__iter_8h.html#a2138ed5465b3552439c1ad55ee1bc6d1">kvm_tdp_mmu_write_spte_atomic</a>(sptep, new_spte);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="tdp__iter_8h.html#acce3a5afd04a68fc666c32e91d8c1770">__kvm_tdp_mmu_write_spte</a>(sptep, new_spte);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">return</span> old_spte;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
<div class="ttc" id="atdp__iter_8h_html_a2138ed5465b3552439c1ad55ee1bc6d1"><div class="ttname"><a href="tdp__iter_8h.html#a2138ed5465b3552439c1ad55ee1bc6d1">kvm_tdp_mmu_write_spte_atomic</a></div><div class="ttdeci">static u64 kvm_tdp_mmu_write_spte_atomic(tdp_ptep_t sptep, u64 new_spte)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00022">tdp_iter.h:22</a></div></div>
<div class="ttc" id="atdp__iter_8h_html_acce3a5afd04a68fc666c32e91d8c1770"><div class="ttname"><a href="tdp__iter_8h.html#acce3a5afd04a68fc666c32e91d8c1770">__kvm_tdp_mmu_write_spte</a></div><div class="ttdeci">static void __kvm_tdp_mmu_write_spte(tdp_ptep_t sptep, u64 new_spte)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00027">tdp_iter.h:27</a></div></div>
<div class="ttc" id="atdp__iter_8h_html_ae00f2a54e0e899c2f169396a9c10d223"><div class="ttname"><a href="tdp__iter_8h.html#ae00f2a54e0e899c2f169396a9c10d223">kvm_tdp_mmu_spte_need_atomic_write</a></div><div class="ttdeci">static bool kvm_tdp_mmu_spte_need_atomic_write(u64 old_spte, int level)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00044">tdp_iter.h:44</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_a74cc1f032b50c7c6c64ded8866deb4a4_cgraph.png" border="0" usemap="#atdp__iter_8h_a74cc1f032b50c7c6c64ded8866deb4a4_cgraph" alt=""/></div>
<map name="atdp__iter_8h_a74cc1f032b50c7c6c64ded8866deb4a4_cgraph" id="atdp__iter_8h_a74cc1f032b50c7c6c64ded8866deb4a4_cgraph">
<area shape="rect" title=" " alt="" coords="5,64,200,91"/>
<area shape="rect" href="tdp__iter_8h.html#acce3a5afd04a68fc666c32e91d8c1770" title=" " alt="" coords="248,5,457,32"/>
<area shape="rect" href="tdp__iter_8h.html#ae00f2a54e0e899c2f169396a9c10d223" title=" " alt="" coords="255,57,450,98"/>
<area shape="rect" href="tdp__iter_8h.html#a2138ed5465b3552439c1ad55ee1bc6d1" title=" " alt="" coords="255,122,450,163"/>
<area shape="rect" href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5" title=" " alt="" coords="539,13,638,40"/>
<area shape="rect" href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686" title=" " alt="" coords="1117,89,1292,116"/>
<area shape="rect" href="spte_8c.html#a11de60840b247621debae854aea928db" title=" " alt="" coords="505,165,672,192"/>
<area shape="rect" href="spte_8h.html#ae9b1a94fccf74f0837e1a775bc57d729" title=" " alt="" coords="754,13,855,40"/>
<area shape="rect" href="spte_8h.html#a30b8d20964e90337ab8eaeddca1ba192" title=" " alt="" coords="725,115,884,141"/>
<area shape="rect" href="spte_8h.html#a976cddc84d935189584bdce94d4805fd" title=" " alt="" coords="937,115,1069,141"/>
<area shape="rect" href="spte_8h.html#aeb796217990be75433fd1430d5958184" title=" " alt="" coords="720,216,889,243"/>
<area shape="rect" href="spte_8h.html#a4d0035385de92ed42a75324a2fb96d49" title=" " alt="" coords="744,267,865,293"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_a74cc1f032b50c7c6c64ded8866deb4a4_icgraph.png" border="0" usemap="#atdp__iter_8h_a74cc1f032b50c7c6c64ded8866deb4a4_icgraph" alt=""/></div>
<map name="atdp__iter_8h_a74cc1f032b50c7c6c64ded8866deb4a4_icgraph" id="atdp__iter_8h_a74cc1f032b50c7c6c64ded8866deb4a4_icgraph">
<area shape="rect" title=" " alt="" coords="1943,234,2137,261"/>
<area shape="rect" href="tdp__mmu_8c.html#a30ae563747c16580e9c760ea701eec6d" title=" " alt="" coords="1760,179,1879,206"/>
<area shape="rect" href="tdp__mmu_8c.html#ac509299bc28d3b827578915abdb2280e" title=" " alt="" coords="1744,285,1895,311"/>
<area shape="rect" href="tdp__mmu_8c.html#a1880e056251c1743579f5c7a25ccad1a" title=" " alt="" coords="1323,234,1469,261"/>
<area shape="rect" href="tdp__mmu_8c.html#a0a5c7f827057100e08b2f45da804fa30" title=" " alt="" coords="1517,168,1696,209"/>
<area shape="rect" href="mmu_8c.html#a39977aaa99a2eb423e12429a5deb15dc" title=" " alt="" coords="1341,175,1451,202"/>
<area shape="rect" href="tdp__mmu_8c.html#a95692dd1daa13effa90e042a8a7057af" title=" " alt="" coords="1525,285,1688,311"/>
<area shape="rect" href="tdp__mmu_8c.html#a692eb9d20075258e5d4a0e4289a7c9b6" title=" " alt="" coords="1076,449,1275,475"/>
<area shape="rect" href="tdp__mmu_8c.html#a381e22ee819864cf1fd726479a76b6c7" title=" " alt="" coords="1089,101,1261,127"/>
<area shape="rect" href="tdp__mmu_8c.html#af6444812b70d9509539a3fa478cde14d" title=" " alt="" coords="1088,234,1263,261"/>
<area shape="rect" href="mmu_8c.html#a85202c8f53b11b1c80f9b6e26210aa9a" title=" " alt="" coords="843,11,1012,52"/>
<area shape="rect" href="mmu_8c.html#a2683113dbbf42e73c2b52410f9ef6f84" title=" " alt="" coords="550,5,766,47"/>
<area shape="rect" href="mmu_8c.html#a13148d5065ef27624701afcaa3229983" title=" " alt="" coords="283,11,465,38"/>
<area shape="rect" href="x86_8c.html#a91673b399129921871f11d0752eea8c3" title=" " alt="" coords="19,11,197,38"/>
<area shape="rect" href="tdp__mmu_8c.html#af9c34fae0b7eac63cc78a01882498cfb" title=" " alt="" coords="847,390,1008,417"/>
<area shape="rect" href="tdp__mmu_8c.html#a01bf8752c61ddeae2878ef46d312e00c" title=" " alt="" coords="875,86,980,113"/>
<area shape="rect" href="tdp__mmu_8c.html#a6588b054500f580603f94c0555fe3c06" title=" " alt="" coords="859,311,996,338"/>
<area shape="rect" href="tdp__mmu_8c.html#a182ff449fd87f9503148e88c33cff5ac" title=" " alt="" coords="851,234,1004,261"/>
<area shape="rect" href="tdp__mmu_8c.html#aa07f9d272e2404a5b5392ae7aa175580" title=" " alt="" coords="859,153,995,179"/>
<area shape="rect" href="tdp__mmu_8c.html#a95955e5f31399228d6a722fba5a81477" title=" " alt="" coords="585,449,731,475"/>
<area shape="rect" href="tdp__mmu_8c.html#aca0f6025bf55596c80647e3a35997d92" title=" " alt="" coords="287,398,461,425"/>
<area shape="rect" href="tdp__mmu_8c.html#a8ab26f4fb05f388d8bcf04ad89ee6797" title=" " alt="" coords="259,449,489,491"/>
<area shape="rect" href="mmu_8c.html#a6db2d9d04af40584cbde51a2e1f74837" title=" " alt="" coords="35,398,181,425"/>
<area shape="rect" href="tdp__mmu_8c.html#a73432bf42fbb3d43b3e04f88cd92b592" title=" " alt="" coords="5,503,211,530"/>
<area shape="rect" href="mmu_8c.html#abd59fd9785b9b5676841e9706c1c6797" title=" " alt="" coords="19,453,197,479"/>
<area shape="rect" href="tdp__mmu_8c.html#aa53a75612d7b32153949be34f4055144" title=" " alt="" coords="553,73,763,99"/>
<area shape="rect" href="mmu_8c.html#a978186d69e4a1b753b9650294d80ca7d" title=" " alt="" coords="303,62,445,89"/>
<area shape="rect" href="tdp__mmu_8c.html#ad2479228afe629631e4f0331c440a4d6" title=" " alt="" coords="296,347,452,374"/>
<area shape="rect" href="tdp__mmu_8c.html#acf7d062eca8e6190d76f4934c290be61" title=" " alt="" coords="559,297,757,323"/>
<area shape="rect" href="tdp__mmu_8c.html#afa070d8c089f8547cfc2dbafa856e99c" title=" " alt="" coords="295,281,453,323"/>
<area shape="rect" href="tdp__mmu_8c.html#a57310f6ad7e70c13dadcfd30aa71af6d" title=" " alt="" coords="18,289,198,331"/>
<area shape="rect" href="tdp__mmu_8c.html#aaa8f0898db08dd5c9213ac2f8b355501" title=" " alt="" coords="558,231,758,272"/>
<area shape="rect" href="tdp__mmu_8c.html#aa4fb1a66a2bc67f8699e8ddafdd4b1e8" title=" " alt="" coords="563,179,753,206"/>
<area shape="rect" href="mmu_8c.html#aa37fc9ea36d6c97e97d77af76eca5767" title=" " alt="" coords="287,230,461,257"/>
<area shape="rect" href="mmu_8c.html#a8b2588158566c9bb798cdb77760e6446" title=" " alt="" coords="297,179,451,206"/>
<area shape="rect" href="x86_8c.html#ac280f3f33408b1fead3c38127a2ab3e9" title=" " alt="" coords="33,224,183,265"/>
<area shape="rect" href="x86_8c.html#ab61af196de8a3705f59d9915b5eb1a0e" title=" " alt="" coords="9,107,207,148"/>
<area shape="rect" href="x86_8c.html#a3df01e8bd995bb72420812ea1d39df4b" title=" " alt="" coords="38,173,178,199"/>
<area shape="rect" href="tdp__mmu_8c.html#a45fd618d35fb0df14a3401a230f41faa" title=" " alt="" coords="537,125,779,151"/>
<area shape="rect" href="mmu_8c.html#a1f49638b71a482e4b0c3a6af10d0711e" title=" " alt="" coords="279,113,469,155"/>
<area shape="rect" href="tdp__mmu_8c.html#a9da9e7ba01717f85966fc080e86ecb84" title=" " alt="" coords="846,511,1009,538"/>
<area shape="rect" href="tdp__mmu_8c.html#aa98226578ebe207e97e262a86bbd5427" title=" " alt="" coords="842,441,1013,483"/>
<area shape="rect" href="tdp__mmu_8c.html#ab901a77cd00a4e809baa9a25e289b59d" title=" " alt="" coords="827,570,1028,597"/>
<area shape="rect" href="tdp__mmu_8c.html#ae3e523e725021c7dd3f3796f4e074a37" title=" " alt="" coords="859,626,995,653"/>
<area shape="rect" href="tdp__mmu_8c.html#a670804848ccec53148d097c06b44657c" title=" " alt="" coords="545,518,771,545"/>
<area shape="rect" href="mmu_8c.html#acb92068f6e948846797ac6814b3618f1" title=" " alt="" coords="277,515,471,556"/>
<area shape="rect" href="tdp__mmu_8c.html#ac72a38de4d0b8a5cfeace82f10cc4caf" title=" " alt="" coords="579,575,737,616"/>
<area shape="rect" href="tdp__mmu_8c.html#a3a86994ba17144f60df37ea7682d650b" title=" " alt="" coords="261,580,487,621"/>
<area shape="rect" href="tdp__mmu_8c.html#a7f6c658f3ddf3ffac5ce96335b78e295" title=" " alt="" coords="558,643,758,670"/>
<area shape="rect" href="mmu_8c.html#a168b7814e68a545abd8bf00fc4466610" title=" " alt="" coords="284,645,464,687"/>
</map>
</div>

</div>
</div>
<a id="a2138ed5465b3552439c1ad55ee1bc6d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2138ed5465b3552439c1ad55ee1bc6d1">&#9670;&nbsp;</a></span>kvm_tdp_mmu_write_spte_atomic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 kvm_tdp_mmu_write_spte_atomic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a>&#160;</td>
          <td class="paramname"><em>sptep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>new_spte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8h_source.html#l00022">22</a> of file <a class="el" href="tdp__iter_8h_source.html">tdp_iter.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;{</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keywordflow">return</span> xchg(rcu_dereference(sptep), new_spte);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_a2138ed5465b3552439c1ad55ee1bc6d1_icgraph.png" border="0" usemap="#atdp__iter_8h_a2138ed5465b3552439c1ad55ee1bc6d1_icgraph" alt=""/></div>
<map name="atdp__iter_8h_a2138ed5465b3552439c1ad55ee1bc6d1_icgraph" id="atdp__iter_8h_a2138ed5465b3552439c1ad55ee1bc6d1_icgraph">
<area shape="rect" title=" " alt="" coords="2400,393,2595,435"/>
<area shape="rect" href="tdp__mmu_8c.html#ac509299bc28d3b827578915abdb2280e" title=" " alt="" coords="1959,375,2109,402"/>
<area shape="rect" href="tdp__iter_8h.html#a74cc1f032b50c7c6c64ded8866deb4a4" title=" " alt="" coords="2157,426,2352,453"/>
<area shape="rect" href="tdp__mmu_8c.html#a95692dd1daa13effa90e042a8a7057af" title=" " alt="" coords="1740,375,1903,402"/>
<area shape="rect" href="tdp__mmu_8c.html#a1880e056251c1743579f5c7a25ccad1a" title=" " alt="" coords="1537,426,1684,453"/>
<area shape="rect" href="tdp__mmu_8c.html#a692eb9d20075258e5d4a0e4289a7c9b6" title=" " alt="" coords="1291,234,1489,261"/>
<area shape="rect" href="tdp__mmu_8c.html#a381e22ee819864cf1fd726479a76b6c7" title=" " alt="" coords="1304,565,1476,591"/>
<area shape="rect" href="tdp__mmu_8c.html#af6444812b70d9509539a3fa478cde14d" title=" " alt="" coords="1303,426,1477,453"/>
<area shape="rect" href="mmu_8c.html#a85202c8f53b11b1c80f9b6e26210aa9a" title=" " alt="" coords="1057,612,1227,653"/>
<area shape="rect" href="mmu_8c.html#a2683113dbbf42e73c2b52410f9ef6f84" title=" " alt="" coords="765,645,981,687"/>
<area shape="rect" href="mmu_8c.html#a13148d5065ef27624701afcaa3229983" title=" " alt="" coords="497,653,680,679"/>
<area shape="rect" href="x86_8c.html#a91673b399129921871f11d0752eea8c3" title=" " alt="" coords="234,653,411,679"/>
<area shape="rect" href="tdp__mmu_8c.html#af9c34fae0b7eac63cc78a01882498cfb" title=" " alt="" coords="1061,293,1223,319"/>
<area shape="rect" href="tdp__mmu_8c.html#a01bf8752c61ddeae2878ef46d312e00c" title=" " alt="" coords="1089,426,1195,453"/>
<area shape="rect" href="tdp__mmu_8c.html#a6588b054500f580603f94c0555fe3c06" title=" " alt="" coords="1073,354,1211,381"/>
<area shape="rect" href="tdp__mmu_8c.html#a182ff449fd87f9503148e88c33cff5ac" title=" " alt="" coords="1065,477,1219,503"/>
<area shape="rect" href="tdp__mmu_8c.html#aa07f9d272e2404a5b5392ae7aa175580" title=" " alt="" coords="1074,561,1210,587"/>
<area shape="rect" href="tdp__mmu_8c.html#a95955e5f31399228d6a722fba5a81477" title=" " alt="" coords="799,219,946,246"/>
<area shape="rect" href="tdp__mmu_8c.html#aca0f6025bf55596c80647e3a35997d92" title=" " alt="" coords="502,199,675,226"/>
<area shape="rect" href="tdp__mmu_8c.html#a8ab26f4fb05f388d8bcf04ad89ee6797" title=" " alt="" coords="473,251,704,292"/>
<area shape="rect" href="mmu_8c.html#a6db2d9d04af40584cbde51a2e1f74837" title=" " alt="" coords="250,202,395,229"/>
<area shape="rect" href="tdp__mmu_8c.html#a73432bf42fbb3d43b3e04f88cd92b592" title=" " alt="" coords="220,307,425,334"/>
<area shape="rect" href="mmu_8c.html#abd59fd9785b9b5676841e9706c1c6797" title=" " alt="" coords="234,257,411,283"/>
<area shape="rect" href="tdp__mmu_8c.html#aa53a75612d7b32153949be34f4055144" title=" " alt="" coords="767,426,978,453"/>
<area shape="rect" href="mmu_8c.html#a978186d69e4a1b753b9650294d80ca7d" title=" " alt="" coords="518,434,659,461"/>
<area shape="rect" href="tdp__mmu_8c.html#ad2479228afe629631e4f0331c440a4d6" title=" " alt="" coords="511,317,667,343"/>
<area shape="rect" href="tdp__mmu_8c.html#acf7d062eca8e6190d76f4934c290be61" title=" " alt="" coords="774,371,971,398"/>
<area shape="rect" href="tdp__mmu_8c.html#afa070d8c089f8547cfc2dbafa856e99c" title=" " alt="" coords="509,368,668,409"/>
<area shape="rect" href="tdp__mmu_8c.html#a57310f6ad7e70c13dadcfd30aa71af6d" title=" " alt="" coords="233,368,413,409"/>
<area shape="rect" href="tdp__mmu_8c.html#aaa8f0898db08dd5c9213ac2f8b355501" title=" " alt="" coords="773,528,973,569"/>
<area shape="rect" href="tdp__mmu_8c.html#aa4fb1a66a2bc67f8699e8ddafdd4b1e8" title=" " alt="" coords="778,477,967,503"/>
<area shape="rect" href="mmu_8c.html#aa37fc9ea36d6c97e97d77af76eca5767" title=" " alt="" coords="501,535,676,562"/>
<area shape="rect" href="mmu_8c.html#a8b2588158566c9bb798cdb77760e6446" title=" " alt="" coords="512,485,665,511"/>
<area shape="rect" href="tdp__mmu_8c.html#a45fd618d35fb0df14a3401a230f41faa" title=" " alt="" coords="752,594,993,621"/>
<area shape="rect" href="mmu_8c.html#a1f49638b71a482e4b0c3a6af10d0711e" title=" " alt="" coords="493,587,684,628"/>
<area shape="rect" href="tdp__mmu_8c.html#a9da9e7ba01717f85966fc080e86ecb84" title=" " alt="" coords="1061,113,1223,139"/>
<area shape="rect" href="tdp__mmu_8c.html#aa98226578ebe207e97e262a86bbd5427" title=" " alt="" coords="1057,227,1227,268"/>
<area shape="rect" href="tdp__mmu_8c.html#ab901a77cd00a4e809baa9a25e289b59d" title=" " alt="" coords="1041,170,1243,197"/>
<area shape="rect" href="tdp__mmu_8c.html#ae3e523e725021c7dd3f3796f4e074a37" title=" " alt="" coords="1074,59,1210,86"/>
<area shape="rect" href="tdp__mmu_8c.html#a670804848ccec53148d097c06b44657c" title=" " alt="" coords="759,85,986,111"/>
<area shape="rect" href="mmu_8c.html#acb92068f6e948846797ac6814b3618f1" title=" " alt="" coords="225,71,420,112"/>
<area shape="rect" href="x86_8c.html#a9ca94438429f3e85a9b7b6db1ef55252" title=" " alt="" coords="5,71,172,112"/>
<area shape="rect" href="tdp__mmu_8c.html#ac72a38de4d0b8a5cfeace82f10cc4caf" title=" " alt="" coords="794,141,951,183"/>
<area shape="rect" href="tdp__mmu_8c.html#a3a86994ba17144f60df37ea7682d650b" title=" " alt="" coords="475,133,702,175"/>
<area shape="rect" href="mmu_8c.html#a35da5538a61de05522efdad8f615df4f" title=" " alt="" coords="223,136,422,177"/>
<area shape="rect" href="tdp__mmu_8c.html#a7f6c658f3ddf3ffac5ce96335b78e295" title=" " alt="" coords="773,23,973,50"/>
<area shape="rect" href="mmu_8c.html#a168b7814e68a545abd8bf00fc4466610" title=" " alt="" coords="233,5,413,47"/>
<area shape="rect" href="tdp__mmu_8c.html#a30ae563747c16580e9c760ea701eec6d" title=" " alt="" coords="1975,481,2093,507"/>
<area shape="rect" href="tdp__mmu_8c.html#a0a5c7f827057100e08b2f45da804fa30" title=" " alt="" coords="1732,477,1911,519"/>
<area shape="rect" href="mmu_8c.html#a39977aaa99a2eb423e12429a5deb15dc" title=" " alt="" coords="1555,485,1666,511"/>
</map>
</div>

</div>
</div>
<a id="a99ec23bfae963687a5cc488942688c82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99ec23bfae963687a5cc488942688c82">&#9670;&nbsp;</a></span>spte_to_child_pt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a> spte_to_child_pt </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>pte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8c_source.html#l00062">62</a> of file <a class="el" href="tdp__iter_8c_source.html">tdp_iter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">     * There&#39;s no child entry if this entry isn&#39;t present or is a</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">     * last-level entry.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686">is_shadow_present_pte</a>(spte) || <a class="code" href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5">is_last_spte</a>(spte, level))</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a>)__va(<a class="code" href="spte_8h.html#a88a720d39abac3aee2f63e03a20e8abd">spte_to_pfn</a>(spte) &lt;&lt; PAGE_SHIFT);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
<div class="ttc" id="ammu__internal_8h_html_a6798167b4e223d54b53a69a2c3c892c3"><div class="ttname"><a href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a></div><div class="ttdeci">u64 __rcu * tdp_ptep_t</div><div class="ttdef"><b>Definition:</b> <a href="mmu__internal_8h_source.html#l00050">mmu_internal.h:50</a></div></div>
<div class="ttc" id="aspte_8h_html_a88a720d39abac3aee2f63e03a20e8abd"><div class="ttname"><a href="spte_8h.html#a88a720d39abac3aee2f63e03a20e8abd">spte_to_pfn</a></div><div class="ttdeci">static kvm_pfn_t spte_to_pfn(u64 pte)</div><div class="ttdef"><b>Definition:</b> <a href="spte_8h_source.html#l00328">spte.h:328</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_a99ec23bfae963687a5cc488942688c82_cgraph.png" border="0" usemap="#atdp__iter_8h_a99ec23bfae963687a5cc488942688c82_cgraph" alt=""/></div>
<map name="atdp__iter_8h_a99ec23bfae963687a5cc488942688c82_cgraph" id="atdp__iter_8h_a99ec23bfae963687a5cc488942688c82_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,133,83"/>
<area shape="rect" href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5" title=" " alt="" coords="219,5,318,32"/>
<area shape="rect" href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686" title=" " alt="" coords="181,56,356,83"/>
<area shape="rect" href="spte_8h.html#a88a720d39abac3aee2f63e03a20e8abd" title=" " alt="" coords="219,107,318,133"/>
<area shape="rect" href="spte_8h.html#ae9b1a94fccf74f0837e1a775bc57d729" title=" " alt="" coords="404,5,505,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_a99ec23bfae963687a5cc488942688c82_icgraph.png" border="0" usemap="#atdp__iter_8h_a99ec23bfae963687a5cc488942688c82_icgraph" alt=""/></div>
<map name="atdp__iter_8h_a99ec23bfae963687a5cc488942688c82_icgraph" id="atdp__iter_8h_a99ec23bfae963687a5cc488942688c82_icgraph">
<area shape="rect" title=" " alt="" coords="1947,294,2075,321"/>
<area shape="rect" href="tdp__mmu_8c.html#a95692dd1daa13effa90e042a8a7057af" title=" " alt="" coords="1736,243,1899,270"/>
<area shape="rect" href="tdp__iter_8c.html#ac33361f92b725eb2260a76750b57e820" title=" " alt="" coords="1759,319,1876,346"/>
<area shape="rect" href="tdp__mmu_8c.html#ac509299bc28d3b827578915abdb2280e" title=" " alt="" coords="1537,193,1688,219"/>
<area shape="rect" href="tdp__mmu_8c.html#a1880e056251c1743579f5c7a25ccad1a" title=" " alt="" coords="1539,243,1686,270"/>
<area shape="rect" href="tdp__mmu_8c.html#a692eb9d20075258e5d4a0e4289a7c9b6" title=" " alt="" coords="1291,470,1489,497"/>
<area shape="rect" href="tdp__mmu_8c.html#a381e22ee819864cf1fd726479a76b6c7" title=" " alt="" coords="1304,119,1476,146"/>
<area shape="rect" href="tdp__mmu_8c.html#af6444812b70d9509539a3fa478cde14d" title=" " alt="" coords="1303,243,1477,270"/>
<area shape="rect" href="mmu_8c.html#a85202c8f53b11b1c80f9b6e26210aa9a" title=" " alt="" coords="1057,39,1227,80"/>
<area shape="rect" href="mmu_8c.html#a2683113dbbf42e73c2b52410f9ef6f84" title=" " alt="" coords="765,5,981,47"/>
<area shape="rect" href="mmu_8c.html#a13148d5065ef27624701afcaa3229983" title=" " alt="" coords="497,13,680,39"/>
<area shape="rect" href="x86_8c.html#a91673b399129921871f11d0752eea8c3" title=" " alt="" coords="234,13,411,39"/>
<area shape="rect" href="tdp__mmu_8c.html#af9c34fae0b7eac63cc78a01882498cfb" title=" " alt="" coords="1061,314,1223,341"/>
<area shape="rect" href="tdp__mmu_8c.html#a01bf8752c61ddeae2878ef46d312e00c" title=" " alt="" coords="1089,243,1195,270"/>
<area shape="rect" href="tdp__mmu_8c.html#a6588b054500f580603f94c0555fe3c06" title=" " alt="" coords="1073,394,1211,421"/>
<area shape="rect" href="tdp__mmu_8c.html#a182ff449fd87f9503148e88c33cff5ac" title=" " alt="" coords="1065,137,1219,163"/>
<area shape="rect" href="tdp__mmu_8c.html#aa07f9d272e2404a5b5392ae7aa175580" title=" " alt="" coords="1074,189,1210,215"/>
<area shape="rect" href="tdp__mmu_8c.html#a95955e5f31399228d6a722fba5a81477" title=" " alt="" coords="799,314,946,341"/>
<area shape="rect" href="tdp__mmu_8c.html#aca0f6025bf55596c80647e3a35997d92" title=" " alt="" coords="502,361,675,387"/>
<area shape="rect" href="tdp__mmu_8c.html#a8ab26f4fb05f388d8bcf04ad89ee6797" title=" " alt="" coords="473,295,704,336"/>
<area shape="rect" href="mmu_8c.html#a6db2d9d04af40584cbde51a2e1f74837" title=" " alt="" coords="250,361,395,387"/>
<area shape="rect" href="tdp__mmu_8c.html#a73432bf42fbb3d43b3e04f88cd92b592" title=" " alt="" coords="220,255,425,282"/>
<area shape="rect" href="mmu_8c.html#abd59fd9785b9b5676841e9706c1c6797" title=" " alt="" coords="234,306,411,333"/>
<area shape="rect" href="tdp__mmu_8c.html#aa53a75612d7b32153949be34f4055144" title=" " alt="" coords="767,243,978,270"/>
<area shape="rect" href="mmu_8c.html#a978186d69e4a1b753b9650294d80ca7d" title=" " alt="" coords="518,243,659,270"/>
<area shape="rect" href="tdp__mmu_8c.html#ad2479228afe629631e4f0331c440a4d6" title=" " alt="" coords="511,478,667,505"/>
<area shape="rect" href="tdp__mmu_8c.html#acf7d062eca8e6190d76f4934c290be61" title=" " alt="" coords="774,377,971,403"/>
<area shape="rect" href="tdp__mmu_8c.html#afa070d8c089f8547cfc2dbafa856e99c" title=" " alt="" coords="509,412,668,453"/>
<area shape="rect" href="tdp__mmu_8c.html#a57310f6ad7e70c13dadcfd30aa71af6d" title=" " alt="" coords="233,412,413,453"/>
<area shape="rect" href="tdp__mmu_8c.html#aaa8f0898db08dd5c9213ac2f8b355501" title=" " alt="" coords="773,71,973,112"/>
<area shape="rect" href="tdp__mmu_8c.html#aa4fb1a66a2bc67f8699e8ddafdd4b1e8" title=" " alt="" coords="778,137,967,163"/>
<area shape="rect" href="mmu_8c.html#aa37fc9ea36d6c97e97d77af76eca5767" title=" " alt="" coords="501,75,676,102"/>
<area shape="rect" href="mmu_8c.html#a8b2588158566c9bb798cdb77760e6446" title=" " alt="" coords="512,126,665,153"/>
<area shape="rect" href="x86_8c.html#ac280f3f33408b1fead3c38127a2ab3e9" title=" " alt="" coords="247,157,398,199"/>
<area shape="rect" href="x86_8c.html#ab61af196de8a3705f59d9915b5eb1a0e" title=" " alt="" coords="224,92,421,133"/>
<area shape="rect" href="tdp__mmu_8c.html#a45fd618d35fb0df14a3401a230f41faa" title=" " alt="" coords="752,187,993,214"/>
<area shape="rect" href="mmu_8c.html#a1f49638b71a482e4b0c3a6af10d0711e" title=" " alt="" coords="493,177,684,219"/>
<area shape="rect" href="tdp__mmu_8c.html#a9da9e7ba01717f85966fc080e86ecb84" title=" " alt="" coords="1061,579,1223,606"/>
<area shape="rect" href="tdp__mmu_8c.html#aa98226578ebe207e97e262a86bbd5427" title=" " alt="" coords="1057,463,1227,504"/>
<area shape="rect" href="tdp__mmu_8c.html#ab901a77cd00a4e809baa9a25e289b59d" title=" " alt="" coords="1041,634,1243,661"/>
<area shape="rect" href="tdp__mmu_8c.html#ae3e523e725021c7dd3f3796f4e074a37" title=" " alt="" coords="1074,529,1210,555"/>
<area shape="rect" href="tdp__mmu_8c.html#a670804848ccec53148d097c06b44657c" title=" " alt="" coords="759,579,986,606"/>
<area shape="rect" href="mmu_8c.html#acb92068f6e948846797ac6814b3618f1" title=" " alt="" coords="225,572,420,613"/>
<area shape="rect" href="x86_8c.html#a9ca94438429f3e85a9b7b6db1ef55252" title=" " alt="" coords="5,572,172,613"/>
<area shape="rect" href="tdp__mmu_8c.html#ac72a38de4d0b8a5cfeace82f10cc4caf" title=" " alt="" coords="794,632,951,673"/>
<area shape="rect" href="tdp__mmu_8c.html#a3a86994ba17144f60df37ea7682d650b" title=" " alt="" coords="475,633,702,675"/>
<area shape="rect" href="mmu_8c.html#a35da5538a61de05522efdad8f615df4f" title=" " alt="" coords="223,637,422,679"/>
<area shape="rect" href="tdp__mmu_8c.html#a7f6c658f3ddf3ffac5ce96335b78e295" title=" " alt="" coords="773,529,973,555"/>
<area shape="rect" href="mmu_8c.html#a168b7814e68a545abd8bf00fc4466610" title=" " alt="" coords="233,507,413,548"/>
<area shape="rect" href="tdp__iter_8c.html#a8acf7109400135dbba38aced135d44d8" title=" " alt="" coords="1559,345,1667,371"/>
</map>
</div>

</div>
</div>
<a id="a8acf7109400135dbba38aced135d44d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8acf7109400135dbba38aced135d44d8">&#9670;&nbsp;</a></span>tdp_iter_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tdp_iter_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8c_source.html#l00161">161</a> of file <a class="el" href="tdp__iter_8c_source.html">tdp_iter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structtdp__iter.html#a983cb7057ab9ba3c1e3984ce5cd4e295">yielded</a>) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="tdp__iter_8c.html#af4b66dc30c8f261c500b78382bd3c73f">tdp_iter_restart</a>(iter);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tdp__iter_8c.html#ac33361f92b725eb2260a76750b57e820">try_step_down</a>(iter))</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tdp__iter_8c.html#a63153e1d0a5d399bbdb49826be88d49f">try_step_side</a>(iter))</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="tdp__iter_8c.html#a2c7652570e5b5290b9ad645630208b4f">try_step_up</a>(iter));</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#afdce20293ace648a92fc5eea88f59b4c">valid</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="ttc" id="astructtdp__iter_html_a983cb7057ab9ba3c1e3984ce5cd4e295"><div class="ttname"><a href="structtdp__iter.html#a983cb7057ab9ba3c1e3984ce5cd4e295">tdp_iter::yielded</a></div><div class="ttdeci">bool yielded</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00116">tdp_iter.h:116</a></div></div>
<div class="ttc" id="astructtdp__iter_html_afdce20293ace648a92fc5eea88f59b4c"><div class="ttname"><a href="structtdp__iter.html#afdce20293ace648a92fc5eea88f59b4c">tdp_iter::valid</a></div><div class="ttdeci">bool valid</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00110">tdp_iter.h:110</a></div></div>
<div class="ttc" id="atdp__iter_8c_html_a2c7652570e5b5290b9ad645630208b4f"><div class="ttname"><a href="tdp__iter_8c.html#a2c7652570e5b5290b9ad645630208b4f">try_step_up</a></div><div class="ttdeci">static bool try_step_up(struct tdp_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8c_source.html#l00133">tdp_iter.c:133</a></div></div>
<div class="ttc" id="atdp__iter_8c_html_a63153e1d0a5d399bbdb49826be88d49f"><div class="ttname"><a href="tdp__iter_8c.html#a63153e1d0a5d399bbdb49826be88d49f">try_step_side</a></div><div class="ttdeci">static bool try_step_side(struct tdp_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8c_source.html#l00110">tdp_iter.c:110</a></div></div>
<div class="ttc" id="atdp__iter_8c_html_ac33361f92b725eb2260a76750b57e820"><div class="ttname"><a href="tdp__iter_8c.html#ac33361f92b725eb2260a76750b57e820">try_step_down</a></div><div class="ttdeci">static bool try_step_down(struct tdp_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8c_source.html#l00078">tdp_iter.c:78</a></div></div>
<div class="ttc" id="atdp__iter_8c_html_af4b66dc30c8f261c500b78382bd3c73f"><div class="ttname"><a href="tdp__iter_8c.html#af4b66dc30c8f261c500b78382bd3c73f">tdp_iter_restart</a></div><div class="ttdeci">void tdp_iter_restart(struct tdp_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8c_source.html#l00023">tdp_iter.c:23</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_a8acf7109400135dbba38aced135d44d8_cgraph.png" border="0" usemap="#atdp__iter_8h_a8acf7109400135dbba38aced135d44d8_cgraph" alt=""/></div>
<map name="atdp__iter_8h_a8acf7109400135dbba38aced135d44d8_cgraph" id="atdp__iter_8h_a8acf7109400135dbba38aced135d44d8_cgraph">
<area shape="rect" title=" " alt="" coords="5,183,113,209"/>
<area shape="rect" href="tdp__iter_8c.html#af4b66dc30c8f261c500b78382bd3c73f" title=" " alt="" coords="161,208,284,235"/>
<area shape="rect" href="tdp__iter_8c.html#ac33361f92b725eb2260a76750b57e820" title=" " alt="" coords="164,107,281,133"/>
<area shape="rect" href="tdp__iter_8c.html#a63153e1d0a5d399bbdb49826be88d49f" title=" " alt="" coords="361,259,471,285"/>
<area shape="rect" href="tdp__iter_8c.html#a2c7652570e5b5290b9ad645630208b4f" title=" " alt="" coords="173,157,272,184"/>
<area shape="rect" href="mmu__internal_8h.html#a8805295a6f11129455d5b87a86fd3db5" title=" " alt="" coords="341,208,491,235"/>
<area shape="rect" href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e" title=" " alt="" coords="332,157,500,184"/>
<area shape="rect" href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768" title=" " alt="" coords="548,157,739,184"/>
<area shape="rect" href="tdp__iter_8c.html#ae565103c187af07e69eb2f29b180b977" title=" " alt="" coords="352,56,480,83"/>
<area shape="rect" href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5" title=" " alt="" coords="594,5,693,32"/>
<area shape="rect" href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686" title=" " alt="" coords="556,56,731,83"/>
<area shape="rect" href="spte_8h.html#a88a720d39abac3aee2f63e03a20e8abd" title=" " alt="" coords="594,107,693,133"/>
<area shape="rect" href="spte_8h.html#ae9b1a94fccf74f0837e1a775bc57d729" title=" " alt="" coords="787,5,888,32"/>
</map>
</div>

</div>
</div>
<a id="af4b66dc30c8f261c500b78382bd3c73f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4b66dc30c8f261c500b78382bd3c73f">&#9670;&nbsp;</a></span>tdp_iter_restart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tdp_iter_restart </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8c_source.html#l00023">23</a> of file <a class="el" href="tdp__iter_8c_source.html">tdp_iter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a983cb7057ab9ba3c1e3984ce5cd4e295">yielded</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a98f21bd9a64fdbc0146b38eb7d8b3be4">yielded_gfn</a> = iter-&gt;<a class="code" href="structtdp__iter.html#add699b3494aafcbc63bf5c66d4281875">next_last_level_gfn</a>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a> = iter-&gt;<a class="code" href="structtdp__iter.html#a4dff0e52c9e038c4d61dea6cca2aad5a">root_level</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a5d152c98e3bfe241c7f4ebeacbfd2627">gfn</a> = <a class="code" href="mmu__internal_8h.html#a8805295a6f11129455d5b87a86fd3db5">gfn_round_for_level</a>(iter-&gt;<a class="code" href="structtdp__iter.html#add699b3494aafcbc63bf5c66d4281875">next_last_level_gfn</a>, iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e">tdp_iter_refresh_sptep</a>(iter);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#afdce20293ace648a92fc5eea88f59b4c">valid</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}</div>
<div class="ttc" id="ammu__internal_8h_html_a8805295a6f11129455d5b87a86fd3db5"><div class="ttname"><a href="mmu__internal_8h.html#a8805295a6f11129455d5b87a86fd3db5">gfn_round_for_level</a></div><div class="ttdeci">static gfn_t gfn_round_for_level(gfn_t gfn, int level)</div><div class="ttdef"><b>Definition:</b> <a href="mmu__internal_8h_source.html#l00161">mmu_internal.h:161</a></div></div>
<div class="ttc" id="astructtdp__iter_html_a4dff0e52c9e038c4d61dea6cca2aad5a"><div class="ttname"><a href="structtdp__iter.html#a4dff0e52c9e038c4d61dea6cca2aad5a">tdp_iter::root_level</a></div><div class="ttdeci">int root_level</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00097">tdp_iter.h:97</a></div></div>
<div class="ttc" id="astructtdp__iter_html_a5d152c98e3bfe241c7f4ebeacbfd2627"><div class="ttname"><a href="structtdp__iter.html#a5d152c98e3bfe241c7f4ebeacbfd2627">tdp_iter::gfn</a></div><div class="ttdeci">gfn_t gfn</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00095">tdp_iter.h:95</a></div></div>
<div class="ttc" id="astructtdp__iter_html_a98f21bd9a64fdbc0146b38eb7d8b3be4"><div class="ttname"><a href="structtdp__iter.html#a98f21bd9a64fdbc0146b38eb7d8b3be4">tdp_iter::yielded_gfn</a></div><div class="ttdeci">gfn_t yielded_gfn</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00089">tdp_iter.h:89</a></div></div>
<div class="ttc" id="astructtdp__iter_html_ac6b854683bce752c9e0fe0b068a288b2"><div class="ttname"><a href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">tdp_iter::level</a></div><div class="ttdeci">int level</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00101">tdp_iter.h:101</a></div></div>
<div class="ttc" id="astructtdp__iter_html_add699b3494aafcbc63bf5c66d4281875"><div class="ttname"><a href="structtdp__iter.html#add699b3494aafcbc63bf5c66d4281875">tdp_iter::next_last_level_gfn</a></div><div class="ttdeci">gfn_t next_last_level_gfn</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00083">tdp_iter.h:83</a></div></div>
<div class="ttc" id="atdp__iter_8c_html_ac7e4487519442c765c89b1ac081fed2e"><div class="ttname"><a href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e">tdp_iter_refresh_sptep</a></div><div class="ttdeci">static void tdp_iter_refresh_sptep(struct tdp_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8c_source.html#l00012">tdp_iter.c:12</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_af4b66dc30c8f261c500b78382bd3c73f_cgraph.png" border="0" usemap="#atdp__iter_8h_af4b66dc30c8f261c500b78382bd3c73f_cgraph" alt=""/></div>
<map name="atdp__iter_8h_af4b66dc30c8f261c500b78382bd3c73f_cgraph" id="atdp__iter_8h_af4b66dc30c8f261c500b78382bd3c73f_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,128,57"/>
<area shape="rect" href="mmu__internal_8h.html#a8805295a6f11129455d5b87a86fd3db5" title=" " alt="" coords="185,5,335,32"/>
<area shape="rect" href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e" title=" " alt="" coords="176,56,344,83"/>
<area shape="rect" href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768" title=" " alt="" coords="392,56,583,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_af4b66dc30c8f261c500b78382bd3c73f_icgraph.png" border="0" usemap="#atdp__iter_8h_af4b66dc30c8f261c500b78382bd3c73f_icgraph" alt=""/></div>
<map name="atdp__iter_8h_af4b66dc30c8f261c500b78382bd3c73f_icgraph" id="atdp__iter_8h_af4b66dc30c8f261c500b78382bd3c73f_icgraph">
<area shape="rect" title=" " alt="" coords="163,31,285,57"/>
<area shape="rect" href="tdp__iter_8c.html#a8acf7109400135dbba38aced135d44d8" title=" " alt="" coords="6,5,114,32"/>
<area shape="rect" href="tdp__iter_8c.html#ab290f5fe97e3911e3861f3c6035279b9" title=" " alt="" coords="5,56,115,83"/>
</map>
</div>

</div>
</div>
<a id="ab290f5fe97e3911e3861f3c6035279b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab290f5fe97e3911e3861f3c6035279b9">&#9670;&nbsp;</a></span>tdp_iter_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tdp_iter_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkvm__mmu__page.html">kvm_mmu_page</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gfn_t&#160;</td>
          <td class="paramname"><em>next_last_level_gfn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8c_source.html#l00039">39</a> of file <a class="el" href="tdp__iter_8c_source.html">tdp_iter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">if</span> (WARN_ON_ONCE(!root || (root-&gt;<a class="code" href="structkvm__mmu__page.html#a9a054096d38bb2789139b0ef5aa8fec3">role</a>.level &lt; 1) ||</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;             (root-&gt;<a class="code" href="structkvm__mmu__page.html#a9a054096d38bb2789139b0ef5aa8fec3">role</a>.level &gt; PT64_ROOT_MAX_LEVEL))) {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        iter-&gt;<a class="code" href="structtdp__iter.html#afdce20293ace648a92fc5eea88f59b4c">valid</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#add699b3494aafcbc63bf5c66d4281875">next_last_level_gfn</a> = next_last_level_gfn;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a4dff0e52c9e038c4d61dea6cca2aad5a">root_level</a> = root-&gt;<a class="code" href="structkvm__mmu__page.html#a9a054096d38bb2789139b0ef5aa8fec3">role</a>.level;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#ac27bd3b5c86c4d810d3345d0f961825e">min_level</a> = min_level;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a0002405591df92db81e563b4ef23c631">pt_path</a>[iter-&gt;<a class="code" href="structtdp__iter.html#a4dff0e52c9e038c4d61dea6cca2aad5a">root_level</a> - 1] = (<a class="code" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a>)root-&gt;<a class="code" href="structkvm__mmu__page.html#a1bb8925c750e6b17d3a66a54c5df7c50">spt</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a473dd3cffaeffdae16cb52b94286141b">as_id</a> = <a class="code" href="mmu__internal_8h.html#a993d31328977f0bf21610ad74fa55a79">kvm_mmu_page_as_id</a>(root);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="tdp__iter_8c.html#af4b66dc30c8f261c500b78382bd3c73f">tdp_iter_restart</a>(iter);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
<div class="ttc" id="ammu__internal_8h_html_a993d31328977f0bf21610ad74fa55a79"><div class="ttname"><a href="mmu__internal_8h.html#a993d31328977f0bf21610ad74fa55a79">kvm_mmu_page_as_id</a></div><div class="ttdeci">static int kvm_mmu_page_as_id(struct kvm_mmu_page *sp)</div><div class="ttdef"><b>Definition:</b> <a href="mmu__internal_8h_source.html#l00143">mmu_internal.h:143</a></div></div>
<div class="ttc" id="astructkvm__mmu__page_html_a1bb8925c750e6b17d3a66a54c5df7c50"><div class="ttname"><a href="structkvm__mmu__page.html#a1bb8925c750e6b17d3a66a54c5df7c50">kvm_mmu_page::spt</a></div><div class="ttdeci">u64 * spt</div><div class="ttdef"><b>Definition:</b> <a href="mmu__internal_8h_source.html#l00083">mmu_internal.h:83</a></div></div>
<div class="ttc" id="astructkvm__mmu__page_html_a9a054096d38bb2789139b0ef5aa8fec3"><div class="ttname"><a href="structkvm__mmu__page.html#a9a054096d38bb2789139b0ef5aa8fec3">kvm_mmu_page::role</a></div><div class="ttdeci">union kvm_mmu_page_role role</div><div class="ttdef"><b>Definition:</b> <a href="mmu__internal_8h_source.html#l00074">mmu_internal.h:80</a></div></div>
<div class="ttc" id="astructtdp__iter_html_a0002405591df92db81e563b4ef23c631"><div class="ttname"><a href="structtdp__iter.html#a0002405591df92db81e563b4ef23c631">tdp_iter::pt_path</a></div><div class="ttdeci">tdp_ptep_t pt_path[PT64_ROOT_MAX_LEVEL]</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00091">tdp_iter.h:91</a></div></div>
<div class="ttc" id="astructtdp__iter_html_a473dd3cffaeffdae16cb52b94286141b"><div class="ttname"><a href="structtdp__iter.html#a473dd3cffaeffdae16cb52b94286141b">tdp_iter::as_id</a></div><div class="ttdeci">int as_id</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00103">tdp_iter.h:103</a></div></div>
<div class="ttc" id="astructtdp__iter_html_ac27bd3b5c86c4d810d3345d0f961825e"><div class="ttname"><a href="structtdp__iter.html#ac27bd3b5c86c4d810d3345d0f961825e">tdp_iter::min_level</a></div><div class="ttdeci">int min_level</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00099">tdp_iter.h:99</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_ab290f5fe97e3911e3861f3c6035279b9_cgraph.png" border="0" usemap="#atdp__iter_8h_ab290f5fe97e3911e3861f3c6035279b9_cgraph" alt=""/></div>
<map name="atdp__iter_8h_ab290f5fe97e3911e3861f3c6035279b9_cgraph" id="atdp__iter_8h_ab290f5fe97e3911e3861f3c6035279b9_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,115,57"/>
<area shape="rect" href="mmu__internal_8h.html#a993d31328977f0bf21610ad74fa55a79" title=" " alt="" coords="163,5,335,32"/>
<area shape="rect" href="tdp__iter_8c.html#af4b66dc30c8f261c500b78382bd3c73f" title=" " alt="" coords="187,56,310,83"/>
<area shape="rect" href="mmu__internal_8h.html#a5334557775f77a151865c95f1cd224ac" title=" " alt="" coords="384,5,549,32"/>
<area shape="rect" href="mmu__internal_8h.html#a8805295a6f11129455d5b87a86fd3db5" title=" " alt="" coords="391,56,542,83"/>
<area shape="rect" href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e" title=" " alt="" coords="383,107,551,133"/>
<area shape="rect" href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768" title=" " alt="" coords="599,107,789,133"/>
</map>
</div>

</div>
</div>
<a id="a06888df6894eef0e93f82c77b99110b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06888df6894eef0e93f82c77b99110b2">&#9670;&nbsp;</a></span>tdp_mmu_clear_spte_bits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 tdp_mmu_clear_spte_bits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a>&#160;</td>
          <td class="paramname"><em>sptep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>old_spte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8h_source.html#l00061">61</a> of file <a class="el" href="tdp__iter_8h_source.html">tdp_iter.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    atomic64_t *sptep_atomic;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tdp__iter_8h.html#ae00f2a54e0e899c2f169396a9c10d223">kvm_tdp_mmu_spte_need_atomic_write</a>(old_spte, level)) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        sptep_atomic = (atomic64_t *)rcu_dereference(sptep);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">return</span> (u64)atomic64_fetch_and(~mask, sptep_atomic);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="tdp__iter_8h.html#acce3a5afd04a68fc666c32e91d8c1770">__kvm_tdp_mmu_write_spte</a>(sptep, old_spte &amp; ~mask);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">return</span> old_spte;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_a06888df6894eef0e93f82c77b99110b2_cgraph.png" border="0" usemap="#atdp__iter_8h_a06888df6894eef0e93f82c77b99110b2_cgraph" alt=""/></div>
<map name="atdp__iter_8h_a06888df6894eef0e93f82c77b99110b2_cgraph" id="atdp__iter_8h_a06888df6894eef0e93f82c77b99110b2_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,195,61"/>
<area shape="rect" href="tdp__iter_8h.html#acce3a5afd04a68fc666c32e91d8c1770" title=" " alt="" coords="243,5,452,32"/>
<area shape="rect" href="tdp__iter_8h.html#ae00f2a54e0e899c2f169396a9c10d223" title=" " alt="" coords="250,57,445,98"/>
<area shape="rect" href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5" title=" " alt="" coords="534,13,633,40"/>
<area shape="rect" href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686" title=" " alt="" coords="1112,89,1287,116"/>
<area shape="rect" href="spte_8c.html#a11de60840b247621debae854aea928db" title=" " alt="" coords="500,165,667,192"/>
<area shape="rect" href="spte_8h.html#ae9b1a94fccf74f0837e1a775bc57d729" title=" " alt="" coords="749,13,850,40"/>
<area shape="rect" href="spte_8h.html#a30b8d20964e90337ab8eaeddca1ba192" title=" " alt="" coords="720,115,879,141"/>
<area shape="rect" href="spte_8h.html#a976cddc84d935189584bdce94d4805fd" title=" " alt="" coords="932,115,1064,141"/>
<area shape="rect" href="spte_8h.html#aeb796217990be75433fd1430d5958184" title=" " alt="" coords="715,216,884,243"/>
<area shape="rect" href="spte_8h.html#a4d0035385de92ed42a75324a2fb96d49" title=" " alt="" coords="739,267,860,293"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8h_a06888df6894eef0e93f82c77b99110b2_icgraph.png" border="0" usemap="#atdp__iter_8h_a06888df6894eef0e93f82c77b99110b2_icgraph" alt=""/></div>
<map name="atdp__iter_8h_a06888df6894eef0e93f82c77b99110b2_icgraph" id="atdp__iter_8h_a06888df6894eef0e93f82c77b99110b2_icgraph">
<area shape="rect" title=" " alt="" coords="1541,46,1731,73"/>
<area shape="rect" href="tdp__mmu_8c.html#a30ae563747c16580e9c760ea701eec6d" title=" " alt="" coords="1349,17,1468,43"/>
<area shape="rect" href="tdp__mmu_8c.html#a302b8c57cfb6b9bc82a2f68047477145" title=" " alt="" coords="1324,71,1493,98"/>
<area shape="rect" href="tdp__mmu_8c.html#a0a5c7f827057100e08b2f45da804fa30" title=" " alt="" coords="1089,5,1267,47"/>
<area shape="rect" href="mmu_8c.html#a39977aaa99a2eb423e12429a5deb15dc" title=" " alt="" coords="884,13,995,39"/>
<area shape="rect" href="tdp__mmu_8c.html#ad1753c27bb053bc6ac3a3893e10b49f6" title=" " alt="" coords="1080,71,1276,112"/>
<area shape="rect" href="mmu_8c.html#afeee4db4dd885d0e891ccb05f545c876" title=" " alt="" coords="855,67,1023,108"/>
<area shape="rect" href="mmu_8c.html#ace4eaa769a0c9e1f75a3900a51275d18" title=" " alt="" coords="847,132,1032,173"/>
<area shape="rect" href="mmu_8c.html#a035ec39ab60e2a3d382c272b15fc83a6" title=" " alt="" coords="620,100,799,141"/>
<area shape="rect" href="dirty__ring_8c.html#a68052369106191fbc506fdf4d64be449" title=" " alt="" coords="416,107,572,134"/>
<area shape="rect" href="dirty__ring_8c.html#a33f93cefad4ed59214fb8dbf36de7dd1" title=" " alt="" coords="208,107,368,134"/>
<area shape="rect" href="kvm__main_8c.html#a91e959c20554917ba05e7feea69acc7c" title=" " alt="" coords="5,100,160,141"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
