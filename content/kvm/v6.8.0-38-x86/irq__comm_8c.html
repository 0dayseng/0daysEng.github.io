<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KVM: arch/x86/kvm/irq_comm.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ea9599923402ca8ab47fc3e495999dea.html">arch</a></li><li class="navelem"><a class="el" href="dir_c21774f8bc9f0de15163573e5f5fa2b5.html">x86</a></li><li class="navelem"><a class="el" href="dir_fde450fd4b58e2560c53a1e73bfa4d6d.html">kvm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">irq_comm.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/kvm_host.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/export.h&gt;</code><br />
<code>#include &lt;linux/rculist.h&gt;</code><br />
<code>#include &lt;trace/events/kvm.h&gt;</code><br />
<code>#include &quot;<a class="el" href="irq_8h_source.html">irq.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ioapic_8h_source.html">ioapic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lapic_8h_source.html">lapic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hyperv_8h_source.html">hyperv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="x86_8h_source.html">x86.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="xen_8h_source.html">xen.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for irq_comm.c:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c__incl.png" border="0" usemap="#aarch_2x86_2kvm_2irq__comm_8c" alt=""/></div>
<map name="aarch_2x86_2kvm_2irq__comm_8c" id="aarch_2x86_2kvm_2irq__comm_8c">
<area shape="rect" title=" " alt="" coords="529,5,719,32"/>
<area shape="rect" title=" " alt="" coords="710,528,845,555"/>
<area shape="rect" title=" " alt="" coords="45,80,142,107"/>
<area shape="rect" title=" " alt="" coords="167,80,279,107"/>
<area shape="rect" title=" " alt="" coords="303,80,414,107"/>
<area shape="rect" title=" " alt="" coords="438,80,586,107"/>
<area shape="rect" href="irq_8h.html" title=" " alt="" coords="512,155,563,181"/>
<area shape="rect" href="lapic_8h.html" title=" " alt="" coords="739,229,805,256"/>
<area shape="rect" href="hyperv_8h.html" title=" " alt="" coords="815,304,894,331"/>
<area shape="rect" href="x86_8h.html" title=" " alt="" coords="1037,379,1096,405"/>
<area shape="rect" href="ioapic_8h.html" title=" " alt="" coords="662,80,735,107"/>
<area shape="rect" href="xen_8h.html" title=" " alt="" coords="1182,80,1239,107"/>
<area shape="rect" title=" " alt="" coords="421,229,560,256"/>
<area shape="rect" title=" " alt="" coords="81,229,199,256"/>
<area shape="rect" title=" " alt="" coords="222,229,346,256"/>
<area shape="rect" title=" " alt="" coords="546,304,649,331"/>
<area shape="rect" href="smm_8h.html" title=" " alt="" coords="673,304,740,331"/>
<area shape="rect" title=" " alt="" coords="1231,453,1363,480"/>
<area shape="rect" title=" " alt="" coords="1387,453,1482,480"/>
<area shape="rect" title=" " alt="" coords="1506,453,1622,480"/>
<area shape="rect" href="kvm__cache__regs_8h.html" title=" " alt="" coords="917,453,1059,480"/>
<area shape="rect" href="kvm__emulate_8h.html" title=" " alt="" coords="1083,453,1207,480"/>
<area shape="rect" title=" " alt="" coords="1139,528,1269,555"/>
<area shape="rect" href="fpu_8h.html" title=" " alt="" coords="1059,528,1114,555"/>
<area shape="rect" title=" " alt="" coords="1031,603,1142,629"/>
<area shape="rect" title=" " alt="" coords="607,379,740,405"/>
<area shape="rect" title=" " alt="" coords="1490,155,1651,181"/>
<area shape="rect" title=" " alt="" coords="969,155,1111,181"/>
<area shape="rect" title=" " alt="" coords="1135,155,1286,181"/>
<area shape="rect" title=" " alt="" coords="1311,155,1465,181"/>
</map>
</div>
</div>
<p><a href="irq__comm_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1f8c165bf4196327bc3abff648276d92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a1f8c165bf4196327bc3abff648276d92">pr_fmt</a>(fmt)&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td></tr>
<tr class="separator:a1f8c165bf4196327bc3abff648276d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad608aacb075e83387e6549138a6a76c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#aad608aacb075e83387e6549138a6a76c">IOAPIC_ROUTING_ENTRY</a>(irq)</td></tr>
<tr class="separator:aad608aacb075e83387e6549138a6a76c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9220efdc9929cfb23d465dad21fa068d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a9220efdc9929cfb23d465dad21fa068d">ROUTING_ENTRY1</a>(irq)&#160;&#160;&#160;<a class="el" href="irq__comm_8c.html#aad608aacb075e83387e6549138a6a76c">IOAPIC_ROUTING_ENTRY</a>(irq)</td></tr>
<tr class="separator:a9220efdc9929cfb23d465dad21fa068d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eb38135e147d033fa6c11f9cbc57589"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a1eb38135e147d033fa6c11f9cbc57589">PIC_ROUTING_ENTRY</a>(irq)</td></tr>
<tr class="separator:a1eb38135e147d033fa6c11f9cbc57589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eee402435b06e8ddea5d24e7720ae47"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(irq)&#160;&#160;&#160;	<a class="el" href="irq__comm_8c.html#aad608aacb075e83387e6549138a6a76c">IOAPIC_ROUTING_ENTRY</a>(irq), <a class="el" href="irq__comm_8c.html#a1eb38135e147d033fa6c11f9cbc57589">PIC_ROUTING_ENTRY</a>(irq)</td></tr>
<tr class="separator:a7eee402435b06e8ddea5d24e7720ae47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1a4786be0e9713da805fb63743a7f340"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a1a4786be0e9713da805fb63743a7f340">kvm_set_pic_irq</a> (struct kvm_kernel_irq_routing_entry *e, struct kvm *kvm, int irq_source_id, int level, bool line_status)</td></tr>
<tr class="separator:a1a4786be0e9713da805fb63743a7f340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae12bd4085acdb92be18af95ac983d5a5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#ae12bd4085acdb92be18af95ac983d5a5">kvm_set_ioapic_irq</a> (struct kvm_kernel_irq_routing_entry *e, struct kvm *kvm, int irq_source_id, int level, bool line_status)</td></tr>
<tr class="separator:ae12bd4085acdb92be18af95ac983d5a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50293a78b5c0b6715243dc7854bcb210"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a50293a78b5c0b6715243dc7854bcb210">kvm_irq_delivery_to_apic</a> (struct kvm *kvm, struct <a class="el" href="structkvm__lapic.html">kvm_lapic</a> *src, struct kvm_lapic_irq *irq, struct <a class="el" href="structdest__map.html">dest_map</a> *<a class="el" href="structdest__map.html">dest_map</a>)</td></tr>
<tr class="separator:a50293a78b5c0b6715243dc7854bcb210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6270cddb139f2ca4f42d21f8caaa1224"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a6270cddb139f2ca4f42d21f8caaa1224">kvm_set_msi_irq</a> (struct kvm *kvm, struct kvm_kernel_irq_routing_entry *e, struct kvm_lapic_irq *irq)</td></tr>
<tr class="separator:a6270cddb139f2ca4f42d21f8caaa1224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c4c5f1ac02be84cd259c4e1ed424aef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a4c4c5f1ac02be84cd259c4e1ed424aef">EXPORT_SYMBOL_GPL</a> (<a class="el" href="irq__comm_8c.html#a6270cddb139f2ca4f42d21f8caaa1224">kvm_set_msi_irq</a>)</td></tr>
<tr class="separator:a4c4c5f1ac02be84cd259c4e1ed424aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8df04bdfde7c5b2ced40084fa4a7452b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a8df04bdfde7c5b2ced40084fa4a7452b">kvm_msi_route_invalid</a> (struct kvm *kvm, struct kvm_kernel_irq_routing_entry *e)</td></tr>
<tr class="separator:a8df04bdfde7c5b2ced40084fa4a7452b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affb5599a3efafc186b72e78e4b31e904"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#affb5599a3efafc186b72e78e4b31e904">kvm_set_msi</a> (struct kvm_kernel_irq_routing_entry *e, struct kvm *kvm, int irq_source_id, int level, bool line_status)</td></tr>
<tr class="separator:affb5599a3efafc186b72e78e4b31e904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7b7837b6e17bc60af3f4d81e9a4147e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#ae7b7837b6e17bc60af3f4d81e9a4147e">kvm_arch_set_irq_inatomic</a> (struct kvm_kernel_irq_routing_entry *e, struct kvm *kvm, int irq_source_id, int level, bool line_status)</td></tr>
<tr class="separator:ae7b7837b6e17bc60af3f4d81e9a4147e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a016687e649ff8df697ec693ebccf3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a42a016687e649ff8df697ec693ebccf3">kvm_request_irq_source_id</a> (struct kvm *kvm)</td></tr>
<tr class="separator:a42a016687e649ff8df697ec693ebccf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd624d06afb4fc277fb7a08e06bd942"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#affd624d06afb4fc277fb7a08e06bd942">kvm_free_irq_source_id</a> (struct kvm *kvm, int irq_source_id)</td></tr>
<tr class="separator:affd624d06afb4fc277fb7a08e06bd942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0e8495c42bef0a27d11e33d57141a78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#aa0e8495c42bef0a27d11e33d57141a78">kvm_register_irq_mask_notifier</a> (struct kvm *kvm, int irq, struct kvm_irq_mask_notifier *kimn)</td></tr>
<tr class="separator:aa0e8495c42bef0a27d11e33d57141a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7342d01a08ebc59d23dc42d7feceaac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#ab7342d01a08ebc59d23dc42d7feceaac">kvm_unregister_irq_mask_notifier</a> (struct kvm *kvm, int irq, struct kvm_irq_mask_notifier *kimn)</td></tr>
<tr class="separator:ab7342d01a08ebc59d23dc42d7feceaac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99beb5255d7cb8ee3604817b893f903a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a99beb5255d7cb8ee3604817b893f903a">kvm_fire_mask_notifiers</a> (struct kvm *kvm, unsigned irqchip, unsigned pin, bool mask)</td></tr>
<tr class="separator:a99beb5255d7cb8ee3604817b893f903a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef078780421d90eb1e54bff02f6abd0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a6ef078780421d90eb1e54bff02f6abd0">kvm_arch_can_set_irq_routing</a> (struct kvm *kvm)</td></tr>
<tr class="separator:a6ef078780421d90eb1e54bff02f6abd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceb0f3f9718caf022b2ff6f982fee020"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020">kvm_set_routing_entry</a> (struct kvm *kvm, struct kvm_kernel_irq_routing_entry *e, const struct kvm_irq_routing_entry *ue)</td></tr>
<tr class="separator:aceb0f3f9718caf022b2ff6f982fee020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6de5d9a13302fceb034b8d75b4c787e2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a6de5d9a13302fceb034b8d75b4c787e2">kvm_intr_is_single_vcpu</a> (struct kvm *kvm, struct kvm_lapic_irq *irq, struct kvm_vcpu **dest_vcpu)</td></tr>
<tr class="separator:a6de5d9a13302fceb034b8d75b4c787e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1556a5432d92f85117de43bedb50125e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a1556a5432d92f85117de43bedb50125e">EXPORT_SYMBOL_GPL</a> (<a class="el" href="irq__comm_8c.html#a6de5d9a13302fceb034b8d75b4c787e2">kvm_intr_is_single_vcpu</a>)</td></tr>
<tr class="separator:a1556a5432d92f85117de43bedb50125e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a076e3eaccc2dc3ab6766165ae8730179"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a076e3eaccc2dc3ab6766165ae8730179">kvm_setup_default_irq_routing</a> (struct kvm *kvm)</td></tr>
<tr class="separator:a076e3eaccc2dc3ab6766165ae8730179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf23e09ccf4b445556e56ea8598e1311"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#aaf23e09ccf4b445556e56ea8598e1311">kvm_setup_empty_irq_routing</a> (struct kvm *kvm)</td></tr>
<tr class="separator:aaf23e09ccf4b445556e56ea8598e1311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa5491dcaa56edc5b103a489cabb671e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#afa5491dcaa56edc5b103a489cabb671e">kvm_arch_post_irq_routing_update</a> (struct kvm *kvm)</td></tr>
<tr class="separator:afa5491dcaa56edc5b103a489cabb671e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a049de3e03383dab21c2cb6c3033e66ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a049de3e03383dab21c2cb6c3033e66ae">kvm_scan_ioapic_routes</a> (struct kvm_vcpu *vcpu, ulong *ioapic_handled_vectors)</td></tr>
<tr class="separator:a049de3e03383dab21c2cb6c3033e66ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5063eb30fea1b0dfb950639197e5d363"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a5063eb30fea1b0dfb950639197e5d363">kvm_arch_irq_routing_update</a> (struct kvm *kvm)</td></tr>
<tr class="separator:a5063eb30fea1b0dfb950639197e5d363"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa63e9ef50162b8b57a62a9e355ca5a99"><td class="memItemLeft" align="right" valign="top">static const struct kvm_irq_routing_entry&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#aa63e9ef50162b8b57a62a9e355ca5a99">default_routing</a> []</td></tr>
<tr class="separator:aa63e9ef50162b8b57a62a9e355ca5a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80424d6446172a8577468ba03cddc9cd"><td class="memItemLeft" align="right" valign="top">static const struct kvm_irq_routing_entry&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="irq__comm_8c.html#a80424d6446172a8577468ba03cddc9cd">empty_routing</a> [] = {}</td></tr>
<tr class="separator:a80424d6446172a8577468ba03cddc9cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aad608aacb075e83387e6549138a6a76c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad608aacb075e83387e6549138a6a76c">&#9670;&nbsp;</a></span>IOAPIC_ROUTING_ENTRY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOAPIC_ROUTING_ENTRY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">irq</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    { .gsi = irq, .type = KVM_IRQ_ROUTING_IRQCHIP,  \</div>
<div class="line">      .u.irqchip = { .irqchip = KVM_IRQCHIP_IOAPIC, .pin = (irq) } }</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00366">366</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>

</div>
</div>
<a id="a1eb38135e147d033fa6c11f9cbc57589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eb38135e147d033fa6c11f9cbc57589">&#9670;&nbsp;</a></span>PIC_ROUTING_ENTRY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PIC_ROUTING_ENTRY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">irq</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    { .gsi = irq, .type = KVM_IRQ_ROUTING_IRQCHIP,  \</div>
<div class="line">      .u.irqchip = { .irqchip = <a class="code" href="irq_8h.html#ab8ec760fe0029ffa50f9de448c946a1c">SELECT_PIC</a>(irq), .pin = (irq) % 8 } }</div>
<div class="ttc" id="airq_8h_html_ab8ec760fe0029ffa50f9de448c946a1c"><div class="ttname"><a href="irq_8h.html#ab8ec760fe0029ffa50f9de448c946a1c">SELECT_PIC</a></div><div class="ttdeci">#define SELECT_PIC(irq)</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00022">irq.h:22</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00371">371</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>

</div>
</div>
<a id="a1f8c165bf4196327bc3abff648276d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8c165bf4196327bc3abff648276d92">&#9670;&nbsp;</a></span>pr_fmt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pr_fmt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt</td><td>)</td>
          <td>&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00011">11</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>

</div>
</div>
<a id="a9220efdc9929cfb23d465dad21fa068d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9220efdc9929cfb23d465dad21fa068d">&#9670;&nbsp;</a></span>ROUTING_ENTRY1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ROUTING_ENTRY1</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">irq</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="irq__comm_8c.html#aad608aacb075e83387e6549138a6a76c">IOAPIC_ROUTING_ENTRY</a>(irq)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00369">369</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>

</div>
</div>
<a id="a7eee402435b06e8ddea5d24e7720ae47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eee402435b06e8ddea5d24e7720ae47">&#9670;&nbsp;</a></span>ROUTING_ENTRY2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ROUTING_ENTRY2</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">irq</td><td>)</td>
          <td>&#160;&#160;&#160;	<a class="el" href="irq__comm_8c.html#aad608aacb075e83387e6549138a6a76c">IOAPIC_ROUTING_ENTRY</a>(irq), <a class="el" href="irq__comm_8c.html#a1eb38135e147d033fa6c11f9cbc57589">PIC_ROUTING_ENTRY</a>(irq)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00374">374</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1556a5432d92f85117de43bedb50125e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1556a5432d92f85117de43bedb50125e">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="irq__comm_8c.html#a6de5d9a13302fceb034b8d75b4c787e2">kvm_intr_is_single_vcpu</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4c4c5f1ac02be84cd259c4e1ed424aef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c4c5f1ac02be84cd259c4e1ed424aef">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="irq__comm_8c.html#a6270cddb139f2ca4f42d21f8caaa1224">kvm_set_msi_irq</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6ef078780421d90eb1e54bff02f6abd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ef078780421d90eb1e54bff02f6abd0">&#9670;&nbsp;</a></span>kvm_arch_can_set_irq_routing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool kvm_arch_can_set_irq_routing </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00274">274</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;{</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="irq_8h.html#a96951e3a1bfa402d8bee67713e267b39">irqchip_in_kernel</a>(kvm);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
<div class="ttc" id="airq_8h_html_a96951e3a1bfa402d8bee67713e267b39"><div class="ttname"><a href="irq_8h.html#a96951e3a1bfa402d8bee67713e267b39">irqchip_in_kernel</a></div><div class="ttdeci">static int irqchip_in_kernel(struct kvm *kvm)</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00090">irq.h:90</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a6ef078780421d90eb1e54bff02f6abd0_cgraph.png" border="0" usemap="#airq__comm_8c_a6ef078780421d90eb1e54bff02f6abd0_cgraph" alt=""/></div>
<map name="airq__comm_8c_a6ef078780421d90eb1e54bff02f6abd0_cgraph" id="airq__comm_8c_a6ef078780421d90eb1e54bff02f6abd0_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,172,47"/>
<area shape="rect" href="irq_8h.html#a96951e3a1bfa402d8bee67713e267b39" title=" " alt="" coords="220,13,352,39"/>
</map>
</div>

</div>
</div>
<a id="a5063eb30fea1b0dfb950639197e5d363"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5063eb30fea1b0dfb950639197e5d363">&#9670;&nbsp;</a></span>kvm_arch_irq_routing_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_arch_irq_routing_update </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00444">444</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;{</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="preprocessor">#ifdef CONFIG_KVM_HYPERV</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="hyperv_8c.html#ac38cebb511b3d7873742792be281ff18">kvm_hv_irq_routing_update</a>(kvm);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
<div class="ttc" id="ahyperv_8c_html_ac38cebb511b3d7873742792be281ff18"><div class="ttname"><a href="hyperv_8c.html#ac38cebb511b3d7873742792be281ff18">kvm_hv_irq_routing_update</a></div><div class="ttdeci">void kvm_hv_irq_routing_update(struct kvm *kvm)</div><div class="ttdef"><b>Definition:</b> <a href="hyperv_8c_source.html#l00538">hyperv.c:538</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a5063eb30fea1b0dfb950639197e5d363_cgraph.png" border="0" usemap="#airq__comm_8c_a5063eb30fea1b0dfb950639197e5d363_cgraph" alt=""/></div>
<map name="airq__comm_8c_a5063eb30fea1b0dfb950639197e5d363_cgraph" id="airq__comm_8c_a5063eb30fea1b0dfb950639197e5d363_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,168,47"/>
<area shape="rect" href="hyperv_8c.html#ac38cebb511b3d7873742792be281ff18" title=" " alt="" coords="216,5,367,47"/>
<area shape="rect" href="hyperv_8c.html#ae4d51aac4ca695bacfd85543cef77376" title=" " alt="" coords="415,13,573,39"/>
<area shape="rect" href="hyperv_8c.html#a39e065846fd9cf408369c44732509335" title=" " alt="" coords="621,13,705,39"/>
<area shape="rect" href="hyperv_8c.html#ad543db70c1ec04720c89b624e4655229" title=" " alt="" coords="753,13,900,39"/>
<area shape="rect" href="hyperv_8h.html#a019002089f0480b30c26cf6997c8fe37" title=" " alt="" coords="948,13,1109,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a5063eb30fea1b0dfb950639197e5d363_icgraph.png" border="0" usemap="#airq__comm_8c_a5063eb30fea1b0dfb950639197e5d363_icgraph" alt=""/></div>
<map name="airq__comm_8c_a5063eb30fea1b0dfb950639197e5d363_icgraph" id="airq__comm_8c_a5063eb30fea1b0dfb950639197e5d363_icgraph">
<area shape="rect" title=" " alt="" coords="879,5,1041,47"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="676,13,831,39"/>
<area shape="rect" href="irq_8h.html#aaf23e09ccf4b445556e56ea8598e1311" title=" " alt="" coords="461,5,628,47"/>
<area shape="rect" href="x86_8c.html#aaf3dbbe842e06195f2e46694ea837380" title=" " alt="" coords="219,13,413,39"/>
<area shape="rect" href="kvm__main_8c.html#aaeec02d207c8ce5ca12b1ef2ac36fae0" title=" " alt="" coords="5,5,171,47"/>
</map>
</div>

</div>
</div>
<a id="afa5491dcaa56edc5b103a489cabb671e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa5491dcaa56edc5b103a489cabb671e">&#9670;&nbsp;</a></span>kvm_arch_post_irq_routing_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_arch_post_irq_routing_update </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00405">405</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;{</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="irq_8h.html#a68413268c1f1f354270e9a0de9c2fe44">irqchip_split</a>(kvm))</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="x86_8c.html#a3e31b97e32a42bf14848541e9e71688d">kvm_make_scan_ioapic_request</a>(kvm);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;}</div>
<div class="ttc" id="airq_8h_html_a68413268c1f1f354270e9a0de9c2fe44"><div class="ttname"><a href="irq_8h.html#a68413268c1f1f354270e9a0de9c2fe44">irqchip_split</a></div><div class="ttdeci">static int irqchip_split(struct kvm *kvm)</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00067">irq.h:67</a></div></div>
<div class="ttc" id="ax86_8c_html_a3e31b97e32a42bf14848541e9e71688d"><div class="ttname"><a href="x86_8c.html#a3e31b97e32a42bf14848541e9e71688d">kvm_make_scan_ioapic_request</a></div><div class="ttdeci">void kvm_make_scan_ioapic_request(struct kvm *kvm)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8c_source.html#l10520">x86.c:10520</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_afa5491dcaa56edc5b103a489cabb671e_cgraph.png" border="0" usemap="#airq__comm_8c_afa5491dcaa56edc5b103a489cabb671e_cgraph" alt=""/></div>
<map name="airq__comm_8c_afa5491dcaa56edc5b103a489cabb671e_cgraph" id="airq__comm_8c_afa5491dcaa56edc5b103a489cabb671e_cgraph">
<area shape="rect" title=" " alt="" coords="5,27,204,69"/>
<area shape="rect" href="irq_8h.html#a68413268c1f1f354270e9a0de9c2fe44" title=" " alt="" coords="290,5,391,32"/>
<area shape="rect" href="x86_8c.html#a3e31b97e32a42bf14848541e9e71688d" title=" " alt="" coords="252,57,429,98"/>
<area shape="rect" href="kvm__main_8c.html#abaa3f5ff00150487b52dd21c1617bab6" title=" " alt="" coords="477,64,688,91"/>
<area shape="rect" href="kvm__main_8c.html#ac46e1a0e43c0784194a451a7e7394c02" title=" " alt="" coords="736,57,947,98"/>
<area shape="rect" href="kvm__main_8c.html#a56fa7dccf37545a9046522ded0354c7e" title=" " alt="" coords="1005,39,1172,65"/>
<area shape="rect" href="kvm__main_8c.html#a90667c5619416298aea980ad51ec8525" title=" " alt="" coords="995,89,1183,116"/>
<area shape="rect" href="kvm__main_8c.html#a7682302871243c20a5dd16214655db15" title=" " alt="" coords="1279,39,1358,65"/>
<area shape="rect" href="kvm__main_8c.html#a9316cc70360fb39d920d5c76a2e41f35" title=" " alt="" coords="1231,89,1407,116"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1242,140,1395,167"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_afa5491dcaa56edc5b103a489cabb671e_icgraph.png" border="0" usemap="#airq__comm_8c_afa5491dcaa56edc5b103a489cabb671e_icgraph" alt=""/></div>
<map name="airq__comm_8c_afa5491dcaa56edc5b103a489cabb671e_icgraph" id="airq__comm_8c_afa5491dcaa56edc5b103a489cabb671e_icgraph">
<area shape="rect" title=" " alt="" coords="879,5,1077,47"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="676,13,831,39"/>
<area shape="rect" href="irq_8h.html#aaf23e09ccf4b445556e56ea8598e1311" title=" " alt="" coords="461,5,628,47"/>
<area shape="rect" href="x86_8c.html#aaf3dbbe842e06195f2e46694ea837380" title=" " alt="" coords="219,13,413,39"/>
<area shape="rect" href="kvm__main_8c.html#aaeec02d207c8ce5ca12b1ef2ac36fae0" title=" " alt="" coords="5,5,171,47"/>
</map>
</div>

</div>
</div>
<a id="ae7b7837b6e17bc60af3f4d81e9a4147e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7b7837b6e17bc60af3f4d81e9a4147e">&#9670;&nbsp;</a></span>kvm_arch_set_irq_inatomic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_arch_set_irq_inatomic </td>
          <td>(</td>
          <td class="paramtype">struct kvm_kernel_irq_routing_entry *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq_source_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>line_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00159">159</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keyword">struct </span>kvm_lapic_irq irq;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordtype">int</span> r;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">switch</span> (e-&gt;type) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="preprocessor">#ifdef CONFIG_KVM_HYPERV</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">case</span> KVM_IRQ_ROUTING_HV_SINT:</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">return</span> kvm_hv_set_sint(e, kvm, irq_source_id, level,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                       line_status);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">case</span> KVM_IRQ_ROUTING_MSI:</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="irq__comm_8c.html#a8df04bdfde7c5b2ced40084fa4a7452b">kvm_msi_route_invalid</a>(kvm, e))</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="irq__comm_8c.html#a6270cddb139f2ca4f42d21f8caaa1224">kvm_set_msi_irq</a>(kvm, e, &amp;irq);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lapic_8c.html#a17eee4051fa1d41b805b09a195f64045">kvm_irq_delivery_to_apic_fast</a>(kvm, NULL, &amp;irq, &amp;r, NULL))</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">#ifdef CONFIG_KVM_XEN</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">case</span> KVM_IRQ_ROUTING_XEN_EVTCHN:</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">if</span> (!level)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="xen_8c.html#a48738df3c98025631e2412d90758136c">kvm_xen_set_evtchn_fast</a>(&amp;e-&gt;xen_evtchn, kvm);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">return</span> -EWOULDBLOCK;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="ttc" id="airq__comm_8c_html_a6270cddb139f2ca4f42d21f8caaa1224"><div class="ttname"><a href="irq__comm_8c.html#a6270cddb139f2ca4f42d21f8caaa1224">kvm_set_msi_irq</a></div><div class="ttdeci">void kvm_set_msi_irq(struct kvm *kvm, struct kvm_kernel_irq_routing_entry *e, struct kvm_lapic_irq *irq)</div><div class="ttdef"><b>Definition:</b> <a href="irq__comm_8c_source.html#l00104">irq_comm.c:104</a></div></div>
<div class="ttc" id="airq__comm_8c_html_a8df04bdfde7c5b2ced40084fa4a7452b"><div class="ttname"><a href="irq__comm_8c.html#a8df04bdfde7c5b2ced40084fa4a7452b">kvm_msi_route_invalid</a></div><div class="ttdeci">static bool kvm_msi_route_invalid(struct kvm *kvm, struct kvm_kernel_irq_routing_entry *e)</div><div class="ttdef"><b>Definition:</b> <a href="irq__comm_8c_source.html#l00125">irq_comm.c:125</a></div></div>
<div class="ttc" id="alapic_8c_html_a17eee4051fa1d41b805b09a195f64045"><div class="ttname"><a href="lapic_8c.html#a17eee4051fa1d41b805b09a195f64045">kvm_irq_delivery_to_apic_fast</a></div><div class="ttdeci">bool kvm_irq_delivery_to_apic_fast(struct kvm *kvm, struct kvm_lapic *src, struct kvm_lapic_irq *irq, int *r, struct dest_map *dest_map)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01208">lapic.c:1208</a></div></div>
<div class="ttc" id="axen_8c_html_a48738df3c98025631e2412d90758136c"><div class="ttname"><a href="xen_8c.html#a48738df3c98025631e2412d90758136c">kvm_xen_set_evtchn_fast</a></div><div class="ttdeci">int kvm_xen_set_evtchn_fast(struct kvm_xen_evtchn *xe, struct kvm *kvm)</div><div class="ttdef"><b>Definition:</b> <a href="xen_8c_source.html#l01604">xen.c:1604</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_ae7b7837b6e17bc60af3f4d81e9a4147e_cgraph.png" border="0" usemap="#airq__comm_8c_ae7b7837b6e17bc60af3f4d81e9a4147e_cgraph" alt=""/></div>
<map name="airq__comm_8c_ae7b7837b6e17bc60af3f4d81e9a4147e_cgraph" id="airq__comm_8c_ae7b7837b6e17bc60af3f4d81e9a4147e_cgraph">
<area shape="rect" title=" " alt="" coords="5,211,207,237"/>
<area shape="rect" href="lapic_8c.html#a17eee4051fa1d41b805b09a195f64045" title=" " alt="" coords="712,258,867,299"/>
<area shape="rect" href="irq__comm_8c.html#a8df04bdfde7c5b2ced40084fa4a7452b" title=" " alt="" coords="263,185,437,212"/>
<area shape="rect" href="irq__comm_8c.html#a6270cddb139f2ca4f42d21f8caaa1224" title=" " alt="" coords="283,236,417,263"/>
<area shape="rect" href="xen_8c.html#a48738df3c98025631e2412d90758136c" title=" " alt="" coords="255,131,445,157"/>
<area shape="rect" href="lapic_8c.html#aee815bad0e899bbf195750d2d9b5470f" title=" " alt="" coords="923,390,1107,431"/>
<area shape="rect" href="lapic_8c.html#a3d272e1b73f22f797955e7ddea84b741" title=" " alt="" coords="947,227,1083,253"/>
<area shape="rect" href="lapic_8c.html#a47d52843df792ef8e7bffdfb66a3b40b" title=" " alt="" coords="1181,309,1363,336"/>
<area shape="rect" href="lapic_8c.html#a079d589509607a9d9baa6bed3eae7fa6" title=" " alt="" coords="1179,361,1365,402"/>
<area shape="rect" href="lapic_8c.html#abbce6da431ef5f15d85b5fc741d3ef72" title=" " alt="" coords="1167,595,1377,621"/>
<area shape="rect" href="lapic_8c.html#a2381239fbfde7c282aabdd2c01f50ad3" title=" " alt="" coords="1155,427,1389,453"/>
<area shape="rect" href="lapic_8h.html#adfbea71ac96b210fb91bef47c77194f1" title=" " alt="" coords="1175,477,1369,504"/>
<area shape="rect" href="x86_8c.html#a47d88660a2a5f8ee22df1253604d1ed7" title=" " alt="" coords="1193,529,1351,570"/>
<area shape="rect" href="lapic_8c.html#ac9fecb7d9f4574931650af9abb4b9f4c" title=" " alt="" coords="1191,259,1353,285"/>
<area shape="rect" href="lapic_8h.html#a07d3e1e4090a62753325dfa11d232cea" title=" " alt="" coords="1454,595,1597,621"/>
<area shape="rect" href="lapic_8c.html#a10d887046aaccb6cf4178421594dee10" title=" " alt="" coords="1203,208,1341,235"/>
<area shape="rect" href="lapic_8c.html#ab0bd88f2e9609cef51f64e40f0635c9d" title=" " alt="" coords="1471,107,1579,133"/>
<area shape="rect" href="lapic_8c.html#ad063ed2f42a913efa82bad52d1b58aa8" title=" " alt="" coords="1461,157,1590,184"/>
<area shape="rect" href="x86_8c.html#a09da0747db3b012bff918f94816f0bd0" title=" " alt="" coords="1462,208,1589,235"/>
<area shape="rect" href="smm_8h.html#adbee86ed847633616e1e3afcc7e98e6e" title=" " alt="" coords="1463,259,1588,285"/>
<area shape="rect" href="lapic_8h.html#ada4d7479e3c0f2e45cb1565dab78c198" title=" " alt="" coords="1437,309,1613,336"/>
<area shape="rect" href="lapic_8h.html#aecd6ca5347dbb81047584149b2291019" title=" " alt="" coords="1443,360,1607,387"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1464,56,1587,83"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="1680,107,1851,133"/>
<area shape="rect" href="lapic_8h.html#a447b1b971acaf871dd62669b4aa3116f" title=" " alt="" coords="1681,157,1850,184"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1661,5,1869,32"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1689,56,1842,83"/>
<area shape="rect" href="pfncache_8c.html#a8fbb2514a5bf34fb8640c09e6e01294d" title=" " alt="" coords="511,177,638,204"/>
<area shape="rect" href="xen_8c.html#a920a89da9fa627b54860f838c736b003" title=" " alt="" coords="704,107,875,133"/>
<area shape="rect" href="xen_8c.html#a7ba53f4f869b74569192380f1adfd40c" title=" " alt="" coords="493,229,656,270"/>
<area shape="rect" href="xen_8c.html#abfe301f067b5181a7028ad5e62629e6d" title=" " alt="" coords="507,76,642,103"/>
</map>
</div>

</div>
</div>
<a id="a99beb5255d7cb8ee3604817b893f903a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99beb5255d7cb8ee3604817b893f903a">&#9670;&nbsp;</a></span>kvm_fire_mask_notifiers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_fire_mask_notifiers </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>irqchip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00259">259</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;{</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keyword">struct </span>kvm_irq_mask_notifier *kimn;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordtype">int</span> idx, gsi;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    idx = srcu_read_lock(&amp;kvm-&gt;irq_srcu);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    gsi = <a class="code" href="irqchip_8c.html#ae3e1d4af97f7a2b64ce2fd941200e3da">kvm_irq_map_chip_pin</a>(kvm, irqchip, pin);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span> (gsi != -1)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        hlist_for_each_entry_rcu(kimn, &amp;kvm-&gt;arch.mask_notifier_list, link)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="keywordflow">if</span> (kimn-&gt;irq == gsi)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                kimn-&gt;func(kimn, mask);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    srcu_read_unlock(&amp;kvm-&gt;irq_srcu, idx);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="ttc" id="airqchip_8c_html_ae3e1d4af97f7a2b64ce2fd941200e3da"><div class="ttname"><a href="irqchip_8c.html#ae3e1d4af97f7a2b64ce2fd941200e3da">kvm_irq_map_chip_pin</a></div><div class="ttdeci">int kvm_irq_map_chip_pin(struct kvm *kvm, unsigned irqchip, unsigned pin)</div><div class="ttdef"><b>Definition:</b> <a href="irqchip_8c_source.html#l00040">irqchip.c:40</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a99beb5255d7cb8ee3604817b893f903a_cgraph.png" border="0" usemap="#airq__comm_8c_a99beb5255d7cb8ee3604817b893f903a_cgraph" alt=""/></div>
<map name="airq__comm_8c_a99beb5255d7cb8ee3604817b893f903a_cgraph" id="airq__comm_8c_a99beb5255d7cb8ee3604817b893f903a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,188,32"/>
<area shape="rect" href="irqchip_8c.html#ae3e1d4af97f7a2b64ce2fd941200e3da" title=" " alt="" coords="236,5,408,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a99beb5255d7cb8ee3604817b893f903a_icgraph.png" border="0" usemap="#airq__comm_8c_a99beb5255d7cb8ee3604817b893f903a_icgraph" alt=""/></div>
<map name="airq__comm_8c_a99beb5255d7cb8ee3604817b893f903a_icgraph" id="airq__comm_8c_a99beb5255d7cb8ee3604817b893f903a_icgraph">
<area shape="rect" title=" " alt="" coords="612,31,795,57"/>
<area shape="rect" href="ioapic_8c.html#ac3a8acd4438c4c2163edbe2d634b7934" title=" " alt="" coords="407,5,564,32"/>
<area shape="rect" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a" title=" " alt="" coords="422,56,549,83"/>
<area shape="rect" href="ioapic_8c.html#a9e41d37256b6c8c3c80df1a752d66fbe" title=" " alt="" coords="212,5,359,32"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="233,56,338,83"/>
<area shape="rect" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b" title=" " alt="" coords="17,5,153,32"/>
<area shape="rect" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543" title=" " alt="" coords="5,56,164,83"/>
<area shape="rect" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c" title=" " alt="" coords="11,107,158,133"/>
</map>
</div>

</div>
</div>
<a id="affd624d06afb4fc277fb7a08e06bd942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affd624d06afb4fc277fb7a08e06bd942">&#9670;&nbsp;</a></span>kvm_free_irq_source_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_free_irq_source_id </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq_source_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00220">220</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="ioapic_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(irq_source_id != KVM_USERSPACE_IRQ_SOURCE_ID);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="ioapic_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(irq_source_id != KVM_IRQFD_RESAMPLE_IRQ_SOURCE_ID);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    mutex_lock(&amp;kvm-&gt;irq_lock);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">if</span> (irq_source_id &lt; 0 ||</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        irq_source_id &gt;= BITS_PER_LONG) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        pr_err(<span class="stringliteral">&quot;IRQ source ID out of range!\n&quot;</span>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">goto</span> unlock;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    clear_bit(irq_source_id, &amp;kvm-&gt;arch.irq_sources_bitmap);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="irq_8h.html#aeedc8b3b9e709414b2db2436224b75e8">irqchip_kernel</a>(kvm))</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">goto</span> unlock;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="ioapic_8c.html#af53faf50e1deb43c645b04e30aebc18d">kvm_ioapic_clear_all</a>(kvm-&gt;arch.vioapic, irq_source_id);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="i8259_8c.html#a4fef735273cc243ab0c60985526cf753">kvm_pic_clear_all</a>(kvm-&gt;arch.vpic, irq_source_id);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;unlock:</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    mutex_unlock(&amp;kvm-&gt;irq_lock);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_a4fef735273cc243ab0c60985526cf753"><div class="ttname"><a href="i8259_8c.html#a4fef735273cc243ab0c60985526cf753">kvm_pic_clear_all</a></div><div class="ttdeci">void kvm_pic_clear_all(struct kvm_pic *s, int irq_source_id)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00206">i8259.c:206</a></div></div>
<div class="ttc" id="aioapic_8c_html_af53faf50e1deb43c645b04e30aebc18d"><div class="ttname"><a href="ioapic_8c.html#af53faf50e1deb43c645b04e30aebc18d">kvm_ioapic_clear_all</a></div><div class="ttdeci">void kvm_ioapic_clear_all(struct kvm_ioapic *ioapic, int irq_source_id)</div><div class="ttdef"><b>Definition:</b> <a href="ioapic_8c_source.html#l00502">ioapic.c:502</a></div></div>
<div class="ttc" id="aioapic_8h_html_aca68c0d4ac8df0838e209fb5300f7be3"><div class="ttname"><a href="ioapic_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a></div><div class="ttdeci">#define ASSERT(x)</div><div class="ttdef"><b>Definition:</b> <a href="ioapic_8h_source.html#l00101">ioapic.h:101</a></div></div>
<div class="ttc" id="airq_8h_html_aeedc8b3b9e709414b2db2436224b75e8"><div class="ttname"><a href="irq_8h.html#aeedc8b3b9e709414b2db2436224b75e8">irqchip_kernel</a></div><div class="ttdeci">static int irqchip_kernel(struct kvm *kvm)</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00076">irq.h:76</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_affd624d06afb4fc277fb7a08e06bd942_cgraph.png" border="0" usemap="#airq__comm_8c_affd624d06afb4fc277fb7a08e06bd942_cgraph" alt=""/></div>
<map name="airq__comm_8c_affd624d06afb4fc277fb7a08e06bd942_cgraph" id="airq__comm_8c_affd624d06afb4fc277fb7a08e06bd942_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,183,83"/>
<area shape="rect" href="irq_8h.html#aeedc8b3b9e709414b2db2436224b75e8" title=" " alt="" coords="253,5,367,32"/>
<area shape="rect" href="ioapic_8c.html#af53faf50e1deb43c645b04e30aebc18d" title=" " alt="" coords="231,56,389,83"/>
<area shape="rect" href="i8259_8c.html#a4fef735273cc243ab0c60985526cf753" title=" " alt="" coords="241,107,379,133"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="445,81,520,108"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="437,132,528,159"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="576,107,767,133"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="610,157,733,184"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="833,56,1004,83"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="846,107,991,133"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1071,107,1229,133"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="815,157,1023,184"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="842,208,995,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_affd624d06afb4fc277fb7a08e06bd942_icgraph.png" border="0" usemap="#airq__comm_8c_affd624d06afb4fc277fb7a08e06bd942_icgraph" alt=""/></div>
<map name="airq__comm_8c_affd624d06afb4fc277fb7a08e06bd942_icgraph" id="airq__comm_8c_affd624d06afb4fc277fb7a08e06bd942_icgraph">
<area shape="rect" title=" " alt="" coords="1292,183,1469,209"/>
<area shape="rect" href="i8254_8c.html#a13a38debbd4e494ffd488ef8abb5406c" title=" " alt="" coords="1121,157,1244,184"/>
<area shape="rect" href="i8254_8c.html#a2a7ca7f5194b378ba7f0ae7a38cc26ba" title=" " alt="" coords="1129,208,1237,235"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="911,157,1061,184"/>
<area shape="rect" href="x86_8c.html#a6f324dc73c5f97fe0b9dfa35f303d5f9" title=" " alt="" coords="899,208,1073,235"/>
<area shape="rect" href="kvm__main_8c.html#afd922c538c448ab1248cdb9dccae9410" title=" " alt="" coords="716,208,851,235"/>
<area shape="rect" href="kvm__main_8c.html#a013962010b954d8597e5987fd27c8241" title=" " alt="" coords="553,208,668,235"/>
<area shape="rect" href="kvm__main_8c.html#a37fa7805021941c56fe174eae4c8c377" title=" " alt="" coords="325,5,475,32"/>
<area shape="rect" href="kvm__main_8c.html#af19040bdcea372f13eab66499d99201c" title=" " alt="" coords="317,56,483,83"/>
<area shape="rect" href="kvm__main_8c.html#a955de4f2a1b3371438636eccab732b27" title=" " alt="" coords="303,107,497,133"/>
<area shape="rect" href="guest__memfd_8c.html#ad8912fbda61cdcb6d9e5a3c0f839e001" title=" " alt="" coords="323,157,477,184"/>
<area shape="rect" href="debugfs_8c.html#ae48a8d31368e51cbe5f950df129f5285" title=" " alt="" coords="295,208,505,235"/>
<area shape="rect" href="debugfs_8c.html#af0427db3ec1a8c38ea51591abbefde57" title=" " alt="" coords="314,259,486,301"/>
<area shape="rect" href="kvm__main_8c.html#af67afbdcee89641f21573ac643d8e693" title=" " alt="" coords="333,325,467,352"/>
<area shape="rect" href="sev_8c.html#ad28fd793149997c912b52490f6ca139a" title=" " alt="" coords="329,376,471,403"/>
<area shape="rect" href="sev_8c.html#af1eb77eac84f085b0a943b87f783e30d" title=" " alt="" coords="335,427,465,453"/>
<area shape="rect" href="kvm__main_8c.html#a87bcafdc42ee32aedb84df5e564f9872" title=" " alt="" coords="47,5,205,32"/>
<area shape="rect" href="sev_8c.html#abe3c569b297da3b78824074b8c08f9a7" title=" " alt="" coords="5,376,247,403"/>
<area shape="rect" href="svm_8c.html#a0e69cefce46e7b11e1e8e056ea5b6561" title=" " alt="" coords="59,427,193,453"/>
</map>
</div>

</div>
</div>
<a id="a6de5d9a13302fceb034b8d75b4c787e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6de5d9a13302fceb034b8d75b4c787e2">&#9670;&nbsp;</a></span>kvm_intr_is_single_vcpu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool kvm_intr_is_single_vcpu </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_lapic_irq *&#160;</td>
          <td class="paramname"><em>irq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_vcpu **&#160;</td>
          <td class="paramname"><em>dest_vcpu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00338">338</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;{</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keyword">struct </span>kvm_vcpu *vcpu;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lapic_8c.html#a8620b1c89f8cf017f7827024fc95ac92">kvm_intr_is_single_vcpu_fast</a>(kvm, irq, dest_vcpu))</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    kvm_for_each_vcpu(i, vcpu, kvm) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="lapic_8h.html#ae7e74fde3e4fb01f561634e789b5eab4">kvm_apic_present</a>(vcpu))</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="lapic_8c.html#adb63e5a650d4571316b450d153a3105d">kvm_apic_match_dest</a>(vcpu, NULL, irq-&gt;shorthand,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                    irq-&gt;dest_id, irq-&gt;dest_mode))</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">if</span> (++r == 2)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        *dest_vcpu = vcpu;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">return</span> r == 1;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div>
<div class="ttc" id="alapic_8c_html_a8620b1c89f8cf017f7827024fc95ac92"><div class="ttname"><a href="lapic_8c.html#a8620b1c89f8cf017f7827024fc95ac92">kvm_intr_is_single_vcpu_fast</a></div><div class="ttdeci">bool kvm_intr_is_single_vcpu_fast(struct kvm *kvm, struct kvm_lapic_irq *irq, struct kvm_vcpu **dest_vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01259">lapic.c:1259</a></div></div>
<div class="ttc" id="alapic_8c_html_adb63e5a650d4571316b450d153a3105d"><div class="ttname"><a href="lapic_8c.html#adb63e5a650d4571316b450d153a3105d">kvm_apic_match_dest</a></div><div class="ttdeci">bool kvm_apic_match_dest(struct kvm_vcpu *vcpu, struct kvm_lapic *source, int shorthand, unsigned int dest, int dest_mode)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01067">lapic.c:1067</a></div></div>
<div class="ttc" id="alapic_8h_html_ae7e74fde3e4fb01f561634e789b5eab4"><div class="ttname"><a href="lapic_8h.html#ae7e74fde3e4fb01f561634e789b5eab4">kvm_apic_present</a></div><div class="ttdeci">static bool kvm_apic_present(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00211">lapic.h:211</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a6de5d9a13302fceb034b8d75b4c787e2_cgraph.png" border="0" usemap="#airq__comm_8c_a6de5d9a13302fceb034b8d75b4c787e2_cgraph" alt=""/></div>
<map name="airq__comm_8c_a6de5d9a13302fceb034b8d75b4c787e2_cgraph" id="airq__comm_8c_a6de5d9a13302fceb034b8d75b4c787e2_cgraph">
<area shape="rect" title=" " alt="" coords="5,375,188,401"/>
<area shape="rect" href="lapic_8c.html#adb63e5a650d4571316b450d153a3105d" title=" " alt="" coords="236,233,404,260"/>
<area shape="rect" href="lapic_8h.html#ae7e74fde3e4fb01f561634e789b5eab4" title=" " alt="" coords="249,375,391,401"/>
<area shape="rect" href="lapic_8c.html#a8620b1c89f8cf017f7827024fc95ac92" title=" " alt="" coords="248,430,392,471"/>
<area shape="rect" href="lapic_8c.html#a870119cb74033f360164df90029af75a" title=" " alt="" coords="458,81,677,108"/>
<area shape="rect" href="lapic_8c.html#ae8c127c0d736bacbfa2cdc6b3fd5c2f6" title=" " alt="" coords="452,208,683,235"/>
<area shape="rect" href="lapic_8c.html#a8fb87d02d911e49b5793e391702afe7e" title=" " alt="" coords="507,284,628,311"/>
<area shape="rect" href="lapic_8h.html#a07d3e1e4090a62753325dfa11d232cea" title=" " alt="" coords="1021,157,1164,184"/>
<area shape="rect" href="lapic_8c.html#a98bde25094c754b30e796357ba643ab0" title=" " alt="" coords="770,107,926,133"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="775,5,921,32"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1013,5,1172,32"/>
<area shape="rect" href="lapic_8c.html#a8bdd67ff70db633e45cce412fb4c7718" title=" " alt="" coords="788,208,908,235"/>
<area shape="rect" href="lapic_8h.html#a4f07303d20a06eeb408d4985c5e15096" title=" " alt="" coords="792,259,904,285"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="482,349,653,376"/>
<area shape="rect" href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4" title=" " alt="" coords="508,400,627,427"/>
<area shape="rect" href="lapic_8c.html#aee815bad0e899bbf195750d2d9b5470f" title=" " alt="" coords="475,495,659,537"/>
<area shape="rect" href="lapic_8c.html#a47d52843df792ef8e7bffdfb66a3b40b" title=" " alt="" coords="757,360,939,387"/>
<area shape="rect" href="lapic_8c.html#a079d589509607a9d9baa6bed3eae7fa6" title=" " alt="" coords="755,411,941,453"/>
<area shape="rect" href="lapic_8c.html#abbce6da431ef5f15d85b5fc741d3ef72" title=" " alt="" coords="743,477,953,504"/>
<area shape="rect" href="lapic_8c.html#a2381239fbfde7c282aabdd2c01f50ad3" title=" " alt="" coords="731,528,965,555"/>
<area shape="rect" href="lapic_8h.html#adfbea71ac96b210fb91bef47c77194f1" title=" " alt="" coords="751,579,945,605"/>
<area shape="rect" href="x86_8c.html#a47d88660a2a5f8ee22df1253604d1ed7" title=" " alt="" coords="769,630,927,671"/>
<area shape="rect" href="lapic_8c.html#ac9fecb7d9f4574931650af9abb4b9f4c" title=" " alt="" coords="767,696,929,723"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a6de5d9a13302fceb034b8d75b4c787e2_icgraph.png" border="0" usemap="#airq__comm_8c_a6de5d9a13302fceb034b8d75b4c787e2_icgraph" alt=""/></div>
<map name="airq__comm_8c_a6de5d9a13302fceb034b8d75b4c787e2_icgraph" id="airq__comm_8c_a6de5d9a13302fceb034b8d75b4c787e2_icgraph">
<area shape="rect" title=" " alt="" coords="401,31,584,57"/>
<area shape="rect" href="avic_8c.html#a24f70312b475fe0e0858ee3cc7e3af71" title=" " alt="" coords="212,5,344,32"/>
<area shape="rect" href="posted__intr_8c.html#ac8a6413833d1c0eecbd77d4e6c7ab484" title=" " alt="" coords="203,56,353,83"/>
<area shape="rect" href="avic_8c.html#a3a8b145ddec7a3dc1367a4e4e0df397e" title=" " alt="" coords="5,5,155,32"/>
</map>
</div>

</div>
</div>
<a id="a50293a78b5c0b6715243dc7854bcb210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50293a78b5c0b6715243dc7854bcb210">&#9670;&nbsp;</a></span>kvm_irq_delivery_to_apic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_irq_delivery_to_apic </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkvm__lapic.html">kvm_lapic</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_lapic_irq *&#160;</td>
          <td class="paramname"><em>irq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdest__map.html">dest_map</a> *&#160;</td>
          <td class="paramname"><em>dest_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00047">47</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;{</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordtype">int</span> r = -1;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keyword">struct </span>kvm_vcpu *vcpu, *lowest = NULL;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i, dest_vcpu_bitmap[BITS_TO_LONGS(KVM_MAX_VCPUS)];</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dest_vcpus = 0;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lapic_8c.html#a17eee4051fa1d41b805b09a195f64045">kvm_irq_delivery_to_apic_fast</a>(kvm, src, irq, &amp;r, <a class="code" href="structdest__map.html">dest_map</a>))</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">if</span> (irq-&gt;dest_mode == APIC_DEST_PHYSICAL &amp;&amp;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        irq-&gt;dest_id == 0xff &amp;&amp; <a class="code" href="lapic_8h.html#adfbea71ac96b210fb91bef47c77194f1">kvm_lowest_prio_delivery</a>(irq)) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        pr_info(<span class="stringliteral">&quot;apic: phys broadcast and lowest prio\n&quot;</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        irq-&gt;delivery_mode = APIC_DM_FIXED;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    memset(dest_vcpu_bitmap, 0, <span class="keyword">sizeof</span>(dest_vcpu_bitmap));</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    kvm_for_each_vcpu(i, vcpu, kvm) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="lapic_8h.html#ae7e74fde3e4fb01f561634e789b5eab4">kvm_apic_present</a>(vcpu))</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="lapic_8c.html#adb63e5a650d4571316b450d153a3105d">kvm_apic_match_dest</a>(vcpu, src, irq-&gt;shorthand,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                    irq-&gt;dest_id, irq-&gt;dest_mode))</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="lapic_8h.html#adfbea71ac96b210fb91bef47c77194f1">kvm_lowest_prio_delivery</a>(irq)) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="keywordflow">if</span> (r &lt; 0)</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                r = 0;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            r += <a class="code" href="lapic_8c.html#a3d272e1b73f22f797955e7ddea84b741">kvm_apic_set_irq</a>(vcpu, irq, <a class="code" href="structdest__map.html">dest_map</a>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="lapic_8h.html#a447b1b971acaf871dd62669b4aa3116f">kvm_apic_sw_enabled</a>(vcpu-&gt;arch.apic)) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="x86_8c.html#a47d88660a2a5f8ee22df1253604d1ed7">kvm_vector_hashing_enabled</a>()) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                <span class="keywordflow">if</span> (!lowest)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                    lowest = vcpu;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="lapic_8c.html#a47d52843df792ef8e7bffdfb66a3b40b">kvm_apic_compare_prio</a>(vcpu, lowest) &lt; 0)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                    lowest = vcpu;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                __set_bit(i, dest_vcpu_bitmap);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                dest_vcpus++;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span> (dest_vcpus != 0) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordtype">int</span> idx = <a class="code" href="lapic_8c.html#ac9fecb7d9f4574931650af9abb4b9f4c">kvm_vector_to_index</a>(irq-&gt;vector, dest_vcpus,</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                    dest_vcpu_bitmap, KVM_MAX_VCPUS);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        lowest = kvm_get_vcpu(kvm, idx);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span> (lowest)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        r = <a class="code" href="lapic_8c.html#a3d272e1b73f22f797955e7ddea84b741">kvm_apic_set_irq</a>(lowest, irq, <a class="code" href="structdest__map.html">dest_map</a>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
<div class="ttc" id="alapic_8c_html_a3d272e1b73f22f797955e7ddea84b741"><div class="ttname"><a href="lapic_8c.html#a3d272e1b73f22f797955e7ddea84b741">kvm_apic_set_irq</a></div><div class="ttdeci">int kvm_apic_set_irq(struct kvm_vcpu *vcpu, struct kvm_lapic_irq *irq, struct dest_map *dest_map)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l00823">lapic.c:823</a></div></div>
<div class="ttc" id="alapic_8c_html_a47d52843df792ef8e7bffdfb66a3b40b"><div class="ttname"><a href="lapic_8c.html#a47d52843df792ef8e7bffdfb66a3b40b">kvm_apic_compare_prio</a></div><div class="ttdeci">int kvm_apic_compare_prio(struct kvm_vcpu *vcpu1, struct kvm_vcpu *vcpu2)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01432">lapic.c:1432</a></div></div>
<div class="ttc" id="alapic_8c_html_ac9fecb7d9f4574931650af9abb4b9f4c"><div class="ttname"><a href="lapic_8c.html#ac9fecb7d9f4574931650af9abb4b9f4c">kvm_vector_to_index</a></div><div class="ttdeci">int kvm_vector_to_index(u32 vector, u32 dest_vcpus, const unsigned long *bitmap, u32 bitmap_size)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01092">lapic.c:1092</a></div></div>
<div class="ttc" id="alapic_8h_html_a447b1b971acaf871dd62669b4aa3116f"><div class="ttname"><a href="lapic_8h.html#a447b1b971acaf871dd62669b4aa3116f">kvm_apic_sw_enabled</a></div><div class="ttdeci">static bool kvm_apic_sw_enabled(struct kvm_lapic *apic)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00204">lapic.h:204</a></div></div>
<div class="ttc" id="alapic_8h_html_adfbea71ac96b210fb91bef47c77194f1"><div class="ttname"><a href="lapic_8h.html#adfbea71ac96b210fb91bef47c77194f1">kvm_lowest_prio_delivery</a></div><div class="ttdeci">static bool kvm_lowest_prio_delivery(struct kvm_lapic_irq *irq)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00242">lapic.h:242</a></div></div>
<div class="ttc" id="astructdest__map_html"><div class="ttname"><a href="structdest__map.html">dest_map</a></div><div class="ttdef"><b>Definition:</b> <a href="ioapic_8h_source.html#l00040">ioapic.h:40</a></div></div>
<div class="ttc" id="ax86_8c_html_a47d88660a2a5f8ee22df1253604d1ed7"><div class="ttname"><a href="x86_8c.html#a47d88660a2a5f8ee22df1253604d1ed7">kvm_vector_hashing_enabled</a></div><div class="ttdeci">bool kvm_vector_hashing_enabled(void)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8c_source.html#l13520">x86.c:13520</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a50293a78b5c0b6715243dc7854bcb210_cgraph.png" border="0" usemap="#airq__comm_8c_a50293a78b5c0b6715243dc7854bcb210_cgraph" alt=""/></div>
<map name="airq__comm_8c_a50293a78b5c0b6715243dc7854bcb210_cgraph" id="airq__comm_8c_a50293a78b5c0b6715243dc7854bcb210_cgraph">
<area shape="rect" title=" " alt="" coords="5,558,195,585"/>
<area shape="rect" href="lapic_8c.html#a47d52843df792ef8e7bffdfb66a3b40b" title=" " alt="" coords="764,332,945,358"/>
<area shape="rect" href="lapic_8c.html#adb63e5a650d4571316b450d153a3105d" title=" " alt="" coords="243,168,411,194"/>
<area shape="rect" href="lapic_8h.html#ae7e74fde3e4fb01f561634e789b5eab4" title=" " alt="" coords="256,870,397,897"/>
<area shape="rect" href="lapic_8c.html#a3d272e1b73f22f797955e7ddea84b741" title=" " alt="" coords="506,676,642,702"/>
<area shape="rect" href="lapic_8h.html#a447b1b971acaf871dd62669b4aa3116f" title=" " alt="" coords="1263,933,1433,960"/>
<area shape="rect" href="lapic_8c.html#a17eee4051fa1d41b805b09a195f64045" title=" " alt="" coords="249,610,404,651"/>
<area shape="rect" href="lapic_8h.html#adfbea71ac96b210fb91bef47c77194f1" title=" " alt="" coords="758,382,951,409"/>
<area shape="rect" href="x86_8c.html#a47d88660a2a5f8ee22df1253604d1ed7" title=" " alt="" coords="776,434,933,475"/>
<area shape="rect" href="lapic_8c.html#ac9fecb7d9f4574931650af9abb4b9f4c" title=" " alt="" coords="773,668,936,694"/>
<area shape="rect" href="lapic_8c.html#a870119cb74033f360164df90029af75a" title=" " alt="" coords="465,205,683,232"/>
<area shape="rect" href="lapic_8c.html#ae8c127c0d736bacbfa2cdc6b3fd5c2f6" title=" " alt="" coords="459,129,689,156"/>
<area shape="rect" href="lapic_8c.html#a8fb87d02d911e49b5793e391702afe7e" title=" " alt="" coords="513,28,635,54"/>
<area shape="rect" href="lapic_8h.html#a07d3e1e4090a62753325dfa11d232cea" title=" " alt="" coords="1037,180,1179,206"/>
<area shape="rect" href="lapic_8c.html#a98bde25094c754b30e796357ba643ab0" title=" " alt="" coords="777,180,933,206"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="782,281,927,308"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1029,281,1187,308"/>
<area shape="rect" href="lapic_8c.html#a8bdd67ff70db633e45cce412fb4c7718" title=" " alt="" coords="795,129,915,156"/>
<area shape="rect" href="lapic_8h.html#a4f07303d20a06eeb408d4985c5e15096" title=" " alt="" coords="799,78,911,105"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="1263,845,1433,872"/>
<area shape="rect" href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4" title=" " alt="" coords="515,921,633,948"/>
<area shape="rect" href="lapic_8c.html#a10d887046aaccb6cf4178421594dee10" title=" " alt="" coords="786,718,923,745"/>
<area shape="rect" href="lapic_8c.html#ab0bd88f2e9609cef51f64e40f0635c9d" title=" " alt="" coords="1054,820,1162,846"/>
<area shape="rect" href="lapic_8c.html#ad063ed2f42a913efa82bad52d1b58aa8" title=" " alt="" coords="1043,718,1173,745"/>
<area shape="rect" href="x86_8c.html#a09da0747db3b012bff918f94816f0bd0" title=" " alt="" coords="1045,769,1171,796"/>
<area shape="rect" href="smm_8h.html#adbee86ed847633616e1e3afcc7e98e6e" title=" " alt="" coords="1045,516,1171,542"/>
<area shape="rect" href="lapic_8h.html#ada4d7479e3c0f2e45cb1565dab78c198" title=" " alt="" coords="1020,566,1196,593"/>
<area shape="rect" href="lapic_8h.html#aecd6ca5347dbb81047584149b2291019" title=" " alt="" coords="1026,617,1190,644"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1047,668,1169,694"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1244,642,1452,669"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1271,693,1425,720"/>
<area shape="rect" href="lapic_8c.html#aee815bad0e899bbf195750d2d9b5470f" title=" " alt="" coords="482,492,666,534"/>
<area shape="rect" href="lapic_8c.html#a079d589509607a9d9baa6bed3eae7fa6" title=" " alt="" coords="762,602,947,643"/>
<area shape="rect" href="lapic_8c.html#abbce6da431ef5f15d85b5fc741d3ef72" title=" " alt="" coords="750,500,959,526"/>
<area shape="rect" href="lapic_8c.html#a2381239fbfde7c282aabdd2c01f50ad3" title=" " alt="" coords="737,550,972,577"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a50293a78b5c0b6715243dc7854bcb210_icgraph.png" border="0" usemap="#airq__comm_8c_a50293a78b5c0b6715243dc7854bcb210_icgraph" alt=""/></div>
<map name="airq__comm_8c_a50293a78b5c0b6715243dc7854bcb210_icgraph" id="airq__comm_8c_a50293a78b5c0b6715243dc7854bcb210_icgraph">
<area shape="rect" title=" " alt="" coords="2120,323,2309,349"/>
<area shape="rect" href="ioapic_8c.html#a729aea83e23e9c12f8404c81ce790486" title=" " alt="" coords="1934,107,2049,133"/>
<area shape="rect" href="lapic_8c.html#a4b7f12cb3ba68245df79bc30d938b728" title=" " alt="" coords="989,256,1135,283"/>
<area shape="rect" href="x86_8c.html#af5fc51c450176691c1b279340186ca98" title=" " alt="" coords="1911,399,2072,425"/>
<area shape="rect" href="irq__comm_8c.html#affb5599a3efafc186b72e78e4b31e904" title=" " alt="" coords="1937,323,2046,349"/>
<area shape="rect" href="hyperv_8c.html#a354f4e736dd1bb7561b7915cc96f2a0c" title=" " alt="" coords="1938,461,2045,488"/>
<area shape="rect" href="ioapic_8c.html#a8e44c406a4b3cb566af0df8557f0a55a" title=" " alt="" coords="1703,157,1815,184"/>
<area shape="rect" href="ioapic_8c.html#ac3a8acd4438c4c2163edbe2d634b7934" title=" " alt="" coords="1681,56,1838,83"/>
<area shape="rect" href="ioapic_8c.html#a09513db197ec60a06bb3cb9d55113a92" title=" " alt="" coords="1656,5,1863,32"/>
<area shape="rect" href="ioapic_8c.html#aa8c2de307d90885a123d3e5c77aa5a13" title=" " alt="" coords="1656,107,1863,133"/>
<area shape="rect" href="ioapic_8c.html#ab22660734f544ecfd993267943773a58" title=" " alt="" coords="1439,157,1601,184"/>
<area shape="rect" href="ioapic_8c.html#a5caccc7254bf08d5ebb620dec0a9ddac" title=" " alt="" coords="1446,208,1594,235"/>
<area shape="rect" href="ioapic_8c.html#a477f1b98bf8d9dfcd1e51c743d79ac47" title=" " alt="" coords="1241,157,1365,184"/>
<area shape="rect" href="x86_8c.html#a9c81b1b4617fffe8115b748bf5f13860" title=" " alt="" coords="966,117,1158,144"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="746,67,895,93"/>
<area shape="rect" href="irq__comm_8c.html#ae12bd4085acdb92be18af95ac983d5a5" title=" " alt="" coords="1229,309,1377,336"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="976,360,1148,387"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="745,391,897,417"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="516,399,671,425"/>
<area shape="rect" href="ioapic_8c.html#a9e41d37256b6c8c3c80df1a752d66fbe" title=" " alt="" coords="1447,56,1593,83"/>
<area shape="rect" href="ioapic_8c.html#a21c528e901ef596bba3f882ed5ac9597" title=" " alt="" coords="1240,7,1365,33"/>
<area shape="rect" href="ioapic_8c.html#a902413d17a9a7262f3e9979bdb7b7209" title=" " alt="" coords="1432,107,1608,133"/>
<area shape="rect" href="lapic_8c.html#a5001020f0ca8d6d692c54dd23b40ade4" title=" " alt="" coords="1221,107,1384,133"/>
<area shape="rect" href="lapic_8c.html#af5602fb092ac09abc6c2bf0ad789d726" title=" " alt="" coords="1011,168,1113,195"/>
<area shape="rect" href="lapic_8c.html#a501cf23b440691f979fad04c87067f93" title=" " alt="" coords="951,67,1173,93"/>
<area shape="rect" href="lapic_8c.html#acebc0ffd4530dfd1beb1254d1e4d9491" title=" " alt="" coords="742,168,899,195"/>
<area shape="rect" href="lapic_8c.html#a58177b5add54a17bfa81e2a1049f324e" title=" " alt="" coords="526,117,661,144"/>
<area shape="rect" href="lapic_8c.html#a1b33bb5758d3dd75c7b87e537a5e729e" title=" " alt="" coords="496,231,691,257"/>
<area shape="rect" href="lapic_8c.html#a1b64be7f231109aa3e0382cc34a64079" title=" " alt="" coords="513,168,674,195"/>
<area shape="rect" href="lapic_8c.html#ab6d8f3638f580c8d6dcd091512c49768" title=" " alt="" coords="522,41,665,68"/>
<area shape="rect" href="avic_8c.html#a4a11c0014568405b90307ef68285e4ff" title=" " alt="" coords="278,289,430,330"/>
<area shape="rect" href="avic_8c.html#abf44c96047cb51680ff358ad52747b93" title=" " alt="" coords="265,237,443,264"/>
<area shape="rect" href="vmx_8c.html#aa25166160931e80a671ab6f919d64760" title=" " alt="" coords="284,187,424,213"/>
<area shape="rect" href="avic_8c.html#a299de3990a5ce5ce873df7afe2b3338f" title=" " alt="" coords="29,230,188,271"/>
<area shape="rect" href="lapic_8c.html#acd2b4e5a0448d3280ab31687c2199265" title=" " alt="" coords="260,136,448,163"/>
<area shape="rect" href="lapic_8c.html#a7d2f3f34c12c8c724fe739cbbc44ad43" title=" " alt="" coords="267,85,441,112"/>
<area shape="rect" href="hyperv_8c.html#adbfbc91bbdd19f529b4489eb1d8e1ec7" title=" " alt="" coords="42,136,175,163"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="21,85,196,112"/>
<area shape="rect" href="vmx_8c.html#adc5f600eadc84c85aa0b9982dc6fb210" title=" " alt="" coords="279,35,429,61"/>
<area shape="rect" href="lapic_8c.html#adf2487dc76dace6e577b637cc357998b" title=" " alt="" coords="739,231,903,257"/>
<area shape="rect" href="x86_8c.html#aa034c812534431b2514d9ab68edddc71" title=" " alt="" coords="516,333,671,374"/>
<area shape="rect" href="x86_8c.html#a8a37294ff599bdc5183d75ecdd61412a" title=" " alt="" coords="277,354,431,395"/>
<area shape="rect" href="svm_8c.html#a82c8447e70f06dd52623c696446104b5" title=" " alt="" coords="5,336,212,363"/>
<area shape="rect" href="vmx_8c.html#a3217468b58ef72d3e7e7d40024c24b67" title=" " alt="" coords="5,387,212,413"/>
<area shape="rect" href="x86_8c.html#abc413db5ba414fb0a89e7ffc1fb81e60" title=" " alt="" coords="1670,411,1849,437"/>
<area shape="rect" href="irqchip_8c.html#a2440f4d2a02137c955ea1d22eeb13c8f" title=" " alt="" coords="1663,309,1856,336"/>
<area shape="rect" href="hyperv_8c.html#a58a0b2f0d885a5c26d581cb31ddb44b2" title=" " alt="" coords="1676,461,1843,488"/>
<area shape="rect" href="hyperv_8c.html#a65da04a05fd330933db375dd33f6cfee" title=" " alt="" coords="1688,512,1831,539"/>
<area shape="rect" href="hyperv_8c.html#a3bfbf343eefc11963b210ba8322f6826" title=" " alt="" coords="1451,512,1589,539"/>
<area shape="rect" href="hyperv_8c.html#acbc8238b9eb8f24485d6bc9eefc06474" title=" " alt="" coords="1234,512,1371,539"/>
</map>
</div>

</div>
</div>
<a id="a8df04bdfde7c5b2ced40084fa4a7452b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8df04bdfde7c5b2ced40084fa4a7452b">&#9670;&nbsp;</a></span>kvm_msi_route_invalid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool kvm_msi_route_invalid </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_kernel_irq_routing_entry *&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00125">125</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> kvm-&gt;arch.x2apic_format &amp;&amp; (e-&gt;msi.address_hi &amp; 0xff);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a8df04bdfde7c5b2ced40084fa4a7452b_icgraph.png" border="0" usemap="#airq__comm_8c_a8df04bdfde7c5b2ced40084fa4a7452b_icgraph" alt=""/></div>
<map name="airq__comm_8c_a8df04bdfde7c5b2ced40084fa4a7452b_icgraph" id="airq__comm_8c_a8df04bdfde7c5b2ced40084fa4a7452b_icgraph">
<area shape="rect" title=" " alt="" coords="1569,56,1744,83"/>
<area shape="rect" href="irq__comm_8c.html#ae7b7837b6e17bc60af3f4d81e9a4147e" title=" " alt="" coords="1320,5,1521,32"/>
<area shape="rect" href="irq__comm_8c.html#affb5599a3efafc186b72e78e4b31e904" title=" " alt="" coords="1366,56,1475,83"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="1089,107,1261,133"/>
<area shape="rect" href="irqchip_8c.html#a2440f4d2a02137c955ea1d22eeb13c8f" title=" " alt="" coords="1079,56,1272,83"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="879,107,1031,133"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="676,107,831,133"/>
<area shape="rect" href="irq_8h.html#aaf23e09ccf4b445556e56ea8598e1311" title=" " alt="" coords="461,99,628,141"/>
<area shape="rect" href="x86_8c.html#aaf3dbbe842e06195f2e46694ea837380" title=" " alt="" coords="219,107,413,133"/>
<area shape="rect" href="kvm__main_8c.html#aaeec02d207c8ce5ca12b1ef2ac36fae0" title=" " alt="" coords="5,99,171,141"/>
</map>
</div>

</div>
</div>
<a id="aa0e8495c42bef0a27d11e33d57141a78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0e8495c42bef0a27d11e33d57141a78">&#9670;&nbsp;</a></span>kvm_register_irq_mask_notifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_register_irq_mask_notifier </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_irq_mask_notifier *&#160;</td>
          <td class="paramname"><em>kimn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00241">241</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;{</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    mutex_lock(&amp;kvm-&gt;irq_lock);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    kimn-&gt;irq = irq;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    hlist_add_head_rcu(&amp;kimn-&gt;link, &amp;kvm-&gt;arch.mask_notifier_list);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    mutex_unlock(&amp;kvm-&gt;irq_lock);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_aa0e8495c42bef0a27d11e33d57141a78_icgraph.png" border="0" usemap="#airq__comm_8c_aa0e8495c42bef0a27d11e33d57141a78_icgraph" alt=""/></div>
<map name="airq__comm_8c_aa0e8495c42bef0a27d11e33d57141a78_icgraph" id="airq__comm_8c_aa0e8495c42bef0a27d11e33d57141a78_icgraph">
<area shape="rect" title=" " alt="" coords="1547,150,1721,191"/>
<area shape="rect" href="i8254_8c.html#a27233516d999d8230f70ee545f0afd5f" title=" " alt="" coords="1340,157,1499,184"/>
<area shape="rect" href="i8254_8c.html#a13a38debbd4e494ffd488ef8abb5406c" title=" " alt="" coords="1145,107,1268,133"/>
<area shape="rect" href="i8254_8c.html#a2a7ca7f5194b378ba7f0ae7a38cc26ba" title=" " alt="" coords="1153,208,1261,235"/>
<area shape="rect" href="x86_8c.html#a38137bd6d02c5ae30d3751637d6f16bf" title=" " alt="" coords="1121,157,1292,184"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="911,132,1061,159"/>
<area shape="rect" href="x86_8c.html#a6f324dc73c5f97fe0b9dfa35f303d5f9" title=" " alt="" coords="899,208,1073,235"/>
<area shape="rect" href="kvm__main_8c.html#afd922c538c448ab1248cdb9dccae9410" title=" " alt="" coords="716,208,851,235"/>
<area shape="rect" href="kvm__main_8c.html#a013962010b954d8597e5987fd27c8241" title=" " alt="" coords="553,208,668,235"/>
<area shape="rect" href="kvm__main_8c.html#a37fa7805021941c56fe174eae4c8c377" title=" " alt="" coords="325,5,475,32"/>
<area shape="rect" href="kvm__main_8c.html#af19040bdcea372f13eab66499d99201c" title=" " alt="" coords="317,56,483,83"/>
<area shape="rect" href="kvm__main_8c.html#a955de4f2a1b3371438636eccab732b27" title=" " alt="" coords="303,107,497,133"/>
<area shape="rect" href="guest__memfd_8c.html#ad8912fbda61cdcb6d9e5a3c0f839e001" title=" " alt="" coords="323,157,477,184"/>
<area shape="rect" href="debugfs_8c.html#ae48a8d31368e51cbe5f950df129f5285" title=" " alt="" coords="295,208,505,235"/>
<area shape="rect" href="debugfs_8c.html#af0427db3ec1a8c38ea51591abbefde57" title=" " alt="" coords="314,259,486,301"/>
<area shape="rect" href="kvm__main_8c.html#af67afbdcee89641f21573ac643d8e693" title=" " alt="" coords="333,325,467,352"/>
<area shape="rect" href="sev_8c.html#ad28fd793149997c912b52490f6ca139a" title=" " alt="" coords="329,376,471,403"/>
<area shape="rect" href="sev_8c.html#af1eb77eac84f085b0a943b87f783e30d" title=" " alt="" coords="335,427,465,453"/>
<area shape="rect" href="kvm__main_8c.html#a87bcafdc42ee32aedb84df5e564f9872" title=" " alt="" coords="47,5,205,32"/>
<area shape="rect" href="sev_8c.html#abe3c569b297da3b78824074b8c08f9a7" title=" " alt="" coords="5,376,247,403"/>
<area shape="rect" href="svm_8c.html#a0e69cefce46e7b11e1e8e056ea5b6561" title=" " alt="" coords="59,427,193,453"/>
</map>
</div>

</div>
</div>
<a id="a42a016687e649ff8df697ec693ebccf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a016687e649ff8df697ec693ebccf3">&#9670;&nbsp;</a></span>kvm_request_irq_source_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_request_irq_source_id </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00197">197</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *bitmap = &amp;kvm-&gt;arch.irq_sources_bitmap;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordtype">int</span> irq_source_id;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    mutex_lock(&amp;kvm-&gt;irq_lock);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    irq_source_id = find_first_zero_bit(bitmap, BITS_PER_LONG);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> (irq_source_id &gt;= BITS_PER_LONG) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        pr_warn(<span class="stringliteral">&quot;exhausted allocatable IRQ sources!\n&quot;</span>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        irq_source_id = -EFAULT;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">goto</span> unlock;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="ioapic_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(irq_source_id != KVM_USERSPACE_IRQ_SOURCE_ID);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="ioapic_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(irq_source_id != KVM_IRQFD_RESAMPLE_IRQ_SOURCE_ID);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    set_bit(irq_source_id, bitmap);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;unlock:</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    mutex_unlock(&amp;kvm-&gt;irq_lock);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">return</span> irq_source_id;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a42a016687e649ff8df697ec693ebccf3_icgraph.png" border="0" usemap="#airq__comm_8c_a42a016687e649ff8df697ec693ebccf3_icgraph" alt=""/></div>
<map name="airq__comm_8c_a42a016687e649ff8df697ec693ebccf3_icgraph" id="airq__comm_8c_a42a016687e649ff8df697ec693ebccf3_icgraph">
<area shape="rect" title=" " alt="" coords="373,5,573,32"/>
<area shape="rect" href="i8254_8c.html#a13a38debbd4e494ffd488ef8abb5406c" title=" " alt="" coords="203,5,325,32"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="5,5,155,32"/>
</map>
</div>

</div>
</div>
<a id="a049de3e03383dab21c2cb6c3033e66ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a049de3e03383dab21c2cb6c3033e66ae">&#9670;&nbsp;</a></span>kvm_scan_ioapic_routes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_scan_ioapic_routes </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulong *&#160;</td>
          <td class="paramname"><em>ioapic_handled_vectors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00412">412</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;{</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keyword">struct </span>kvm *kvm = vcpu-&gt;kvm;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keyword">struct </span>kvm_kernel_irq_routing_entry *entry;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keyword">struct </span>kvm_irq_routing_table *table;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    u32 i, nr_ioapic_pins;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordtype">int</span> idx;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    idx = srcu_read_lock(&amp;kvm-&gt;irq_srcu);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    table = srcu_dereference(kvm-&gt;irq_routing, &amp;kvm-&gt;irq_srcu);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    nr_ioapic_pins = min_t(u32, table-&gt;nr_rt_entries,</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                   kvm-&gt;arch.nr_reserved_ioapic_pins);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; nr_ioapic_pins; ++i) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        hlist_for_each_entry(entry, &amp;table-&gt;map[i], link) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="keyword">struct </span>kvm_lapic_irq irq;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">if</span> (entry-&gt;type != KVM_IRQ_ROUTING_MSI)</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <a class="code" href="irq__comm_8c.html#a6270cddb139f2ca4f42d21f8caaa1224">kvm_set_msi_irq</a>(vcpu-&gt;kvm, entry, &amp;irq);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">if</span> (irq.trig_mode &amp;&amp;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                (<a class="code" href="lapic_8c.html#adb63e5a650d4571316b450d153a3105d">kvm_apic_match_dest</a>(vcpu, NULL, <a class="code" href="lapic_8h.html#acc73bace457403e7d23ff22afac7df0f">APIC_DEST_NOSHORT</a>,</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                         irq.dest_id, irq.dest_mode) ||</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                 <a class="code" href="lapic_8c.html#a637f6f499709ab30e61db1b69177ea00">kvm_apic_pending_eoi</a>(vcpu, irq.vector)))</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                __set_bit(irq.vector, ioapic_handled_vectors);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    srcu_read_unlock(&amp;kvm-&gt;irq_srcu, idx);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;}</div>
<div class="ttc" id="alapic_8c_html_a637f6f499709ab30e61db1b69177ea00"><div class="ttname"><a href="lapic_8c.html#a637f6f499709ab30e61db1b69177ea00">kvm_apic_pending_eoi</a></div><div class="ttdeci">bool kvm_apic_pending_eoi(struct kvm_vcpu *vcpu, int vector)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l00110">lapic.c:110</a></div></div>
<div class="ttc" id="alapic_8h_html_acc73bace457403e7d23ff22afac7df0f"><div class="ttname"><a href="lapic_8h.html#acc73bace457403e7d23ff22afac7df0f">APIC_DEST_NOSHORT</a></div><div class="ttdeci">#define APIC_DEST_NOSHORT</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00016">lapic.h:16</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a049de3e03383dab21c2cb6c3033e66ae_cgraph.png" border="0" usemap="#airq__comm_8c_a049de3e03383dab21c2cb6c3033e66ae_cgraph" alt=""/></div>
<map name="airq__comm_8c_a049de3e03383dab21c2cb6c3033e66ae_cgraph" id="airq__comm_8c_a049de3e03383dab21c2cb6c3033e66ae_cgraph">
<area shape="rect" title=" " alt="" coords="5,271,188,297"/>
<area shape="rect" href="lapic_8c.html#adb63e5a650d4571316b450d153a3105d" title=" " alt="" coords="237,208,405,235"/>
<area shape="rect" href="lapic_8c.html#a637f6f499709ab30e61db1b69177ea00" title=" " alt="" coords="236,271,407,297"/>
<area shape="rect" href="irq__comm_8c.html#a6270cddb139f2ca4f42d21f8caaa1224" title=" " alt="" coords="255,321,388,348"/>
<area shape="rect" href="lapic_8c.html#a870119cb74033f360164df90029af75a" title=" " alt="" coords="461,81,679,108"/>
<area shape="rect" href="lapic_8c.html#ae8c127c0d736bacbfa2cdc6b3fd5c2f6" title=" " alt="" coords="455,183,685,209"/>
<area shape="rect" href="lapic_8c.html#a8fb87d02d911e49b5793e391702afe7e" title=" " alt="" coords="509,233,631,260"/>
<area shape="rect" href="lapic_8h.html#a07d3e1e4090a62753325dfa11d232cea" title=" " alt="" coords="945,132,1088,159"/>
<area shape="rect" href="lapic_8c.html#a98bde25094c754b30e796357ba643ab0" title=" " alt="" coords="733,107,889,133"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="739,5,884,32"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="937,5,1096,32"/>
<area shape="rect" href="lapic_8c.html#a8bdd67ff70db633e45cce412fb4c7718" title=" " alt="" coords="751,208,871,235"/>
<area shape="rect" href="lapic_8h.html#a4f07303d20a06eeb408d4985c5e15096" title=" " alt="" coords="755,259,867,285"/>
<area shape="rect" href="lapic_8c.html#ad063ed2f42a913efa82bad52d1b58aa8" title=" " alt="" coords="505,284,635,311"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a049de3e03383dab21c2cb6c3033e66ae_icgraph.png" border="0" usemap="#airq__comm_8c_a049de3e03383dab21c2cb6c3033e66ae_icgraph" alt=""/></div>
<map name="airq__comm_8c_a049de3e03383dab21c2cb6c3033e66ae_icgraph" id="airq__comm_8c_a049de3e03383dab21c2cb6c3033e66ae_icgraph">
<area shape="rect" title=" " alt="" coords="911,5,1093,32"/>
<area shape="rect" href="x86_8c.html#a8aac590d2b896fcad86c5a2971164c1c" title=" " alt="" coords="727,5,863,32"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="541,5,679,32"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="412,5,493,32"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="177,5,364,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="ae12bd4085acdb92be18af95ac983d5a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae12bd4085acdb92be18af95ac983d5a5">&#9670;&nbsp;</a></span>kvm_set_ioapic_irq()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kvm_set_ioapic_irq </td>
          <td>(</td>
          <td class="paramtype">struct kvm_kernel_irq_routing_entry *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq_source_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>line_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00038">38</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keyword">struct </span><a class="code" href="structkvm__ioapic.html">kvm_ioapic</a> *ioapic = <a class="code" href="structkvm__ioapic.html#ab6202d251378b4be3e665252dc791001">kvm</a>-&gt;arch.vioapic;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ioapic_8c.html#a5caccc7254bf08d5ebb620dec0a9ddac">kvm_ioapic_set_irq</a>(ioapic, e-&gt;irqchip.pin, irq_source_id, level,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                line_status);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
<div class="ttc" id="aioapic_8c_html_a5caccc7254bf08d5ebb620dec0a9ddac"><div class="ttname"><a href="ioapic_8c.html#a5caccc7254bf08d5ebb620dec0a9ddac">kvm_ioapic_set_irq</a></div><div class="ttdeci">int kvm_ioapic_set_irq(struct kvm_ioapic *ioapic, int irq, int irq_source_id, int level, bool line_status)</div><div class="ttdef"><b>Definition:</b> <a href="ioapic_8c_source.html#l00485">ioapic.c:485</a></div></div>
<div class="ttc" id="astructkvm__ioapic_html"><div class="ttname"><a href="structkvm__ioapic.html">kvm_ioapic</a></div><div class="ttdef"><b>Definition:</b> <a href="ioapic_8h_source.html#l00074">ioapic.h:74</a></div></div>
<div class="ttc" id="astructkvm__ioapic_html_ab6202d251378b4be3e665252dc791001"><div class="ttname"><a href="structkvm__ioapic.html#ab6202d251378b4be3e665252dc791001">kvm_ioapic::kvm</a></div><div class="ttdeci">struct kvm * kvm</div><div class="ttdef"><b>Definition:</b> <a href="ioapic_8h_source.html#l00083">ioapic.h:83</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_ae12bd4085acdb92be18af95ac983d5a5_cgraph.png" border="0" usemap="#airq__comm_8c_ae12bd4085acdb92be18af95ac983d5a5_cgraph" alt=""/></div>
<map name="airq__comm_8c_ae12bd4085acdb92be18af95ac983d5a5_cgraph" id="airq__comm_8c_ae12bd4085acdb92be18af95ac983d5a5_cgraph">
<area shape="rect" title=" " alt="" coords="5,310,153,336"/>
<area shape="rect" href="ioapic_8c.html#a5caccc7254bf08d5ebb620dec0a9ddac" title=" " alt="" coords="201,310,349,336"/>
<area shape="rect" href="ioapic_8c.html#a8e44c406a4b3cb566af0df8557f0a55a" title=" " alt="" coords="397,310,509,336"/>
<area shape="rect" href="ioapic_8c.html#a3ec3324d9c7d9168d100c79fc7c19b33" title=" " alt="" coords="560,151,735,178"/>
<area shape="rect" href="ioapic_8c.html#a729aea83e23e9c12f8404c81ce790486" title=" " alt="" coords="785,340,900,367"/>
<area shape="rect" href="x86_8c.html#a21212b8e1a82cdc8ac696137981d8d7a" title=" " alt="" coords="567,335,728,362"/>
<area shape="rect" href="ioapic_8c.html#a12aa3b8189c98c3582a1c2155756aae9" title=" " alt="" coords="557,386,737,412"/>
<area shape="rect" href="lapic_8c.html#adb63e5a650d4571316b450d153a3105d" title=" " alt="" coords="1661,120,1829,147"/>
<area shape="rect" href="lapic_8c.html#a637f6f499709ab30e61db1b69177ea00" title=" " alt="" coords="1660,228,1831,255"/>
<area shape="rect" href="ioapic_8c.html#aa590f4d1416bf84560a4e9693c638f55" title=" " alt="" coords="797,124,888,151"/>
<area shape="rect" href="lapic_8c.html#a870119cb74033f360164df90029af75a" title=" " alt="" coords="1917,224,2135,251"/>
<area shape="rect" href="lapic_8c.html#ae8c127c0d736bacbfa2cdc6b3fd5c2f6" title=" " alt="" coords="1911,122,2141,148"/>
<area shape="rect" href="lapic_8c.html#a8fb87d02d911e49b5793e391702afe7e" title=" " alt="" coords="2233,20,2355,47"/>
<area shape="rect" href="lapic_8h.html#a07d3e1e4090a62753325dfa11d232cea" title=" " alt="" coords="2455,223,2597,250"/>
<area shape="rect" href="lapic_8c.html#a98bde25094c754b30e796357ba643ab0" title=" " alt="" coords="2216,223,2372,250"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="2221,324,2367,351"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="2447,324,2605,351"/>
<area shape="rect" href="lapic_8c.html#a8bdd67ff70db633e45cce412fb4c7718" title=" " alt="" coords="2234,71,2354,98"/>
<area shape="rect" href="lapic_8h.html#a4f07303d20a06eeb408d4985c5e15096" title=" " alt="" coords="2238,122,2350,148"/>
<area shape="rect" href="lapic_8c.html#ad063ed2f42a913efa82bad52d1b58aa8" title=" " alt="" coords="1961,514,2091,540"/>
<area shape="rect" href="ioapic_8c.html#a1d24315dec2401b4c45b224469c7379d" title=" " alt="" coords="970,113,1115,154"/>
<area shape="rect" href="ioapic_8c.html#a6a7d0d8b3a3717172c57ed1916318952" title=" " alt="" coords="1185,54,1348,96"/>
<area shape="rect" href="ioapic_8c.html#aca4e6c938829fb401b5c01cba3bd19b2" title=" " alt="" coords="1406,113,1570,154"/>
<area shape="rect" href="ioapic_8c.html#a4d9be607caa84875994b688c86711dcc" title=" " alt="" coords="1413,48,1563,89"/>
<area shape="rect" href="irq_8h.html#a50293a78b5c0b6715243dc7854bcb210" title=" " alt="" coords="948,420,1137,447"/>
<area shape="rect" href="lapic_8c.html#a47d52843df792ef8e7bffdfb66a3b40b" title=" " alt="" coords="1655,447,1836,474"/>
<area shape="rect" href="lapic_8h.html#ae7e74fde3e4fb01f561634e789b5eab4" title=" " alt="" coords="1196,740,1337,767"/>
<area shape="rect" href="lapic_8c.html#a3d272e1b73f22f797955e7ddea84b741" title=" " alt="" coords="1420,563,1556,590"/>
<area shape="rect" href="lapic_8h.html#a447b1b971acaf871dd62669b4aa3116f" title=" " alt="" coords="2209,516,2379,543"/>
<area shape="rect" href="lapic_8c.html#a17eee4051fa1d41b805b09a195f64045" title=" " alt="" coords="1189,497,1344,538"/>
<area shape="rect" href="lapic_8h.html#adfbea71ac96b210fb91bef47c77194f1" title=" " alt="" coords="1649,716,1842,743"/>
<area shape="rect" href="x86_8c.html#a47d88660a2a5f8ee22df1253604d1ed7" title=" " alt="" coords="1667,330,1824,372"/>
<area shape="rect" href="lapic_8c.html#ac9fecb7d9f4574931650af9abb4b9f4c" title=" " alt="" coords="1664,396,1827,423"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="2209,655,2379,682"/>
<area shape="rect" href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4" title=" " alt="" coords="1429,740,1547,767"/>
<area shape="rect" href="lapic_8c.html#a10d887046aaccb6cf4178421594dee10" title=" " alt="" coords="1677,666,1814,692"/>
<area shape="rect" href="lapic_8c.html#ab0bd88f2e9609cef51f64e40f0635c9d" title=" " alt="" coords="1972,564,2080,591"/>
<area shape="rect" href="x86_8c.html#a09da0747db3b012bff918f94816f0bd0" title=" " alt="" coords="1963,615,2089,642"/>
<area shape="rect" href="smm_8h.html#adbee86ed847633616e1e3afcc7e98e6e" title=" " alt="" coords="1963,666,2089,692"/>
<area shape="rect" href="lapic_8h.html#ada4d7479e3c0f2e45cb1565dab78c198" title=" " alt="" coords="1938,716,2114,743"/>
<area shape="rect" href="lapic_8h.html#aecd6ca5347dbb81047584149b2291019" title=" " alt="" coords="1944,767,2108,794"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1965,868,2087,895"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="2190,843,2398,870"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="2217,894,2371,920"/>
<area shape="rect" href="lapic_8c.html#aee815bad0e899bbf195750d2d9b5470f" title=" " alt="" coords="1396,497,1580,538"/>
<area shape="rect" href="lapic_8c.html#a079d589509607a9d9baa6bed3eae7fa6" title=" " alt="" coords="1653,600,1838,641"/>
<area shape="rect" href="lapic_8c.html#abbce6da431ef5f15d85b5fc741d3ef72" title=" " alt="" coords="2189,418,2399,444"/>
<area shape="rect" href="lapic_8c.html#a2381239fbfde7c282aabdd2c01f50ad3" title=" " alt="" coords="1628,548,1863,575"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_ae12bd4085acdb92be18af95ac983d5a5_icgraph.png" border="0" usemap="#airq__comm_8c_ae12bd4085acdb92be18af95ac983d5a5_icgraph" alt=""/></div>
<map name="airq__comm_8c_ae12bd4085acdb92be18af95ac983d5a5_icgraph" id="airq__comm_8c_ae12bd4085acdb92be18af95ac983d5a5_icgraph">
<area shape="rect" title=" " alt="" coords="1299,13,1447,39"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="1079,13,1251,39"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="879,13,1031,39"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="676,13,831,39"/>
<area shape="rect" href="irq_8h.html#aaf23e09ccf4b445556e56ea8598e1311" title=" " alt="" coords="461,5,628,47"/>
<area shape="rect" href="x86_8c.html#aaf3dbbe842e06195f2e46694ea837380" title=" " alt="" coords="219,13,413,39"/>
<area shape="rect" href="kvm__main_8c.html#aaeec02d207c8ce5ca12b1ef2ac36fae0" title=" " alt="" coords="5,5,171,47"/>
</map>
</div>

</div>
</div>
<a id="affb5599a3efafc186b72e78e4b31e904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affb5599a3efafc186b72e78e4b31e904">&#9670;&nbsp;</a></span>kvm_set_msi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_set_msi </td>
          <td>(</td>
          <td class="paramtype">struct kvm_kernel_irq_routing_entry *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq_source_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>line_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00131">131</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keyword">struct </span>kvm_lapic_irq irq;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="irq__comm_8c.html#a8df04bdfde7c5b2ced40084fa4a7452b">kvm_msi_route_invalid</a>(kvm, e))</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">if</span> (!level)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="irq__comm_8c.html#a6270cddb139f2ca4f42d21f8caaa1224">kvm_set_msi_irq</a>(kvm, e, &amp;irq);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="irq__comm_8c.html#a50293a78b5c0b6715243dc7854bcb210">kvm_irq_delivery_to_apic</a>(kvm, NULL, &amp;irq, NULL);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
<div class="ttc" id="airq__comm_8c_html_a50293a78b5c0b6715243dc7854bcb210"><div class="ttname"><a href="irq__comm_8c.html#a50293a78b5c0b6715243dc7854bcb210">kvm_irq_delivery_to_apic</a></div><div class="ttdeci">int kvm_irq_delivery_to_apic(struct kvm *kvm, struct kvm_lapic *src, struct kvm_lapic_irq *irq, struct dest_map *dest_map)</div><div class="ttdef"><b>Definition:</b> <a href="irq__comm_8c_source.html#l00047">irq_comm.c:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_affb5599a3efafc186b72e78e4b31e904_cgraph.png" border="0" usemap="#airq__comm_8c_affb5599a3efafc186b72e78e4b31e904_cgraph" alt=""/></div>
<map name="airq__comm_8c_affb5599a3efafc186b72e78e4b31e904_cgraph" id="airq__comm_8c_affb5599a3efafc186b72e78e4b31e904_cgraph">
<area shape="rect" title=" " alt="" coords="5,609,115,636"/>
<area shape="rect" href="irq__comm_8c.html#a50293a78b5c0b6715243dc7854bcb210" title=" " alt="" coords="163,558,352,585"/>
<area shape="rect" href="irq__comm_8c.html#a8df04bdfde7c5b2ced40084fa4a7452b" title=" " alt="" coords="170,609,345,636"/>
<area shape="rect" href="irq__comm_8c.html#a6270cddb139f2ca4f42d21f8caaa1224" title=" " alt="" coords="191,660,324,686"/>
<area shape="rect" href="lapic_8c.html#a47d52843df792ef8e7bffdfb66a3b40b" title=" " alt="" coords="921,332,1103,358"/>
<area shape="rect" href="lapic_8c.html#adb63e5a650d4571316b450d153a3105d" title=" " alt="" coords="400,168,568,194"/>
<area shape="rect" href="lapic_8h.html#ae7e74fde3e4fb01f561634e789b5eab4" title=" " alt="" coords="413,870,555,897"/>
<area shape="rect" href="lapic_8c.html#a3d272e1b73f22f797955e7ddea84b741" title=" " alt="" coords="663,676,799,702"/>
<area shape="rect" href="lapic_8h.html#a447b1b971acaf871dd62669b4aa3116f" title=" " alt="" coords="1421,933,1590,960"/>
<area shape="rect" href="lapic_8c.html#a17eee4051fa1d41b805b09a195f64045" title=" " alt="" coords="407,610,561,651"/>
<area shape="rect" href="lapic_8h.html#adfbea71ac96b210fb91bef47c77194f1" title=" " alt="" coords="915,382,1109,409"/>
<area shape="rect" href="x86_8c.html#a47d88660a2a5f8ee22df1253604d1ed7" title=" " alt="" coords="933,434,1091,475"/>
<area shape="rect" href="lapic_8c.html#ac9fecb7d9f4574931650af9abb4b9f4c" title=" " alt="" coords="931,668,1093,694"/>
<area shape="rect" href="lapic_8c.html#a870119cb74033f360164df90029af75a" title=" " alt="" coords="622,205,841,232"/>
<area shape="rect" href="lapic_8c.html#ae8c127c0d736bacbfa2cdc6b3fd5c2f6" title=" " alt="" coords="616,129,847,156"/>
<area shape="rect" href="lapic_8c.html#a8fb87d02d911e49b5793e391702afe7e" title=" " alt="" coords="671,28,792,54"/>
<area shape="rect" href="lapic_8h.html#a07d3e1e4090a62753325dfa11d232cea" title=" " alt="" coords="1194,180,1337,206"/>
<area shape="rect" href="lapic_8c.html#a98bde25094c754b30e796357ba643ab0" title=" " alt="" coords="934,180,1090,206"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="939,281,1085,308"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1186,281,1345,308"/>
<area shape="rect" href="lapic_8c.html#a8bdd67ff70db633e45cce412fb4c7718" title=" " alt="" coords="952,129,1072,156"/>
<area shape="rect" href="lapic_8h.html#a4f07303d20a06eeb408d4985c5e15096" title=" " alt="" coords="956,78,1068,105"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="1420,845,1591,872"/>
<area shape="rect" href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4" title=" " alt="" coords="672,921,791,948"/>
<area shape="rect" href="lapic_8c.html#a10d887046aaccb6cf4178421594dee10" title=" " alt="" coords="943,718,1081,745"/>
<area shape="rect" href="lapic_8c.html#ab0bd88f2e9609cef51f64e40f0635c9d" title=" " alt="" coords="1211,820,1319,846"/>
<area shape="rect" href="lapic_8c.html#ad063ed2f42a913efa82bad52d1b58aa8" title=" " alt="" coords="1201,718,1330,745"/>
<area shape="rect" href="x86_8c.html#a09da0747db3b012bff918f94816f0bd0" title=" " alt="" coords="1202,769,1329,796"/>
<area shape="rect" href="smm_8h.html#adbee86ed847633616e1e3afcc7e98e6e" title=" " alt="" coords="1203,516,1328,542"/>
<area shape="rect" href="lapic_8h.html#ada4d7479e3c0f2e45cb1565dab78c198" title=" " alt="" coords="1177,566,1353,593"/>
<area shape="rect" href="lapic_8h.html#aecd6ca5347dbb81047584149b2291019" title=" " alt="" coords="1183,617,1347,644"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1204,668,1327,694"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1401,642,1609,669"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1429,693,1582,720"/>
<area shape="rect" href="lapic_8c.html#aee815bad0e899bbf195750d2d9b5470f" title=" " alt="" coords="639,492,823,534"/>
<area shape="rect" href="lapic_8c.html#a079d589509607a9d9baa6bed3eae7fa6" title=" " alt="" coords="919,602,1105,643"/>
<area shape="rect" href="lapic_8c.html#abbce6da431ef5f15d85b5fc741d3ef72" title=" " alt="" coords="907,500,1117,526"/>
<area shape="rect" href="lapic_8c.html#a2381239fbfde7c282aabdd2c01f50ad3" title=" " alt="" coords="895,550,1129,577"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_affb5599a3efafc186b72e78e4b31e904_icgraph.png" border="0" usemap="#airq__comm_8c_affb5599a3efafc186b72e78e4b31e904_icgraph" alt=""/></div>
<map name="airq__comm_8c_affb5599a3efafc186b72e78e4b31e904_icgraph" id="airq__comm_8c_affb5599a3efafc186b72e78e4b31e904_icgraph">
<area shape="rect" title=" " alt="" coords="1320,31,1429,57"/>
<area shape="rect" href="irqchip_8c.html#a2440f4d2a02137c955ea1d22eeb13c8f" title=" " alt="" coords="1079,5,1272,32"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="1089,56,1261,83"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="879,56,1031,83"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="676,56,831,83"/>
<area shape="rect" href="irq_8h.html#aaf23e09ccf4b445556e56ea8598e1311" title=" " alt="" coords="461,49,628,90"/>
<area shape="rect" href="x86_8c.html#aaf3dbbe842e06195f2e46694ea837380" title=" " alt="" coords="219,56,413,83"/>
<area shape="rect" href="kvm__main_8c.html#aaeec02d207c8ce5ca12b1ef2ac36fae0" title=" " alt="" coords="5,49,171,90"/>
</map>
</div>

</div>
</div>
<a id="a6270cddb139f2ca4f42d21f8caaa1224"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6270cddb139f2ca4f42d21f8caaa1224">&#9670;&nbsp;</a></span>kvm_set_msi_irq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_set_msi_irq </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_kernel_irq_routing_entry *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_lapic_irq *&#160;</td>
          <td class="paramname"><em>irq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00104">104</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keyword">struct </span>msi_msg msg = { .address_lo = e-&gt;msi.address_lo,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                   .address_hi = e-&gt;msi.address_hi,</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                   .data = e-&gt;msi.data };</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    trace_kvm_msi_set_irq(msg.address_lo | (kvm-&gt;arch.x2apic_format ?</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                  (u64)msg.address_hi &lt;&lt; 32 : 0), msg.data);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    irq-&gt;dest_id = x86_msi_msg_get_destid(&amp;msg, kvm-&gt;arch.x2apic_format);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    irq-&gt;vector = msg.arch_data.vector;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    irq-&gt;dest_mode = kvm_lapic_irq_dest_mode(msg.arch_addr_lo.dest_mode_logical);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    irq-&gt;trig_mode = msg.arch_data.is_level;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    irq-&gt;delivery_mode = msg.arch_data.delivery_mode &lt;&lt; 8;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    irq-&gt;msi_redir_hint = msg.arch_addr_lo.redirect_hint;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    irq-&gt;level = 1;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    irq-&gt;shorthand = <a class="code" href="lapic_8h.html#acc73bace457403e7d23ff22afac7df0f">APIC_DEST_NOSHORT</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a6270cddb139f2ca4f42d21f8caaa1224_icgraph.png" border="0" usemap="#airq__comm_8c_a6270cddb139f2ca4f42d21f8caaa1224_icgraph" alt=""/></div>
<map name="airq__comm_8c_a6270cddb139f2ca4f42d21f8caaa1224_icgraph" id="airq__comm_8c_a6270cddb139f2ca4f42d21f8caaa1224_icgraph">
<area shape="rect" title=" " alt="" coords="1589,107,1723,133"/>
<area shape="rect" href="avic_8c.html#a24f70312b475fe0e0858ee3cc7e3af71" title=" " alt="" coords="1375,5,1507,32"/>
<area shape="rect" href="irq__comm_8c.html#ae7b7837b6e17bc60af3f4d81e9a4147e" title=" " alt="" coords="1340,56,1541,83"/>
<area shape="rect" href="ioapic_8h.html#a049de3e03383dab21c2cb6c3033e66ae" title=" " alt="" coords="1349,107,1532,133"/>
<area shape="rect" href="irq__comm_8c.html#affb5599a3efafc186b72e78e4b31e904" title=" " alt="" coords="1386,157,1495,184"/>
<area shape="rect" href="posted__intr_8c.html#ac8a6413833d1c0eecbd77d4e6c7ab484" title=" " alt="" coords="1365,208,1516,235"/>
<area shape="rect" href="avic_8c.html#a3a8b145ddec7a3dc1367a4e4e0df397e" title=" " alt="" coords="1121,5,1270,32"/>
<area shape="rect" href="x86_8c.html#a8aac590d2b896fcad86c5a2971164c1c" title=" " alt="" coords="1127,107,1263,133"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="906,107,1043,133"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="733,107,814,133"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="461,107,648,133"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="254,107,378,133"/>
<area shape="rect" href="irqchip_8c.html#a2440f4d2a02137c955ea1d22eeb13c8f" title=" " alt="" coords="1099,157,1292,184"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="1109,208,1281,235"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="899,208,1051,235"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="696,208,851,235"/>
<area shape="rect" href="irq_8h.html#aaf23e09ccf4b445556e56ea8598e1311" title=" " alt="" coords="471,201,638,242"/>
<area shape="rect" href="x86_8c.html#aaf3dbbe842e06195f2e46694ea837380" title=" " alt="" coords="219,208,413,235"/>
<area shape="rect" href="kvm__main_8c.html#aaeec02d207c8ce5ca12b1ef2ac36fae0" title=" " alt="" coords="5,201,171,242"/>
</map>
</div>

</div>
</div>
<a id="a1a4786be0e9713da805fb63743a7f340"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a4786be0e9713da805fb63743a7f340">&#9670;&nbsp;</a></span>kvm_set_pic_irq()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kvm_set_pic_irq </td>
          <td>(</td>
          <td class="paramtype">struct kvm_kernel_irq_routing_entry *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq_source_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>line_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00030">30</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keyword">struct </span><a class="code" href="structkvm__pic.html">kvm_pic</a> *pic = <a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>-&gt;arch.vpic;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="i8259_8c.html#a1488ed2670af0e636f7384f69e1894a9">kvm_pic_set_irq</a>(pic, e-&gt;irqchip.pin, irq_source_id, level);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_a1488ed2670af0e636f7384f69e1894a9"><div class="ttname"><a href="i8259_8c.html#a1488ed2670af0e636f7384f69e1894a9">kvm_pic_set_irq</a></div><div class="ttdeci">int kvm_pic_set_irq(struct kvm_pic *s, int irq, int irq_source_id, int level)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00188">i8259.c:188</a></div></div>
<div class="ttc" id="astructkvm__pic_html"><div class="ttname"><a href="structkvm__pic.html">kvm_pic</a></div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00049">irq.h:49</a></div></div>
<div class="ttc" id="astructkvm__pic_html_a697ced0835fd6f64e36410164db9db28"><div class="ttname"><a href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm_pic::kvm</a></div><div class="ttdeci">struct kvm * kvm</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00053">irq.h:53</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a1a4786be0e9713da805fb63743a7f340_cgraph.png" border="0" usemap="#airq__comm_8c_a1a4786be0e9713da805fb63743a7f340_cgraph" alt=""/></div>
<map name="airq__comm_8c_a1a4786be0e9713da805fb63743a7f340_cgraph" id="airq__comm_8c_a1a4786be0e9713da805fb63743a7f340_cgraph">
<area shape="rect" title=" " alt="" coords="5,132,133,159"/>
<area shape="rect" href="i8259_8c.html#a1488ed2670af0e636f7384f69e1894a9" title=" " alt="" coords="181,132,309,159"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="379,56,453,83"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="568,157,668,184"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="371,107,461,133"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="357,208,475,235"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="523,56,713,83"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="557,107,679,133"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="780,56,951,83"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="793,5,938,32"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1017,5,1176,32"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="761,157,969,184"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="789,107,942,133"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="571,259,665,285"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="557,208,679,235"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="817,259,914,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a1a4786be0e9713da805fb63743a7f340_icgraph.png" border="0" usemap="#airq__comm_8c_a1a4786be0e9713da805fb63743a7f340_icgraph" alt=""/></div>
<map name="airq__comm_8c_a1a4786be0e9713da805fb63743a7f340_icgraph" id="airq__comm_8c_a1a4786be0e9713da805fb63743a7f340_icgraph">
<area shape="rect" title=" " alt="" coords="1299,13,1427,39"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="1079,13,1251,39"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="879,13,1031,39"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="676,13,831,39"/>
<area shape="rect" href="irq_8h.html#aaf23e09ccf4b445556e56ea8598e1311" title=" " alt="" coords="461,5,628,47"/>
<area shape="rect" href="x86_8c.html#aaf3dbbe842e06195f2e46694ea837380" title=" " alt="" coords="219,13,413,39"/>
<area shape="rect" href="kvm__main_8c.html#aaeec02d207c8ce5ca12b1ef2ac36fae0" title=" " alt="" coords="5,5,171,47"/>
</map>
</div>

</div>
</div>
<a id="aceb0f3f9718caf022b2ff6f982fee020"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceb0f3f9718caf022b2ff6f982fee020">&#9670;&nbsp;</a></span>kvm_set_routing_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_set_routing_entry </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_kernel_irq_routing_entry *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct kvm_irq_routing_entry *&#160;</td>
          <td class="paramname"><em>ue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00279">279</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;{</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">/* We can&#39;t check irqchip_in_kernel() here as some callers are</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">     * currently initializing the irqchip. Other callers should therefore</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">     * check kvm_arch_can_set_irq_routing() before calling this function.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">switch</span> (ue-&gt;type) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">case</span> KVM_IRQ_ROUTING_IRQCHIP:</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="irq_8h.html#a68413268c1f1f354270e9a0de9c2fe44">irqchip_split</a>(kvm))</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        e-&gt;irqchip.pin = ue-&gt;u.irqchip.pin;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">switch</span> (ue-&gt;u.irqchip.irqchip) {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">case</span> KVM_IRQCHIP_PIC_SLAVE:</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            e-&gt;irqchip.pin += <a class="code" href="irq_8h.html#a80ce9c55d9566830e9ce89ef1cf4f91f">PIC_NUM_PINS</a> / 2;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            fallthrough;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">case</span> KVM_IRQCHIP_PIC_MASTER:</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">if</span> (ue-&gt;u.irqchip.pin &gt;= <a class="code" href="irq_8h.html#a80ce9c55d9566830e9ce89ef1cf4f91f">PIC_NUM_PINS</a> / 2)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            e-&gt;set = <a class="code" href="irq__comm_8c.html#a1a4786be0e9713da805fb63743a7f340">kvm_set_pic_irq</a>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">case</span> KVM_IRQCHIP_IOAPIC:</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">if</span> (ue-&gt;u.irqchip.pin &gt;= KVM_IOAPIC_NUM_PINS)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            e-&gt;set = <a class="code" href="irq__comm_8c.html#ae12bd4085acdb92be18af95ac983d5a5">kvm_set_ioapic_irq</a>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        e-&gt;irqchip.irqchip = ue-&gt;u.irqchip.irqchip;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">case</span> KVM_IRQ_ROUTING_MSI:</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        e-&gt;set = <a class="code" href="irq__comm_8c.html#affb5599a3efafc186b72e78e4b31e904">kvm_set_msi</a>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        e-&gt;msi.address_lo = ue-&gt;u.msi.address_lo;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        e-&gt;msi.address_hi = ue-&gt;u.msi.address_hi;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        e-&gt;msi.data = ue-&gt;u.msi.data;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="irq__comm_8c.html#a8df04bdfde7c5b2ced40084fa4a7452b">kvm_msi_route_invalid</a>(kvm, e))</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">#ifdef CONFIG_KVM_HYPERV</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">case</span> KVM_IRQ_ROUTING_HV_SINT:</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        e-&gt;set = kvm_hv_set_sint;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        e-&gt;hv_sint.vcpu = ue-&gt;u.hv_sint.vcpu;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        e-&gt;hv_sint.sint = ue-&gt;u.hv_sint.sint;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">#ifdef CONFIG_KVM_XEN</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">case</span> KVM_IRQ_ROUTING_XEN_EVTCHN:</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="xen_8c.html#a508e4ef7a5f613f8e7daf8a633ae8ee5">kvm_xen_setup_evtchn</a>(kvm, e, ue);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div>
<div class="ttc" id="airq_8h_html_a80ce9c55d9566830e9ce89ef1cf4f91f"><div class="ttname"><a href="irq_8h.html#a80ce9c55d9566830e9ce89ef1cf4f91f">PIC_NUM_PINS</a></div><div class="ttdeci">#define PIC_NUM_PINS</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00021">irq.h:21</a></div></div>
<div class="ttc" id="airq__comm_8c_html_a1a4786be0e9713da805fb63743a7f340"><div class="ttname"><a href="irq__comm_8c.html#a1a4786be0e9713da805fb63743a7f340">kvm_set_pic_irq</a></div><div class="ttdeci">static int kvm_set_pic_irq(struct kvm_kernel_irq_routing_entry *e, struct kvm *kvm, int irq_source_id, int level, bool line_status)</div><div class="ttdef"><b>Definition:</b> <a href="irq__comm_8c_source.html#l00030">irq_comm.c:30</a></div></div>
<div class="ttc" id="airq__comm_8c_html_ae12bd4085acdb92be18af95ac983d5a5"><div class="ttname"><a href="irq__comm_8c.html#ae12bd4085acdb92be18af95ac983d5a5">kvm_set_ioapic_irq</a></div><div class="ttdeci">static int kvm_set_ioapic_irq(struct kvm_kernel_irq_routing_entry *e, struct kvm *kvm, int irq_source_id, int level, bool line_status)</div><div class="ttdef"><b>Definition:</b> <a href="irq__comm_8c_source.html#l00038">irq_comm.c:38</a></div></div>
<div class="ttc" id="airq__comm_8c_html_affb5599a3efafc186b72e78e4b31e904"><div class="ttname"><a href="irq__comm_8c.html#affb5599a3efafc186b72e78e4b31e904">kvm_set_msi</a></div><div class="ttdeci">int kvm_set_msi(struct kvm_kernel_irq_routing_entry *e, struct kvm *kvm, int irq_source_id, int level, bool line_status)</div><div class="ttdef"><b>Definition:</b> <a href="irq__comm_8c_source.html#l00131">irq_comm.c:131</a></div></div>
<div class="ttc" id="axen_8c_html_a508e4ef7a5f613f8e7daf8a633ae8ee5"><div class="ttname"><a href="xen_8c.html#a508e4ef7a5f613f8e7daf8a633ae8ee5">kvm_xen_setup_evtchn</a></div><div class="ttdeci">int kvm_xen_setup_evtchn(struct kvm *kvm, struct kvm_kernel_irq_routing_entry *e, const struct kvm_irq_routing_entry *ue)</div><div class="ttdef"><b>Definition:</b> <a href="xen_8c_source.html#l01785">xen.c:1785</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_aceb0f3f9718caf022b2ff6f982fee020_cgraph.png" border="0" usemap="#airq__comm_8c_aceb0f3f9718caf022b2ff6f982fee020_cgraph" alt=""/></div>
<map name="airq__comm_8c_aceb0f3f9718caf022b2ff6f982fee020_cgraph" id="airq__comm_8c_aceb0f3f9718caf022b2ff6f982fee020_cgraph">
<area shape="rect" title=" " alt="" coords="5,626,177,653"/>
<area shape="rect" href="irq_8h.html#a68413268c1f1f354270e9a0de9c2fe44" title=" " alt="" coords="262,500,363,526"/>
<area shape="rect" href="irq__comm_8c.html#a8df04bdfde7c5b2ced40084fa4a7452b" title=" " alt="" coords="448,601,623,628"/>
<area shape="rect" href="irq__comm_8c.html#ae12bd4085acdb92be18af95ac983d5a5" title=" " alt="" coords="239,550,387,577"/>
<area shape="rect" href="irq__comm_8c.html#affb5599a3efafc186b72e78e4b31e904" title=" " alt="" coords="258,652,367,678"/>
<area shape="rect" href="irq__comm_8c.html#a1a4786be0e9713da805fb63743a7f340" title=" " alt="" coords="686,854,814,881"/>
<area shape="rect" href="xen_8c.html#a508e4ef7a5f613f8e7daf8a633ae8ee5" title=" " alt="" coords="225,1032,400,1058"/>
<area shape="rect" href="ioapic_8c.html#a5caccc7254bf08d5ebb620dec0a9ddac" title=" " alt="" coords="461,378,609,405"/>
<area shape="rect" href="ioapic_8c.html#a8e44c406a4b3cb566af0df8557f0a55a" title=" " alt="" coords="694,281,806,308"/>
<area shape="rect" href="ioapic_8c.html#a3ec3324d9c7d9168d100c79fc7c19b33" title=" " alt="" coords="885,281,1060,308"/>
<area shape="rect" href="ioapic_8c.html#a729aea83e23e9c12f8404c81ce790486" title=" " alt="" coords="915,332,1030,358"/>
<area shape="rect" href="x86_8c.html#a21212b8e1a82cdc8ac696137981d8d7a" title=" " alt="" coords="892,180,1053,206"/>
<area shape="rect" href="ioapic_8c.html#a12aa3b8189c98c3582a1c2155756aae9" title=" " alt="" coords="883,230,1063,257"/>
<area shape="rect" href="lapic_8c.html#adb63e5a650d4571316b450d153a3105d" title=" " alt="" coords="1365,129,1533,156"/>
<area shape="rect" href="lapic_8c.html#a637f6f499709ab30e61db1b69177ea00" title=" " alt="" coords="1125,281,1296,308"/>
<area shape="rect" href="ioapic_8c.html#aa590f4d1416bf84560a4e9693c638f55" title=" " alt="" coords="1165,180,1256,206"/>
<area shape="rect" href="lapic_8c.html#a870119cb74033f360164df90029af75a" title=" " alt="" coords="1598,78,1817,105"/>
<area shape="rect" href="lapic_8c.html#ae8c127c0d736bacbfa2cdc6b3fd5c2f6" title=" " alt="" coords="1592,28,1823,54"/>
<area shape="rect" href="lapic_8c.html#a8fb87d02d911e49b5793e391702afe7e" title=" " alt="" coords="1907,129,2028,156"/>
<area shape="rect" href="lapic_8h.html#a07d3e1e4090a62753325dfa11d232cea" title=" " alt="" coords="2112,53,2255,80"/>
<area shape="rect" href="lapic_8c.html#a98bde25094c754b30e796357ba643ab0" title=" " alt="" coords="1889,28,2045,54"/>
<area shape="rect" href="irq_8h.html#a50293a78b5c0b6715243dc7854bcb210" title=" " alt="" coords="1116,332,1305,358"/>
<area shape="rect" href="lapic_8c.html#a47d52843df792ef8e7bffdfb66a3b40b" title=" " alt="" coords="1877,369,2058,396"/>
<area shape="rect" href="lapic_8h.html#ae7e74fde3e4fb01f561634e789b5eab4" title=" " alt="" coords="1378,601,1519,628"/>
<area shape="rect" href="lapic_8c.html#a3d272e1b73f22f797955e7ddea84b741" title=" " alt="" coords="1639,474,1775,501"/>
<area shape="rect" href="lapic_8h.html#a447b1b971acaf871dd62669b4aa3116f" title=" " alt="" coords="1364,500,1533,526"/>
<area shape="rect" href="lapic_8c.html#a17eee4051fa1d41b805b09a195f64045" title=" " alt="" coords="1371,434,1526,475"/>
<area shape="rect" href="lapic_8h.html#adfbea71ac96b210fb91bef47c77194f1" title=" " alt="" coords="1871,420,2064,446"/>
<area shape="rect" href="x86_8c.html#a47d88660a2a5f8ee22df1253604d1ed7" title=" " alt="" coords="1889,252,2046,294"/>
<area shape="rect" href="lapic_8c.html#ac9fecb7d9f4574931650af9abb4b9f4c" title=" " alt="" coords="1886,318,2049,345"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="1622,601,1793,628"/>
<area shape="rect" href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4" title=" " alt="" coords="1648,550,1767,577"/>
<area shape="rect" href="lapic_8c.html#a10d887046aaccb6cf4178421594dee10" title=" " alt="" coords="1899,652,2036,678"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="2122,905,2245,932"/>
<area shape="rect" href="lapic_8c.html#aee815bad0e899bbf195750d2d9b5470f" title=" " alt="" coords="1615,332,1799,374"/>
<area shape="rect" href="irq__comm_8c.html#a50293a78b5c0b6715243dc7854bcb210" title=" " alt="" coords="1116,626,1305,653"/>
<area shape="rect" href="irq__comm_8c.html#a6270cddb139f2ca4f42d21f8caaa1224" title=" " alt="" coords="469,702,602,729"/>
<area shape="rect" href="i8259_8c.html#a1488ed2670af0e636f7384f69e1894a9" title=" " alt="" coords="909,905,1037,932"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="1173,905,1248,932"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="1399,956,1499,982"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="1165,854,1256,881"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="1152,1006,1269,1033"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="1353,854,1544,881"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="1402,1006,1495,1033"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="1388,1057,1509,1084"/>
<area shape="rect" href="xen_8c.html#a7432a92fb771aeb9f60ca4d89c10f15b" title=" " alt="" coords="479,1082,592,1109"/>
<area shape="rect" href="xen_8c.html#abfe301f067b5181a7028ad5e62629e6d" title=" " alt="" coords="1143,1057,1278,1084"/>
<area shape="rect" href="xen_8c.html#a59091fb436633f85ba3e28187f5794d0" title=" " alt="" coords="671,1082,829,1109"/>
<area shape="rect" href="pfncache_8c.html#a95f177f84574a53b04762338d48238fe" title=" " alt="" coords="905,1133,1040,1160"/>
<area shape="rect" href="xen_8c.html#a48738df3c98025631e2412d90758136c" title=" " alt="" coords="877,1082,1068,1109"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_aceb0f3f9718caf022b2ff6f982fee020_icgraph.png" border="0" usemap="#airq__comm_8c_aceb0f3f9718caf022b2ff6f982fee020_icgraph" alt=""/></div>
<map name="airq__comm_8c_aceb0f3f9718caf022b2ff6f982fee020_icgraph" id="airq__comm_8c_aceb0f3f9718caf022b2ff6f982fee020_icgraph">
<area shape="rect" title=" " alt="" coords="1079,13,1251,39"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="879,13,1031,39"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="676,13,831,39"/>
<area shape="rect" href="irq_8h.html#aaf23e09ccf4b445556e56ea8598e1311" title=" " alt="" coords="461,5,628,47"/>
<area shape="rect" href="x86_8c.html#aaf3dbbe842e06195f2e46694ea837380" title=" " alt="" coords="219,13,413,39"/>
<area shape="rect" href="kvm__main_8c.html#aaeec02d207c8ce5ca12b1ef2ac36fae0" title=" " alt="" coords="5,5,171,47"/>
</map>
</div>

</div>
</div>
<a id="a076e3eaccc2dc3ab6766165ae8730179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a076e3eaccc2dc3ab6766165ae8730179">&#9670;&nbsp;</a></span>kvm_setup_default_irq_routing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_setup_default_irq_routing </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00392">392</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;{</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a">kvm_set_irq_routing</a>(kvm, <a class="code" href="irq__comm_8c.html#aa63e9ef50162b8b57a62a9e355ca5a99">default_routing</a>,</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                   ARRAY_SIZE(<a class="code" href="irq__comm_8c.html#aa63e9ef50162b8b57a62a9e355ca5a99">default_routing</a>), 0);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div>
<div class="ttc" id="airq__comm_8c_html_aa63e9ef50162b8b57a62a9e355ca5a99"><div class="ttname"><a href="irq__comm_8c.html#aa63e9ef50162b8b57a62a9e355ca5a99">default_routing</a></div><div class="ttdeci">static const struct kvm_irq_routing_entry default_routing[]</div><div class="ttdef"><b>Definition:</b> <a href="irq__comm_8c_source.html#l00364">irq_comm.c:377</a></div></div>
<div class="ttc" id="airqchip_8c_html_a2c54cf3c324c7d2b9190fffcf4a1f20a"><div class="ttname"><a href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a">kvm_set_irq_routing</a></div><div class="ttdeci">int kvm_set_irq_routing(struct kvm *kvm, const struct kvm_irq_routing_entry *ue, unsigned nr, unsigned flags)</div><div class="ttdef"><b>Definition:</b> <a href="irqchip_8c_source.html#l00168">irqchip.c:168</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_a076e3eaccc2dc3ab6766165ae8730179_icgraph.png" border="0" usemap="#airq__comm_8c_a076e3eaccc2dc3ab6766165ae8730179_icgraph" alt=""/></div>
<map name="airq__comm_8c_a076e3eaccc2dc3ab6766165ae8730179_icgraph" id="airq__comm_8c_a076e3eaccc2dc3ab6766165ae8730179_icgraph">
<area shape="rect" title=" " alt="" coords="203,5,373,47"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="5,13,155,39"/>
</map>
</div>

</div>
</div>
<a id="aaf23e09ccf4b445556e56ea8598e1311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf23e09ccf4b445556e56ea8598e1311">&#9670;&nbsp;</a></span>kvm_setup_empty_irq_routing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_setup_empty_irq_routing </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00400">400</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;{</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a">kvm_set_irq_routing</a>(kvm, <a class="code" href="irq__comm_8c.html#a80424d6446172a8577468ba03cddc9cd">empty_routing</a>, 0, 0);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;}</div>
<div class="ttc" id="airq__comm_8c_html_a80424d6446172a8577468ba03cddc9cd"><div class="ttname"><a href="irq__comm_8c.html#a80424d6446172a8577468ba03cddc9cd">empty_routing</a></div><div class="ttdeci">static const struct kvm_irq_routing_entry empty_routing[]</div><div class="ttdef"><b>Definition:</b> <a href="irq__comm_8c_source.html#l00392">irq_comm.c:398</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_aaf23e09ccf4b445556e56ea8598e1311_cgraph.png" border="0" usemap="#airq__comm_8c_aaf23e09ccf4b445556e56ea8598e1311_cgraph" alt=""/></div>
<map name="airq__comm_8c_aaf23e09ccf4b445556e56ea8598e1311_cgraph" id="airq__comm_8c_aaf23e09ccf4b445556e56ea8598e1311_cgraph">
<area shape="rect" title=" " alt="" coords="5,271,172,313"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="220,279,375,305"/>
<area shape="rect" href="irqchip_8c.html#a5ae37186e6e6d1594767f83df8bab64a" title=" " alt="" coords="439,187,605,213"/>
<area shape="rect" href="irq__comm_8c.html#a5063eb30fea1b0dfb950639197e5d363" title=" " alt="" coords="441,238,603,279"/>
<area shape="rect" href="irq__comm_8c.html#afa5491dcaa56edc5b103a489cabb671e" title=" " alt="" coords="423,303,621,345"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="446,391,598,417"/>
<area shape="rect" href="hyperv_8c.html#ac38cebb511b3d7873742792be281ff18" title=" " alt="" coords="683,133,833,174"/>
<area shape="rect" href="hyperv_8c.html#ae4d51aac4ca695bacfd85543cef77376" title=" " alt="" coords="921,47,1079,73"/>
<area shape="rect" href="hyperv_8c.html#a39e065846fd9cf408369c44732509335" title=" " alt="" coords="1217,40,1301,67"/>
<area shape="rect" href="hyperv_8c.html#ad543db70c1ec04720c89b624e4655229" title=" " alt="" coords="1435,12,1582,39"/>
<area shape="rect" href="hyperv_8h.html#a019002089f0480b30c26cf6997c8fe37" title=" " alt="" coords="1661,5,1822,32"/>
<area shape="rect" href="irq_8h.html#a68413268c1f1f354270e9a0de9c2fe44" title=" " alt="" coords="949,352,1051,379"/>
<area shape="rect" href="x86_8c.html#a3e31b97e32a42bf14848541e9e71688d" title=" " alt="" coords="669,223,847,265"/>
<area shape="rect" href="kvm__main_8c.html#abaa3f5ff00150487b52dd21c1617bab6" title=" " alt="" coords="895,151,1105,177"/>
<area shape="rect" href="kvm__main_8c.html#ac46e1a0e43c0784194a451a7e7394c02" title=" " alt="" coords="1153,125,1364,166"/>
<area shape="rect" href="kvm__main_8c.html#a56fa7dccf37545a9046522ded0354c7e" title=" " alt="" coords="1425,75,1592,101"/>
<area shape="rect" href="kvm__main_8c.html#a90667c5619416298aea980ad51ec8525" title=" " alt="" coords="1415,132,1603,159"/>
<area shape="rect" href="kvm__main_8c.html#a7682302871243c20a5dd16214655db15" title=" " alt="" coords="1702,56,1781,83"/>
<area shape="rect" href="kvm__main_8c.html#a9316cc70360fb39d920d5c76a2e41f35" title=" " alt="" coords="1653,107,1829,133"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1665,157,1818,184"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="672,513,844,540"/>
<area shape="rect" href="irq__comm_8c.html#a8df04bdfde7c5b2ced40084fa4a7452b" title=" " alt="" coords="1171,513,1346,540"/>
<area shape="rect" href="irq__comm_8c.html#ae12bd4085acdb92be18af95ac983d5a5" title=" " alt="" coords="926,899,1074,925"/>
<area shape="rect" href="irq__comm_8c.html#affb5599a3efafc186b72e78e4b31e904" title=" " alt="" coords="945,463,1055,489"/>
<area shape="rect" href="irq__comm_8c.html#a1a4786be0e9713da805fb63743a7f340" title=" " alt="" coords="936,652,1064,679"/>
<area shape="rect" href="xen_8c.html#a508e4ef7a5f613f8e7daf8a633ae8ee5" title=" " alt="" coords="913,804,1087,831"/>
<area shape="rect" href="ioapic_8c.html#a5caccc7254bf08d5ebb620dec0a9ddac" title=" " alt="" coords="1185,943,1333,969"/>
<area shape="rect" href="ioapic_8c.html#a8e44c406a4b3cb566af0df8557f0a55a" title=" " alt="" coords="1453,949,1565,976"/>
<area shape="rect" href="ioapic_8c.html#a3ec3324d9c7d9168d100c79fc7c19b33" title=" " alt="" coords="1654,924,1829,951"/>
<area shape="rect" href="ioapic_8c.html#a729aea83e23e9c12f8404c81ce790486" title=" " alt="" coords="1684,975,1799,1001"/>
<area shape="rect" href="x86_8c.html#a21212b8e1a82cdc8ac696137981d8d7a" title=" " alt="" coords="1661,873,1822,900"/>
<area shape="rect" href="lapic_8c.html#adb63e5a650d4571316b450d153a3105d" title=" " alt="" coords="1877,567,2045,593"/>
<area shape="rect" href="irq__comm_8c.html#a50293a78b5c0b6715243dc7854bcb210" title=" " alt="" coords="1164,463,1353,489"/>
<area shape="rect" href="irq__comm_8c.html#a6270cddb139f2ca4f42d21f8caaa1224" title=" " alt="" coords="1192,412,1325,439"/>
<area shape="rect" href="lapic_8c.html#a47d52843df792ef8e7bffdfb66a3b40b" title=" " alt="" coords="1418,259,1599,285"/>
<area shape="rect" href="lapic_8h.html#ae7e74fde3e4fb01f561634e789b5eab4" title=" " alt="" coords="1438,309,1579,336"/>
<area shape="rect" href="lapic_8c.html#a3d272e1b73f22f797955e7ddea84b741" title=" " alt="" coords="1673,415,1809,441"/>
<area shape="rect" href="lapic_8h.html#a447b1b971acaf871dd62669b4aa3116f" title=" " alt="" coords="1424,411,1593,437"/>
<area shape="rect" href="lapic_8c.html#a17eee4051fa1d41b805b09a195f64045" title=" " alt="" coords="1431,462,1586,503"/>
<area shape="rect" href="lapic_8h.html#adfbea71ac96b210fb91bef47c77194f1" title=" " alt="" coords="1412,528,1605,555"/>
<area shape="rect" href="x86_8c.html#a47d88660a2a5f8ee22df1253604d1ed7" title=" " alt="" coords="1430,579,1587,621"/>
<area shape="rect" href="lapic_8c.html#ac9fecb7d9f4574931650af9abb4b9f4c" title=" " alt="" coords="1427,645,1590,672"/>
<area shape="rect" href="i8259_8c.html#a1488ed2670af0e636f7384f69e1894a9" title=" " alt="" coords="1195,747,1323,773"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="1471,797,1546,824"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="1691,784,1791,811"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="1463,696,1554,723"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="1450,747,1567,773"/>
<area shape="rect" href="xen_8c.html#a7432a92fb771aeb9f60ca4d89c10f15b" title=" " alt="" coords="1202,867,1315,893"/>
<area shape="rect" href="xen_8c.html#abfe301f067b5181a7028ad5e62629e6d" title=" " alt="" coords="1191,804,1326,831"/>
<area shape="rect" href="xen_8c.html#a59091fb436633f85ba3e28187f5794d0" title=" " alt="" coords="1429,899,1588,925"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_aaf23e09ccf4b445556e56ea8598e1311_icgraph.png" border="0" usemap="#airq__comm_8c_aaf23e09ccf4b445556e56ea8598e1311_icgraph" alt=""/></div>
<map name="airq__comm_8c_aaf23e09ccf4b445556e56ea8598e1311_icgraph" id="airq__comm_8c_aaf23e09ccf4b445556e56ea8598e1311_icgraph">
<area shape="rect" title=" " alt="" coords="461,5,628,47"/>
<area shape="rect" href="x86_8c.html#aaf3dbbe842e06195f2e46694ea837380" title=" " alt="" coords="219,13,413,39"/>
<area shape="rect" href="kvm__main_8c.html#aaeec02d207c8ce5ca12b1ef2ac36fae0" title=" " alt="" coords="5,5,171,47"/>
</map>
</div>

</div>
</div>
<a id="ab7342d01a08ebc59d23dc42d7feceaac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7342d01a08ebc59d23dc42d7feceaac">&#9670;&nbsp;</a></span>kvm_unregister_irq_mask_notifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_unregister_irq_mask_notifier </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_irq_mask_notifier *&#160;</td>
          <td class="paramname"><em>kimn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00250">250</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;{</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    mutex_lock(&amp;kvm-&gt;irq_lock);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    hlist_del_rcu(&amp;kimn-&gt;link);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    mutex_unlock(&amp;kvm-&gt;irq_lock);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    synchronize_srcu(&amp;kvm-&gt;irq_srcu);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="irq__comm_8c_ab7342d01a08ebc59d23dc42d7feceaac_icgraph.png" border="0" usemap="#airq__comm_8c_ab7342d01a08ebc59d23dc42d7feceaac_icgraph" alt=""/></div>
<map name="airq__comm_8c_ab7342d01a08ebc59d23dc42d7feceaac_icgraph" id="airq__comm_8c_ab7342d01a08ebc59d23dc42d7feceaac_icgraph">
<area shape="rect" title=" " alt="" coords="1547,150,1695,191"/>
<area shape="rect" href="i8254_8c.html#a27233516d999d8230f70ee545f0afd5f" title=" " alt="" coords="1340,157,1499,184"/>
<area shape="rect" href="i8254_8c.html#a13a38debbd4e494ffd488ef8abb5406c" title=" " alt="" coords="1145,107,1268,133"/>
<area shape="rect" href="i8254_8c.html#a2a7ca7f5194b378ba7f0ae7a38cc26ba" title=" " alt="" coords="1153,208,1261,235"/>
<area shape="rect" href="x86_8c.html#a38137bd6d02c5ae30d3751637d6f16bf" title=" " alt="" coords="1121,157,1292,184"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="911,132,1061,159"/>
<area shape="rect" href="x86_8c.html#a6f324dc73c5f97fe0b9dfa35f303d5f9" title=" " alt="" coords="899,208,1073,235"/>
<area shape="rect" href="kvm__main_8c.html#afd922c538c448ab1248cdb9dccae9410" title=" " alt="" coords="716,208,851,235"/>
<area shape="rect" href="kvm__main_8c.html#a013962010b954d8597e5987fd27c8241" title=" " alt="" coords="553,208,668,235"/>
<area shape="rect" href="kvm__main_8c.html#a37fa7805021941c56fe174eae4c8c377" title=" " alt="" coords="325,5,475,32"/>
<area shape="rect" href="kvm__main_8c.html#af19040bdcea372f13eab66499d99201c" title=" " alt="" coords="317,56,483,83"/>
<area shape="rect" href="kvm__main_8c.html#a955de4f2a1b3371438636eccab732b27" title=" " alt="" coords="303,107,497,133"/>
<area shape="rect" href="guest__memfd_8c.html#ad8912fbda61cdcb6d9e5a3c0f839e001" title=" " alt="" coords="323,157,477,184"/>
<area shape="rect" href="debugfs_8c.html#ae48a8d31368e51cbe5f950df129f5285" title=" " alt="" coords="295,208,505,235"/>
<area shape="rect" href="debugfs_8c.html#af0427db3ec1a8c38ea51591abbefde57" title=" " alt="" coords="314,259,486,301"/>
<area shape="rect" href="kvm__main_8c.html#af67afbdcee89641f21573ac643d8e693" title=" " alt="" coords="333,325,467,352"/>
<area shape="rect" href="sev_8c.html#ad28fd793149997c912b52490f6ca139a" title=" " alt="" coords="329,376,471,403"/>
<area shape="rect" href="sev_8c.html#af1eb77eac84f085b0a943b87f783e30d" title=" " alt="" coords="335,427,465,453"/>
<area shape="rect" href="kvm__main_8c.html#a87bcafdc42ee32aedb84df5e564f9872" title=" " alt="" coords="47,5,205,32"/>
<area shape="rect" href="sev_8c.html#abe3c569b297da3b78824074b8c08f9a7" title=" " alt="" coords="5,376,247,403"/>
<area shape="rect" href="svm_8c.html#a0e69cefce46e7b11e1e8e056ea5b6561" title=" " alt="" coords="59,427,193,453"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa63e9ef50162b8b57a62a9e355ca5a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa63e9ef50162b8b57a62a9e355ca5a99">&#9670;&nbsp;</a></span>default_routing</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct kvm_irq_routing_entry default_routing[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(0), <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(1),</div>
<div class="line">    <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(2), <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(3),</div>
<div class="line">    <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(4), <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(5),</div>
<div class="line">    <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(6), <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(7),</div>
<div class="line">    <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(8), <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(9),</div>
<div class="line">    <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(10), <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(11),</div>
<div class="line">    <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(12), <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(13),</div>
<div class="line">    <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(14), <a class="code" href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a>(15),</div>
<div class="line">    <a class="code" href="irq__comm_8c.html#a9220efdc9929cfb23d465dad21fa068d">ROUTING_ENTRY1</a>(16), <a class="code" href="irq__comm_8c.html#a9220efdc9929cfb23d465dad21fa068d">ROUTING_ENTRY1</a>(17),</div>
<div class="line">    <a class="code" href="irq__comm_8c.html#a9220efdc9929cfb23d465dad21fa068d">ROUTING_ENTRY1</a>(18), <a class="code" href="irq__comm_8c.html#a9220efdc9929cfb23d465dad21fa068d">ROUTING_ENTRY1</a>(19),</div>
<div class="line">    <a class="code" href="irq__comm_8c.html#a9220efdc9929cfb23d465dad21fa068d">ROUTING_ENTRY1</a>(20), <a class="code" href="irq__comm_8c.html#a9220efdc9929cfb23d465dad21fa068d">ROUTING_ENTRY1</a>(21),</div>
<div class="line">    <a class="code" href="irq__comm_8c.html#a9220efdc9929cfb23d465dad21fa068d">ROUTING_ENTRY1</a>(22), <a class="code" href="irq__comm_8c.html#a9220efdc9929cfb23d465dad21fa068d">ROUTING_ENTRY1</a>(23),</div>
<div class="line">}</div>
<div class="ttc" id="airq__comm_8c_html_a7eee402435b06e8ddea5d24e7720ae47"><div class="ttname"><a href="irq__comm_8c.html#a7eee402435b06e8ddea5d24e7720ae47">ROUTING_ENTRY2</a></div><div class="ttdeci">#define ROUTING_ENTRY2(irq)</div><div class="ttdef"><b>Definition:</b> <a href="irq__comm_8c_source.html#l00374">irq_comm.c:374</a></div></div>
<div class="ttc" id="airq__comm_8c_html_a9220efdc9929cfb23d465dad21fa068d"><div class="ttname"><a href="irq__comm_8c.html#a9220efdc9929cfb23d465dad21fa068d">ROUTING_ENTRY1</a></div><div class="ttdeci">#define ROUTING_ENTRY1(irq)</div><div class="ttdef"><b>Definition:</b> <a href="irq__comm_8c_source.html#l00369">irq_comm.c:369</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00364">364</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>

</div>
</div>
<a id="a80424d6446172a8577468ba03cddc9cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80424d6446172a8577468ba03cddc9cd">&#9670;&nbsp;</a></span>empty_routing</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct kvm_irq_routing_entry empty_routing[] = {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="irq__comm_8c_source.html#l00392">392</a> of file <a class="el" href="irq__comm_8c_source.html">irq_comm.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
