<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KVM: arch/x86/kvm/cpuid.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ea9599923402ca8ab47fc3e495999dea.html">arch</a></li><li class="navelem"><a class="el" href="dir_c21774f8bc9f0de15163573e5f5fa2b5.html">x86</a></li><li class="navelem"><a class="el" href="dir_fde450fd4b58e2560c53a1e73bfa4d6d.html">kvm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">cpuid.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="x86_8h_source.html">x86.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="reverse__cpuid_8h_source.html">reverse_cpuid.h</a>&quot;</code><br />
<code>#include &lt;asm/cpu.h&gt;</code><br />
<code>#include &lt;asm/processor.h&gt;</code><br />
<code>#include &lt;uapi/asm/kvm_para.h&gt;</code><br />
<code>#include &quot;<a class="el" href="governed__features_8h_source.html">governed_features.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for cpuid.h:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h__incl.png" border="0" usemap="#aarch_2x86_2kvm_2cpuid_8h" alt=""/></div>
<map name="aarch_2x86_2kvm_2cpuid_8h" id="aarch_2x86_2kvm_2cpuid_8h">
<area shape="rect" title=" " alt="" coords="1017,5,1180,32"/>
<area shape="rect" href="x86_8h.html" title=" " alt="" coords="333,80,392,107"/>
<area shape="rect" href="reverse__cpuid_8h.html" title=" " alt="" coords="837,80,962,107"/>
<area shape="rect" title=" " alt="" coords="987,80,1076,107"/>
<area shape="rect" title=" " alt="" coords="1101,80,1229,107"/>
<area shape="rect" title=" " alt="" coords="1253,80,1416,107"/>
<area shape="rect" href="governed__features_8h.html" title=" " alt="" coords="1440,80,1596,107"/>
<area shape="rect" title=" " alt="" coords="187,229,322,256"/>
<area shape="rect" title=" " alt="" coords="30,155,162,181"/>
<area shape="rect" title=" " alt="" coords="186,155,280,181"/>
<area shape="rect" title=" " alt="" coords="304,155,420,181"/>
<area shape="rect" href="kvm__cache__regs_8h.html" title=" " alt="" coords="444,155,587,181"/>
<area shape="rect" href="kvm__emulate_8h.html" title=" " alt="" coords="611,155,735,181"/>
<area shape="rect" title=" " alt="" coords="549,229,680,256"/>
<area shape="rect" href="fpu_8h.html" title=" " alt="" coords="704,229,759,256"/>
<area shape="rect" title=" " alt="" coords="676,304,787,331"/>
<area shape="rect" title=" " alt="" coords="759,155,886,181"/>
<area shape="rect" title=" " alt="" coords="910,155,1046,181"/>
<area shape="rect" title=" " alt="" coords="1071,155,1214,181"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h__dep__incl.png" border="0" usemap="#aarch_2x86_2kvm_2cpuid_8hdep" alt=""/></div>
<map name="aarch_2x86_2kvm_2cpuid_8hdep" id="aarch_2x86_2kvm_2cpuid_8hdep">
<area shape="rect" title=" " alt="" coords="2401,5,2564,32"/>
<area shape="rect" href="cpuid_8c.html" title=" " alt="" coords="46,162,207,189"/>
<area shape="rect" href="mmu_8h.html" title=" " alt="" coords="1179,80,1341,107"/>
<area shape="rect" href="mmu_8c.html" title=" " alt="" coords="1101,341,1299,367"/>
<area shape="rect" href="mtrr_8c.html" title=" " alt="" coords="1425,162,1578,189"/>
<area shape="rect" href="hyperv_8c.html" title=" " alt="" coords="1603,162,1773,189"/>
<area shape="rect" href="svm_2nested_8c.html" title=" " alt="" coords="2469,251,2672,278"/>
<area shape="rect" href="sev_8c.html" title=" " alt="" coords="2025,162,2205,189"/>
<area shape="rect" href="svm_8c.html" title=" " alt="" coords="2229,162,2416,189"/>
<area shape="rect" href="vmx_2nested_8c.html" title=" " alt="" coords="3604,847,3807,874"/>
<area shape="rect" href="vmx_8c.html" title=" " alt="" coords="3226,847,3414,874"/>
<area shape="rect" href="x86_8c.html" title=" " alt="" coords="1798,162,1949,189"/>
<area shape="rect" href="smm_8c.html" title=" " alt="" coords="2462,80,2621,107"/>
<area shape="rect" href="pmu_8c.html" title=" " alt="" coords="2645,80,2800,107"/>
<area shape="rect" href="lapic_8c.html" title=" " alt="" coords="2824,80,2981,107"/>
<area shape="rect" href="svm_2pmu_8c.html" title=" " alt="" coords="2491,162,2677,189"/>
<area shape="rect" href="svm_8h.html" title=" " alt="" coords="3005,80,3192,107"/>
<area shape="rect" href="capabilities_8h.html" title=" " alt="" coords="3364,80,3599,107"/>
<area shape="rect" href="sgx_8c.html" title=" " alt="" coords="4347,847,4530,874"/>
<area shape="rect" href="vmx_8h.html" title=" " alt="" coords="4191,601,4380,628"/>
<area shape="rect" href="vmx_2hyperv_8c.html" title=" " alt="" coords="4120,847,4323,874"/>
<area shape="rect" href="pmu__intel_8c.html" title=" " alt="" coords="4554,840,4731,881"/>
<area shape="rect" href="xen_8c.html" title=" " alt="" coords="4680,80,4829,107"/>
<area shape="rect" href="debugfs_8c.html" title=" " alt="" coords="808,162,987,189"/>
<area shape="rect" href="page__track_8c.html" title=" " alt="" coords="1011,155,1197,196"/>
<area shape="rect" href="spte_8c.html" title=" " alt="" coords="591,251,783,278"/>
<area shape="rect" href="spte_8h.html" title=" " alt="" coords="590,162,783,189"/>
<area shape="rect" href="tdp__iter_8h.html" title=" " alt="" coords="391,244,566,285"/>
<area shape="rect" href="tdp__mmu_8c.html" title=" " alt="" coords="842,333,1017,375"/>
<area shape="rect" href="emulate_8c.html" title=" " alt="" coords="283,162,463,189"/>
<area shape="rect" href="tdp__iter_8c.html" title=" " alt="" coords="606,333,781,375"/>
<area shape="rect" href="tdp__mmu_8h.html" title=" " alt="" coords="909,244,1083,285"/>
<area shape="rect" href="kvm-asm-offsets_8c.html" title=" " alt="" coords="3425,676,3602,717"/>
<area shape="rect" href="svm_2hyperv_8h.html" title=" " alt="" coords="2963,162,3165,189"/>
<area shape="rect" href="svm__onhyperv_8c.html" title=" " alt="" coords="3041,244,3215,285"/>
<area shape="rect" href="avic_8c.html" title=" " alt="" coords="2753,162,2938,189"/>
<area shape="rect" href="svm_2hyperv_8c.html" title=" " alt="" coords="2813,251,3016,278"/>
<area shape="rect" href="hyperv__evmcs_8h.html" title=" " alt="" coords="4033,333,4226,375"/>
<area shape="rect" href="vmx__onhyperv_8h.html" title=" " alt="" coords="3494,423,3671,464"/>
<area shape="rect" href="vmx__onhyperv_8c.html" title=" " alt="" coords="3425,512,3602,553"/>
<area shape="rect" href="sgx_8h.html" title=" " alt="" coords="3549,765,3731,792"/>
<area shape="rect" href="vmcs_8h.html" title=" " alt="" coords="3669,162,3864,189"/>
<area shape="rect" href="hyperv__evmcs_8c.html" title=" " alt="" coords="4033,423,4226,464"/>
<area shape="rect" href="vmx__ops_8h.html" title=" " alt="" coords="3678,512,3855,553"/>
<area shape="rect" href="vmx_2hyperv_8h.html" title=" " alt="" coords="3729,683,3933,710"/>
<area shape="rect" href="nested_8h.html" title=" " alt="" coords="4059,765,4263,792"/>
<area shape="rect" href="posted__intr_8c.html" title=" " alt="" coords="4160,676,4352,717"/>
<area shape="rect" href="vmcs12_8h.html" title=" " alt="" coords="3788,251,3999,278"/>
<area shape="rect" href="vmcs12_8c.html" title=" " alt="" coords="3645,341,3856,367"/>
</map>
</div>
</div>
<p><a href="cpuid_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae374c6ed8f486fa5e30f8c0d2f815510"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#ae374c6ed8f486fa5e30f8c0d2f815510">KVM_GOVERNED_FEATURE</a>(x)&#160;&#160;&#160;KVM_GOVERNED_##x,</td></tr>
<tr class="separator:ae374c6ed8f486fa5e30f8c0d2f815510"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae374c6ed8f486fa5e30f8c0d2f815510"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#ae374c6ed8f486fa5e30f8c0d2f815510">KVM_GOVERNED_FEATURE</a>(x)&#160;&#160;&#160;case x: return KVM_GOVERNED_##x;</td></tr>
<tr class="separator:ae374c6ed8f486fa5e30f8c0d2f815510"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:abcfa552db4a30d5828a49a742bc1beeb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#abcfa552db4a30d5828a49a742bc1beeb">kvm_governed_features</a> { <a class="el" href="cpuid_8h.html#abcfa552db4a30d5828a49a742bc1beebacfb40ff11b95d4e4a67e9429fadf516a">KVM_NR_GOVERNED_FEATURES</a>
 }</td></tr>
<tr class="separator:abcfa552db4a30d5828a49a742bc1beeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac4b31e077b5a352bd48a541ad53e3162"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#ac4b31e077b5a352bd48a541ad53e3162">kvm_set_cpu_caps</a> (void)</td></tr>
<tr class="separator:ac4b31e077b5a352bd48a541ad53e3162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a537512099e11c7ab0553aeae5e38d9ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a537512099e11c7ab0553aeae5e38d9ea">kvm_update_cpuid_runtime</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a537512099e11c7ab0553aeae5e38d9ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30771fd4ef9230ee864f4d7ac9cf0514"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a30771fd4ef9230ee864f4d7ac9cf0514">kvm_update_pv_runtime</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a30771fd4ef9230ee864f4d7ac9cf0514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a638557b30255883157acafa55a351d0d"><td class="memItemLeft" align="right" valign="top">struct kvm_cpuid_entry2 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a638557b30255883157acafa55a351d0d">kvm_find_cpuid_entry_index</a> (struct kvm_vcpu *vcpu, u32 function, u32 index)</td></tr>
<tr class="separator:a638557b30255883157acafa55a351d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae0475609eefc48bb151ef5a631670c0"><td class="memItemLeft" align="right" valign="top">struct kvm_cpuid_entry2 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0">kvm_find_cpuid_entry</a> (struct kvm_vcpu *vcpu, u32 function)</td></tr>
<tr class="separator:aae0475609eefc48bb151ef5a631670c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac74b10a6f6a1e67ef54c48e55473ff07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#ac74b10a6f6a1e67ef54c48e55473ff07">kvm_dev_ioctl_get_cpuid</a> (struct kvm_cpuid2 *cpuid, struct kvm_cpuid_entry2 __user *entries, unsigned int type)</td></tr>
<tr class="separator:ac74b10a6f6a1e67ef54c48e55473ff07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5066ac0b188677d15925709568a91c9d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a5066ac0b188677d15925709568a91c9d">kvm_vcpu_ioctl_set_cpuid</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="cpuid_8h.html#a91d770d0af7358b6cd24b7cbe2617d73">kvm_cpuid</a> *cpuid, struct kvm_cpuid_entry __user *entries)</td></tr>
<tr class="separator:a5066ac0b188677d15925709568a91c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4dde50a2939106abd2baf99683ac139"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#ad4dde50a2939106abd2baf99683ac139">kvm_vcpu_ioctl_set_cpuid2</a> (struct kvm_vcpu *vcpu, struct kvm_cpuid2 *cpuid, struct kvm_cpuid_entry2 __user *entries)</td></tr>
<tr class="separator:ad4dde50a2939106abd2baf99683ac139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a115858ba6090dccc1ac1605bc3acc1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a5a115858ba6090dccc1ac1605bc3acc1">kvm_vcpu_ioctl_get_cpuid2</a> (struct kvm_vcpu *vcpu, struct kvm_cpuid2 *cpuid, struct kvm_cpuid_entry2 __user *entries)</td></tr>
<tr class="separator:a5a115858ba6090dccc1ac1605bc3acc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d770d0af7358b6cd24b7cbe2617d73"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a91d770d0af7358b6cd24b7cbe2617d73">kvm_cpuid</a> (struct kvm_vcpu *vcpu, u32 *eax, u32 *ebx, u32 *ecx, u32 *edx, bool exact_only)</td></tr>
<tr class="separator:a91d770d0af7358b6cd24b7cbe2617d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad06d21707fd0abb109028612ea7514c"><td class="memItemLeft" align="right" valign="top">u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#aad06d21707fd0abb109028612ea7514c">xstate_required_size</a> (u64 xstate_bv, bool compacted)</td></tr>
<tr class="separator:aad06d21707fd0abb109028612ea7514c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a881fc10bf62818799a56d9246f58b6cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a881fc10bf62818799a56d9246f58b6cf">cpuid_query_maxphyaddr</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a881fc10bf62818799a56d9246f58b6cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf272b370f8a27bb68bf5bf9e5ae7d5"><td class="memItemLeft" align="right" valign="top">u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a8bf272b370f8a27bb68bf5bf9e5ae7d5">kvm_vcpu_reserved_gpa_bits_raw</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a8bf272b370f8a27bb68bf5bf9e5ae7d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1678e00b10264045277c1abfcb6eec3e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a1678e00b10264045277c1abfcb6eec3e">cpuid_maxphyaddr</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a1678e00b10264045277c1abfcb6eec3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ede0627c3b2d96bb1e5c0ff8e98cd0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a79ede0627c3b2d96bb1e5c0ff8e98cd0">kvm_vcpu_is_legal_gpa</a> (struct kvm_vcpu *vcpu, gpa_t gpa)</td></tr>
<tr class="separator:a79ede0627c3b2d96bb1e5c0ff8e98cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5468d9b5cbcb2f7a464c1fdfae1801a5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a5468d9b5cbcb2f7a464c1fdfae1801a5">kvm_vcpu_is_legal_aligned_gpa</a> (struct kvm_vcpu *vcpu, gpa_t gpa, gpa_t alignment)</td></tr>
<tr class="separator:a5468d9b5cbcb2f7a464c1fdfae1801a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a324c2cf2152bc998a4e85165ee805f83"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a324c2cf2152bc998a4e85165ee805f83">page_address_valid</a> (struct kvm_vcpu *vcpu, gpa_t gpa)</td></tr>
<tr class="separator:a324c2cf2152bc998a4e85165ee805f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac49cebef4a1bdd0996486028e64bbbd"><td class="memItemLeft" align="right" valign="top">static __always_inline void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#aac49cebef4a1bdd0996486028e64bbbd">cpuid_entry_override</a> (struct kvm_cpuid_entry2 *entry, unsigned int leaf)</td></tr>
<tr class="separator:aac49cebef4a1bdd0996486028e64bbbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2af2645f203b5d9bad2088af0da5c1e"><td class="memItemLeft" align="right" valign="top">static __always_inline u32 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#af2af2645f203b5d9bad2088af0da5c1e">guest_cpuid_get_register</a> (struct kvm_vcpu *vcpu, unsigned int x86_feature)</td></tr>
<tr class="separator:af2af2645f203b5d9bad2088af0da5c1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8c2a90f2f099af1d7ca23750d9d2eb9"><td class="memItemLeft" align="right" valign="top">static __always_inline bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9">guest_cpuid_has</a> (struct kvm_vcpu *vcpu, unsigned int x86_feature)</td></tr>
<tr class="separator:ad8c2a90f2f099af1d7ca23750d9d2eb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48976a4bdb86fcec67d2563d193d7dcd"><td class="memItemLeft" align="right" valign="top">static __always_inline void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a48976a4bdb86fcec67d2563d193d7dcd">guest_cpuid_clear</a> (struct kvm_vcpu *vcpu, unsigned int x86_feature)</td></tr>
<tr class="separator:a48976a4bdb86fcec67d2563d193d7dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a6ba63d82eb4536c34fc156c7021193"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a5a6ba63d82eb4536c34fc156c7021193">guest_cpuid_is_amd_or_hygon</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a5a6ba63d82eb4536c34fc156c7021193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35dee13971a1366be933e974552a02d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#aa35dee13971a1366be933e974552a02d">guest_cpuid_is_intel</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:aa35dee13971a1366be933e974552a02d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe67350cf6a86de17676b9dbb85e0207"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#afe67350cf6a86de17676b9dbb85e0207">guest_cpuid_is_amd_compatible</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:afe67350cf6a86de17676b9dbb85e0207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de02c3fbec1aa3cfd7890fb68d3fabf"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a0de02c3fbec1aa3cfd7890fb68d3fabf">guest_cpuid_is_intel_compatible</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a0de02c3fbec1aa3cfd7890fb68d3fabf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaefbcb7a479c2699345d74eb1fe3602"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#adaefbcb7a479c2699345d74eb1fe3602">guest_cpuid_family</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:adaefbcb7a479c2699345d74eb1fe3602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000a8b4d5c33ede65d4a34091f93b934"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a000a8b4d5c33ede65d4a34091f93b934">guest_cpuid_model</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a000a8b4d5c33ede65d4a34091f93b934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab99dc7d6bb2a01d43e47b5460139730a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#ab99dc7d6bb2a01d43e47b5460139730a">cpuid_model_is_consistent</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:ab99dc7d6bb2a01d43e47b5460139730a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a986d59c8648488abee98cf60c8c3435f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a986d59c8648488abee98cf60c8c3435f">guest_cpuid_stepping</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a986d59c8648488abee98cf60c8c3435f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad24a5bcf0ff93dc56c64e6867b8a2415"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#ad24a5bcf0ff93dc56c64e6867b8a2415">guest_has_spec_ctrl_msr</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:ad24a5bcf0ff93dc56c64e6867b8a2415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d953eb2c52baf0364a2a26c6748ee94"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a7d953eb2c52baf0364a2a26c6748ee94">guest_has_pred_cmd_msr</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a7d953eb2c52baf0364a2a26c6748ee94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f86e383596ed59413757a8502625f31"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a0f86e383596ed59413757a8502625f31">supports_cpuid_fault</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a0f86e383596ed59413757a8502625f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af84298b58b36ef9fc4198f2de91c2771"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#af84298b58b36ef9fc4198f2de91c2771">cpuid_fault_enabled</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:af84298b58b36ef9fc4198f2de91c2771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc65f0e23a3e84daece0c718bac6198"><td class="memItemLeft" align="right" valign="top">static __always_inline void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#abdc65f0e23a3e84daece0c718bac6198">kvm_cpu_cap_clear</a> (unsigned int x86_feature)</td></tr>
<tr class="separator:abdc65f0e23a3e84daece0c718bac6198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee66583565e70e231c1319604da3a201"><td class="memItemLeft" align="right" valign="top">static __always_inline void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a> (unsigned int x86_feature)</td></tr>
<tr class="separator:aee66583565e70e231c1319604da3a201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a865db4a5b4bd205aeed6d939d971a768"><td class="memItemLeft" align="right" valign="top">static __always_inline u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a865db4a5b4bd205aeed6d939d971a768">kvm_cpu_cap_get</a> (unsigned int x86_feature)</td></tr>
<tr class="separator:a865db4a5b4bd205aeed6d939d971a768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a2881bd1ba1c3c4b2fb5f3b13ac12de"><td class="memItemLeft" align="right" valign="top">static __always_inline bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a4a2881bd1ba1c3c4b2fb5f3b13ac12de">kvm_cpu_cap_has</a> (unsigned int x86_feature)</td></tr>
<tr class="separator:a4a2881bd1ba1c3c4b2fb5f3b13ac12de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267779506f2b7e74c16d026c5e5648f8"><td class="memItemLeft" align="right" valign="top">static __always_inline void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a267779506f2b7e74c16d026c5e5648f8">kvm_cpu_cap_check_and_set</a> (unsigned int x86_feature)</td></tr>
<tr class="separator:a267779506f2b7e74c16d026c5e5648f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a831ae844ef432e45ec7a88f170a7e1dc"><td class="memItemLeft" align="right" valign="top">static __always_inline bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a831ae844ef432e45ec7a88f170a7e1dc">guest_pv_has</a> (struct kvm_vcpu *vcpu, unsigned int kvm_feature)</td></tr>
<tr class="separator:a831ae844ef432e45ec7a88f170a7e1dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a786eea4c1fa59be0155455a72125e0ff"><td class="memItemLeft" align="right" valign="top">static __always_inline int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a786eea4c1fa59be0155455a72125e0ff">kvm_governed_feature_index</a> (unsigned int x86_feature)</td></tr>
<tr class="separator:a786eea4c1fa59be0155455a72125e0ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72da5444b01d72d935ebc411b99ba166"><td class="memItemLeft" align="right" valign="top">static __always_inline bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a72da5444b01d72d935ebc411b99ba166">kvm_is_governed_feature</a> (unsigned int x86_feature)</td></tr>
<tr class="separator:a72da5444b01d72d935ebc411b99ba166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a898d2d1ac4ac03c41e5bb2ebd1402ac0"><td class="memItemLeft" align="right" valign="top">static __always_inline void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a898d2d1ac4ac03c41e5bb2ebd1402ac0">kvm_governed_feature_set</a> (struct kvm_vcpu *vcpu, unsigned int x86_feature)</td></tr>
<tr class="separator:a898d2d1ac4ac03c41e5bb2ebd1402ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacf5b21a9aa34f7acd0df7fa8093c4a0"><td class="memItemLeft" align="right" valign="top">static __always_inline void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#aacf5b21a9aa34f7acd0df7fa8093c4a0">kvm_governed_feature_check_and_set</a> (struct kvm_vcpu *vcpu, unsigned int x86_feature)</td></tr>
<tr class="separator:aacf5b21a9aa34f7acd0df7fa8093c4a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf67f5848a2ddd59dc852e37bc330390"><td class="memItemLeft" align="right" valign="top">static __always_inline bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#acf67f5848a2ddd59dc852e37bc330390">guest_can_use</a> (struct kvm_vcpu *vcpu, unsigned int x86_feature)</td></tr>
<tr class="separator:acf67f5848a2ddd59dc852e37bc330390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f4d8ed96a58f11e51539641257987c2"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a8f4d8ed96a58f11e51539641257987c2">kvm_vcpu_is_legal_cr3</a> (struct kvm_vcpu *vcpu, unsigned long cr3)</td></tr>
<tr class="separator:a8f4d8ed96a58f11e51539641257987c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3f87d0caeb64feff3b9b177c32ba3ed1"><td class="memItemLeft" align="right" valign="top">u32 kvm_cpu_caps[<a class="el" href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19a44bab4a663c0c6145b025d34e59c2556">NR_KVM_CPU_CAPS</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cpuid_8h.html#a3f87d0caeb64feff3b9b177c32ba3ed1">__read_mostly</a></td></tr>
<tr class="separator:a3f87d0caeb64feff3b9b177c32ba3ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ae374c6ed8f486fa5e30f8c0d2f815510"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae374c6ed8f486fa5e30f8c0d2f815510">&#9670;&nbsp;</a></span>KVM_GOVERNED_FEATURE <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KVM_GOVERNED_FEATURE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;KVM_GOVERNED_##x,</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00242">242</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>

</div>
</div>
<a id="ae374c6ed8f486fa5e30f8c0d2f815510"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae374c6ed8f486fa5e30f8c0d2f815510">&#9670;&nbsp;</a></span>KVM_GOVERNED_FEATURE <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KVM_GOVERNED_FEATURE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;case x: return KVM_GOVERNED_##x;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00242">242</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="abcfa552db4a30d5828a49a742bc1beeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcfa552db4a30d5828a49a742bc1beeb">&#9670;&nbsp;</a></span>kvm_governed_features</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="cpuid_8h.html#abcfa552db4a30d5828a49a742bc1beeb">kvm_governed_features</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="abcfa552db4a30d5828a49a742bc1beebacfb40ff11b95d4e4a67e9429fadf516a"></a>KVM_NR_GOVERNED_FEATURES&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00241">241</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                           {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">#define KVM_GOVERNED_FEATURE(x) KVM_GOVERNED_##x,</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="governed__features_8h.html">governed_features.h</a>&quot;</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="cpuid_8h.html#abcfa552db4a30d5828a49a742bc1beebacfb40ff11b95d4e4a67e9429fadf516a">KVM_NR_GOVERNED_FEATURES</a></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;};</div>
<div class="ttc" id="acpuid_8h_html_abcfa552db4a30d5828a49a742bc1beebacfb40ff11b95d4e4a67e9429fadf516a"><div class="ttname"><a href="cpuid_8h.html#abcfa552db4a30d5828a49a742bc1beebacfb40ff11b95d4e4a67e9429fadf516a">KVM_NR_GOVERNED_FEATURES</a></div><div class="ttdeci">@ KVM_NR_GOVERNED_FEATURES</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00245">cpuid.h:244</a></div></div>
<div class="ttc" id="agoverned__features_8h_html"><div class="ttname"><a href="governed__features_8h.html">governed_features.h</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aac49cebef4a1bdd0996486028e64bbbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac49cebef4a1bdd0996486028e64bbbd">&#9670;&nbsp;</a></span>cpuid_entry_override()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline void cpuid_entry_override </td>
          <td>(</td>
          <td class="paramtype">struct kvm_cpuid_entry2 *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>leaf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00061">61</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    u32 *reg = <a class="code" href="reverse__cpuid_8h.html#a08df87ae84991c96655f367379fad9b1">cpuid_entry_get_reg</a>(entry, leaf * 32);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    BUILD_BUG_ON(leaf &gt;= ARRAY_SIZE(kvm_cpu_caps));</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    *reg = kvm_cpu_caps[leaf];</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
<div class="ttc" id="areverse__cpuid_8h_html_a08df87ae84991c96655f367379fad9b1"><div class="ttname"><a href="reverse__cpuid_8h.html#a08df87ae84991c96655f367379fad9b1">cpuid_entry_get_reg</a></div><div class="ttdeci">static __always_inline u32 * cpuid_entry_get_reg(struct kvm_cpuid_entry2 *entry, unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00184">reverse_cpuid.h:184</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_aac49cebef4a1bdd0996486028e64bbbd_cgraph.png" border="0" usemap="#acpuid_8h_aac49cebef4a1bdd0996486028e64bbbd_cgraph" alt=""/></div>
<map name="acpuid_8h_aac49cebef4a1bdd0996486028e64bbbd_cgraph" id="acpuid_8h_aac49cebef4a1bdd0996486028e64bbbd_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,164,57"/>
<area shape="rect" href="reverse__cpuid_8h.html#a08df87ae84991c96655f367379fad9b1" title=" " alt="" coords="212,31,367,57"/>
<area shape="rect" href="reverse__cpuid_8h.html#adf3299d46978c685ba9b46ebb1536680" title=" " alt="" coords="415,5,583,32"/>
<area shape="rect" href="reverse__cpuid_8h.html#a3f7e53c68e5610be44d760fd4854f892" title=" " alt="" coords="427,56,570,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="653,31,767,57"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="631,81,789,108"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="837,31,985,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_aac49cebef4a1bdd0996486028e64bbbd_icgraph.png" border="0" usemap="#acpuid_8h_aac49cebef4a1bdd0996486028e64bbbd_icgraph" alt=""/></div>
<map name="acpuid_8h_aac49cebef4a1bdd0996486028e64bbbd_icgraph" id="acpuid_8h_aac49cebef4a1bdd0996486028e64bbbd_icgraph">
<area shape="rect" title=" " alt="" coords="948,5,1107,32"/>
<area shape="rect" href="cpuid_8c.html#ac91da0391b283d7527a8b33206fe03dd" title=" " alt="" coords="771,5,900,32"/>
<area shape="rect" href="cpuid_8c.html#a652f54573475d1818402ab58329c340c" title=" " alt="" coords="608,5,723,32"/>
<area shape="rect" href="cpuid_8c.html#a1e952716ba7f46eb64f00d8a59c2be8d" title=" " alt="" coords="440,5,560,32"/>
<area shape="rect" href="cpuid_8c.html#ac74b10a6f6a1e67ef54c48e55473ff07" title=" " alt="" coords="205,5,392,32"/>
<area shape="rect" href="x86_8c.html#a05ad3b4bc56bfbca86cf49699ca69f5f" title=" " alt="" coords="5,5,157,32"/>
</map>
</div>

</div>
</div>
<a id="af84298b58b36ef9fc4198f2de91c2771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af84298b58b36ef9fc4198f2de91c2771">&#9670;&nbsp;</a></span>cpuid_fault_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool cpuid_fault_enabled </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00191">191</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;{</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">return</span> vcpu-&gt;arch.msr_misc_features_enables &amp;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;          MSR_MISC_FEATURES_ENABLES_CPUID_FAULT;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_af84298b58b36ef9fc4198f2de91c2771_icgraph.png" border="0" usemap="#acpuid_8h_af84298b58b36ef9fc4198f2de91c2771_icgraph" alt=""/></div>
<map name="acpuid_8h_af84298b58b36ef9fc4198f2de91c2771_icgraph" id="acpuid_8h_af84298b58b36ef9fc4198f2de91c2771_icgraph">
<area shape="rect" title=" " alt="" coords="387,31,540,57"/>
<area shape="rect" href="cpuid_8c.html#a3650f2f078b9b3c62d58cd77e47ce3ab" title=" " alt="" coords="174,5,329,32"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
</map>
</div>

</div>
</div>
<a id="a1678e00b10264045277c1abfcb6eec3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1678e00b10264045277c1abfcb6eec3e">&#9670;&nbsp;</a></span>cpuid_maxphyaddr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cpuid_maxphyaddr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00040">40</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">return</span> vcpu-&gt;arch.maxphyaddr;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a1678e00b10264045277c1abfcb6eec3e_icgraph.png" border="0" usemap="#acpuid_8h_a1678e00b10264045277c1abfcb6eec3e_icgraph" alt=""/></div>
<map name="acpuid_8h_a1678e00b10264045277c1abfcb6eec3e_icgraph" id="acpuid_8h_a1678e00b10264045277c1abfcb6eec3e_icgraph">
<area shape="rect" title=" " alt="" coords="1871,677,2017,704"/>
<area shape="rect" href="mmu_8c.html#a07ee66bdf73e200ebc9bbf56be2ebe35" title=" " alt="" coords="1636,538,1823,579"/>
<area shape="rect" href="cpuid_8c.html#a8bf272b370f8a27bb68bf5bf9e5ae7d5" title=" " alt="" coords="1157,670,1341,711"/>
<area shape="rect" href="vmx_8h.html#a046cd100cd1f1b77bfa5ba028dcd52ff" title=" " alt="" coords="1642,976,1817,1003"/>
<area shape="rect" href="mmu_8c.html#a2346100ce00fd4d842c51c4be6cbfe35" title=" " alt="" coords="1415,397,1563,424"/>
<area shape="rect" href="mmu_8c.html#a88ade1c65bbbb9b25a78e82003a71a7c" title=" " alt="" coords="1189,233,1309,260"/>
<area shape="rect" href="x86_8c.html#ae2ebf37d8daf1a8b43a9823bae4ab32b" title=" " alt="" coords="453,107,625,133"/>
<area shape="rect" href="mmu_8c.html#a56f1568115a55fdacc188e9b41159b8f" title=" " alt="" coords="921,360,1109,387"/>
<area shape="rect" href="x86_8c.html#a3df01e8bd995bb72420812ea1d39df4b" title=" " alt="" coords="704,309,844,336"/>
<area shape="rect" href="svm_2nested_8c.html#a2d996c5be366f0a7b21228fd18be85ab" title=" " alt="" coords="934,5,1097,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a6541b63ab236a1d9732c8ffc3c604ee9" title=" " alt="" coords="933,664,1097,691"/>
<area shape="rect" href="kvm__main_8c.html#ab8870469dadfadf9a204346c62016293" title=" " alt="" coords="204,107,404,133"/>
<area shape="rect" href="x86_8c.html#ac766943d4a9d3c7a489012c02e25be54" title=" " alt="" coords="490,423,589,449"/>
<area shape="rect" href="x86_8c.html#a48bee74c7062ceb8db0b0fa3beebfbbc" title=" " alt="" coords="486,487,593,513"/>
<area shape="rect" href="smm_8c.html#ae1445727a8459a6cc7d2e49e5a63c0d5" title=" " alt="" coords="491,233,587,260"/>
<area shape="rect" href="mmu_8c.html#a3b03fb05a1055f336fa61182cf0c760b" title=" " alt="" coords="675,563,873,589"/>
<area shape="rect" href="x86_8c.html#afb193fb2b1c3f240d0ad5a5378afc118" title=" " alt="" coords="704,360,844,387"/>
<area shape="rect" href="smm_8c.html#a5382946234c910e05c6e2c09aff15713" title=" " alt="" coords="697,208,851,235"/>
<area shape="rect" href="x86_8c.html#a2694456104c02a7204796d89d13a1e91" title=" " alt="" coords="709,157,839,184"/>
<area shape="rect" href="vmx_2nested_8c.html#a001f930db9a867e828cf01b48d3e4e25" title=" " alt="" coords="697,817,851,858"/>
<area shape="rect" href="x86_8c.html#a420caf80521ab8d6ef7218d5dd26d47f" title=" " alt="" coords="737,664,811,691"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="463,581,616,622"/>
<area shape="rect" href="cpuid_8c.html#a0ff60eac33c1bf95a3889674e34251ad" title=" " alt="" coords="244,588,364,615"/>
<area shape="rect" href="cpuid_8c.html#a5066ac0b188677d15925709568a91c9d" title=" " alt="" coords="5,549,156,590"/>
<area shape="rect" href="cpuid_8c.html#ad4dde50a2939106abd2baf99683ac139" title=" " alt="" coords="5,614,156,655"/>
<area shape="rect" href="svm_8c.html#af4590239d3e0b5fbad189a245207dfaa" title=" " alt="" coords="506,360,573,387"/>
<area shape="rect" href="x86_8c.html#aa9556b4ebb06617f66625ff73a3f56b4" title=" " alt="" coords="487,309,592,336"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="452,740,627,767"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="263,715,345,741"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="249,765,359,792"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="249,925,359,952"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="709,933,839,960"/>
<area shape="rect" href="mtrr_8c.html#a81a164c2615ef1c0fc231d71e5ba9a53" title=" " alt="" coords="942,816,1089,843"/>
<area shape="rect" href="mtrr_8c.html#a1775807b30fdd1d17a4fb9f1f82a6aab" title=" " alt="" coords="953,765,1078,792"/>
<area shape="rect" href="lapic_8h.html#a9d9f2a266299bc56c932735db94816d5" title=" " alt="" coords="940,563,1091,589"/>
<area shape="rect" href="mtrr_8c.html#ae76247135f576f78a7740ff82f92b10c" title=" " alt="" coords="947,715,1084,741"/>
<area shape="rect" href="x86_8c.html#a0e93cb5e88dc8c07d9357181a3a7b2e9" title=" " alt="" coords="687,883,861,909"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="484,857,595,884"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="484,908,595,935"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="701,765,847,792"/>
<area shape="rect" href="x86_8c.html#ad6dd5b8847ecb92fe36f8dabdac40b08" title=" " alt="" coords="693,461,855,488"/>
<area shape="rect" href="vmx_2nested_8c.html#ad83a41b6ce947fa24f8accde49c38aa0" title=" " alt="" coords="1389,1129,1588,1156"/>
<area shape="rect" href="vmx_2nested_8c.html#aa9419b385a2c58c246195d3106c57afc" title=" " alt="" coords="1407,1020,1570,1047"/>
<area shape="rect" href="vmx_8c.html#a6ddb2979d2cb226fe63f24b99f88a99e" title=" " alt="" coords="1401,925,1576,966"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="1174,1137,1325,1178"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="941,1144,1089,1171"/>
<area shape="rect" href="vmx_8c.html#a5b0ffadb6f1bbf0fe42d6cf7a17490bb" title=" " alt="" coords="1195,867,1303,893"/>
<area shape="rect" href="vmx_8c.html#ac744bdcb0b42778132eaeb180e29e70c" title=" " alt="" coords="1197,816,1302,843"/>
<area shape="rect" href="vmx_8c.html#a8ff77baa2f28fd717210bcac02a13434" title=" " alt="" coords="1173,969,1326,1010"/>
<area shape="rect" href="vmx_8c.html#acf9f5acdb0b2a5b2778c853846cfa09f" title=" " alt="" coords="963,867,1068,893"/>
</map>
</div>

</div>
</div>
<a id="ab99dc7d6bb2a01d43e47b5460139730a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab99dc7d6bb2a01d43e47b5460139730a">&#9670;&nbsp;</a></span>cpuid_model_is_consistent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool cpuid_model_is_consistent </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00155">155</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;{</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">return</span> boot_cpu_data.x86_model == <a class="code" href="cpuid_8h.html#a000a8b4d5c33ede65d4a34091f93b934">guest_cpuid_model</a>(vcpu);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_a000a8b4d5c33ede65d4a34091f93b934"><div class="ttname"><a href="cpuid_8h.html#a000a8b4d5c33ede65d4a34091f93b934">guest_cpuid_model</a></div><div class="ttdeci">static int guest_cpuid_model(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00144">cpuid.h:144</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_ab99dc7d6bb2a01d43e47b5460139730a_cgraph.png" border="0" usemap="#acpuid_8h_ab99dc7d6bb2a01d43e47b5460139730a_cgraph" alt=""/></div>
<map name="acpuid_8h_ab99dc7d6bb2a01d43e47b5460139730a_cgraph" id="acpuid_8h_ab99dc7d6bb2a01d43e47b5460139730a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,203,32"/>
<area shape="rect" href="cpuid_8h.html#a000a8b4d5c33ede65d4a34091f93b934" title=" " alt="" coords="251,5,399,32"/>
<area shape="rect" href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0" title=" " alt="" coords="447,5,612,32"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="660,5,797,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_ab99dc7d6bb2a01d43e47b5460139730a_icgraph.png" border="0" usemap="#acpuid_8h_ab99dc7d6bb2a01d43e47b5460139730a_icgraph" alt=""/></div>
<map name="acpuid_8h_ab99dc7d6bb2a01d43e47b5460139730a_icgraph" id="acpuid_8h_ab99dc7d6bb2a01d43e47b5460139730a_icgraph">
<area shape="rect" title=" " alt="" coords="193,31,391,57"/>
<area shape="rect" href="pmu__intel_8c.html#aef55e73b4b7ac8d0841b17310fc92297" title=" " alt="" coords="5,5,145,32"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="20,56,131,83"/>
</map>
</div>

</div>
</div>
<a id="a881fc10bf62818799a56d9246f58b6cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a881fc10bf62818799a56d9246f58b6cf">&#9670;&nbsp;</a></span>cpuid_query_maxphyaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cpuid_query_maxphyaddr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8c_source.html#l00390">390</a> of file <a class="el" href="cpuid_8c_source.html">cpuid.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;{</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keyword">struct </span>kvm_cpuid_entry2 *best;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    best = <a class="code" href="cpuid_8c.html#aae0475609eefc48bb151ef5a631670c0">kvm_find_cpuid_entry</a>(vcpu, 0x80000000);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (!best || best-&gt;eax &lt; 0x80000008)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">goto</span> not_found;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    best = <a class="code" href="cpuid_8c.html#aae0475609eefc48bb151ef5a631670c0">kvm_find_cpuid_entry</a>(vcpu, 0x80000008);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span> (best)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">return</span> best-&gt;eax &amp; 0xff;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;not_found:</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">return</span> 36;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;}</div>
<div class="ttc" id="acpuid_8c_html_aae0475609eefc48bb151ef5a631670c0"><div class="ttname"><a href="cpuid_8c.html#aae0475609eefc48bb151ef5a631670c0">kvm_find_cpuid_entry</a></div><div class="ttdeci">struct kvm_cpuid_entry2 * kvm_find_cpuid_entry(struct kvm_vcpu *vcpu, u32 function)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l01455">cpuid.c:1455</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a881fc10bf62818799a56d9246f58b6cf_cgraph.png" border="0" usemap="#acpuid_8h_a881fc10bf62818799a56d9246f58b6cf_cgraph" alt=""/></div>
<map name="acpuid_8h_a881fc10bf62818799a56d9246f58b6cf_cgraph" id="acpuid_8h_a881fc10bf62818799a56d9246f58b6cf_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,196,32"/>
<area shape="rect" href="cpuid_8c.html#aae0475609eefc48bb151ef5a631670c0" title=" " alt="" coords="244,5,409,32"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="457,5,595,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a881fc10bf62818799a56d9246f58b6cf_icgraph.png" border="0" usemap="#acpuid_8h_a881fc10bf62818799a56d9246f58b6cf_icgraph" alt=""/></div>
<map name="acpuid_8h_a881fc10bf62818799a56d9246f58b6cf_icgraph" id="acpuid_8h_a881fc10bf62818799a56d9246f58b6cf_icgraph">
<area shape="rect" title=" " alt="" coords="1051,35,1241,61"/>
<area shape="rect" href="x86_8c.html#ae2ebf37d8daf1a8b43a9823bae4ab32b" title=" " alt="" coords="831,5,1003,32"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="840,57,993,98"/>
<area shape="rect" href="kvm__main_8c.html#ab8870469dadfadf9a204346c62016293" title=" " alt="" coords="583,5,783,32"/>
<area shape="rect" href="cpuid_8c.html#a0ff60eac33c1bf95a3889674e34251ad" title=" " alt="" coords="623,64,743,91"/>
<area shape="rect" href="cpuid_8c.html#a5066ac0b188677d15925709568a91c9d" title=" " alt="" coords="384,23,535,65"/>
<area shape="rect" href="cpuid_8c.html#ad4dde50a2939106abd2baf99683ac139" title=" " alt="" coords="384,89,535,130"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,64,336,91"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,64,129,91"/>
</map>
</div>

</div>
</div>
<a id="acf67f5848a2ddd59dc852e37bc330390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf67f5848a2ddd59dc852e37bc330390">&#9670;&nbsp;</a></span>guest_can_use()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline bool guest_can_use </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x86_feature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00278">278</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    BUILD_BUG_ON(!<a class="code" href="cpuid_8h.html#a72da5444b01d72d935ebc411b99ba166">kvm_is_governed_feature</a>(x86_feature));</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">return</span> test_bit(<a class="code" href="cpuid_8h.html#a786eea4c1fa59be0155455a72125e0ff">kvm_governed_feature_index</a>(x86_feature),</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            vcpu-&gt;arch.governed_features.enabled);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_a72da5444b01d72d935ebc411b99ba166"><div class="ttname"><a href="cpuid_8h.html#a72da5444b01d72d935ebc411b99ba166">kvm_is_governed_feature</a></div><div class="ttdeci">static __always_inline bool kvm_is_governed_feature(unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00257">cpuid.h:257</a></div></div>
<div class="ttc" id="acpuid_8h_html_a786eea4c1fa59be0155455a72125e0ff"><div class="ttname"><a href="cpuid_8h.html#a786eea4c1fa59be0155455a72125e0ff">kvm_governed_feature_index</a></div><div class="ttdeci">static __always_inline int kvm_governed_feature_index(unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00247">cpuid.h:247</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_acf67f5848a2ddd59dc852e37bc330390_cgraph.png" border="0" usemap="#acpuid_8h_acf67f5848a2ddd59dc852e37bc330390_cgraph" alt=""/></div>
<map name="acpuid_8h_acf67f5848a2ddd59dc852e37bc330390_cgraph" id="acpuid_8h_acf67f5848a2ddd59dc852e37bc330390_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,124,39"/>
<area shape="rect" href="cpuid_8h.html#a786eea4c1fa59be0155455a72125e0ff" title=" " alt="" coords="411,5,584,47"/>
<area shape="rect" href="cpuid_8h.html#a72da5444b01d72d935ebc411b99ba166" title=" " alt="" coords="172,38,363,65"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_acf67f5848a2ddd59dc852e37bc330390_icgraph.png" border="0" usemap="#acpuid_8h_acf67f5848a2ddd59dc852e37bc330390_icgraph" alt=""/></div>
<map name="acpuid_8h_acf67f5848a2ddd59dc852e37bc330390_icgraph" id="acpuid_8h_acf67f5848a2ddd59dc852e37bc330390_icgraph">
<area shape="rect" title=" " alt="" coords="1295,680,1413,707"/>
<area shape="rect" href="mmu_8h.html#a4e90e07b62b255d32f17cdb19ba6d1d1" title=" " alt="" coords="1063,23,1216,65"/>
<area shape="rect" href="x86_8c.html#aed9e7eaa275b4dc9692bbbfea052ca53" title=" " alt="" coords="1052,245,1227,286"/>
<area shape="rect" href="x86_8c.html#aff7b722decad07b127dc964cb4ba5ebc" title=" " alt="" coords="1056,310,1223,351"/>
<area shape="rect" href="cpuid_8h.html#a8f4d8ed96a58f11e51539641257987c2" title=" " alt="" coords="787,579,960,605"/>
<area shape="rect" href="svm_2nested_8c.html#a73d1cb9b9fcfa112138681d9080a1c05" title=" " alt="" coords="287,703,441,729"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="279,761,449,788"/>
<area shape="rect" href="svm_8h.html#ad6d8c993934e650cf5366b9883c3628e" title=" " alt="" coords="1061,115,1218,141"/>
<area shape="rect" href="svm_2nested_8c.html#ab7904bb74631114e0bd5102a52aab4c8" title=" " alt="" coords="520,243,703,285"/>
<area shape="rect" href="svm_2nested_8c.html#ae734b89c5cf3a889380d8136e2ed749e" title=" " alt="" coords="763,528,983,555"/>
<area shape="rect" href="svm_2nested_8c.html#a225c391860ae9f13ee16f0292bef1b05" title=" " alt="" coords="1049,462,1230,503"/>
<area shape="rect" href="svm_8h.html#ab452fafde694bb5dfd7c6dfc5707ae12" title=" " alt="" coords="1057,173,1222,200"/>
<area shape="rect" href="mmu_8c.html#a7c03a09eaa19dd03710b5221a58f49db" title=" " alt="" coords="1032,883,1247,909"/>
<area shape="rect" href="mmu_8c.html#af9097af8c7f507ad527d445389b1b0b5" title=" " alt="" coords="763,832,984,859"/>
<area shape="rect" href="sev_8c.html#a8d230da93752633a5c5c7e6cf7c54343" title=" " alt="" coords="1055,934,1224,975"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="1084,1000,1195,1027"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="819,731,928,757"/>
<area shape="rect" href="svm_8c.html#ad5aa214e23ea9ec9418bebbe889d41ef" title=" " alt="" coords="1072,680,1207,707"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="1084,1051,1195,1077"/>
<area shape="rect" href="vmx_2nested_8c.html#ac436bd43f9cd48511bdf54c6e36fd31d" title=" " alt="" coords="1054,1101,1225,1128"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="1084,1152,1195,1179"/>
<area shape="rect" href="vmx_8c.html#a8ff77baa2f28fd717210bcac02a13434" title=" " alt="" coords="1063,1203,1216,1245"/>
<area shape="rect" href="vmx_8c.html#a074416f44b1e2949a96f85e0579c8aeb" title=" " alt="" coords="794,5,953,32"/>
<area shape="rect" href="svm_8c.html#a5d2703bd914c4ae4fcb1eb83c208b085" title=" " alt="" coords="553,192,669,219"/>
<area shape="rect" href="vmx_8c.html#a909291866931c22138fd3ba80f0a7651" title=" " alt="" coords="815,275,932,301"/>
<area shape="rect" href="svm_2nested_8c.html#adc31a13f6b922f4423d486a14f6f0531" title=" " alt="" coords="508,461,715,488"/>
<area shape="rect" href="x86_8c.html#ab82b4dd5c18ce3566c10ea155d280a68" title=" " alt="" coords="536,512,687,539"/>
<area shape="rect" href="x86_8c.html#a75f57f1f4494df7f35fcdf0e0e582a31" title=" " alt="" coords="559,563,664,589"/>
<area shape="rect" href="svm_2nested_8c.html#a2d996c5be366f0a7b21228fd18be85ab" title=" " alt="" coords="530,411,693,437"/>
<area shape="rect" href="vmx_2nested_8c.html#a4632daec5bd26a4c08659779f9d2ca07" title=" " alt="" coords="520,614,703,655"/>
<area shape="rect" href="vmx_2nested_8c.html#a6541b63ab236a1d9732c8ffc3c604ee9" title=" " alt="" coords="529,360,693,387"/>
<area shape="rect" href="svm_2nested_8c.html#ae732aef70a2e3611917e028d9ec42ace" title=" " alt="" coords="268,449,460,476"/>
<area shape="rect" href="svm_2nested_8c.html#a8bac395de612ca2b748016c6f5ea0fef" title=" " alt="" coords="280,399,448,425"/>
<area shape="rect" href="svm_2nested_8c.html#a4ec7e878f6af209e74dd84285ee0198f" title=" " alt="" coords="37,449,188,476"/>
<area shape="rect" href="x86_8c.html#ad6dd5b8847ecb92fe36f8dabdac40b08" title=" " alt="" coords="283,500,445,527"/>
<area shape="rect" href="svm_8c.html#ad1887c4bb9c78c577fb20a129d73ea41" title=" " alt="" coords="305,551,423,577"/>
<area shape="rect" href="x86_8c.html#a86812e4228865668099921709e1c2f26" title=" " alt="" coords="301,601,427,628"/>
<area shape="rect" href="vmx_8c.html#aa55ace9429e6e94042e6602716222805" title=" " alt="" coords="321,652,407,679"/>
<area shape="rect" href="svm_2nested_8c.html#a9b21378a3de8baae9bcb689f00cad48e" title=" " alt="" coords="275,323,453,349"/>
<area shape="rect" href="svm_2nested_8c.html#a777240cb9ab00451d21a1b204e19c5a6" title=" " alt="" coords="17,644,209,671"/>
<area shape="rect" href="svm_2nested_8c.html#a03b4be7ca82710ecd17bc66f2a20cad8" title=" " alt="" coords="5,695,220,737"/>
<area shape="rect" href="svm_2nested_8c.html#a574acca11f4be4ea5df18f36307f9bf6" title=" " alt="" coords="11,761,215,788"/>
<area shape="rect" href="svm_8h.html#a7b2d87885eea1b11b1bf1045c21c5a8b" title=" " alt="" coords="10,812,215,839"/>
<area shape="rect" href="svm_2hyperv_8c.html#a33efa5fe6a664e9b2a70232b93485645" title=" " alt="" coords="21,578,204,619"/>
<area shape="rect" href="svm_8h.html#a69e061ab353251d82ff01f587be58c96" title=" " alt="" coords="814,56,933,83"/>
<area shape="rect" href="svm_2nested_8c.html#a232d9e4f1731f0d495e3b4f9d530d0ee" title=" " alt="" coords="796,107,951,149"/>
<area shape="rect" href="svm_2nested_8c.html#adb2a01596415bf77bd9a3f22ff165a14" title=" " alt="" coords="807,427,940,453"/>
<area shape="rect" href="mmu_8c.html#ac7b31af26c029f185ab41ed060228847" title=" " alt="" coords="799,883,948,925"/>
<area shape="rect" href="mmu_8c.html#abd9285ed33f21279b97f214287ab49bf" title=" " alt="" coords="513,861,710,888"/>
<area shape="rect" href="sev_8c.html#a00c492279a529b66b80ed039ae6de23b" title=" " alt="" coords="800,949,947,990"/>
</map>
</div>

</div>
</div>
<a id="a48976a4bdb86fcec67d2563d193d7dcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48976a4bdb86fcec67d2563d193d7dcd">&#9670;&nbsp;</a></span>guest_cpuid_clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline void guest_cpuid_clear </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x86_feature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00095">95</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    u32 *reg;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    reg = <a class="code" href="cpuid_8h.html#af2af2645f203b5d9bad2088af0da5c1e">guest_cpuid_get_register</a>(vcpu, x86_feature);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span> (reg)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        *reg &amp;= ~<a class="code" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c">__feature_bit</a>(x86_feature);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_af2af2645f203b5d9bad2088af0da5c1e"><div class="ttname"><a href="cpuid_8h.html#af2af2645f203b5d9bad2088af0da5c1e">guest_cpuid_get_register</a></div><div class="ttdeci">static __always_inline u32 * guest_cpuid_get_register(struct kvm_vcpu *vcpu, unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00070">cpuid.h:70</a></div></div>
<div class="ttc" id="areverse__cpuid_8h_html_aeac4cdaa1c8b53f46ea791f355b1d08c"><div class="ttname"><a href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c">__feature_bit</a></div><div class="ttdeci">static __always_inline u32 __feature_bit(int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00148">reverse_cpuid.h:148</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a48976a4bdb86fcec67d2563d193d7dcd_cgraph.png" border="0" usemap="#acpuid_8h_a48976a4bdb86fcec67d2563d193d7dcd_cgraph" alt=""/></div>
<map name="acpuid_8h_a48976a4bdb86fcec67d2563d193d7dcd_cgraph" id="acpuid_8h_a48976a4bdb86fcec67d2563d193d7dcd_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,144,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="456,5,563,32"/>
<area shape="rect" href="cpuid_8h.html#af2af2645f203b5d9bad2088af0da5c1e" title=" " alt="" coords="192,81,377,108"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="848,31,996,57"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="641,31,800,57"/>
<area shape="rect" href="reverse__cpuid_8h.html#adf3299d46978c685ba9b46ebb1536680" title=" " alt="" coords="425,107,593,133"/>
<area shape="rect" href="cpuid_8h.html#a638557b30255883157acafa55a351d0d" title=" " alt="" coords="427,158,592,199"/>
<area shape="rect" href="reverse__cpuid_8h.html#a3f7e53c68e5610be44d760fd4854f892" title=" " alt="" coords="438,56,581,83"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="652,165,789,192"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="663,81,778,108"/>
</map>
</div>

</div>
</div>
<a id="adaefbcb7a479c2699345d74eb1fe3602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaefbcb7a479c2699345d74eb1fe3602">&#9670;&nbsp;</a></span>guest_cpuid_family()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int guest_cpuid_family </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00133">133</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keyword">struct </span>kvm_cpuid_entry2 *best;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    best = <a class="code" href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0">kvm_find_cpuid_entry</a>(vcpu, 0x1);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">if</span> (!best)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">return</span> x86_family(best-&gt;eax);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_aae0475609eefc48bb151ef5a631670c0"><div class="ttname"><a href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0">kvm_find_cpuid_entry</a></div><div class="ttdeci">struct kvm_cpuid_entry2 * kvm_find_cpuid_entry(struct kvm_vcpu *vcpu, u32 function)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l01455">cpuid.c:1455</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_adaefbcb7a479c2699345d74eb1fe3602_cgraph.png" border="0" usemap="#acpuid_8h_adaefbcb7a479c2699345d74eb1fe3602_cgraph" alt=""/></div>
<map name="acpuid_8h_adaefbcb7a479c2699345d74eb1fe3602_cgraph" id="acpuid_8h_adaefbcb7a479c2699345d74eb1fe3602_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,155,32"/>
<area shape="rect" href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0" title=" " alt="" coords="203,5,368,32"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="416,5,553,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_adaefbcb7a479c2699345d74eb1fe3602_icgraph.png" border="0" usemap="#acpuid_8h_adaefbcb7a479c2699345d74eb1fe3602_icgraph" alt=""/></div>
<map name="acpuid_8h_adaefbcb7a479c2699345d74eb1fe3602_icgraph" id="acpuid_8h_adaefbcb7a479c2699345d74eb1fe3602_icgraph">
<area shape="rect" title=" " alt="" coords="164,5,313,32"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="5,5,116,32"/>
</map>
</div>

</div>
</div>
<a id="af2af2645f203b5d9bad2088af0da5c1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2af2645f203b5d9bad2088af0da5c1e">&#9670;&nbsp;</a></span>guest_cpuid_get_register()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline u32* guest_cpuid_get_register </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x86_feature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00070">70</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structcpuid__reg.html">cpuid_reg</a> cpuid = <a class="code" href="reverse__cpuid_8h.html#a3f7e53c68e5610be44d760fd4854f892">x86_feature_cpuid</a>(x86_feature);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keyword">struct </span>kvm_cpuid_entry2 *entry;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    entry = <a class="code" href="cpuid_8h.html#a638557b30255883157acafa55a351d0d">kvm_find_cpuid_entry_index</a>(vcpu, cpuid.<a class="code" href="structcpuid__reg.html#a51b21a0bcadd2d6062b6690ad07e16bc">function</a>, cpuid.<a class="code" href="structcpuid__reg.html#a045599ded48c2883e6d6766a12f79cd3">index</a>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">if</span> (!entry)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="reverse__cpuid_8h.html#adf3299d46978c685ba9b46ebb1536680">__cpuid_entry_get_reg</a>(entry, cpuid.<a class="code" href="structcpuid__reg.html#a61bb86739a2392d01411f8a5e6334f96">reg</a>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_a638557b30255883157acafa55a351d0d"><div class="ttname"><a href="cpuid_8h.html#a638557b30255883157acafa55a351d0d">kvm_find_cpuid_entry_index</a></div><div class="ttdeci">struct kvm_cpuid_entry2 * kvm_find_cpuid_entry_index(struct kvm_vcpu *vcpu, u32 function, u32 index)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l01447">cpuid.c:1447</a></div></div>
<div class="ttc" id="areverse__cpuid_8h_html_a3f7e53c68e5610be44d760fd4854f892"><div class="ttname"><a href="reverse__cpuid_8h.html#a3f7e53c68e5610be44d760fd4854f892">x86_feature_cpuid</a></div><div class="ttdeci">static __always_inline struct cpuid_reg x86_feature_cpuid(unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00158">reverse_cpuid.h:158</a></div></div>
<div class="ttc" id="areverse__cpuid_8h_html_adf3299d46978c685ba9b46ebb1536680"><div class="ttname"><a href="reverse__cpuid_8h.html#adf3299d46978c685ba9b46ebb1536680">__cpuid_entry_get_reg</a></div><div class="ttdeci">static __always_inline u32 * __cpuid_entry_get_reg(struct kvm_cpuid_entry2 *entry, u32 reg)</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00166">reverse_cpuid.h:166</a></div></div>
<div class="ttc" id="astructcpuid__reg_html"><div class="ttname"><a href="structcpuid__reg.html">cpuid_reg</a></div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00064">reverse_cpuid.h:64</a></div></div>
<div class="ttc" id="astructcpuid__reg_html_a045599ded48c2883e6d6766a12f79cd3"><div class="ttname"><a href="structcpuid__reg.html#a045599ded48c2883e6d6766a12f79cd3">cpuid_reg::index</a></div><div class="ttdeci">u32 index</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00066">reverse_cpuid.h:66</a></div></div>
<div class="ttc" id="astructcpuid__reg_html_a51b21a0bcadd2d6062b6690ad07e16bc"><div class="ttname"><a href="structcpuid__reg.html#a51b21a0bcadd2d6062b6690ad07e16bc">cpuid_reg::function</a></div><div class="ttdeci">u32 function</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00065">reverse_cpuid.h:65</a></div></div>
<div class="ttc" id="astructcpuid__reg_html_a61bb86739a2392d01411f8a5e6334f96"><div class="ttname"><a href="structcpuid__reg.html#a61bb86739a2392d01411f8a5e6334f96">cpuid_reg::reg</a></div><div class="ttdeci">int reg</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00067">reverse_cpuid.h:67</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_af2af2645f203b5d9bad2088af0da5c1e_cgraph.png" border="0" usemap="#acpuid_8h_af2af2645f203b5d9bad2088af0da5c1e_cgraph" alt=""/></div>
<map name="acpuid_8h_af2af2645f203b5d9bad2088af0da5c1e_cgraph" id="acpuid_8h_af2af2645f203b5d9bad2088af0da5c1e_cgraph">
<area shape="rect" title=" " alt="" coords="5,64,191,91"/>
<area shape="rect" href="reverse__cpuid_8h.html#adf3299d46978c685ba9b46ebb1536680" title=" " alt="" coords="239,5,407,32"/>
<area shape="rect" href="cpuid_8h.html#a638557b30255883157acafa55a351d0d" title=" " alt="" coords="240,57,405,98"/>
<area shape="rect" href="reverse__cpuid_8h.html#a3f7e53c68e5610be44d760fd4854f892" title=" " alt="" coords="251,123,394,149"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="465,64,603,91"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="477,119,591,145"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="455,169,613,196"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="661,119,809,145"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_af2af2645f203b5d9bad2088af0da5c1e_icgraph.png" border="0" usemap="#acpuid_8h_af2af2645f203b5d9bad2088af0da5c1e_icgraph" alt=""/></div>
<map name="acpuid_8h_af2af2645f203b5d9bad2088af0da5c1e_icgraph" id="acpuid_8h_af2af2645f203b5d9bad2088af0da5c1e_icgraph">
<area shape="rect" title=" " alt="" coords="857,1237,1043,1264"/>
<area shape="rect" href="cpuid_8h.html#a48976a4bdb86fcec67d2563d193d7dcd" title=" " alt="" coords="671,1212,809,1239"/>
<area shape="rect" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9" title=" " alt="" coords="675,1263,805,1289"/>
<area shape="rect" href="x86_8c.html#a69cd7a555054c4e390c588fb9da44dc9" title=" " alt="" coords="462,64,587,91"/>
<area shape="rect" href="hyperv_8c.html#a980a88832a98cf2bd5c4f0e3849cd445" title=" " alt="" coords="427,118,622,159"/>
<area shape="rect" href="x86_8c.html#ad0df6b04ae08eb6eec89da2d81e465cd" title=" " alt="" coords="463,184,587,211"/>
<area shape="rect" href="x86_8c.html#acca89d2d63dab117a3a766c7e549cf79" title=" " alt="" coords="456,235,593,261"/>
<area shape="rect" href="svm_2pmu_8c.html#afb9cd2ecbe0e74fc869e44c47a496cb9" title=" " alt="" coords="455,285,595,312"/>
<area shape="rect" href="svm_2pmu_8c.html#a3a6878daa6211de21b0ca114119eff4e" title=" " alt="" coords="455,336,595,363"/>
<area shape="rect" href="x86_8c.html#a9e8ebbb82d5f2c8291f45a2426e07950" title=" " alt="" coords="431,387,618,413"/>
<area shape="rect" href="x86_8c.html#a7da5124273b0d08df1fe976ff3731ca9" title=" " alt="" coords="447,438,602,479"/>
<area shape="rect" href="x86_8c.html#af826c71b8cae72946605135bf8851586" title=" " alt="" coords="447,503,602,545"/>
<area shape="rect" href="smm_8c.html#a0943012ff008c7999f582998f0f9167a" title=" " alt="" coords="443,569,607,596"/>
<area shape="rect" href="sgx_8c.html#ad8776272779cac650bff380210426a60" title=" " alt="" coords="451,671,598,713"/>
<area shape="rect" href="sgx_8c.html#a34e5ee57c3e7c3172f8ae6ed981d703d" title=" " alt="" coords="218,649,325,676"/>
<area shape="rect" href="smm_8c.html#ae1445727a8459a6cc7d2e49e5a63c0d5" title=" " alt="" coords="477,737,573,764"/>
<area shape="rect" href="svm_2pmu_8c.html#ae983682a42d97c25309190b5aeab179e" title=" " alt="" coords="456,788,593,815"/>
<area shape="rect" href="cpuid_8h.html#a7d953eb2c52baf0364a2a26c6748ee94" title=" " alt="" coords="429,1175,620,1201"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="184,1343,359,1369"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,1343,115,1369"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,1423,116,1449"/>
<area shape="rect" href="svm_8c.html#a204e4c169e1e8029eff521725a526a57" title=" " alt="" coords="195,1197,347,1238"/>
<area shape="rect" href="vmx_8c.html#a8ff77baa2f28fd717210bcac02a13434" title=" " alt="" coords="195,1021,348,1062"/>
<area shape="rect" href="cpuid_8h.html#ad24a5bcf0ff93dc56c64e6867b8a2415" title=" " alt="" coords="432,1596,617,1623"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="216,1663,327,1689"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="216,1713,327,1740"/>
<area shape="rect" href="vmx_8c.html#af3a69581bc36e5dd88f3c37334df214d" title=" " alt="" coords="465,1799,585,1825"/>
<area shape="rect" href="pmu__intel_8c.html#a732847faae93b3f95f904168b42add71" title=" " alt="" coords="201,1875,341,1901"/>
<area shape="rect" href="svm_8c.html#a6875c998376697a8776271bc88521721" title=" " alt="" coords="447,1951,602,1977"/>
<area shape="rect" href="lapic_8c.html#aaa6716cc0b30bec513d223fbfdecfdcf" title=" " alt="" coords="441,2052,608,2079"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="195,2019,348,2061"/>
<area shape="rect" href="x86_8c.html#a2aeff0b787a2133f4809c6a94c6458d7" title=" " alt="" coords="466,2103,583,2129"/>
<area shape="rect" href="x86_8c.html#ae479df43797527b1b530789ce8d7a31f" title=" " alt="" coords="439,2154,610,2195"/>
<area shape="rect" href="x86_8c.html#a0e93cb5e88dc8c07d9357181a3a7b2e9" title=" " alt="" coords="437,1697,612,1724"/>
<area shape="rect" href="cpuid_8h.html#aacf5b21a9aa34f7acd0df7fa8093c4a0" title=" " alt="" coords="438,1109,611,1150"/>
<area shape="rect" href="lapic_8h.html#a9d9f2a266299bc56c932735db94816d5" title=" " alt="" coords="449,1343,600,1369"/>
<area shape="rect" href="vmx_2nested_8c.html#ab3fc0bd0d4a8fd0ee69e1b766c2d20aa" title=" " alt="" coords="428,2219,621,2261"/>
<area shape="rect" href="vmx_8c.html#aff701fc54eaf40f7e51be8ae81de8013" title=" " alt="" coords="190,1445,353,1486"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="447,2285,602,2312"/>
<area shape="rect" href="sev_8c.html#a8d230da93752633a5c5c7e6cf7c54343" title=" " alt="" coords="440,2337,609,2378"/>
<area shape="rect" href="sgx_8c.html#a95a37671da80048fec761f78cc72e4a6" title=" " alt="" coords="462,2403,587,2429"/>
<area shape="rect" href="svm_8c.html#a12d4d3a3b5ae14af748037ebf85485c1" title=" " alt="" coords="439,1226,611,1267"/>
<area shape="rect" href="pmu__intel_8c.html#af5e61d1da37d7d1f8ba119c07a676bfb" title=" " alt="" coords="427,1900,623,1927"/>
<area shape="rect" href="vmx_8c.html#a906eacca38431629c007c813de2ee658" title=" " alt="" coords="164,1561,379,1588"/>
<area shape="rect" href="vmx_8c.html#a0670625adecaa6fc71939fdf39129e20" title=" " alt="" coords="443,991,606,1033"/>
<area shape="rect" href="vmx_8c.html#a4343fdffe519a935254346af832af2c9" title=" " alt="" coords="441,889,608,916"/>
<area shape="rect" href="sgx_8c.html#a7f5682145e68a3283de02a0ac6a9e617" title=" " alt="" coords="432,1057,617,1084"/>
<area shape="rect" href="cpuid_8c.html#a91d770d0af7358b6cd24b7cbe2617d73" title=" " alt="" coords="225,5,318,32"/>
<area shape="rect" href="x86_8c.html#a6b64ebea5fdc7d1f0434fb509942a56f" title=" " alt="" coords="188,57,355,98"/>
<area shape="rect" href="hyperv_8c.html#ab6f07a1fc5518bca043fd663234cce7b" title=" " alt="" coords="181,122,361,163"/>
</map>
</div>

</div>
</div>
<a id="ad8c2a90f2f099af1d7ca23750d9d2eb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8c2a90f2f099af1d7ca23750d9d2eb9">&#9670;&nbsp;</a></span>guest_cpuid_has()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline bool guest_cpuid_has </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x86_feature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00083">83</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;{</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    u32 *reg;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    reg = <a class="code" href="cpuid_8h.html#af2af2645f203b5d9bad2088af0da5c1e">guest_cpuid_get_register</a>(vcpu, x86_feature);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (!reg)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> *reg &amp; <a class="code" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c">__feature_bit</a>(x86_feature);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_ad8c2a90f2f099af1d7ca23750d9d2eb9_cgraph.png" border="0" usemap="#acpuid_8h_ad8c2a90f2f099af1d7ca23750d9d2eb9_cgraph" alt=""/></div>
<map name="acpuid_8h_ad8c2a90f2f099af1d7ca23750d9d2eb9_cgraph" id="acpuid_8h_ad8c2a90f2f099af1d7ca23750d9d2eb9_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,136,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="448,5,555,32"/>
<area shape="rect" href="cpuid_8h.html#af2af2645f203b5d9bad2088af0da5c1e" title=" " alt="" coords="184,81,369,108"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="840,31,988,57"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="633,31,792,57"/>
<area shape="rect" href="reverse__cpuid_8h.html#adf3299d46978c685ba9b46ebb1536680" title=" " alt="" coords="417,107,585,133"/>
<area shape="rect" href="cpuid_8h.html#a638557b30255883157acafa55a351d0d" title=" " alt="" coords="419,158,584,199"/>
<area shape="rect" href="reverse__cpuid_8h.html#a3f7e53c68e5610be44d760fd4854f892" title=" " alt="" coords="430,56,573,83"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="644,165,781,192"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="655,81,770,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_ad8c2a90f2f099af1d7ca23750d9d2eb9_icgraph.png" border="0" usemap="#acpuid_8h_ad8c2a90f2f099af1d7ca23750d9d2eb9_icgraph" alt=""/></div>
<map name="acpuid_8h_ad8c2a90f2f099af1d7ca23750d9d2eb9_icgraph" id="acpuid_8h_ad8c2a90f2f099af1d7ca23750d9d2eb9_icgraph">
<area shape="rect" title=" " alt="" coords="671,1247,801,1273"/>
<area shape="rect" href="x86_8c.html#a69cd7a555054c4e390c588fb9da44dc9" title=" " alt="" coords="462,64,587,91"/>
<area shape="rect" href="hyperv_8c.html#a980a88832a98cf2bd5c4f0e3849cd445" title=" " alt="" coords="427,123,622,165"/>
<area shape="rect" href="x86_8c.html#ad0df6b04ae08eb6eec89da2d81e465cd" title=" " alt="" coords="463,192,587,219"/>
<area shape="rect" href="x86_8c.html#acca89d2d63dab117a3a766c7e549cf79" title=" " alt="" coords="456,243,593,269"/>
<area shape="rect" href="svm_2pmu_8c.html#afb9cd2ecbe0e74fc869e44c47a496cb9" title=" " alt="" coords="455,293,595,320"/>
<area shape="rect" href="svm_2pmu_8c.html#a3a6878daa6211de21b0ca114119eff4e" title=" " alt="" coords="455,344,595,371"/>
<area shape="rect" href="x86_8c.html#a9e8ebbb82d5f2c8291f45a2426e07950" title=" " alt="" coords="431,395,618,421"/>
<area shape="rect" href="x86_8c.html#a7da5124273b0d08df1fe976ff3731ca9" title=" " alt="" coords="447,446,602,487"/>
<area shape="rect" href="x86_8c.html#af826c71b8cae72946605135bf8851586" title=" " alt="" coords="447,511,602,553"/>
<area shape="rect" href="smm_8c.html#a0943012ff008c7999f582998f0f9167a" title=" " alt="" coords="443,577,607,604"/>
<area shape="rect" href="sgx_8c.html#ad8776272779cac650bff380210426a60" title=" " alt="" coords="451,679,598,721"/>
<area shape="rect" href="sgx_8c.html#a34e5ee57c3e7c3172f8ae6ed981d703d" title=" " alt="" coords="218,657,325,684"/>
<area shape="rect" href="smm_8c.html#ae1445727a8459a6cc7d2e49e5a63c0d5" title=" " alt="" coords="477,745,573,772"/>
<area shape="rect" href="svm_2pmu_8c.html#ae983682a42d97c25309190b5aeab179e" title=" " alt="" coords="456,796,593,823"/>
<area shape="rect" href="cpuid_8h.html#a7d953eb2c52baf0364a2a26c6748ee94" title=" " alt="" coords="429,1049,620,1076"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="184,999,359,1025"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,999,115,1025"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,1464,116,1491"/>
<area shape="rect" href="svm_8c.html#a204e4c169e1e8029eff521725a526a57" title=" " alt="" coords="195,1318,347,1359"/>
<area shape="rect" href="vmx_8c.html#a8ff77baa2f28fd717210bcac02a13434" title=" " alt="" coords="195,1122,348,1163"/>
<area shape="rect" href="cpuid_8h.html#ad24a5bcf0ff93dc56c64e6867b8a2415" title=" " alt="" coords="432,1603,617,1629"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="216,1704,327,1731"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="216,1755,327,1781"/>
<area shape="rect" href="vmx_8c.html#af3a69581bc36e5dd88f3c37334df214d" title=" " alt="" coords="465,1805,585,1832"/>
<area shape="rect" href="pmu__intel_8c.html#a732847faae93b3f95f904168b42add71" title=" " alt="" coords="201,1881,341,1908"/>
<area shape="rect" href="svm_8c.html#a6875c998376697a8776271bc88521721" title=" " alt="" coords="447,1957,602,1984"/>
<area shape="rect" href="lapic_8c.html#aaa6716cc0b30bec513d223fbfdecfdcf" title=" " alt="" coords="441,2059,608,2085"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="195,2026,348,2067"/>
<area shape="rect" href="x86_8c.html#a2aeff0b787a2133f4809c6a94c6458d7" title=" " alt="" coords="466,2109,583,2136"/>
<area shape="rect" href="x86_8c.html#ae479df43797527b1b530789ce8d7a31f" title=" " alt="" coords="439,2161,610,2202"/>
<area shape="rect" href="x86_8c.html#a0e93cb5e88dc8c07d9357181a3a7b2e9" title=" " alt="" coords="437,1704,612,1731"/>
<area shape="rect" href="cpuid_8h.html#aacf5b21a9aa34f7acd0df7fa8093c4a0" title=" " alt="" coords="438,1269,611,1310"/>
<area shape="rect" href="lapic_8h.html#a9d9f2a266299bc56c932735db94816d5" title=" " alt="" coords="449,948,600,975"/>
<area shape="rect" href="vmx_2nested_8c.html#ab3fc0bd0d4a8fd0ee69e1b766c2d20aa" title=" " alt="" coords="428,2226,621,2267"/>
<area shape="rect" href="vmx_8c.html#aff701fc54eaf40f7e51be8ae81de8013" title=" " alt="" coords="190,1486,353,1527"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="447,2292,602,2319"/>
<area shape="rect" href="sev_8c.html#a8d230da93752633a5c5c7e6cf7c54343" title=" " alt="" coords="440,2343,609,2385"/>
<area shape="rect" href="sgx_8c.html#a95a37671da80048fec761f78cc72e4a6" title=" " alt="" coords="462,2409,587,2436"/>
<area shape="rect" href="svm_8c.html#a12d4d3a3b5ae14af748037ebf85485c1" title=" " alt="" coords="439,1334,611,1375"/>
<area shape="rect" href="pmu__intel_8c.html#af5e61d1da37d7d1f8ba119c07a676bfb" title=" " alt="" coords="427,1907,623,1933"/>
<area shape="rect" href="vmx_8c.html#a906eacca38431629c007c813de2ee658" title=" " alt="" coords="164,1552,379,1579"/>
<area shape="rect" href="vmx_8c.html#a0670625adecaa6fc71939fdf39129e20" title=" " alt="" coords="443,1151,606,1193"/>
<area shape="rect" href="vmx_8c.html#a4343fdffe519a935254346af832af2c9" title=" " alt="" coords="441,999,608,1025"/>
<area shape="rect" href="sgx_8c.html#a7f5682145e68a3283de02a0ac6a9e617" title=" " alt="" coords="432,1217,617,1244"/>
<area shape="rect" href="cpuid_8c.html#a91d770d0af7358b6cd24b7cbe2617d73" title=" " alt="" coords="225,5,318,32"/>
<area shape="rect" href="x86_8c.html#a6b64ebea5fdc7d1f0434fb509942a56f" title=" " alt="" coords="188,57,355,98"/>
<area shape="rect" href="hyperv_8c.html#ab6f07a1fc5518bca043fd663234cce7b" title=" " alt="" coords="181,122,361,163"/>
<area shape="rect" href="x86_8c.html#a4a7acb17f522083e1a9edc95e3788295" title=" " alt="" coords="188,187,355,229"/>
<area shape="rect" href="x86_8c.html#a2694456104c02a7204796d89d13a1e91" title=" " alt="" coords="207,253,336,280"/>
</map>
</div>

</div>
</div>
<a id="afe67350cf6a86de17676b9dbb85e0207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe67350cf6a86de17676b9dbb85e0207">&#9670;&nbsp;</a></span>guest_cpuid_is_amd_compatible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool guest_cpuid_is_amd_compatible </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00123">123</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> vcpu-&gt;arch.is_amd_compatible;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_afe67350cf6a86de17676b9dbb85e0207_icgraph.png" border="0" usemap="#acpuid_8h_afe67350cf6a86de17676b9dbb85e0207_icgraph" alt=""/></div>
<map name="acpuid_8h_afe67350cf6a86de17676b9dbb85e0207_icgraph" id="acpuid_8h_afe67350cf6a86de17676b9dbb85e0207_icgraph">
<area shape="rect" title=" " alt="" coords="2315,293,2469,334"/>
<area shape="rect" href="x86_8c.html#acf5313ef0a17370e8b52c41fec467e53" title=" " alt="" coords="2084,191,2235,218"/>
<area shape="rect" href="cpuid_8h.html#a0de02c3fbec1aa3cfd7890fb68d3fabf" title=" " alt="" coords="2082,293,2237,334"/>
<area shape="rect" href="mmu_8c.html#a7c03a09eaa19dd03710b5221a58f49db" title=" " alt="" coords="2052,414,2267,440"/>
<area shape="rect" href="x86_8c.html#a54824b736aa4b0e4f3dca0655eb678d2" title=" " alt="" coords="1862,166,1971,192"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="1555,112,1730,139"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="1284,36,1365,63"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="1270,87,1379,114"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="1269,138,1380,164"/>
<area shape="rect" href="lapic_8c.html#ab1ce737e754e319ee93f3d06e197cc50" title=" " alt="" coords="1829,300,2004,327"/>
<area shape="rect" href="lapic_8c.html#a290cedfa4bc99681ad10d45d0d960a17" title=" " alt="" coords="1549,234,1736,276"/>
<area shape="rect" href="pmu_8c.html#a03a16f548326b68245a4bf0555bea777" title=" " alt="" coords="1557,300,1728,327"/>
<area shape="rect" href="x86_8c.html#a130b6ed14cf18384646cb31251dd104e" title=" " alt="" coords="1550,355,1735,382"/>
<area shape="rect" href="lapic_8c.html#adc5f49f6a4cafac330b1fc370038f837" title=" " alt="" coords="1251,188,1398,215"/>
<area shape="rect" href="irq_8h.html#ac79f0e40ed0e1cde83a09aef506fb373" title=" " alt="" coords="1224,243,1425,270"/>
<area shape="rect" href="lapic_8c.html#a55b40b66655c45769650efd20bf3c26d" title=" " alt="" coords="279,56,447,97"/>
<area shape="rect" href="lapic_8c.html#ae72327516a899bdd0fe3f245f2695879" title=" " alt="" coords="778,88,895,115"/>
<area shape="rect" href="lapic_8c.html#a546006e7f967018d391494cfdbd3d3a4" title=" " alt="" coords="997,139,1123,166"/>
<area shape="rect" href="lapic_8c.html#ac04fc2bcb3434803c9f3c10594f309be" title=" " alt="" coords="981,190,1139,216"/>
<area shape="rect" href="vmx_8c.html#a4048dc7fd33eb8ff41549eb346da0ecc" title=" " alt="" coords="5,56,215,97"/>
<area shape="rect" href="lapic_8c.html#ade21404bee3e5dbbe596ff391e0a23db" title=" " alt="" coords="534,88,675,115"/>
<area shape="rect" href="lapic_8c.html#af723244d8a4013a14d7eaa2bca2765e8" title=" " alt="" coords="777,139,896,166"/>
<area shape="rect" href="irq_8c.html#a2d54275d9e142ae8e337298689483728" title=" " alt="" coords="983,241,1137,282"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="796,307,877,334"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="511,307,698,334"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="301,332,425,359"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="991,307,1129,334"/>
<area shape="rect" href="x86_8c.html#a2de10bf19fee1e2a9cb47b6f491a18b4" title=" " alt="" coords="1247,350,1402,392"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="757,358,916,384"/>
<area shape="rect" href="mmu_8c.html#ac7b31af26c029f185ab41ed060228847" title=" " alt="" coords="1842,460,1991,501"/>
<area shape="rect" href="mmu_8c.html#abba0adca082144a9c30aaceebfa82685" title=" " alt="" coords="1504,416,1781,443"/>
<area shape="rect" href="mmu_8c.html#a8a6a76a1ef24ce48ce2378ac59cf5b20" title=" " alt="" coords="1557,467,1728,494"/>
<area shape="rect" href="mmu_8c.html#a2346100ce00fd4d842c51c4be6cbfe35" title=" " alt="" coords="1569,518,1717,544"/>
<area shape="rect" href="mmu_8c.html#abd9285ed33f21279b97f214287ab49bf" title=" " alt="" coords="1544,568,1741,595"/>
<area shape="rect" href="mmu_8h.html#ae0bba48799c436cc6749fdaa0d95201b" title=" " alt="" coords="1193,416,1456,443"/>
<area shape="rect" href="mmu_8h.html#ad96f3e909292ae5f41a4ad1f07c98360" title=" " alt="" coords="995,416,1125,443"/>
<area shape="rect" href="x86_8c.html#a959081b7be4bb67205656d8a1999ddb6" title=" " alt="" coords="747,412,927,439"/>
<area shape="rect" href="paging__tmpl_8h.html#acb3afde0f06bed4ef5ff00dd8ad8acf1" title=" " alt="" coords="765,463,909,490"/>
<area shape="rect" href="mmu_8c.html#a88ade1c65bbbb9b25a78e82003a71a7c" title=" " alt="" coords="777,518,897,544"/>
<area shape="rect" href="x86_8c.html#ae2ebf37d8daf1a8b43a9823bae4ab32b" title=" " alt="" coords="519,416,691,443"/>
<area shape="rect" href="mmu_8c.html#a56f1568115a55fdacc188e9b41159b8f" title=" " alt="" coords="511,467,699,494"/>
<area shape="rect" href="x86_8c.html#a3df01e8bd995bb72420812ea1d39df4b" title=" " alt="" coords="293,518,433,544"/>
<area shape="rect" href="svm_2nested_8c.html#a2d996c5be366f0a7b21228fd18be85ab" title=" " alt="" coords="523,568,686,595"/>
<area shape="rect" href="vmx_2nested_8c.html#a6541b63ab236a1d9732c8ffc3c604ee9" title=" " alt="" coords="523,619,687,646"/>
<area shape="rect" href="kvm__main_8c.html#ab8870469dadfadf9a204346c62016293" title=" " alt="" coords="263,416,463,443"/>
<area shape="rect" href="x86_8c.html#ac766943d4a9d3c7a489012c02e25be54" title=" " alt="" coords="313,467,412,494"/>
<area shape="rect" href="mmu_8c.html#a3e794d802eeb843cd6d7b699b74d8bf3" title=" " alt="" coords="1236,568,1413,595"/>
<area shape="rect" href="mmu_8c.html#a00f26353045c597f6a49cdd4f239f548" title=" " alt="" coords="1222,623,1427,650"/>
<area shape="rect" href="mmu_8c.html#a37d0224d142272ad59fd35b4a22c5937" title=" " alt="" coords="988,568,1132,595"/>
<area shape="rect" href="svm_2nested_8c.html#a962af1ea814d32a42ada9f601918cee5" title=" " alt="" coords="975,620,1145,661"/>
</map>
</div>

</div>
</div>
<a id="a5a6ba63d82eb4536c34fc156c7021193"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a6ba63d82eb4536c34fc156c7021193">&#9670;&nbsp;</a></span>guest_cpuid_is_amd_or_hygon()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool guest_cpuid_is_amd_or_hygon </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00105">105</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keyword">struct </span>kvm_cpuid_entry2 *best;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    best = <a class="code" href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0">kvm_find_cpuid_entry</a>(vcpu, 0);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">return</span> best &amp;&amp;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;           (<a class="code" href="kvm__emulate_8h.html#aaeb0a87b097a9164d79418139514f852">is_guest_vendor_amd</a>(best-&gt;ebx, best-&gt;ecx, best-&gt;edx) ||</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="kvm__emulate_8h.html#a1d708985e548ee4ce6eee808a31d279c">is_guest_vendor_hygon</a>(best-&gt;ebx, best-&gt;ecx, best-&gt;edx));</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="ttc" id="akvm__emulate_8h_html_a1d708985e548ee4ce6eee808a31d279c"><div class="ttname"><a href="kvm__emulate_8h.html#a1d708985e548ee4ce6eee808a31d279c">is_guest_vendor_hygon</a></div><div class="ttdeci">static bool is_guest_vendor_hygon(u32 ebx, u32 ecx, u32 edx)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__emulate_8h_source.html#l00428">kvm_emulate.h:428</a></div></div>
<div class="ttc" id="akvm__emulate_8h_html_aaeb0a87b097a9164d79418139514f852"><div class="ttname"><a href="kvm__emulate_8h.html#aaeb0a87b097a9164d79418139514f852">is_guest_vendor_amd</a></div><div class="ttdeci">static bool is_guest_vendor_amd(u32 ebx, u32 ecx, u32 edx)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__emulate_8h_source.html#l00418">kvm_emulate.h:418</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a5a6ba63d82eb4536c34fc156c7021193_cgraph.png" border="0" usemap="#acpuid_8h_a5a6ba63d82eb4536c34fc156c7021193_cgraph" alt=""/></div>
<map name="acpuid_8h_a5a6ba63d82eb4536c34fc156c7021193_cgraph" id="acpuid_8h_a5a6ba63d82eb4536c34fc156c7021193_cgraph">
<area shape="rect" title=" " alt="" coords="5,49,160,90"/>
<area shape="rect" href="kvm__emulate_8h.html#aaeb0a87b097a9164d79418139514f852" title=" " alt="" coords="213,5,377,32"/>
<area shape="rect" href="kvm__emulate_8h.html#a1d708985e548ee4ce6eee808a31d279c" title=" " alt="" coords="208,56,383,83"/>
<area shape="rect" href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0" title=" " alt="" coords="213,107,378,133"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="431,107,568,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a5a6ba63d82eb4536c34fc156c7021193_icgraph.png" border="0" usemap="#acpuid_8h_a5a6ba63d82eb4536c34fc156c7021193_icgraph" alt=""/></div>
<map name="acpuid_8h_a5a6ba63d82eb4536c34fc156c7021193_icgraph" id="acpuid_8h_a5a6ba63d82eb4536c34fc156c7021193_icgraph">
<area shape="rect" title=" " alt="" coords="952,39,1107,80"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="751,39,904,80"/>
<area shape="rect" href="cpuid_8c.html#a0ff60eac33c1bf95a3889674e34251ad" title=" " alt="" coords="583,46,703,73"/>
<area shape="rect" href="cpuid_8c.html#a5066ac0b188677d15925709568a91c9d" title=" " alt="" coords="384,5,535,47"/>
<area shape="rect" href="cpuid_8c.html#ad4dde50a2939106abd2baf99683ac139" title=" " alt="" coords="384,71,535,112"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,46,336,73"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,46,129,73"/>
</map>
</div>

</div>
</div>
<a id="aa35dee13971a1366be933e974552a02d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa35dee13971a1366be933e974552a02d">&#9670;&nbsp;</a></span>guest_cpuid_is_intel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool guest_cpuid_is_intel </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00115">115</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keyword">struct </span>kvm_cpuid_entry2 *best;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    best = <a class="code" href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0">kvm_find_cpuid_entry</a>(vcpu, 0);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> best &amp;&amp; <a class="code" href="kvm__emulate_8h.html#a61f034a07a99eee07bf2588db4d89494">is_guest_vendor_intel</a>(best-&gt;ebx, best-&gt;ecx, best-&gt;edx);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
<div class="ttc" id="akvm__emulate_8h_html_a61f034a07a99eee07bf2588db4d89494"><div class="ttname"><a href="kvm__emulate_8h.html#a61f034a07a99eee07bf2588db4d89494">is_guest_vendor_intel</a></div><div class="ttdeci">static bool is_guest_vendor_intel(u32 ebx, u32 ecx, u32 edx)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__emulate_8h_source.html#l00411">kvm_emulate.h:411</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_aa35dee13971a1366be933e974552a02d_cgraph.png" border="0" usemap="#acpuid_8h_aa35dee13971a1366be933e974552a02d_cgraph" alt=""/></div>
<map name="acpuid_8h_aa35dee13971a1366be933e974552a02d_cgraph" id="acpuid_8h_aa35dee13971a1366be933e974552a02d_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,160,57"/>
<area shape="rect" href="kvm__emulate_8h.html#a61f034a07a99eee07bf2588db4d89494" title=" " alt="" coords="209,5,373,32"/>
<area shape="rect" href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0" title=" " alt="" coords="208,56,373,83"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="421,56,559,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_aa35dee13971a1366be933e974552a02d_icgraph.png" border="0" usemap="#acpuid_8h_aa35dee13971a1366be933e974552a02d_icgraph" alt=""/></div>
<map name="acpuid_8h_aa35dee13971a1366be933e974552a02d_icgraph" id="acpuid_8h_aa35dee13971a1366be933e974552a02d_icgraph">
<area shape="rect" title=" " alt="" coords="1628,503,1783,529"/>
<area shape="rect" href="x86_8c.html#ad0df6b04ae08eb6eec89da2d81e465cd" title=" " alt="" coords="1426,340,1550,367"/>
<area shape="rect" href="svm_8c.html#a2704ee64e6fe9975efa29b6759a26139" title=" " alt="" coords="1413,437,1563,478"/>
<area shape="rect" href="svm_8c.html#a204e4c169e1e8029eff521725a526a57" title=" " alt="" coords="1186,495,1338,537"/>
<area shape="rect" href="x86_8c.html#a0a47622bf3c21272e9e0357e1f90540a" title=" " alt="" coords="1396,554,1580,595"/>
<area shape="rect" href="pmu_8c.html#a60270cb74533fe7721d3ae186abe70cf" title=" " alt="" coords="1397,172,1579,199"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="1433,620,1543,647"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="1433,671,1543,697"/>
<area shape="rect" href="x86_8c.html#a4a7acb17f522083e1a9edc95e3788295" title=" " alt="" coords="1179,333,1345,374"/>
<area shape="rect" href="x86_8c.html#a2694456104c02a7204796d89d13a1e91" title=" " alt="" coords="1197,183,1327,209"/>
<area shape="rect" href="x86_8c.html#aac5cbd832d05c55aa809421e883ea7b4" title=" " alt="" coords="986,263,1083,289"/>
<area shape="rect" href="x86_8c.html#af472ca24da6c9cd65800b5fe67e4c506" title=" " alt="" coords="979,477,1090,504"/>
<area shape="rect" href="x86_8c.html#a99cf4c7be0b4cac0886649c7da9daa66" title=" " alt="" coords="943,340,1126,367"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="215,237,374,264"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="17,161,141,188"/>
<area shape="rect" href="smm_8c.html#a0943012ff008c7999f582998f0f9167a" title=" " alt="" coords="711,629,875,656"/>
<area shape="rect" href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0" title=" " alt="" coords="449,493,632,520"/>
<area shape="rect" href="vmx_2nested_8c.html#a5a5102b2750562a4df0ba6cda379293c" title=" " alt="" coords="709,477,878,504"/>
<area shape="rect" href="vmx_2nested_8c.html#a001f930db9a867e828cf01b48d3e4e25" title=" " alt="" coords="463,427,618,469"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="728,579,859,605"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="217,435,372,461"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="5,405,153,432"/>
<area shape="rect" href="x86_8c.html#afbd675111f9727cd62c584846523f4e1" title=" " alt="" coords="706,310,881,351"/>
<area shape="rect" href="x86_8c.html#a1550ae1115ac5be61ab770f6f3c5f513" title=" " alt="" coords="713,376,873,403"/>
<area shape="rect" href="svm_8c.html#a173c3f7c02a4287d140cc0f34564a7bd" title=" " alt="" coords="475,325,607,352"/>
<area shape="rect" href="lapic_8c.html#a27836a2bcd51ebcfe2ca478e9ad7aa04" title=" " alt="" coords="941,107,1128,133"/>
<area shape="rect" href="x86_8c.html#ae2ebf37d8daf1a8b43a9823bae4ab32b" title=" " alt="" coords="949,208,1121,235"/>
<area shape="rect" href="svm_8c.html#a2ca2b108d5447ed4093cb0b07092b07d" title=" " alt="" coords="949,157,1120,184"/>
<area shape="rect" href="x86_8c.html#a5eac8002ee5a0c08de662d89be4d6a11" title=" " alt="" coords="215,154,374,195"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="201,103,388,129"/>
<area shape="rect" href="x86_8c.html#a11b79dde650fe425e9b649e1463869be" title=" " alt="" coords="746,56,841,83"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="725,5,862,32"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="500,56,581,83"/>
<area shape="rect" href="kvm__main_8c.html#ab8870469dadfadf9a204346c62016293" title=" " alt="" coords="693,208,893,235"/>
<area shape="rect" href="svm_8c.html#aa3d3185c3eece1cf1e99fd5da3ca3181" title=" " alt="" coords="1219,444,1305,471"/>
<area shape="rect" href="svm_8c.html#a72a80d54451776cc2794da8564a424fa" title=" " alt="" coords="971,528,1099,555"/>
<area shape="rect" href="x86_8c.html#a95270b039fad8dd0663cbee58f3d1cf4" title=" " alt="" coords="1176,650,1348,691"/>
<area shape="rect" href="x86_8c.html#a3f6bd8b3f0bc1678451fd28682e7c3b1" title=" " alt="" coords="943,705,1126,732"/>
<area shape="rect" href="x86_8c.html#a117738c7e069e71d58ab48a581bfc646" title=" " alt="" coords="699,731,887,757"/>
<area shape="rect" href="x86_8c.html#a4845fb440d16fcac83f010947c55d38d" title=" " alt="" coords="699,782,887,823"/>
<area shape="rect" href="mmu_8c.html#a3d0bd209d792a4316f3b40681fdc10f9" title=" " alt="" coords="709,680,877,707"/>
<area shape="rect" href="svm_8c.html#a1f6d0a95558c52f05d9b3b97b2710cfe" title=" " alt="" coords="457,599,624,641"/>
<area shape="rect" href="avic_8c.html#a299de3990a5ce5ce873df7afe2b3338f" title=" " alt="" coords="461,665,620,706"/>
<area shape="rect" href="x86_8c.html#ae18aeaaac1983133ead693a1d52c6588" title=" " alt="" coords="436,731,645,757"/>
<area shape="rect" href="x86_8c.html#a2a7f61481aae2e0bfe4baaba68d6d650" title=" " alt="" coords="455,781,626,808"/>
<area shape="rect" href="svm_8c.html#a5a07bdc17cad850b357e8312cd17921e" title=" " alt="" coords="449,832,633,859"/>
<area shape="rect" href="svm_8c.html#a7c2323b13a5022aa9f6a9ae5ebe4d830" title=" " alt="" coords="479,883,602,909"/>
<area shape="rect" href="vmx_8c.html#adc5f600eadc84c85aa0b9982dc6fb210" title=" " alt="" coords="465,548,616,575"/>
<area shape="rect" href="pmu_8c.html#a1569e2542115df7e6f996f60b9d63671" title=" " alt="" coords="1189,81,1335,108"/>
<area shape="rect" href="pmu_8c.html#a69682fb9bfcfffefbba01992cd24a8d4" title=" " alt="" coords="943,31,1126,57"/>
</map>
</div>

</div>
</div>
<a id="a0de02c3fbec1aa3cfd7890fb68d3fabf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0de02c3fbec1aa3cfd7890fb68d3fabf">&#9670;&nbsp;</a></span>guest_cpuid_is_intel_compatible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool guest_cpuid_is_intel_compatible </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00128">128</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="cpuid_8h.html#afe67350cf6a86de17676b9dbb85e0207">guest_cpuid_is_amd_compatible</a>(vcpu);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_afe67350cf6a86de17676b9dbb85e0207"><div class="ttname"><a href="cpuid_8h.html#afe67350cf6a86de17676b9dbb85e0207">guest_cpuid_is_amd_compatible</a></div><div class="ttdeci">static bool guest_cpuid_is_amd_compatible(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00123">cpuid.h:123</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a0de02c3fbec1aa3cfd7890fb68d3fabf_cgraph.png" border="0" usemap="#acpuid_8h_a0de02c3fbec1aa3cfd7890fb68d3fabf_cgraph" alt=""/></div>
<map name="acpuid_8h_a0de02c3fbec1aa3cfd7890fb68d3fabf_cgraph" id="acpuid_8h_a0de02c3fbec1aa3cfd7890fb68d3fabf_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,160,47"/>
<area shape="rect" href="cpuid_8h.html#afe67350cf6a86de17676b9dbb85e0207" title=" " alt="" coords="208,5,363,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a0de02c3fbec1aa3cfd7890fb68d3fabf_icgraph.png" border="0" usemap="#acpuid_8h_a0de02c3fbec1aa3cfd7890fb68d3fabf_icgraph" alt=""/></div>
<map name="acpuid_8h_a0de02c3fbec1aa3cfd7890fb68d3fabf_icgraph" id="acpuid_8h_a0de02c3fbec1aa3cfd7890fb68d3fabf_icgraph">
<area shape="rect" title=" " alt="" coords="2559,599,2713,641"/>
<area shape="rect" href="lapic_8c.html#ab1ce737e754e319ee93f3d06e197cc50" title=" " alt="" coords="2336,607,2511,633"/>
<area shape="rect" href="lapic_8c.html#a290cedfa4bc99681ad10d45d0d960a17" title=" " alt="" coords="2101,599,2288,641"/>
<area shape="rect" href="pmu_8c.html#a03a16f548326b68245a4bf0555bea777" title=" " alt="" coords="2109,688,2280,715"/>
<area shape="rect" href="x86_8c.html#a130b6ed14cf18384646cb31251dd104e" title=" " alt="" coords="2102,489,2287,516"/>
<area shape="rect" href="lapic_8c.html#adc5f49f6a4cafac330b1fc370038f837" title=" " alt="" coords="1879,575,2026,601"/>
<area shape="rect" href="irq_8h.html#ac79f0e40ed0e1cde83a09aef506fb373" title=" " alt="" coords="1852,653,2053,680"/>
<area shape="rect" href="lapic_8c.html#a55b40b66655c45769650efd20bf3c26d" title=" " alt="" coords="1020,626,1188,667"/>
<area shape="rect" href="lapic_8c.html#ae72327516a899bdd0fe3f245f2695879" title=" " alt="" coords="1666,473,1783,500"/>
<area shape="rect" href="lapic_8c.html#a546006e7f967018d391494cfdbd3d3a4" title=" " alt="" coords="1662,575,1787,601"/>
<area shape="rect" href="lapic_8c.html#ac04fc2bcb3434803c9f3c10594f309be" title=" " alt="" coords="1645,524,1804,551"/>
<area shape="rect" href="vmx_8c.html#a4048dc7fd33eb8ff41549eb346da0ecc" title=" " alt="" coords="763,794,972,835"/>
<area shape="rect" href="vmx_8c.html#a5d004ab7739fb08f4f27f4f82b32aaa5" title=" " alt="" coords="504,827,695,853"/>
<area shape="rect" href="vmx_8c.html#a3217468b58ef72d3e7e7d40024c24b67" title=" " alt="" coords="496,776,703,803"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="265,827,413,853"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="32,827,167,853"/>
<area shape="rect" href="vmx_8c.html#a909291866931c22138fd3ba80f0a7651" title=" " alt="" coords="280,776,397,803"/>
<area shape="rect" href="lapic_8c.html#ade21404bee3e5dbbe596ff391e0a23db" title=" " alt="" coords="1245,473,1386,500"/>
<area shape="rect" href="lapic_8c.html#a108aca5a9980d721f30b333be204d005" title=" " alt="" coords="1033,333,1175,360"/>
<area shape="rect" href="lapic_8c.html#acebc0ffd4530dfd1beb1254d1e4d9491" title=" " alt="" coords="521,224,678,251"/>
<area shape="rect" href="lapic_8c.html#ab785e74943a17874760f3d4b6b5359d0" title=" " alt="" coords="1023,443,1185,485"/>
<area shape="rect" href="lapic_8c.html#a973c3bd2856958a514e5ae2f49b14821" title=" " alt="" coords="1025,509,1183,550"/>
<area shape="rect" href="lapic_8c.html#a4768d4990380510ec220c3e510d32598" title=" " alt="" coords="791,333,943,360"/>
<area shape="rect" href="lapic_8c.html#a5f5c49ce8a579b59663644f0f1a6cbe3" title=" " alt="" coords="803,275,931,301"/>
<area shape="rect" href="x86_8c.html#a4426192bd0d8288db892f9fcbf4577b9" title=" " alt="" coords="524,326,675,367"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="259,417,418,444"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="37,456,161,483"/>
<area shape="rect" href="lapic_8c.html#a44881cc17bdbe632a483e8c7c1dd0dfb" title=" " alt="" coords="484,275,715,301"/>
<area shape="rect" href="lapic_8c.html#a58177b5add54a17bfa81e2a1049f324e" title=" " alt="" coords="271,224,406,251"/>
<area shape="rect" href="lapic_8c.html#a1b33bb5758d3dd75c7b87e537a5e729e" title=" " alt="" coords="241,93,436,120"/>
<area shape="rect" href="lapic_8c.html#a1b64be7f231109aa3e0382cc34a64079" title=" " alt="" coords="258,173,419,200"/>
<area shape="rect" href="lapic_8c.html#ab6d8f3638f580c8d6dcd091512c49768" title=" " alt="" coords="267,275,410,301"/>
<area shape="rect" href="avic_8c.html#a4a11c0014568405b90307ef68285e4ff" title=" " alt="" coords="23,57,175,98"/>
<area shape="rect" href="avic_8c.html#abf44c96047cb51680ff358ad52747b93" title=" " alt="" coords="10,123,189,149"/>
<area shape="rect" href="vmx_8c.html#aa25166160931e80a671ab6f919d64760" title=" " alt="" coords="29,5,169,32"/>
<area shape="rect" href="lapic_8c.html#acd2b4e5a0448d3280ab31687c2199265" title=" " alt="" coords="5,224,193,251"/>
<area shape="rect" href="lapic_8c.html#a7d2f3f34c12c8c724fe739cbbc44ad43" title=" " alt="" coords="13,173,186,200"/>
<area shape="rect" href="vmx_8c.html#adc5f600eadc84c85aa0b9982dc6fb210" title=" " alt="" coords="24,275,175,301"/>
<area shape="rect" href="x86_8c.html#a7b5659746726fd8443c25a3faca86d7c" title=" " alt="" coords="261,326,416,367"/>
<area shape="rect" href="x86_8c.html#aaa51abf3d06fdaa95794b27f273278fb" title=" " alt="" coords="788,451,947,477"/>
<area shape="rect" href="kvm__main_8c.html#a31b6c41ce8eacbbdc56a276018989253" title=" " alt="" coords="542,443,657,469"/>
<area shape="rect" href="kvm__main_8c.html#a5dde35c5b74ce68a7dbb2f2006ce3e9e" title=" " alt="" coords="555,493,643,520"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="245,493,432,520"/>
<area shape="rect" href="x86_8c.html#a11b79dde650fe425e9b649e1463869be" title=" " alt="" coords="820,575,915,601"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="559,633,640,660"/>
<area shape="rect" href="lapic_8c.html#af723244d8a4013a14d7eaa2bca2765e8" title=" " alt="" coords="1461,536,1579,563"/>
<area shape="rect" href="lapic_8c.html#aee4a3e5ae4ed211edf4e463ebacadaa5" title=" " alt="" coords="1236,542,1395,583"/>
<area shape="rect" href="irq_8c.html#a2d54275d9e142ae8e337298689483728" title=" " alt="" coords="1239,677,1392,718"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="1451,739,1589,765"/>
<area shape="rect" href="x86_8c.html#a2de10bf19fee1e2a9cb47b6f491a18b4" title=" " alt="" coords="1443,397,1597,438"/>
</map>
</div>

</div>
</div>
<a id="a000a8b4d5c33ede65d4a34091f93b934"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a000a8b4d5c33ede65d4a34091f93b934">&#9670;&nbsp;</a></span>guest_cpuid_model()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int guest_cpuid_model </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00144">144</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keyword">struct </span>kvm_cpuid_entry2 *best;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    best = <a class="code" href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0">kvm_find_cpuid_entry</a>(vcpu, 0x1);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (!best)</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">return</span> x86_model(best-&gt;eax);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a000a8b4d5c33ede65d4a34091f93b934_cgraph.png" border="0" usemap="#acpuid_8h_a000a8b4d5c33ede65d4a34091f93b934_cgraph" alt=""/></div>
<map name="acpuid_8h_a000a8b4d5c33ede65d4a34091f93b934_cgraph" id="acpuid_8h_a000a8b4d5c33ede65d4a34091f93b934_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,153,32"/>
<area shape="rect" href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0" title=" " alt="" coords="201,5,367,32"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="415,5,552,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a000a8b4d5c33ede65d4a34091f93b934_icgraph.png" border="0" usemap="#acpuid_8h_a000a8b4d5c33ede65d4a34091f93b934_icgraph" alt=""/></div>
<map name="acpuid_8h_a000a8b4d5c33ede65d4a34091f93b934_icgraph" id="acpuid_8h_a000a8b4d5c33ede65d4a34091f93b934_icgraph">
<area shape="rect" title=" " alt="" coords="439,56,587,83"/>
<area shape="rect" href="cpuid_8h.html#ab99dc7d6bb2a01d43e47b5460139730a" title=" " alt="" coords="193,31,391,57"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="237,81,347,108"/>
<area shape="rect" href="pmu__intel_8c.html#aef55e73b4b7ac8d0841b17310fc92297" title=" " alt="" coords="5,5,145,32"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="20,56,131,83"/>
</map>
</div>

</div>
</div>
<a id="a986d59c8648488abee98cf60c8c3435f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a986d59c8648488abee98cf60c8c3435f">&#9670;&nbsp;</a></span>guest_cpuid_stepping()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int guest_cpuid_stepping </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00160">160</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">struct </span>kvm_cpuid_entry2 *best;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    best = <a class="code" href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0">kvm_find_cpuid_entry</a>(vcpu, 0x1);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">if</span> (!best)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> x86_stepping(best-&gt;eax);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a986d59c8648488abee98cf60c8c3435f_cgraph.png" border="0" usemap="#acpuid_8h_a986d59c8648488abee98cf60c8c3435f_cgraph" alt=""/></div>
<map name="acpuid_8h_a986d59c8648488abee98cf60c8c3435f_cgraph" id="acpuid_8h_a986d59c8648488abee98cf60c8c3435f_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,168,32"/>
<area shape="rect" href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0" title=" " alt="" coords="216,5,381,32"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="429,5,567,32"/>
</map>
</div>

</div>
</div>
<a id="a7d953eb2c52baf0364a2a26c6748ee94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d953eb2c52baf0364a2a26c6748ee94">&#9670;&nbsp;</a></span>guest_has_pred_cmd_msr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool guest_has_pred_cmd_msr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00179">179</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9">guest_cpuid_has</a>(vcpu, X86_FEATURE_SPEC_CTRL) ||</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9">guest_cpuid_has</a>(vcpu, X86_FEATURE_AMD_IBPB) ||</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9">guest_cpuid_has</a>(vcpu, X86_FEATURE_SBPB));</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_ad8c2a90f2f099af1d7ca23750d9d2eb9"><div class="ttname"><a href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9">guest_cpuid_has</a></div><div class="ttdeci">static __always_inline bool guest_cpuid_has(struct kvm_vcpu *vcpu, unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00083">cpuid.h:83</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a7d953eb2c52baf0364a2a26c6748ee94_cgraph.png" border="0" usemap="#acpuid_8h_a7d953eb2c52baf0364a2a26c6748ee94_cgraph" alt=""/></div>
<map name="acpuid_8h_a7d953eb2c52baf0364a2a26c6748ee94_cgraph" id="acpuid_8h_a7d953eb2c52baf0364a2a26c6748ee94_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,196,83"/>
<area shape="rect" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9" title=" " alt="" coords="244,56,375,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="687,5,793,32"/>
<area shape="rect" href="cpuid_8h.html#af2af2645f203b5d9bad2088af0da5c1e" title=" " alt="" coords="423,81,608,108"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="1079,31,1227,57"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="872,31,1031,57"/>
<area shape="rect" href="reverse__cpuid_8h.html#adf3299d46978c685ba9b46ebb1536680" title=" " alt="" coords="656,107,824,133"/>
<area shape="rect" href="cpuid_8h.html#a638557b30255883157acafa55a351d0d" title=" " alt="" coords="657,158,823,199"/>
<area shape="rect" href="reverse__cpuid_8h.html#a3f7e53c68e5610be44d760fd4854f892" title=" " alt="" coords="669,56,811,83"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="883,165,1020,192"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="894,81,1009,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a7d953eb2c52baf0364a2a26c6748ee94_icgraph.png" border="0" usemap="#acpuid_8h_a7d953eb2c52baf0364a2a26c6748ee94_icgraph" alt=""/></div>
<map name="acpuid_8h_a7d953eb2c52baf0364a2a26c6748ee94_icgraph" id="acpuid_8h_a7d953eb2c52baf0364a2a26c6748ee94_icgraph">
<area shape="rect" title=" " alt="" coords="387,115,577,141"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#a204e4c169e1e8029eff521725a526a57" title=" " alt="" coords="175,107,327,149"/>
<area shape="rect" href="vmx_8c.html#a8ff77baa2f28fd717210bcac02a13434" title=" " alt="" coords="175,173,328,214"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
</map>
</div>

</div>
</div>
<a id="ad24a5bcf0ff93dc56c64e6867b8a2415"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad24a5bcf0ff93dc56c64e6867b8a2415">&#9670;&nbsp;</a></span>guest_has_spec_ctrl_msr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool guest_has_spec_ctrl_msr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00171">171</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9">guest_cpuid_has</a>(vcpu, X86_FEATURE_SPEC_CTRL) ||</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9">guest_cpuid_has</a>(vcpu, X86_FEATURE_AMD_STIBP) ||</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9">guest_cpuid_has</a>(vcpu, X86_FEATURE_AMD_IBRS) ||</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9">guest_cpuid_has</a>(vcpu, X86_FEATURE_AMD_SSBD));</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_ad24a5bcf0ff93dc56c64e6867b8a2415_cgraph.png" border="0" usemap="#acpuid_8h_ad24a5bcf0ff93dc56c64e6867b8a2415_cgraph" alt=""/></div>
<map name="acpuid_8h_ad24a5bcf0ff93dc56c64e6867b8a2415_cgraph" id="acpuid_8h_ad24a5bcf0ff93dc56c64e6867b8a2415_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,191,83"/>
<area shape="rect" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9" title=" " alt="" coords="239,56,369,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="681,5,788,32"/>
<area shape="rect" href="cpuid_8h.html#af2af2645f203b5d9bad2088af0da5c1e" title=" " alt="" coords="417,81,603,108"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="1073,31,1221,57"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="867,31,1025,57"/>
<area shape="rect" href="reverse__cpuid_8h.html#adf3299d46978c685ba9b46ebb1536680" title=" " alt="" coords="651,107,819,133"/>
<area shape="rect" href="cpuid_8h.html#a638557b30255883157acafa55a351d0d" title=" " alt="" coords="652,158,817,199"/>
<area shape="rect" href="reverse__cpuid_8h.html#a3f7e53c68e5610be44d760fd4854f892" title=" " alt="" coords="663,56,806,83"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="877,165,1015,192"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="889,81,1003,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_ad24a5bcf0ff93dc56c64e6867b8a2415_icgraph.png" border="0" usemap="#acpuid_8h_ad24a5bcf0ff93dc56c64e6867b8a2415_icgraph" alt=""/></div>
<map name="acpuid_8h_ad24a5bcf0ff93dc56c64e6867b8a2415_icgraph" id="acpuid_8h_ad24a5bcf0ff93dc56c64e6867b8a2415_icgraph">
<area shape="rect" title=" " alt="" coords="164,81,349,108"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="5,5,116,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="5,107,116,133"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,157,116,184"/>
</map>
</div>

</div>
</div>
<a id="a831ae844ef432e45ec7a88f170a7e1dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a831ae844ef432e45ec7a88f170a7e1dc">&#9670;&nbsp;</a></span>guest_pv_has()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline bool guest_pv_has </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>kvm_feature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00232">232</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span> (!vcpu-&gt;arch.pv_cpuid.enforce)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">return</span> vcpu-&gt;arch.pv_cpuid.features &amp; (1u &lt;&lt; kvm_feature);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a831ae844ef432e45ec7a88f170a7e1dc_icgraph.png" border="0" usemap="#acpuid_8h_a831ae844ef432e45ec7a88f170a7e1dc_icgraph" alt=""/></div>
<map name="acpuid_8h_a831ae844ef432e45ec7a88f170a7e1dc_icgraph" id="acpuid_8h_a831ae844ef432e45ec7a88f170a7e1dc_icgraph">
<area shape="rect" title=" " alt="" coords="1032,107,1143,133"/>
<area shape="rect" href="x86_8c.html#abc413db5ba414fb0a89e7ffc1fb81e60" title=" " alt="" coords="799,5,978,32"/>
<area shape="rect" href="x86_8c.html#a0e93cb5e88dc8c07d9357181a3a7b2e9" title=" " alt="" coords="801,56,976,83"/>
<area shape="rect" href="x86_8c.html#a56e13bff56e8184d17fdc89b142a05c3" title=" " alt="" coords="793,107,984,133"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="571,107,745,133"/>
<area shape="rect" href="x86_8c.html#a187212c772cf6e896de2a5304f88b9fb" title=" " alt="" coords="819,208,958,235"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="603,5,713,32"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="603,56,713,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="427,56,508,83"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="413,107,522,133"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="412,157,523,184"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="589,208,727,235"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="427,208,508,235"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="177,208,364,235"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,208,129,235"/>
</map>
</div>

</div>
</div>
<a id="a267779506f2b7e74c16d026c5e5648f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a267779506f2b7e74c16d026c5e5648f8">&#9670;&nbsp;</a></span>kvm_cpu_cap_check_and_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline void kvm_cpu_cap_check_and_set </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x86_feature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00226">226</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">if</span> (boot_cpu_has(x86_feature))</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(x86_feature);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_aee66583565e70e231c1319604da3a201"><div class="ttname"><a href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a></div><div class="ttdeci">static __always_inline void kvm_cpu_cap_set(unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00205">cpuid.h:205</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a267779506f2b7e74c16d026c5e5648f8_cgraph.png" border="0" usemap="#acpuid_8h_a267779506f2b7e74c16d026c5e5648f8_cgraph" alt=""/></div>
<map name="acpuid_8h_a267779506f2b7e74c16d026c5e5648f8_cgraph" id="acpuid_8h_a267779506f2b7e74c16d026c5e5648f8_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,220,83"/>
<area shape="rect" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201" title=" " alt="" coords="268,56,407,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="459,56,565,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="617,93,776,120"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="455,5,569,32"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="623,31,771,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a267779506f2b7e74c16d026c5e5648f8_icgraph.png" border="0" usemap="#acpuid_8h_a267779506f2b7e74c16d026c5e5648f8_icgraph" alt=""/></div>
<map name="acpuid_8h_a267779506f2b7e74c16d026c5e5648f8_icgraph" id="acpuid_8h_a267779506f2b7e74c16d026c5e5648f8_icgraph">
<area shape="rect" title=" " alt="" coords="601,31,816,57"/>
<area shape="rect" href="cpuid_8c.html#ac4b31e077b5a352bd48a541ad53e3162" title=" " alt="" coords="408,31,553,57"/>
<area shape="rect" href="svm_8c.html#ab2ed2d9e233f1c6a1a3c806826d63401" title=" " alt="" coords="215,5,359,32"/>
<area shape="rect" href="vmx_8c.html#ad6f2c2fa1ea6270fe1b55ad7e770db38" title=" " alt="" coords="215,68,360,95"/>
<area shape="rect" href="svm_8c.html#aa4cdf4791105d54ebcadfeafdcdf01ac" title=" " alt="" coords="5,5,167,32"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="23,68,149,95"/>
</map>
</div>

</div>
</div>
<a id="abdc65f0e23a3e84daece0c718bac6198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc65f0e23a3e84daece0c718bac6198">&#9670;&nbsp;</a></span>kvm_cpu_cap_clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline void kvm_cpu_cap_clear </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x86_feature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00197">197</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x86_leaf = <a class="code" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae">__feature_leaf</a>(x86_feature);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700">reverse_cpuid_check</a>(x86_leaf);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    kvm_cpu_caps[x86_leaf] &amp;= ~<a class="code" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c">__feature_bit</a>(x86_feature);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div>
<div class="ttc" id="areverse__cpuid_8h_html_a8f6dc89865c6af98e621e1ddcf401cae"><div class="ttname"><a href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae">__feature_leaf</a></div><div class="ttdeci">static __always_inline u32 __feature_leaf(int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00137">reverse_cpuid.h:137</a></div></div>
<div class="ttc" id="areverse__cpuid_8h_html_ae10c1644e90cb8443e5a32554acfd700"><div class="ttname"><a href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700">reverse_cpuid_check</a></div><div class="ttdeci">static __always_inline void reverse_cpuid_check(unsigned int x86_leaf)</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00103">reverse_cpuid.h:103</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_abdc65f0e23a3e84daece0c718bac6198_cgraph.png" border="0" usemap="#acpuid_8h_abdc65f0e23a3e84daece0c718bac6198_cgraph" alt=""/></div>
<map name="acpuid_8h_abdc65f0e23a3e84daece0c718bac6198_cgraph" id="acpuid_8h_abdc65f0e23a3e84daece0c718bac6198_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,156,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="208,56,315,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="367,93,525,120"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="204,5,319,32"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="372,31,520,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_abdc65f0e23a3e84daece0c718bac6198_icgraph.png" border="0" usemap="#acpuid_8h_abdc65f0e23a3e84daece0c718bac6198_icgraph" alt=""/></div>
<map name="acpuid_8h_abdc65f0e23a3e84daece0c718bac6198_icgraph" id="acpuid_8h_abdc65f0e23a3e84daece0c718bac6198_icgraph">
<area shape="rect" title=" " alt="" coords="601,49,752,76"/>
<area shape="rect" href="cpuid_8c.html#ac4b31e077b5a352bd48a541ad53e3162" title=" " alt="" coords="408,75,553,101"/>
<area shape="rect" href="svm_8c.html#ab2ed2d9e233f1c6a1a3c806826d63401" title=" " alt="" coords="215,24,359,51"/>
<area shape="rect" href="vmx_8c.html#ad6f2c2fa1ea6270fe1b55ad7e770db38" title=" " alt="" coords="215,100,360,127"/>
<area shape="rect" href="sev_8c.html#aeaff9c624af59b36fd36d1c25e279a50" title=" " alt="" coords="411,24,550,51"/>
<area shape="rect" href="svm_8c.html#aa4cdf4791105d54ebcadfeafdcdf01ac" title=" " alt="" coords="5,24,167,51"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="23,100,149,127"/>
</map>
</div>

</div>
</div>
<a id="a865db4a5b4bd205aeed6d939d971a768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a865db4a5b4bd205aeed6d939d971a768">&#9670;&nbsp;</a></span>kvm_cpu_cap_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline u32 kvm_cpu_cap_get </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x86_feature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00213">213</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;{</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x86_leaf = <a class="code" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae">__feature_leaf</a>(x86_feature);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700">reverse_cpuid_check</a>(x86_leaf);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">return</span> kvm_cpu_caps[x86_leaf] &amp; <a class="code" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c">__feature_bit</a>(x86_feature);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a865db4a5b4bd205aeed6d939d971a768_cgraph.png" border="0" usemap="#acpuid_8h_a865db4a5b4bd205aeed6d939d971a768_cgraph" alt=""/></div>
<map name="acpuid_8h_a865db4a5b4bd205aeed6d939d971a768_cgraph" id="acpuid_8h_a865db4a5b4bd205aeed6d939d971a768_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,144,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="196,56,303,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="355,93,513,120"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="192,5,307,32"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="360,31,508,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a865db4a5b4bd205aeed6d939d971a768_icgraph.png" border="0" usemap="#acpuid_8h_a865db4a5b4bd205aeed6d939d971a768_icgraph" alt=""/></div>
<map name="acpuid_8h_a865db4a5b4bd205aeed6d939d971a768_icgraph" id="acpuid_8h_a865db4a5b4bd205aeed6d939d971a768_icgraph">
<area shape="rect" title=" " alt="" coords="1359,365,1497,392"/>
<area shape="rect" href="cpuid_8h.html#a4a2881bd1ba1c3c4b2fb5f3b13ac12de" title=" " alt="" coords="1141,264,1282,291"/>
<area shape="rect" href="vmx_2hyperv_8c.html#af7afc5344e6003940fb07759a422af62" title=" " alt="" coords="1112,391,1311,417"/>
<area shape="rect" href="cpuid_8c.html#ac91da0391b283d7527a8b33206fe03dd" title=" " alt="" coords="900,56,1029,83"/>
<area shape="rect" href="cpuid_8c.html#a62b781aedf96991bb95c97f5cf645a62" title=" " alt="" coords="865,5,1064,32"/>
<area shape="rect" href="x86_8c.html#a0ad8fc4784d6d316f3d9f5afe640af81" title=" " alt="" coords="440,315,616,341"/>
<area shape="rect" href="cpuid_8h.html#aacf5b21a9aa34f7acd0df7fa8093c4a0" title=" " alt="" coords="878,173,1051,214"/>
<area shape="rect" href="vmx_8c.html#a8ff77baa2f28fd717210bcac02a13434" title=" " alt="" coords="664,223,817,265"/>
<area shape="rect" href="x86_8c.html#a522b32eedee579553c80b152d5150dbe" title=" " alt="" coords="872,340,1057,367"/>
<area shape="rect" href="cpuid_8c.html#ac4b31e077b5a352bd48a541ad53e3162" title=" " alt="" coords="892,441,1037,468"/>
<area shape="rect" href="svm_8c.html#ab2ed2d9e233f1c6a1a3c806826d63401" title=" " alt="" coords="669,391,813,417"/>
<area shape="rect" href="svm_8c.html#a12d4d3a3b5ae14af748037ebf85485c1" title=" " alt="" coords="879,107,1051,149"/>
<area shape="rect" href="cpuid_8c.html#a652f54573475d1818402ab58329c340c" title=" " alt="" coords="683,31,798,57"/>
<area shape="rect" href="cpuid_8c.html#a1e952716ba7f46eb64f00d8a59c2be8d" title=" " alt="" coords="468,31,588,57"/>
<area shape="rect" href="cpuid_8c.html#ac74b10a6f6a1e67ef54c48e55473ff07" title=" " alt="" coords="205,31,392,57"/>
<area shape="rect" href="x86_8c.html#a05ad3b4bc56bfbca86cf49699ca69f5f" title=" " alt="" coords="5,31,157,57"/>
<area shape="rect" href="x86_8c.html#ae295ff45fc91a432658e57dda4dfea68" title=" " alt="" coords="217,315,380,341"/>
<area shape="rect" href="svm_8c.html#aa667b0a0f202f83aa1533825aeecb402" title=" " alt="" coords="42,340,121,367"/>
<area shape="rect" href="vmx_8c.html#aa8f62a8c3a5a5da29c69565d2645a371" title=" " alt="" coords="42,289,121,316"/>
<area shape="rect" href="svm_8c.html#a204e4c169e1e8029eff521725a526a57" title=" " alt="" coords="665,158,817,199"/>
<area shape="rect" href="x86_8c.html#acdc59867c9bea51ae5c7aa92e36e5c2a" title=" " alt="" coords="668,340,813,367"/>
<area shape="rect" href="vmx_8c.html#ad6f2c2fa1ea6270fe1b55ad7e770db38" title=" " alt="" coords="668,441,813,468"/>
<area shape="rect" href="svm_8c.html#aa4cdf4791105d54ebcadfeafdcdf01ac" title=" " alt="" coords="447,391,609,417"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="465,441,591,468"/>
<area shape="rect" href="svm_8c.html#aa3d3185c3eece1cf1e99fd5da3ca3181" title=" " alt="" coords="697,107,784,133"/>
<area shape="rect" href="svm_8c.html#a72a80d54451776cc2794da8564a424fa" title=" " alt="" coords="464,107,592,133"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a65627bb6ca300af623753790d43cc925" title=" " alt="" coords="881,492,1048,519"/>
</map>
</div>

</div>
</div>
<a id="a4a2881bd1ba1c3c4b2fb5f3b13ac12de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a2881bd1ba1c3c4b2fb5f3b13ac12de">&#9670;&nbsp;</a></span>kvm_cpu_cap_has()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline bool kvm_cpu_cap_has </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x86_feature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00221">221</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">return</span> !!<a class="code" href="cpuid_8h.html#a865db4a5b4bd205aeed6d939d971a768">kvm_cpu_cap_get</a>(x86_feature);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_a865db4a5b4bd205aeed6d939d971a768"><div class="ttname"><a href="cpuid_8h.html#a865db4a5b4bd205aeed6d939d971a768">kvm_cpu_cap_get</a></div><div class="ttdeci">static __always_inline u32 kvm_cpu_cap_get(unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00213">cpuid.h:213</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a4a2881bd1ba1c3c4b2fb5f3b13ac12de_cgraph.png" border="0" usemap="#acpuid_8h_a4a2881bd1ba1c3c4b2fb5f3b13ac12de_cgraph" alt=""/></div>
<map name="acpuid_8h_a4a2881bd1ba1c3c4b2fb5f3b13ac12de_cgraph" id="acpuid_8h_a4a2881bd1ba1c3c4b2fb5f3b13ac12de_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,147,83"/>
<area shape="rect" href="cpuid_8h.html#a865db4a5b4bd205aeed6d939d971a768" title=" " alt="" coords="195,56,333,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="385,56,492,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="544,93,703,120"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="381,5,496,32"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="549,31,697,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a4a2881bd1ba1c3c4b2fb5f3b13ac12de_icgraph.png" border="0" usemap="#acpuid_8h_a4a2881bd1ba1c3c4b2fb5f3b13ac12de_icgraph" alt=""/></div>
<map name="acpuid_8h_a4a2881bd1ba1c3c4b2fb5f3b13ac12de_icgraph" id="acpuid_8h_a4a2881bd1ba1c3c4b2fb5f3b13ac12de_icgraph">
<area shape="rect" title=" " alt="" coords="1112,239,1253,265"/>
<area shape="rect" href="cpuid_8c.html#ac91da0391b283d7527a8b33206fe03dd" title=" " alt="" coords="900,56,1029,83"/>
<area shape="rect" href="cpuid_8c.html#a62b781aedf96991bb95c97f5cf645a62" title=" " alt="" coords="865,5,1064,32"/>
<area shape="rect" href="x86_8c.html#a0ad8fc4784d6d316f3d9f5afe640af81" title=" " alt="" coords="440,315,616,341"/>
<area shape="rect" href="cpuid_8h.html#aacf5b21a9aa34f7acd0df7fa8093c4a0" title=" " alt="" coords="878,173,1051,214"/>
<area shape="rect" href="vmx_8c.html#a8ff77baa2f28fd717210bcac02a13434" title=" " alt="" coords="664,223,817,265"/>
<area shape="rect" href="x86_8c.html#a522b32eedee579553c80b152d5150dbe" title=" " alt="" coords="872,340,1057,367"/>
<area shape="rect" href="cpuid_8c.html#ac4b31e077b5a352bd48a541ad53e3162" title=" " alt="" coords="892,441,1037,468"/>
<area shape="rect" href="svm_8c.html#ab2ed2d9e233f1c6a1a3c806826d63401" title=" " alt="" coords="669,391,813,417"/>
<area shape="rect" href="svm_8c.html#a12d4d3a3b5ae14af748037ebf85485c1" title=" " alt="" coords="879,107,1051,149"/>
<area shape="rect" href="cpuid_8c.html#a652f54573475d1818402ab58329c340c" title=" " alt="" coords="683,31,798,57"/>
<area shape="rect" href="cpuid_8c.html#a1e952716ba7f46eb64f00d8a59c2be8d" title=" " alt="" coords="468,31,588,57"/>
<area shape="rect" href="cpuid_8c.html#ac74b10a6f6a1e67ef54c48e55473ff07" title=" " alt="" coords="205,31,392,57"/>
<area shape="rect" href="x86_8c.html#a05ad3b4bc56bfbca86cf49699ca69f5f" title=" " alt="" coords="5,31,157,57"/>
<area shape="rect" href="x86_8c.html#ae295ff45fc91a432658e57dda4dfea68" title=" " alt="" coords="217,315,380,341"/>
<area shape="rect" href="svm_8c.html#aa667b0a0f202f83aa1533825aeecb402" title=" " alt="" coords="42,340,121,367"/>
<area shape="rect" href="vmx_8c.html#aa8f62a8c3a5a5da29c69565d2645a371" title=" " alt="" coords="42,289,121,316"/>
<area shape="rect" href="svm_8c.html#a204e4c169e1e8029eff521725a526a57" title=" " alt="" coords="665,158,817,199"/>
<area shape="rect" href="x86_8c.html#acdc59867c9bea51ae5c7aa92e36e5c2a" title=" " alt="" coords="668,340,813,367"/>
<area shape="rect" href="vmx_8c.html#ad6f2c2fa1ea6270fe1b55ad7e770db38" title=" " alt="" coords="668,441,813,468"/>
<area shape="rect" href="svm_8c.html#aa4cdf4791105d54ebcadfeafdcdf01ac" title=" " alt="" coords="447,391,609,417"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="465,441,591,468"/>
<area shape="rect" href="svm_8c.html#aa3d3185c3eece1cf1e99fd5da3ca3181" title=" " alt="" coords="697,107,784,133"/>
<area shape="rect" href="svm_8c.html#a72a80d54451776cc2794da8564a424fa" title=" " alt="" coords="464,107,592,133"/>
</map>
</div>

</div>
</div>
<a id="aee66583565e70e231c1319604da3a201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee66583565e70e231c1319604da3a201">&#9670;&nbsp;</a></span>kvm_cpu_cap_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline void kvm_cpu_cap_set </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x86_feature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00205">205</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x86_leaf = <a class="code" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae">__feature_leaf</a>(x86_feature);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700">reverse_cpuid_check</a>(x86_leaf);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    kvm_cpu_caps[x86_leaf] |= <a class="code" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c">__feature_bit</a>(x86_feature);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_aee66583565e70e231c1319604da3a201_cgraph.png" border="0" usemap="#acpuid_8h_aee66583565e70e231c1319604da3a201_cgraph" alt=""/></div>
<map name="acpuid_8h_aee66583565e70e231c1319604da3a201_cgraph" id="acpuid_8h_aee66583565e70e231c1319604da3a201_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,144,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="196,56,303,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="355,93,513,120"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="192,5,307,32"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="360,31,508,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_aee66583565e70e231c1319604da3a201_icgraph.png" border="0" usemap="#acpuid_8h_aee66583565e70e231c1319604da3a201_icgraph" alt=""/></div>
<map name="acpuid_8h_aee66583565e70e231c1319604da3a201_icgraph" id="acpuid_8h_aee66583565e70e231c1319604da3a201_icgraph">
<area shape="rect" title=" " alt="" coords="864,53,1003,80"/>
<area shape="rect" href="cpuid_8h.html#a267779506f2b7e74c16d026c5e5648f8" title=" " alt="" coords="601,78,816,105"/>
<area shape="rect" href="cpuid_8c.html#ac4b31e077b5a352bd48a541ad53e3162" title=" " alt="" coords="408,28,553,54"/>
<area shape="rect" href="svm_8c.html#ab2ed2d9e233f1c6a1a3c806826d63401" title=" " alt="" coords="215,28,359,54"/>
<area shape="rect" href="vmx_8c.html#ad6f2c2fa1ea6270fe1b55ad7e770db38" title=" " alt="" coords="215,129,360,156"/>
<area shape="rect" href="svm_8c.html#aa4cdf4791105d54ebcadfeafdcdf01ac" title=" " alt="" coords="5,28,167,54"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="23,129,149,156"/>
</map>
</div>

</div>
</div>
<a id="a91d770d0af7358b6cd24b7cbe2617d73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91d770d0af7358b6cd24b7cbe2617d73">&#9670;&nbsp;</a></span>kvm_cpuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool kvm_cpuid </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32 *&#160;</td>
          <td class="paramname"><em>eax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32 *&#160;</td>
          <td class="paramname"><em>ebx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32 *&#160;</td>
          <td class="paramname"><em>ecx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32 *&#160;</td>
          <td class="paramname"><em>edx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exact_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8c_source.html#l01531">1531</a> of file <a class="el" href="cpuid_8c_source.html">cpuid.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;{</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    u32 orig_function = *eax, <span class="keyword">function</span> = *eax, index = *ecx;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keyword">struct </span>kvm_cpuid_entry2 *entry;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="keywordtype">bool</span> exact, used_max_basic = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    entry = <a class="code" href="cpuid_8c.html#a638557b30255883157acafa55a351d0d">kvm_find_cpuid_entry_index</a>(vcpu, <span class="keyword">function</span>, index);</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    exact = !!entry;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160; </div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="keywordflow">if</span> (!entry &amp;&amp; !exact_only) {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        entry = <a class="code" href="cpuid_8c.html#ac2fc42a3bfaa6a6d13a79e259561eba1">get_out_of_range_cpuid_entry</a>(vcpu, &amp;<span class="keyword">function</span>, index);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        used_max_basic = !!entry;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    }</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="keywordflow">if</span> (entry) {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        *eax = entry-&gt;eax;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        *ebx = entry-&gt;ebx;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        *ecx = entry-&gt;ecx;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        *edx = entry-&gt;edx;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">function</span> == 7 &amp;&amp; index == 0) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            u64 data;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="x86_8c.html#a69cd7a555054c4e390c588fb9da44dc9">__kvm_get_msr</a>(vcpu, MSR_IA32_TSX_CTRL, &amp;data, <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                (data &amp; TSX_CTRL_CPUID_CLEAR))</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                *ebx &amp;= ~(<a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(RTM) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(HLE));</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">function</span> == 0x80000007) {</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="hyperv_8h.html#a1bba1ca522177355266df250c2f7c3ec">kvm_hv_invtsc_suppressed</a>(vcpu))</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;                *edx &amp;= ~<a class="code" href="cpuid_8c.html#a153ac3e954288b474182e1fb0c0f2a03">SF</a>(CONSTANT_TSC);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        }</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        *eax = *ebx = *ecx = *edx = 0;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;<span class="comment">         * When leaf 0BH or 1FH is defined, CL is pass-through</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="comment">         * and EDX is always the x2APIC ID, even for undefined</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="comment">         * subleaves. Index 1 will exist iff the leaf is</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="comment">         * implemented, so we pass through CL iff leaf 1</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="comment">         * exists. EDX can be copied from any existing index.</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">function</span> == 0xb || <span class="keyword">function</span> == 0x1f) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            entry = <a class="code" href="cpuid_8c.html#a638557b30255883157acafa55a351d0d">kvm_find_cpuid_entry_index</a>(vcpu, <span class="keyword">function</span>, 1);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;            <span class="keywordflow">if</span> (entry) {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                *ecx = index &amp; 0xff;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                *edx = entry-&gt;edx;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            }</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        }</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    }</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    trace_kvm_cpuid(orig_function, index, *eax, *ebx, *ecx, *edx, exact,</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            used_max_basic);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="keywordflow">return</span> exact;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;}</div>
<div class="ttc" id="acpuid_8c_html_a153ac3e954288b474182e1fb0c0f2a03"><div class="ttname"><a href="cpuid_8c.html#a153ac3e954288b474182e1fb0c0f2a03">SF</a></div><div class="ttdeci">#define SF(name)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l00067">cpuid.c:67</a></div></div>
<div class="ttc" id="acpuid_8c_html_a42257a545daf5b7933d6e8f96adc74f2"><div class="ttname"><a href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a></div><div class="ttdeci">#define F</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l00064">cpuid.c:64</a></div></div>
<div class="ttc" id="acpuid_8c_html_a638557b30255883157acafa55a351d0d"><div class="ttname"><a href="cpuid_8c.html#a638557b30255883157acafa55a351d0d">kvm_find_cpuid_entry_index</a></div><div class="ttdeci">struct kvm_cpuid_entry2 * kvm_find_cpuid_entry_index(struct kvm_vcpu *vcpu, u32 function, u32 index)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l01447">cpuid.c:1447</a></div></div>
<div class="ttc" id="acpuid_8c_html_ac2fc42a3bfaa6a6d13a79e259561eba1"><div class="ttname"><a href="cpuid_8c.html#ac2fc42a3bfaa6a6d13a79e259561eba1">get_out_of_range_cpuid_entry</a></div><div class="ttdeci">static struct kvm_cpuid_entry2 * get_out_of_range_cpuid_entry(struct kvm_vcpu *vcpu, u32 *fn_ptr, u32 index)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l01492">cpuid.c:1492</a></div></div>
<div class="ttc" id="ahyperv_8h_html_a1bba1ca522177355266df250c2f7c3ec"><div class="ttname"><a href="hyperv_8h.html#a1bba1ca522177355266df250c2f7c3ec">kvm_hv_invtsc_suppressed</a></div><div class="ttdeci">static bool kvm_hv_invtsc_suppressed(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="hyperv_8h_source.html#l00299">hyperv.h:299</a></div></div>
<div class="ttc" id="ax86_8c_html_a69cd7a555054c4e390c588fb9da44dc9"><div class="ttname"><a href="x86_8c.html#a69cd7a555054c4e390c588fb9da44dc9">__kvm_get_msr</a></div><div class="ttdeci">int __kvm_get_msr(struct kvm_vcpu *vcpu, u32 index, u64 *data, bool host_initiated)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8c_source.html#l01925">x86.c:1925</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a91d770d0af7358b6cd24b7cbe2617d73_cgraph.png" border="0" usemap="#acpuid_8h_a91d770d0af7358b6cd24b7cbe2617d73_cgraph" alt=""/></div>
<map name="acpuid_8h_a91d770d0af7358b6cd24b7cbe2617d73_cgraph" id="acpuid_8h_a91d770d0af7358b6cd24b7cbe2617d73_cgraph">
<area shape="rect" title=" " alt="" coords="5,228,99,255"/>
<area shape="rect" href="x86_8c.html#a69cd7a555054c4e390c588fb9da44dc9" title=" " alt="" coords="185,93,310,120"/>
<area shape="rect" href="cpuid_8c.html#ac2fc42a3bfaa6a6d13a79e259561eba1" title=" " alt="" coords="159,191,336,233"/>
<area shape="rect" href="cpuid_8c.html#a638557b30255883157acafa55a351d0d" title=" " alt="" coords="401,273,566,314"/>
<area shape="rect" href="hyperv_8h.html#a1bba1ca522177355266df250c2f7c3ec" title=" " alt="" coords="147,308,348,335"/>
<area shape="rect" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9" title=" " alt="" coords="418,69,549,96"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="883,5,989,32"/>
<area shape="rect" href="cpuid_8h.html#af2af2645f203b5d9bad2088af0da5c1e" title=" " alt="" coords="619,95,804,121"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="1275,56,1423,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="1068,56,1227,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#adf3299d46978c685ba9b46ebb1536680" title=" " alt="" coords="852,56,1020,83"/>
<area shape="rect" href="cpuid_8h.html#a638557b30255883157acafa55a351d0d" title=" " alt="" coords="853,158,1019,199"/>
<area shape="rect" href="reverse__cpuid_8h.html#a3f7e53c68e5610be44d760fd4854f892" title=" " alt="" coords="865,107,1007,133"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="1079,224,1216,251"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="1090,107,1205,133"/>
<area shape="rect" href="kvm__emulate_8h.html#aaeb0a87b097a9164d79418139514f852" title=" " alt="" coords="401,120,565,147"/>
<area shape="rect" href="kvm__emulate_8h.html#a1d708985e548ee4ce6eee808a31d279c" title=" " alt="" coords="396,171,571,197"/>
<area shape="rect" href="cpuid_8c.html#aae0475609eefc48bb151ef5a631670c0" title=" " alt="" coords="629,223,794,249"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a91d770d0af7358b6cd24b7cbe2617d73_icgraph.png" border="0" usemap="#acpuid_8h_a91d770d0af7358b6cd24b7cbe2617d73_icgraph" alt=""/></div>
<map name="acpuid_8h_a91d770d0af7358b6cd24b7cbe2617d73_icgraph" id="acpuid_8h_a91d770d0af7358b6cd24b7cbe2617d73_icgraph">
<area shape="rect" title=" " alt="" coords="384,56,477,83"/>
<area shape="rect" href="x86_8c.html#a1cdade2bddd54648d9f5f61cf17dbf3f" title=" " alt="" coords="181,5,332,32"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,56,336,83"/>
<area shape="rect" href="cpuid_8c.html#a3650f2f078b9b3c62d58cd77e47ce3ab" title=" " alt="" coords="179,107,334,133"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,56,129,83"/>
</map>
</div>

</div>
</div>
<a id="ac74b10a6f6a1e67ef54c48e55473ff07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac74b10a6f6a1e67ef54c48e55473ff07">&#9670;&nbsp;</a></span>kvm_dev_ioctl_get_cpuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_dev_ioctl_get_cpuid </td>
          <td>(</td>
          <td class="paramtype">struct kvm_cpuid2 *&#160;</td>
          <td class="paramname"><em>cpuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_cpuid_entry2 __user *&#160;</td>
          <td class="paramname"><em>entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8c_source.html#l01404">1404</a> of file <a class="el" href="cpuid_8c_source.html">cpuid.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;{</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> u32 funcs[] = {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        0, 0x80000000, <a class="code" href="cpuid_8c.html#a4d7a5e68dae710cd6f79a0379588f773">CENTAUR_CPUID_SIGNATURE</a>, KVM_CPUID_SIGNATURE,</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    };</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160; </div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="keyword">struct </span><a class="code" href="structkvm__cpuid__array.html">kvm_cpuid_array</a> array = {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        .<a class="code" href="structkvm__cpuid__array.html#aa4a14410d9d895ae5b563366f4ed8450">nent</a> = 0,</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    };</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordtype">int</span> r, i;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; </div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="keywordflow">if</span> (cpuid-&gt;nent &lt; 1)</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        <span class="keywordflow">return</span> -E2BIG;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">if</span> (cpuid-&gt;nent &gt; KVM_MAX_CPUID_ENTRIES)</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        cpuid-&gt;nent = KVM_MAX_CPUID_ENTRIES;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cpuid_8c.html#aebbe1f9459c214c3640d26457668476a">sanity_check_entries</a>(<a class="code" href="structkvm__cpuid__array.html#a0f69cb1cf1ca8b9e6dc3d05e9be947f2">entries</a>, cpuid-&gt;nent, type))</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    array.<a class="code" href="structkvm__cpuid__array.html#a0f69cb1cf1ca8b9e6dc3d05e9be947f2">entries</a> = kvcalloc(cpuid-&gt;nent, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> kvm_cpuid_entry2), GFP_KERNEL);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">if</span> (!array.<a class="code" href="structkvm__cpuid__array.html#a0f69cb1cf1ca8b9e6dc3d05e9be947f2">entries</a>)</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <span class="keywordflow">return</span> -ENOMEM;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    array.<a class="code" href="structkvm__cpuid__array.html#a8f5df87c0238185d71b87449e9a0056a">maxnent</a> = cpuid-&gt;nent;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160; </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; ARRAY_SIZE(funcs); i++) {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        r = <a class="code" href="cpuid_8c.html#a1e952716ba7f46eb64f00d8a59c2be8d">get_cpuid_func</a>(&amp;array, funcs[i], type);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        <span class="keywordflow">if</span> (r)</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            <span class="keywordflow">goto</span> out_free;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    }</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    cpuid-&gt;nent = array.<a class="code" href="structkvm__cpuid__array.html#aa4a14410d9d895ae5b563366f4ed8450">nent</a>;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160; </div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="keywordflow">if</span> (copy_to_user(<a class="code" href="structkvm__cpuid__array.html#a0f69cb1cf1ca8b9e6dc3d05e9be947f2">entries</a>, array.<a class="code" href="structkvm__cpuid__array.html#a0f69cb1cf1ca8b9e6dc3d05e9be947f2">entries</a>,</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;             array.<a class="code" href="structkvm__cpuid__array.html#aa4a14410d9d895ae5b563366f4ed8450">nent</a> * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> kvm_cpuid_entry2)))</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        r = -EFAULT;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;out_free:</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    kvfree(array.<a class="code" href="structkvm__cpuid__array.html#a0f69cb1cf1ca8b9e6dc3d05e9be947f2">entries</a>);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;}</div>
<div class="ttc" id="acpuid_8c_html_a1e952716ba7f46eb64f00d8a59c2be8d"><div class="ttname"><a href="cpuid_8c.html#a1e952716ba7f46eb64f00d8a59c2be8d">get_cpuid_func</a></div><div class="ttdeci">static int get_cpuid_func(struct kvm_cpuid_array *array, u32 func, unsigned int type)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l01353">cpuid.c:1353</a></div></div>
<div class="ttc" id="acpuid_8c_html_a4d7a5e68dae710cd6f79a0379588f773"><div class="ttname"><a href="cpuid_8c.html#a4d7a5e68dae710cd6f79a0379588f773">CENTAUR_CPUID_SIGNATURE</a></div><div class="ttdeci">#define CENTAUR_CPUID_SIGNATURE</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l01351">cpuid.c:1351</a></div></div>
<div class="ttc" id="acpuid_8c_html_aebbe1f9459c214c3640d26457668476a"><div class="ttname"><a href="cpuid_8c.html#aebbe1f9459c214c3640d26457668476a">sanity_check_entries</a></div><div class="ttdeci">static bool sanity_check_entries(struct kvm_cpuid_entry2 __user *entries, __u32 num_entries, unsigned int ioctl_type)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l01377">cpuid.c:1377</a></div></div>
<div class="ttc" id="astructkvm__cpuid__array_html"><div class="ttname"><a href="structkvm__cpuid__array.html">kvm_cpuid_array</a></div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l00821">cpuid.c:821</a></div></div>
<div class="ttc" id="astructkvm__cpuid__array_html_a0f69cb1cf1ca8b9e6dc3d05e9be947f2"><div class="ttname"><a href="structkvm__cpuid__array.html#a0f69cb1cf1ca8b9e6dc3d05e9be947f2">kvm_cpuid_array::entries</a></div><div class="ttdeci">struct kvm_cpuid_entry2 * entries</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l00822">cpuid.c:822</a></div></div>
<div class="ttc" id="astructkvm__cpuid__array_html_a8f5df87c0238185d71b87449e9a0056a"><div class="ttname"><a href="structkvm__cpuid__array.html#a8f5df87c0238185d71b87449e9a0056a">kvm_cpuid_array::maxnent</a></div><div class="ttdeci">int maxnent</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l00823">cpuid.c:823</a></div></div>
<div class="ttc" id="astructkvm__cpuid__array_html_aa4a14410d9d895ae5b563366f4ed8450"><div class="ttname"><a href="structkvm__cpuid__array.html#aa4a14410d9d895ae5b563366f4ed8450">kvm_cpuid_array::nent</a></div><div class="ttdeci">int nent</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l00824">cpuid.c:824</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_ac74b10a6f6a1e67ef54c48e55473ff07_cgraph.png" border="0" usemap="#acpuid_8h_ac74b10a6f6a1e67ef54c48e55473ff07_cgraph" alt=""/></div>
<map name="acpuid_8h_ac74b10a6f6a1e67ef54c48e55473ff07_cgraph" id="acpuid_8h_ac74b10a6f6a1e67ef54c48e55473ff07_cgraph">
<area shape="rect" title=" " alt="" coords="5,133,192,160"/>
<area shape="rect" href="cpuid_8c.html#a1e952716ba7f46eb64f00d8a59c2be8d" title=" " alt="" coords="259,108,379,135"/>
<area shape="rect" href="cpuid_8c.html#aebbe1f9459c214c3640d26457668476a" title=" " alt="" coords="240,159,399,185"/>
<area shape="rect" href="cpuid_8c.html#a652f54573475d1818402ab58329c340c" title=" " alt="" coords="447,108,561,135"/>
<area shape="rect" href="cpuid_8c.html#ac91da0391b283d7527a8b33206fe03dd" title=" " alt="" coords="644,145,773,172"/>
<area shape="rect" href="cpuid_8c.html#a62b781aedf96991bb95c97f5cf645a62" title=" " alt="" coords="609,69,808,96"/>
<area shape="rect" href="cpuid_8h.html#aac49cebef4a1bdd0996486028e64bbbd" title=" " alt="" coords="860,208,1019,235"/>
<area shape="rect" href="cpuid_8c.html#ae8aeecb8bfdee1a641e314a3605e6146" title=" " alt="" coords="882,107,997,133"/>
<area shape="rect" href="cpuid_8h.html#a4a2881bd1ba1c3c4b2fb5f3b13ac12de" title=" " alt="" coords="869,56,1010,83"/>
<area shape="rect" href="x86_8h.html#aa3fd405bd522a08e3b5ccffbe8942a3c" title=" " alt="" coords="856,157,1023,184"/>
<area shape="rect" href="cpuid_8c.html#aad06d21707fd0abb109028612ea7514c" title=" " alt="" coords="861,259,1018,285"/>
<area shape="rect" href="reverse__cpuid_8h.html#a08df87ae84991c96655f367379fad9b1" title=" " alt="" coords="1071,208,1225,235"/>
<area shape="rect" href="reverse__cpuid_8h.html#adf3299d46978c685ba9b46ebb1536680" title=" " alt="" coords="1273,208,1441,235"/>
<area shape="rect" href="reverse__cpuid_8h.html#a3f7e53c68e5610be44d760fd4854f892" title=" " alt="" coords="1286,157,1429,184"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="1511,107,1626,133"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="1489,56,1648,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="1696,56,1844,83"/>
<area shape="rect" href="cpuid_8c.html#a10c9a4330804572330fe3b5f7eac9b07" title=" " alt="" coords="1087,107,1209,133"/>
<area shape="rect" href="cpuid_8h.html#a865db4a5b4bd205aeed6d939d971a768" title=" " alt="" coords="1079,56,1217,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="1304,5,1411,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_ac74b10a6f6a1e67ef54c48e55473ff07_icgraph.png" border="0" usemap="#acpuid_8h_ac74b10a6f6a1e67ef54c48e55473ff07_icgraph" alt=""/></div>
<map name="acpuid_8h_ac74b10a6f6a1e67ef54c48e55473ff07_icgraph" id="acpuid_8h_ac74b10a6f6a1e67ef54c48e55473ff07_icgraph">
<area shape="rect" title=" " alt="" coords="205,5,392,32"/>
<area shape="rect" href="x86_8c.html#a05ad3b4bc56bfbca86cf49699ca69f5f" title=" " alt="" coords="5,5,157,32"/>
</map>
</div>

</div>
</div>
<a id="aae0475609eefc48bb151ef5a631670c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae0475609eefc48bb151ef5a631670c0">&#9670;&nbsp;</a></span>kvm_find_cpuid_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kvm_cpuid_entry2* kvm_find_cpuid_entry </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8c_source.html#l01455">1455</a> of file <a class="el" href="cpuid_8c_source.html">cpuid.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;{</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518">cpuid_entry2_find</a>(vcpu-&gt;arch.cpuid_entries, vcpu-&gt;arch.cpuid_nent,</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                 <span class="keyword">function</span>, <a class="code" href="cpuid_8c.html#aee2dec4877cb81413a6fa356c138464d">KVM_CPUID_INDEX_NOT_SIGNIFICANT</a>);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;}</div>
<div class="ttc" id="acpuid_8c_html_a7220f0f9a6d0047aef7619e272fa9518"><div class="ttname"><a href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518">cpuid_entry2_find</a></div><div class="ttdeci">static struct kvm_cpuid_entry2 * cpuid_entry2_find(struct kvm_cpuid_entry2 *entries, int nent, u32 function, u64 index)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l00082">cpuid.c:82</a></div></div>
<div class="ttc" id="acpuid_8c_html_aee2dec4877cb81413a6fa356c138464d"><div class="ttname"><a href="cpuid_8c.html#aee2dec4877cb81413a6fa356c138464d">KVM_CPUID_INDEX_NOT_SIGNIFICANT</a></div><div class="ttdeci">#define KVM_CPUID_INDEX_NOT_SIGNIFICANT</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l00080">cpuid.c:80</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_aae0475609eefc48bb151ef5a631670c0_cgraph.png" border="0" usemap="#acpuid_8h_aae0475609eefc48bb151ef5a631670c0_cgraph" alt=""/></div>
<map name="acpuid_8h_aae0475609eefc48bb151ef5a631670c0_cgraph" id="acpuid_8h_aae0475609eefc48bb151ef5a631670c0_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,171,32"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="219,5,356,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_aae0475609eefc48bb151ef5a631670c0_icgraph.png" border="0" usemap="#acpuid_8h_aae0475609eefc48bb151ef5a631670c0_icgraph" alt=""/></div>
<map name="acpuid_8h_aae0475609eefc48bb151ef5a631670c0_icgraph" id="acpuid_8h_aae0475609eefc48bb151ef5a631670c0_icgraph">
<area shape="rect" title=" " alt="" coords="1364,341,1529,367"/>
<area shape="rect" href="cpuid_8c.html#a881fc10bf62818799a56d9246f58b6cf" title=" " alt="" coords="1125,173,1316,199"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="902,68,1055,109"/>
<area shape="rect" href="cpuid_8c.html#ac2fc42a3bfaa6a6d13a79e259561eba1" title=" " alt="" coords="1132,224,1309,265"/>
<area shape="rect" href="cpuid_8h.html#adaefbcb7a479c2699345d74eb1fe3602" title=" " alt="" coords="1146,391,1295,418"/>
<area shape="rect" href="cpuid_8h.html#a5a6ba63d82eb4536c34fc156c7021193" title=" " alt="" coords="1143,5,1298,47"/>
<area shape="rect" href="cpuid_8h.html#aa35dee13971a1366be933e974552a02d" title=" " alt="" coords="1143,543,1298,570"/>
<area shape="rect" href="x86_8c.html#a2694456104c02a7204796d89d13a1e91" title=" " alt="" coords="681,442,811,469"/>
<area shape="rect" href="cpuid_8h.html#a000a8b4d5c33ede65d4a34091f93b934" title=" " alt="" coords="1147,341,1295,367"/>
<area shape="rect" href="pmu__intel_8c.html#aef55e73b4b7ac8d0841b17310fc92297" title=" " alt="" coords="676,341,816,367"/>
<area shape="rect" href="cpuid_8h.html#a986d59c8648488abee98cf60c8c3435f" title=" " alt="" coords="1139,661,1302,687"/>
<area shape="rect" href="hyperv_8c.html#a35fa0d5d0a982e559906372c42713c55" title=" " alt="" coords="1149,71,1292,98"/>
<area shape="rect" href="vmx_8c.html#a8cdfbbeaa7040fa24ebedf4c01d591ad" title=" " alt="" coords="1137,795,1304,836"/>
<area shape="rect" href="sev_8c.html#a00c492279a529b66b80ed039ae6de23b" title=" " alt="" coords="1147,595,1294,636"/>
<area shape="rect" href="x86_8c.html#ae2ebf37d8daf1a8b43a9823bae4ab32b" title=" " alt="" coords="433,265,605,291"/>
<area shape="rect" href="kvm__main_8c.html#ab8870469dadfadf9a204346c62016293" title=" " alt="" coords="177,265,377,291"/>
<area shape="rect" href="cpuid_8c.html#a0ff60eac33c1bf95a3889674e34251ad" title=" " alt="" coords="686,75,806,102"/>
<area shape="rect" href="cpuid_8c.html#a5066ac0b188677d15925709568a91c9d" title=" " alt="" coords="443,57,594,99"/>
<area shape="rect" href="cpuid_8c.html#ad4dde50a2939106abd2baf99683ac139" title=" " alt="" coords="443,123,594,164"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="198,189,357,215"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,358,129,385"/>
<area shape="rect" href="cpuid_8c.html#a91d770d0af7358b6cd24b7cbe2617d73" title=" " alt="" coords="932,235,1025,262"/>
<area shape="rect" href="x86_8c.html#a1cdade2bddd54648d9f5f61cf17dbf3f" title=" " alt="" coords="671,239,821,266"/>
<area shape="rect" href="cpuid_8c.html#a3650f2f078b9b3c62d58cd77e47ce3ab" title=" " alt="" coords="669,290,823,317"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="923,391,1034,418"/>
<area shape="rect" href="x86_8c.html#ad0df6b04ae08eb6eec89da2d81e465cd" title=" " alt="" coords="917,543,1041,570"/>
<area shape="rect" href="svm_8c.html#a2704ee64e6fe9975efa29b6759a26139" title=" " alt="" coords="903,711,1054,752"/>
<area shape="rect" href="svm_8c.html#a204e4c169e1e8029eff521725a526a57" title=" " alt="" coords="670,769,822,811"/>
<area shape="rect" href="x86_8c.html#a0a47622bf3c21272e9e0357e1f90540a" title=" " alt="" coords="887,645,1071,687"/>
<area shape="rect" href="pmu_8c.html#a60270cb74533fe7721d3ae186abe70cf" title=" " alt="" coords="888,594,1069,621"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="924,493,1033,519"/>
<area shape="rect" href="x86_8c.html#a4a7acb17f522083e1a9edc95e3788295" title=" " alt="" coords="663,511,829,552"/>
<area shape="rect" href="x86_8c.html#aac5cbd832d05c55aa809421e883ea7b4" title=" " alt="" coords="470,391,567,418"/>
<area shape="rect" href="x86_8c.html#af472ca24da6c9cd65800b5fe67e4c506" title=" " alt="" coords="463,543,574,570"/>
<area shape="rect" href="x86_8c.html#a99cf4c7be0b4cac0886649c7da9daa66" title=" " alt="" coords="427,493,610,519"/>
<area shape="rect" href="lapic_8c.html#a27836a2bcd51ebcfe2ca478e9ad7aa04" title=" " alt="" coords="425,442,612,469"/>
<area shape="rect" href="svm_8c.html#a2ca2b108d5447ed4093cb0b07092b07d" title=" " alt="" coords="433,341,604,367"/>
<area shape="rect" href="x86_8c.html#a5eac8002ee5a0c08de662d89be4d6a11" title=" " alt="" coords="198,351,357,392"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="184,417,371,443"/>
<area shape="rect" href="x86_8c.html#a11b79dde650fe425e9b649e1463869be" title=" " alt="" coords="230,467,325,494"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="209,543,346,570"/>
<area shape="rect" href="svm_8c.html#aa3d3185c3eece1cf1e99fd5da3ca3181" title=" " alt="" coords="703,718,789,745"/>
<area shape="rect" href="svm_8c.html#a72a80d54451776cc2794da8564a424fa" title=" " alt="" coords="455,718,583,745"/>
<area shape="rect" href="x86_8c.html#a95270b039fad8dd0663cbee58f3d1cf4" title=" " alt="" coords="660,645,832,687"/>
<area shape="rect" href="x86_8c.html#a3f6bd8b3f0bc1678451fd28682e7c3b1" title=" " alt="" coords="427,653,610,679"/>
<area shape="rect" href="pmu_8c.html#a1569e2542115df7e6f996f60b9d63671" title=" " alt="" coords="673,594,819,621"/>
<area shape="rect" href="pmu_8c.html#a69682fb9bfcfffefbba01992cd24a8d4" title=" " alt="" coords="427,594,610,621"/>
<area shape="rect" href="cpuid_8h.html#ab99dc7d6bb2a01d43e47b5460139730a" title=" " alt="" coords="880,341,1077,367"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="691,391,801,418"/>
<area shape="rect" href="vmx_8c.html#a8ff77baa2f28fd717210bcac02a13434" title=" " alt="" coords="902,879,1055,920"/>
</map>
</div>

</div>
</div>
<a id="a638557b30255883157acafa55a351d0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a638557b30255883157acafa55a351d0d">&#9670;&nbsp;</a></span>kvm_find_cpuid_entry_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kvm_cpuid_entry2* kvm_find_cpuid_entry_index </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8c_source.html#l01447">1447</a> of file <a class="el" href="cpuid_8c_source.html">cpuid.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;{</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518">cpuid_entry2_find</a>(vcpu-&gt;arch.cpuid_entries, vcpu-&gt;arch.cpuid_nent,</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                 <span class="keyword">function</span>, index);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a638557b30255883157acafa55a351d0d_cgraph.png" border="0" usemap="#acpuid_8h_a638557b30255883157acafa55a351d0d_cgraph" alt=""/></div>
<map name="acpuid_8h_a638557b30255883157acafa55a351d0d_cgraph" id="acpuid_8h_a638557b30255883157acafa55a351d0d_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,171,47"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="219,13,356,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a638557b30255883157acafa55a351d0d_icgraph.png" border="0" usemap="#acpuid_8h_a638557b30255883157acafa55a351d0d_icgraph" alt=""/></div>
<map name="acpuid_8h_a638557b30255883157acafa55a351d0d_icgraph" id="acpuid_8h_a638557b30255883157acafa55a351d0d_icgraph">
<area shape="rect" title=" " alt="" coords="1147,989,1312,1030"/>
<area shape="rect" href="sgx_8c.html#a2feaab00580c798dcee154b1798a674b" title=" " alt="" coords="915,652,1092,679"/>
<area shape="rect" href="svm_2pmu_8c.html#a3a6878daa6211de21b0ca114119eff4e" title=" " alt="" coords="462,157,602,184"/>
<area shape="rect" href="cpuid_8c.html#ac2fc42a3bfaa6a6d13a79e259561eba1" title=" " alt="" coords="680,105,857,146"/>
<area shape="rect" href="cpuid_8c.html#a91d770d0af7358b6cd24b7cbe2617d73" title=" " alt="" coords="253,56,346,83"/>
<area shape="rect" href="cpuid_8h.html#af2af2645f203b5d9bad2088af0da5c1e" title=" " alt="" coords="911,971,1096,997"/>
<area shape="rect" href="pmu__intel_8c.html#aef55e73b4b7ac8d0841b17310fc92297" title=" " alt="" coords="933,1021,1073,1048"/>
<area shape="rect" href="xen_8c.html#adf531b186f63f085d94a6c47ab72f473" title=" " alt="" coords="908,1072,1099,1099"/>
<area shape="rect" href="vmx_8c.html#a8cdfbbeaa7040fa24ebedf4c01d591ad" title=" " alt="" coords="920,1801,1087,1842"/>
<area shape="rect" href="sgx_8c.html#a5f819c934ba32cfa58e874bb340f0142" title=" " alt="" coords="693,1501,844,1542"/>
<area shape="rect" href="vmx_8c.html#ad32f6ad8df8337d94ebb5d6a670853b5" title=" " alt="" coords="928,1368,1079,1395"/>
<area shape="rect" href="sgx_8c.html#a64209d7a6548174cb6fae30a7a26a194" title=" " alt="" coords="687,267,850,293"/>
<area shape="rect" href="sgx_8c.html#a34e5ee57c3e7c3172f8ae6ed981d703d" title=" " alt="" coords="246,644,353,671"/>
<area shape="rect" href="x86_8c.html#a1cdade2bddd54648d9f5f61cf17dbf3f" title=" " alt="" coords="9,5,160,32"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="5,56,164,83"/>
<area shape="rect" href="cpuid_8c.html#a3650f2f078b9b3c62d58cd77e47ce3ab" title=" " alt="" coords="7,107,162,133"/>
<area shape="rect" href="cpuid_8h.html#a48976a4bdb86fcec67d2563d193d7dcd" title=" " alt="" coords="699,971,838,997"/>
<area shape="rect" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9" title=" " alt="" coords="703,1021,834,1048"/>
<area shape="rect" href="x86_8c.html#a69cd7a555054c4e390c588fb9da44dc9" title=" " alt="" coords="469,208,595,235"/>
<area shape="rect" href="hyperv_8c.html#a980a88832a98cf2bd5c4f0e3849cd445" title=" " alt="" coords="435,426,629,467"/>
<area shape="rect" href="x86_8c.html#ad0df6b04ae08eb6eec89da2d81e465cd" title=" " alt="" coords="470,492,594,519"/>
<area shape="rect" href="x86_8c.html#acca89d2d63dab117a3a766c7e549cf79" title=" " alt="" coords="463,543,601,569"/>
<area shape="rect" href="svm_2pmu_8c.html#afb9cd2ecbe0e74fc869e44c47a496cb9" title=" " alt="" coords="462,761,602,788"/>
<area shape="rect" href="x86_8c.html#a9e8ebbb82d5f2c8291f45a2426e07950" title=" " alt="" coords="439,812,625,839"/>
<area shape="rect" href="x86_8c.html#a7da5124273b0d08df1fe976ff3731ca9" title=" " alt="" coords="455,863,609,905"/>
<area shape="rect" href="x86_8c.html#af826c71b8cae72946605135bf8851586" title=" " alt="" coords="455,929,609,970"/>
<area shape="rect" href="smm_8c.html#a0943012ff008c7999f582998f0f9167a" title=" " alt="" coords="450,995,614,1021"/>
<area shape="rect" href="sgx_8c.html#ad8776272779cac650bff380210426a60" title=" " alt="" coords="459,695,605,737"/>
<area shape="rect" href="smm_8c.html#ae1445727a8459a6cc7d2e49e5a63c0d5" title=" " alt="" coords="484,1147,580,1173"/>
<area shape="rect" href="svm_2pmu_8c.html#ae983682a42d97c25309190b5aeab179e" title=" " alt="" coords="463,1197,601,1224"/>
<area shape="rect" href="cpuid_8h.html#a7d953eb2c52baf0364a2a26c6748ee94" title=" " alt="" coords="437,1248,627,1275"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="212,1096,387,1123"/>
<area shape="rect" href="vmx_8c.html#a8ff77baa2f28fd717210bcac02a13434" title=" " alt="" coords="223,1885,376,1926"/>
<area shape="rect" href="cpuid_8h.html#ad24a5bcf0ff93dc56c64e6867b8a2415" title=" " alt="" coords="439,1299,625,1325"/>
<area shape="rect" href="vmx_8c.html#af3a69581bc36e5dd88f3c37334df214d" title=" " alt="" coords="472,1349,592,1376"/>
<area shape="rect" href="pmu__intel_8c.html#a732847faae93b3f95f904168b42add71" title=" " alt="" coords="462,1400,602,1427"/>
<area shape="rect" href="svm_8c.html#a6875c998376697a8776271bc88521721" title=" " alt="" coords="455,1451,609,1477"/>
<area shape="rect" href="lapic_8c.html#aaa6716cc0b30bec513d223fbfdecfdcf" title=" " alt="" coords="449,259,615,285"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="223,414,376,455"/>
<area shape="rect" href="x86_8c.html#a2aeff0b787a2133f4809c6a94c6458d7" title=" " alt="" coords="473,1501,591,1528"/>
<area shape="rect" href="x86_8c.html#ae479df43797527b1b530789ce8d7a31f" title=" " alt="" coords="447,1553,617,1594"/>
<area shape="rect" href="x86_8c.html#a0e93cb5e88dc8c07d9357181a3a7b2e9" title=" " alt="" coords="445,1619,619,1645"/>
<area shape="rect" href="cpuid_8h.html#aacf5b21a9aa34f7acd0df7fa8093c4a0" title=" " alt="" coords="445,1801,619,1842"/>
<area shape="rect" href="lapic_8h.html#a9d9f2a266299bc56c932735db94816d5" title=" " alt="" coords="457,1096,607,1123"/>
<area shape="rect" href="vmx_2nested_8c.html#ab3fc0bd0d4a8fd0ee69e1b766c2d20aa" title=" " alt="" coords="435,1670,629,1711"/>
<area shape="rect" href="vmx_8c.html#aff701fc54eaf40f7e51be8ae81de8013" title=" " alt="" coords="451,1735,613,1777"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="455,309,609,336"/>
<area shape="rect" href="sev_8c.html#a8d230da93752633a5c5c7e6cf7c54343" title=" " alt="" coords="447,361,617,402"/>
<area shape="rect" href="sgx_8c.html#a7f5682145e68a3283de02a0ac6a9e617" title=" " alt="" coords="439,1917,625,1944"/>
<area shape="rect" href="x86_8c.html#a6c4cf532744434dffd1685085eedbaff" title=" " alt="" coords="677,1072,860,1099"/>
</map>
</div>

</div>
</div>
<a id="aacf5b21a9aa34f7acd0df7fa8093c4a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacf5b21a9aa34f7acd0df7fa8093c4a0">&#9670;&nbsp;</a></span>kvm_governed_feature_check_and_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline void kvm_governed_feature_check_and_set </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x86_feature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00271">271</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;{</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cpuid_8h.html#a4a2881bd1ba1c3c4b2fb5f3b13ac12de">kvm_cpu_cap_has</a>(x86_feature) &amp;&amp; <a class="code" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9">guest_cpuid_has</a>(vcpu, x86_feature))</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="cpuid_8h.html#a898d2d1ac4ac03c41e5bb2ebd1402ac0">kvm_governed_feature_set</a>(vcpu, x86_feature);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_a4a2881bd1ba1c3c4b2fb5f3b13ac12de"><div class="ttname"><a href="cpuid_8h.html#a4a2881bd1ba1c3c4b2fb5f3b13ac12de">kvm_cpu_cap_has</a></div><div class="ttdeci">static __always_inline bool kvm_cpu_cap_has(unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00221">cpuid.h:221</a></div></div>
<div class="ttc" id="acpuid_8h_html_a898d2d1ac4ac03c41e5bb2ebd1402ac0"><div class="ttname"><a href="cpuid_8h.html#a898d2d1ac4ac03c41e5bb2ebd1402ac0">kvm_governed_feature_set</a></div><div class="ttdeci">static __always_inline void kvm_governed_feature_set(struct kvm_vcpu *vcpu, unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00262">cpuid.h:262</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_aacf5b21a9aa34f7acd0df7fa8093c4a0_cgraph.png" border="0" usemap="#acpuid_8h_aacf5b21a9aa34f7acd0df7fa8093c4a0_cgraph" alt=""/></div>
<map name="acpuid_8h_aacf5b21a9aa34f7acd0df7fa8093c4a0_cgraph" id="acpuid_8h_aacf5b21a9aa34f7acd0df7fa8093c4a0_cgraph">
<area shape="rect" title=" " alt="" coords="5,213,179,254"/>
<area shape="rect" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9" title=" " alt="" coords="261,169,392,196"/>
<area shape="rect" href="cpuid_8h.html#a4a2881bd1ba1c3c4b2fb5f3b13ac12de" title=" " alt="" coords="256,220,397,247"/>
<area shape="rect" href="cpuid_8h.html#a898d2d1ac4ac03c41e5bb2ebd1402ac0" title=" " alt="" coords="227,281,427,308"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="747,5,853,32"/>
<area shape="rect" href="cpuid_8h.html#af2af2645f203b5d9bad2088af0da5c1e" title=" " alt="" coords="477,188,663,215"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="1141,56,1289,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="935,56,1093,83"/>
<area shape="rect" href="reverse__cpuid_8h.html#adf3299d46978c685ba9b46ebb1536680" title=" " alt="" coords="716,157,884,184"/>
<area shape="rect" href="cpuid_8h.html#a638557b30255883157acafa55a351d0d" title=" " alt="" coords="717,259,883,301"/>
<area shape="rect" href="reverse__cpuid_8h.html#a3f7e53c68e5610be44d760fd4854f892" title=" " alt="" coords="729,208,871,235"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="945,267,1083,293"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="957,107,1071,133"/>
<area shape="rect" href="cpuid_8h.html#a865db4a5b4bd205aeed6d939d971a768" title=" " alt="" coords="501,95,639,121"/>
<area shape="rect" href="cpuid_8h.html#a786eea4c1fa59be0155455a72125e0ff" title=" " alt="" coords="713,325,887,366"/>
<area shape="rect" href="cpuid_8h.html#a72da5444b01d72d935ebc411b99ba166" title=" " alt="" coords="475,332,665,359"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_aacf5b21a9aa34f7acd0df7fa8093c4a0_icgraph.png" border="0" usemap="#acpuid_8h_aacf5b21a9aa34f7acd0df7fa8093c4a0_icgraph" alt=""/></div>
<map name="acpuid_8h_aacf5b21a9aa34f7acd0df7fa8093c4a0_icgraph" id="acpuid_8h_aacf5b21a9aa34f7acd0df7fa8093c4a0_icgraph">
<area shape="rect" title=" " alt="" coords="207,39,380,80"/>
<area shape="rect" href="svm_8c.html#a204e4c169e1e8029eff521725a526a57" title=" " alt="" coords="6,5,158,47"/>
<area shape="rect" href="vmx_8c.html#a8ff77baa2f28fd717210bcac02a13434" title=" " alt="" coords="5,71,159,112"/>
</map>
</div>

</div>
</div>
<a id="a786eea4c1fa59be0155455a72125e0ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a786eea4c1fa59be0155455a72125e0ff">&#9670;&nbsp;</a></span>kvm_governed_feature_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline int kvm_governed_feature_index </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x86_feature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00247">247</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;{</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">switch</span> (x86_feature) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="preprocessor">#define KVM_GOVERNED_FEATURE(x) case x: return KVM_GOVERNED_##x;</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="governed__features_8h.html">governed_features.h</a>&quot;</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a786eea4c1fa59be0155455a72125e0ff_icgraph.png" border="0" usemap="#acpuid_8h_a786eea4c1fa59be0155455a72125e0ff_icgraph" alt=""/></div>
<map name="acpuid_8h_a786eea4c1fa59be0155455a72125e0ff_icgraph" id="acpuid_8h_a786eea4c1fa59be0155455a72125e0ff_icgraph">
<area shape="rect" title=" " alt="" coords="1740,1106,1913,1147"/>
<area shape="rect" href="cpuid_8h.html#acf67f5848a2ddd59dc852e37bc330390" title=" " alt="" coords="1294,903,1413,929"/>
<area shape="rect" href="cpuid_8h.html#a898d2d1ac4ac03c41e5bb2ebd1402ac0" title=" " alt="" coords="1253,1433,1453,1460"/>
<area shape="rect" href="cpuid_8h.html#a72da5444b01d72d935ebc411b99ba166" title=" " alt="" coords="1501,1113,1692,1140"/>
<area shape="rect" href="mmu_8h.html#a4e90e07b62b255d32f17cdb19ba6d1d1" title=" " alt="" coords="1021,107,1175,149"/>
<area shape="rect" href="x86_8c.html#aed9e7eaa275b4dc9692bbbfea052ca53" title=" " alt="" coords="1011,173,1185,214"/>
<area shape="rect" href="x86_8c.html#aff7b722decad07b127dc964cb4ba5ebc" title=" " alt="" coords="1015,238,1181,279"/>
<area shape="rect" href="cpuid_8h.html#a8f4d8ed96a58f11e51539641257987c2" title=" " alt="" coords="1011,735,1185,761"/>
<area shape="rect" href="svm_2nested_8c.html#a73d1cb9b9fcfa112138681d9080a1c05" title=" " alt="" coords="493,1029,647,1056"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="485,797,655,824"/>
<area shape="rect" href="svm_8h.html#ad6d8c993934e650cf5366b9883c3628e" title=" " alt="" coords="1019,321,1177,348"/>
<area shape="rect" href="svm_2nested_8c.html#ab7904bb74631114e0bd5102a52aab4c8" title=" " alt="" coords="479,495,661,537"/>
<area shape="rect" href="svm_2nested_8c.html#ae734b89c5cf3a889380d8136e2ed749e" title=" " alt="" coords="722,953,942,980"/>
<area shape="rect" href="svm_2nested_8c.html#a225c391860ae9f13ee16f0292bef1b05" title=" " alt="" coords="1007,525,1189,566"/>
<area shape="rect" href="svm_8h.html#ab452fafde694bb5dfd7c6dfc5707ae12" title=" " alt="" coords="1015,380,1181,407"/>
<area shape="rect" href="mmu_8c.html#a7c03a09eaa19dd03710b5221a58f49db" title=" " alt="" coords="991,1375,1205,1401"/>
<area shape="rect" href="mmu_8c.html#af9097af8c7f507ad527d445389b1b0b5" title=" " alt="" coords="721,1180,943,1207"/>
<area shape="rect" href="sev_8c.html#a8d230da93752633a5c5c7e6cf7c54343" title=" " alt="" coords="1013,1207,1183,1249"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="1043,1273,1153,1300"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="777,1105,887,1132"/>
<area shape="rect" href="svm_8c.html#ad5aa214e23ea9ec9418bebbe889d41ef" title=" " alt="" coords="1031,1004,1165,1031"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="1043,1324,1153,1351"/>
<area shape="rect" href="vmx_2nested_8c.html#ac436bd43f9cd48511bdf54c6e36fd31d" title=" " alt="" coords="1013,5,1183,32"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="1043,56,1153,83"/>
<area shape="rect" href="vmx_8c.html#a8ff77baa2f28fd717210bcac02a13434" title=" " alt="" coords="755,1278,909,1319"/>
<area shape="rect" href="vmx_8c.html#a074416f44b1e2949a96f85e0579c8aeb" title=" " alt="" coords="753,60,911,87"/>
<area shape="rect" href="svm_8c.html#a5d2703bd914c4ae4fcb1eb83c208b085" title=" " alt="" coords="512,212,628,239"/>
<area shape="rect" href="vmx_8c.html#a909291866931c22138fd3ba80f0a7651" title=" " alt="" coords="773,161,891,188"/>
<area shape="rect" href="svm_2nested_8c.html#adc31a13f6b922f4423d486a14f6f0531" title=" " alt="" coords="467,583,673,609"/>
<area shape="rect" href="x86_8c.html#ab82b4dd5c18ce3566c10ea155d280a68" title=" " alt="" coords="757,735,907,761"/>
<area shape="rect" href="x86_8c.html#a75f57f1f4494df7f35fcdf0e0e582a31" title=" " alt="" coords="779,633,885,660"/>
<area shape="rect" href="svm_2nested_8c.html#a2d996c5be366f0a7b21228fd18be85ab" title=" " alt="" coords="751,903,913,929"/>
<area shape="rect" href="vmx_2nested_8c.html#a4632daec5bd26a4c08659779f9d2ca07" title=" " alt="" coords="741,786,923,827"/>
<area shape="rect" href="vmx_2nested_8c.html#a6541b63ab236a1d9732c8ffc3c604ee9" title=" " alt="" coords="750,684,914,711"/>
<area shape="rect" href="svm_2nested_8c.html#a8bac395de612ca2b748016c6f5ea0fef" title=" " alt="" coords="227,583,395,609"/>
<area shape="rect" href="svm_2nested_8c.html#a9b21378a3de8baae9bcb689f00cad48e" title=" " alt="" coords="222,861,401,888"/>
<area shape="rect" href="svm_2nested_8c.html#a4ec7e878f6af209e74dd84285ee0198f" title=" " alt="" coords="5,945,156,972"/>
<area shape="rect" href="svm_2nested_8c.html#a777240cb9ab00451d21a1b204e19c5a6" title=" " alt="" coords="215,1080,407,1107"/>
<area shape="rect" href="svm_2nested_8c.html#a03b4be7ca82710ecd17bc66f2a20cad8" title=" " alt="" coords="204,1131,419,1173"/>
<area shape="rect" href="svm_2nested_8c.html#a574acca11f4be4ea5df18f36307f9bf6" title=" " alt="" coords="209,1197,413,1224"/>
<area shape="rect" href="svm_8h.html#a7b2d87885eea1b11b1bf1045c21c5a8b" title=" " alt="" coords="209,912,414,939"/>
<area shape="rect" href="svm_2hyperv_8c.html#a33efa5fe6a664e9b2a70232b93485645" title=" " alt="" coords="220,963,403,1005"/>
<area shape="rect" href="svm_8h.html#a69e061ab353251d82ff01f587be58c96" title=" " alt="" coords="773,263,891,289"/>
<area shape="rect" href="svm_2nested_8c.html#a232d9e4f1731f0d495e3b4f9d530d0ee" title=" " alt="" coords="755,314,909,355"/>
<area shape="rect" href="svm_2nested_8c.html#adb2a01596415bf77bd9a3f22ff165a14" title=" " alt="" coords="765,481,899,508"/>
<area shape="rect" href="mmu_8c.html#ac7b31af26c029f185ab41ed060228847" title=" " alt="" coords="757,1355,907,1397"/>
<area shape="rect" href="mmu_8c.html#abd9285ed33f21279b97f214287ab49bf" title=" " alt="" coords="471,1277,669,1304"/>
<area shape="rect" href="cpuid_8h.html#aacf5b21a9aa34f7acd0df7fa8093c4a0" title=" " alt="" coords="1011,1426,1185,1467"/>
<area shape="rect" href="svm_8c.html#a204e4c169e1e8029eff521725a526a57" title=" " alt="" coords="756,1446,908,1487"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="1021,1543,1175,1585"/>
</map>
</div>

</div>
</div>
<a id="a898d2d1ac4ac03c41e5bb2ebd1402ac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a898d2d1ac4ac03c41e5bb2ebd1402ac0">&#9670;&nbsp;</a></span>kvm_governed_feature_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline void kvm_governed_feature_set </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x86_feature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00262">262</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;{</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    BUILD_BUG_ON(!<a class="code" href="cpuid_8h.html#a72da5444b01d72d935ebc411b99ba166">kvm_is_governed_feature</a>(x86_feature));</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    __set_bit(<a class="code" href="cpuid_8h.html#a786eea4c1fa59be0155455a72125e0ff">kvm_governed_feature_index</a>(x86_feature),</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;          vcpu-&gt;arch.governed_features.enabled);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a898d2d1ac4ac03c41e5bb2ebd1402ac0_cgraph.png" border="0" usemap="#acpuid_8h_a898d2d1ac4ac03c41e5bb2ebd1402ac0_cgraph" alt=""/></div>
<map name="acpuid_8h_a898d2d1ac4ac03c41e5bb2ebd1402ac0_cgraph" id="acpuid_8h_a898d2d1ac4ac03c41e5bb2ebd1402ac0_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,205,39"/>
<area shape="rect" href="cpuid_8h.html#a786eea4c1fa59be0155455a72125e0ff" title=" " alt="" coords="492,5,665,47"/>
<area shape="rect" href="cpuid_8h.html#a72da5444b01d72d935ebc411b99ba166" title=" " alt="" coords="253,38,444,65"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a898d2d1ac4ac03c41e5bb2ebd1402ac0_icgraph.png" border="0" usemap="#acpuid_8h_a898d2d1ac4ac03c41e5bb2ebd1402ac0_icgraph" alt=""/></div>
<map name="acpuid_8h_a898d2d1ac4ac03c41e5bb2ebd1402ac0_icgraph" id="acpuid_8h_a898d2d1ac4ac03c41e5bb2ebd1402ac0_icgraph">
<area shape="rect" title=" " alt="" coords="1005,71,1205,98"/>
<area shape="rect" href="cpuid_8h.html#aacf5b21a9aa34f7acd0df7fa8093c4a0" title=" " alt="" coords="784,64,957,105"/>
<area shape="rect" href="svm_8c.html#a204e4c169e1e8029eff521725a526a57" title=" " alt="" coords="583,5,735,47"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="794,129,947,171"/>
<area shape="rect" href="vmx_8c.html#a8ff77baa2f28fd717210bcac02a13434" title=" " alt="" coords="583,71,736,112"/>
<area shape="rect" href="cpuid_8c.html#a0ff60eac33c1bf95a3889674e34251ad" title=" " alt="" coords="599,137,719,163"/>
<area shape="rect" href="cpuid_8c.html#a5066ac0b188677d15925709568a91c9d" title=" " alt="" coords="384,96,535,137"/>
<area shape="rect" href="cpuid_8c.html#ad4dde50a2939106abd2baf99683ac139" title=" " alt="" coords="384,161,535,203"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,137,336,163"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,137,129,163"/>
</map>
</div>

</div>
</div>
<a id="a72da5444b01d72d935ebc411b99ba166"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72da5444b01d72d935ebc411b99ba166">&#9670;&nbsp;</a></span>kvm_is_governed_feature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __always_inline bool kvm_is_governed_feature </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x86_feature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00257">257</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;{</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cpuid_8h.html#a786eea4c1fa59be0155455a72125e0ff">kvm_governed_feature_index</a>(x86_feature) &gt;= 0;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a72da5444b01d72d935ebc411b99ba166_cgraph.png" border="0" usemap="#acpuid_8h_a72da5444b01d72d935ebc411b99ba166_cgraph" alt=""/></div>
<map name="acpuid_8h_a72da5444b01d72d935ebc411b99ba166_cgraph" id="acpuid_8h_a72da5444b01d72d935ebc411b99ba166_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,196,39"/>
<area shape="rect" href="cpuid_8h.html#a786eea4c1fa59be0155455a72125e0ff" title=" " alt="" coords="244,5,417,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a72da5444b01d72d935ebc411b99ba166_icgraph.png" border="0" usemap="#acpuid_8h_a72da5444b01d72d935ebc411b99ba166_icgraph" alt=""/></div>
<map name="acpuid_8h_a72da5444b01d72d935ebc411b99ba166_icgraph" id="acpuid_8h_a72da5444b01d72d935ebc411b99ba166_icgraph">
<area shape="rect" title=" " alt="" coords="1501,1054,1692,1081"/>
<area shape="rect" href="cpuid_8h.html#acf67f5848a2ddd59dc852e37bc330390" title=" " alt="" coords="1294,589,1413,615"/>
<area shape="rect" href="cpuid_8h.html#a898d2d1ac4ac03c41e5bb2ebd1402ac0" title=" " alt="" coords="1253,1462,1453,1489"/>
<area shape="rect" href="mmu_8h.html#a4e90e07b62b255d32f17cdb19ba6d1d1" title=" " alt="" coords="1021,5,1175,47"/>
<area shape="rect" href="x86_8c.html#aed9e7eaa275b4dc9692bbbfea052ca53" title=" " alt="" coords="1011,77,1185,119"/>
<area shape="rect" href="x86_8c.html#aff7b722decad07b127dc964cb4ba5ebc" title=" " alt="" coords="1015,143,1181,184"/>
<area shape="rect" href="cpuid_8h.html#a8f4d8ed96a58f11e51539641257987c2" title=" " alt="" coords="1011,899,1185,926"/>
<area shape="rect" href="svm_2nested_8c.html#a73d1cb9b9fcfa112138681d9080a1c05" title=" " alt="" coords="493,1182,647,1209"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="485,761,655,787"/>
<area shape="rect" href="svm_8h.html#ad6d8c993934e650cf5366b9883c3628e" title=" " alt="" coords="1019,259,1177,286"/>
<area shape="rect" href="svm_2nested_8c.html#ab7904bb74631114e0bd5102a52aab4c8" title=" " alt="" coords="479,644,661,685"/>
<area shape="rect" href="svm_2nested_8c.html#ae734b89c5cf3a889380d8136e2ed749e" title=" " alt="" coords="722,1102,942,1129"/>
<area shape="rect" href="svm_2nested_8c.html#a225c391860ae9f13ee16f0292bef1b05" title=" " alt="" coords="1007,665,1189,707"/>
<area shape="rect" href="svm_8h.html#ab452fafde694bb5dfd7c6dfc5707ae12" title=" " alt="" coords="1015,563,1181,590"/>
<area shape="rect" href="mmu_8c.html#a7c03a09eaa19dd03710b5221a58f49db" title=" " alt="" coords="991,513,1205,539"/>
<area shape="rect" href="mmu_8c.html#af9097af8c7f507ad527d445389b1b0b5" title=" " alt="" coords="721,213,943,239"/>
<area shape="rect" href="sev_8c.html#a8d230da93752633a5c5c7e6cf7c54343" title=" " alt="" coords="1013,1305,1183,1347"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="1043,310,1153,337"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="777,1254,887,1281"/>
<area shape="rect" href="svm_8c.html#ad5aa214e23ea9ec9418bebbe889d41ef" title=" " alt="" coords="1031,1203,1165,1230"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="1043,361,1153,387"/>
<area shape="rect" href="vmx_2nested_8c.html#ac436bd43f9cd48511bdf54c6e36fd31d" title=" " alt="" coords="1013,411,1183,438"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="1043,462,1153,489"/>
<area shape="rect" href="vmx_8c.html#a8ff77baa2f28fd717210bcac02a13434" title=" " alt="" coords="755,1371,909,1412"/>
<area shape="rect" href="vmx_8c.html#a074416f44b1e2949a96f85e0579c8aeb" title=" " alt="" coords="753,10,911,37"/>
<area shape="rect" href="svm_8c.html#a5d2703bd914c4ae4fcb1eb83c208b085" title=" " alt="" coords="512,162,628,189"/>
<area shape="rect" href="vmx_8c.html#a909291866931c22138fd3ba80f0a7651" title=" " alt="" coords="773,111,891,138"/>
<area shape="rect" href="svm_2nested_8c.html#adc31a13f6b922f4423d486a14f6f0531" title=" " alt="" coords="467,950,673,977"/>
<area shape="rect" href="x86_8c.html#ab82b4dd5c18ce3566c10ea155d280a68" title=" " alt="" coords="757,849,907,875"/>
<area shape="rect" href="x86_8c.html#a75f57f1f4494df7f35fcdf0e0e582a31" title=" " alt="" coords="779,899,885,926"/>
<area shape="rect" href="svm_2nested_8c.html#a2d996c5be366f0a7b21228fd18be85ab" title=" " alt="" coords="751,1051,913,1078"/>
<area shape="rect" href="vmx_2nested_8c.html#a4632daec5bd26a4c08659779f9d2ca07" title=" " alt="" coords="741,783,923,824"/>
<area shape="rect" href="vmx_2nested_8c.html#a6541b63ab236a1d9732c8ffc3c604ee9" title=" " alt="" coords="750,950,914,977"/>
<area shape="rect" href="svm_2nested_8c.html#a8bac395de612ca2b748016c6f5ea0fef" title=" " alt="" coords="227,950,395,977"/>
<area shape="rect" href="svm_2nested_8c.html#a9b21378a3de8baae9bcb689f00cad48e" title=" " alt="" coords="222,1022,401,1049"/>
<area shape="rect" href="svm_2nested_8c.html#a4ec7e878f6af209e74dd84285ee0198f" title=" " alt="" coords="5,1047,156,1074"/>
<area shape="rect" href="svm_2nested_8c.html#a777240cb9ab00451d21a1b204e19c5a6" title=" " alt="" coords="215,1123,407,1150"/>
<area shape="rect" href="svm_2nested_8c.html#a03b4be7ca82710ecd17bc66f2a20cad8" title=" " alt="" coords="204,1175,419,1216"/>
<area shape="rect" href="svm_2nested_8c.html#a574acca11f4be4ea5df18f36307f9bf6" title=" " alt="" coords="209,1241,413,1267"/>
<area shape="rect" href="svm_8h.html#a7b2d87885eea1b11b1bf1045c21c5a8b" title=" " alt="" coords="209,1291,414,1318"/>
<area shape="rect" href="svm_2hyperv_8c.html#a33efa5fe6a664e9b2a70232b93485645" title=" " alt="" coords="220,1343,403,1384"/>
<area shape="rect" href="svm_8h.html#a69e061ab353251d82ff01f587be58c96" title=" " alt="" coords="773,263,891,290"/>
<area shape="rect" href="svm_2nested_8c.html#a232d9e4f1731f0d495e3b4f9d530d0ee" title=" " alt="" coords="755,315,909,356"/>
<area shape="rect" href="svm_2nested_8c.html#adb2a01596415bf77bd9a3f22ff165a14" title=" " alt="" coords="765,630,899,657"/>
<area shape="rect" href="mmu_8c.html#ac7b31af26c029f185ab41ed060228847" title=" " alt="" coords="757,420,907,461"/>
<area shape="rect" href="mmu_8c.html#abd9285ed33f21279b97f214287ab49bf" title=" " alt="" coords="471,319,669,346"/>
<area shape="rect" href="sev_8c.html#a00c492279a529b66b80ed039ae6de23b" title=" " alt="" coords="759,1305,905,1347"/>
<area shape="rect" href="svm_8c.html#a204e4c169e1e8029eff521725a526a57" title=" " alt="" coords="494,1429,646,1471"/>
<area shape="rect" href="cpuid_8h.html#aacf5b21a9aa34f7acd0df7fa8093c4a0" title=" " alt="" coords="1011,1423,1185,1464"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="1021,1488,1175,1529"/>
</map>
</div>

</div>
</div>
<a id="ac4b31e077b5a352bd48a541ad53e3162"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4b31e077b5a352bd48a541ad53e3162">&#9670;&nbsp;</a></span>kvm_set_cpu_caps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_set_cpu_caps </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8c_source.html#l00585">585</a> of file <a class="el" href="cpuid_8c_source.html">cpuid.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;{</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="preprocessor">#ifdef CONFIG_X86_64</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> f_gbpages = <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(GBPAGES);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> f_lm = <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(LM);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> f_xfd = <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XFD);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> f_gbpages = 0;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> f_lm = 0;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> f_xfd = 0;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    memset(kvm_cpu_caps, 0, <span class="keyword">sizeof</span>(kvm_cpu_caps));</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    BUILD_BUG_ON(<span class="keyword">sizeof</span>(kvm_cpu_caps) - (<a class="code" href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19aa06f8ebfff07ea82a59288cc5b12abb5">NKVMCAPINTS</a> * <span class="keyword">sizeof</span>(*kvm_cpu_caps)) &gt;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;             <span class="keyword">sizeof</span>(boot_cpu_data.x86_capability));</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    memcpy(&amp;kvm_cpu_caps, &amp;boot_cpu_data.x86_capability,</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;           <span class="keyword">sizeof</span>(kvm_cpu_caps) - (<a class="code" href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19aa06f8ebfff07ea82a59288cc5b12abb5">NKVMCAPINTS</a> * <span class="keyword">sizeof</span>(*kvm_cpu_caps)));</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a>(CPUID_1_ECX,</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">         * NOTE: MONITOR (and MWAIT) are emulated as NOP, but *not*</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">         * advertised to guests via CPUID!</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XMM3) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PCLMULQDQ) | 0 <span class="comment">/* DTES64, MONITOR */</span> |</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        0 <span class="comment">/* DS-CPL, VMX, SMX, EST */</span> |</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        0 <span class="comment">/* TM2 */</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SSSE3) | 0 <span class="comment">/* CNXT-ID */</span> | 0 <span class="comment">/* Reserved */</span> |</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(FMA) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(CX16) | 0 <span class="comment">/* xTPR Update */</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PDCM) |</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PCID) | 0 <span class="comment">/* Reserved, DCA */</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XMM4_1) |</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XMM4_2) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(X2APIC) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MOVBE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(POPCNT) |</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        0 <span class="comment">/* Reserved*/</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AES) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XSAVE) | 0 <span class="comment">/* OSXSAVE */</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX) |</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(F16C) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(RDRAND)</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    );</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="comment">/* KVM emulates x2apic in software irrespective of host support. */</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_X2APIC);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a>(CPUID_1_EDX,</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(FPU) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(VME) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(DE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PSE) |</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(TSC) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MSR) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PAE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MCE) |</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(CX8) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(APIC) | 0 <span class="comment">/* Reserved */</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SEP) |</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MTRR) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PGE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MCA) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(CMOV) |</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PAT) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PSE36) | 0 <span class="comment">/* PSN */</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(CLFLUSH) |</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        0 <span class="comment">/* Reserved, DS, ACPI */</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MMX) |</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(FXSR) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XMM) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XMM2) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SELFSNOOP) |</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        0 <span class="comment">/* HTT, TM, Reserved, PBE */</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    );</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a>(CPUID_7_0_EBX,</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(FSGSBASE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SGX) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(BMI1) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(HLE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX2) |</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(FDP_EXCPTN_ONLY) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SMEP) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(BMI2) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(ERMS) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(INVPCID) |</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(RTM) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(ZERO_FCS_FDS) | 0 <span class="comment">/*MPX*/</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512F) |</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512DQ) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(RDSEED) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(ADX) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SMAP) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512IFMA) |</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(CLFLUSHOPT) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(CLWB) | 0 <span class="comment">/*INTEL_PT*/</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512PF) |</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512ER) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512CD) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SHA_NI) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512BW) |</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512VL));</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a>(CPUID_7_ECX,</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512VBMI) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(LA57) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PKU) | 0 <span class="comment">/*OSPKE*/</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(RDPID) |</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512_VPOPCNTDQ) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(UMIP) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512_VBMI2) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(GFNI) |</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(VAES) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(VPCLMULQDQ) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512_VNNI) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512_BITALG) |</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(CLDEMOTE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MOVDIRI) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MOVDIR64B) | 0 <span class="comment">/*WAITPKG*/</span> |</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SGX_LC) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(BUS_LOCK_DETECT)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    );</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">/* Set LA57 based on hardware capability. */</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">if</span> (cpuid_ecx(7) &amp; <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(LA57))</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_LA57);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment">     * PKU not yet implemented for shadow paging and requires OSPKE</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">     * to be set on the host. Clear it if that is not the case</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mmu_8c.html#ab96cbfdb088c3659bfd6117823de8e30">tdp_enabled</a> || !boot_cpu_has(X86_FEATURE_OSPKE))</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <a class="code" href="cpuid_8h.html#abdc65f0e23a3e84daece0c718bac6198">kvm_cpu_cap_clear</a>(X86_FEATURE_PKU);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a>(CPUID_7_EDX,</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512_4VNNIW) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512_4FMAPS) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SPEC_CTRL) |</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SPEC_CTRL_SSBD) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(ARCH_CAPABILITIES) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(INTEL_STIBP) |</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MD_CLEAR) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512_VP2INTERSECT) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(FSRM) |</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SERIALIZE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(TSXLDTRK) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512_FP16) |</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AMX_TILE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AMX_INT8) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AMX_BF16) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(FLUSH_L1D)</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    );</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="comment">/* TSC_ADJUST and ARCH_CAPABILITIES are emulated in software. */</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_TSC_ADJUST);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_ARCH_CAPABILITIES);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">if</span> (boot_cpu_has(X86_FEATURE_IBPB) &amp;&amp; boot_cpu_has(X86_FEATURE_IBRS))</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_SPEC_CTRL);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">if</span> (boot_cpu_has(X86_FEATURE_STIBP))</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_INTEL_STIBP);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">if</span> (boot_cpu_has(X86_FEATURE_AMD_SSBD))</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_SPEC_CTRL_SSBD);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a>(CPUID_7_1_EAX,</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX_VNNI) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX512_BF16) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(CMPCCXADD) |</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(FZRM) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(FSRS) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(FSRC) |</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AMX_FP16) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX_IFMA) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(LAM)</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    );</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <a class="code" href="cpuid_8c.html#a080099f5d91326fd1c8c10429df2d042">kvm_cpu_cap_init_kvm_defined</a>(<a class="code" href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19a085e27ce32fc47622c4949f04d40e78f">CPUID_7_1_EDX</a>,</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX_VNNI_INT8) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AVX_NE_CONVERT) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PREFETCHITI) |</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AMX_COMPLEX)</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    );</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <a class="code" href="cpuid_8c.html#a080099f5d91326fd1c8c10429df2d042">kvm_cpu_cap_init_kvm_defined</a>(<a class="code" href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19a0ec53c71d8d1cd446493085c596e5ab3">CPUID_7_2_EDX</a>,</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(INTEL_PSFD) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(IPRED_CTRL) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(RRSBA_CTRL) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(DDPD_U) |</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(BHI_CTRL) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MCDT_NO)</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    );</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <a class="code" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a>(CPUID_D_1_EAX,</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XSAVEOPT) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XSAVEC) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XGETBV1) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XSAVES) | f_xfd</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    );</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <a class="code" href="cpuid_8c.html#a080099f5d91326fd1c8c10429df2d042">kvm_cpu_cap_init_kvm_defined</a>(<a class="code" href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19a776cec6b7fe0f8a28d7c6077a06069b8">CPUID_12_EAX</a>,</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <a class="code" href="cpuid_8c.html#a153ac3e954288b474182e1fb0c0f2a03">SF</a>(SGX1) | <a class="code" href="cpuid_8c.html#a153ac3e954288b474182e1fb0c0f2a03">SF</a>(SGX2) | <a class="code" href="cpuid_8c.html#a153ac3e954288b474182e1fb0c0f2a03">SF</a>(SGX_EDECCSSA)</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    );</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <a class="code" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a>(CPUID_8000_0001_ECX,</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(LAHF_LM) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(CMP_LEGACY) | 0 <span class="comment">/*SVM*/</span> | 0 <span class="comment">/* ExtApicSpace */</span> |</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(CR8_LEGACY) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(ABM) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SSE4A) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MISALIGNSSE) |</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(3DNOWPREFETCH) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(OSVW) | 0 <span class="comment">/* IBS */</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XOP) |</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        0 <span class="comment">/* SKINIT, WDT, LWP */</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(FMA4) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(TBM) |</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(TOPOEXT) | 0 <span class="comment">/* PERFCTR_CORE */</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    );</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a>(CPUID_8000_0001_EDX,</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(FPU) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(VME) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(DE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PSE) |</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(TSC) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MSR) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PAE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MCE) |</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(CX8) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(APIC) | 0 <span class="comment">/* Reserved */</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SYSCALL) |</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MTRR) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PGE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MCA) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(CMOV) |</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PAT) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PSE36) | 0 <span class="comment">/* Reserved */</span> |</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(NX) | 0 <span class="comment">/* Reserved */</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MMXEXT) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(MMX) |</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(FXSR) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(FXSR_OPT) | f_gbpages | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(RDTSCP) |</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        0 <span class="comment">/* Reserved */</span> | f_lm | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(3DNOWEXT) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(3DNOW)</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    );</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mmu_8c.html#ab96cbfdb088c3659bfd6117823de8e30">tdp_enabled</a> &amp;&amp; IS_ENABLED(CONFIG_X86_64))</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_GBPAGES);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <a class="code" href="cpuid_8c.html#a080099f5d91326fd1c8c10429df2d042">kvm_cpu_cap_init_kvm_defined</a>(<a class="code" href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19aa1a99a294e8e48b11776432dd58965f1">CPUID_8000_0007_EDX</a>,</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <a class="code" href="cpuid_8c.html#a153ac3e954288b474182e1fb0c0f2a03">SF</a>(CONSTANT_TSC)</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    );</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <a class="code" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a>(CPUID_8000_0008_EBX,</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(CLZERO) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XSAVEERPTR) |</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(WBNOINVD) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AMD_IBPB) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AMD_IBRS) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AMD_SSBD) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(VIRT_SSBD) |</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AMD_SSB_NO) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AMD_STIBP) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AMD_STIBP_ALWAYS_ON) |</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AMD_PSFD)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    );</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">     * AMD has separate bits for each SPEC_CTRL bit.</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">     * arch/x86/kernel/cpu/bugs.c is kind enough to</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">     * record that in cpufeatures so use them.</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">if</span> (boot_cpu_has(X86_FEATURE_IBPB))</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_AMD_IBPB);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">if</span> (boot_cpu_has(X86_FEATURE_IBRS))</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_AMD_IBRS);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">if</span> (boot_cpu_has(X86_FEATURE_STIBP))</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_AMD_STIBP);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">if</span> (boot_cpu_has(X86_FEATURE_SPEC_CTRL_SSBD))</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_AMD_SSBD);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">if</span> (!boot_cpu_has_bug(X86_BUG_SPEC_STORE_BYPASS))</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_AMD_SSB_NO);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">     * The preference is to use SPEC CTRL MSR instead of the</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">     * VIRT_SPEC MSR.</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span> (boot_cpu_has(X86_FEATURE_LS_CFG_SSBD) &amp;&amp;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        !boot_cpu_has(X86_FEATURE_AMD_SSBD))</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_VIRT_SSBD);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">     * Hide all SVM features by default, SVM will set the cap bits for</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">     * features it emulates and/or exposes for L1.</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <a class="code" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a>(CPUID_8000_000A_EDX, 0);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <a class="code" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a>(CPUID_8000_001F_EAX,</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        0 <span class="comment">/* SME */</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SEV) | 0 <span class="comment">/* VM_PAGE_FLUSH */</span> | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SEV_ES) |</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(SME_COHERENT));</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <a class="code" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a>(CPUID_8000_0021_EAX,</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(NO_NESTED_DATA_BP) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(LFENCE_RDTSC) | 0 <span class="comment">/* SmmPgCfgLock */</span> |</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(NULL_SEL_CLR_BASE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(AUTOIBRS) | 0 <span class="comment">/* PrefetchCtlMsr */</span> |</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(WRMSR_XX_BASE_NS)</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    );</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <a class="code" href="cpuid_8h.html#a267779506f2b7e74c16d026c5e5648f8">kvm_cpu_cap_check_and_set</a>(X86_FEATURE_SBPB);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <a class="code" href="cpuid_8h.html#a267779506f2b7e74c16d026c5e5648f8">kvm_cpu_cap_check_and_set</a>(X86_FEATURE_IBPB_BRTYPE);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <a class="code" href="cpuid_8h.html#a267779506f2b7e74c16d026c5e5648f8">kvm_cpu_cap_check_and_set</a>(X86_FEATURE_SRSO_NO);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <a class="code" href="cpuid_8c.html#a080099f5d91326fd1c8c10429df2d042">kvm_cpu_cap_init_kvm_defined</a>(<a class="code" href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19a44639d9f82ec04b6276403d72b2ac0d9">CPUID_8000_0022_EAX</a>,</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PERFMON_V2)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    );</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">     * Synthesize &quot;LFENCE is serializing&quot; into the AMD-defined entry in</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">     * KVM&#39;s supported CPUID if the feature is reported as supported by the</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">     * kernel.  LFENCE_RDTSC was a Linux-defined synthetic feature long</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment">     * before AMD joined the bandwagon, e.g. LFENCE is serializing on most</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">     * CPUs that support SSE2.  On CPUs that don&#39;t support AMD&#39;s leaf,</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">     * kvm_cpu_cap_mask() will unfortunately drop the flag due to ANDing</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">     * the mask with the raw host CPUID, and reporting support in AMD&#39;s</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">     * leaf can make it easier for userspace to detect the feature.</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">if</span> (cpu_feature_enabled(X86_FEATURE_LFENCE_RDTSC))</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_LFENCE_RDTSC);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">if</span> (!static_cpu_has_bug(X86_BUG_NULL_SEG))</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_NULL_SEL_CLR_BASE);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <a class="code" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201">kvm_cpu_cap_set</a>(X86_FEATURE_NO_SMM_CTL_MSR);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <a class="code" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a>(CPUID_C000_0001_EDX,</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XSTORE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XSTORE_EN) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XCRYPT) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(XCRYPT_EN) |</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(ACE2) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(ACE2_EN) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PHE) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PHE_EN) |</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PMM) | <a class="code" href="cpuid_8c.html#a42257a545daf5b7933d6e8f96adc74f2">F</a>(PMM_EN)</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    );</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">     * Hide RDTSCP and RDPID if either feature is reported as supported but</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">     * probing MSR_TSC_AUX failed.  This is purely a sanity check and</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">     * should never happen, but the guest will likely crash if RDTSCP or</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">     * RDPID is misreported, and KVM has botched MSR_TSC_AUX emulation in</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">     * the past.  For example, the sanity check may fire if this instance of</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">     * KVM is running as L1 on top of an older, broken KVM.</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">if</span> (WARN_ON((<a class="code" href="cpuid_8h.html#a4a2881bd1ba1c3c4b2fb5f3b13ac12de">kvm_cpu_cap_has</a>(X86_FEATURE_RDTSCP) ||</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;             <a class="code" href="cpuid_8h.html#a4a2881bd1ba1c3c4b2fb5f3b13ac12de">kvm_cpu_cap_has</a>(X86_FEATURE_RDPID)) &amp;&amp;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;             !kvm_is_supported_user_return_msr(MSR_TSC_AUX))) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <a class="code" href="cpuid_8h.html#abdc65f0e23a3e84daece0c718bac6198">kvm_cpu_cap_clear</a>(X86_FEATURE_RDTSCP);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <a class="code" href="cpuid_8h.html#abdc65f0e23a3e84daece0c718bac6198">kvm_cpu_cap_clear</a>(X86_FEATURE_RDPID);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;}</div>
<div class="ttc" id="acpuid_8c_html_a080099f5d91326fd1c8c10429df2d042"><div class="ttname"><a href="cpuid_8c.html#a080099f5d91326fd1c8c10429df2d042">kvm_cpu_cap_init_kvm_defined</a></div><div class="ttdeci">static __always_inline void kvm_cpu_cap_init_kvm_defined(enum kvm_only_cpuid_leafs leaf, u32 mask)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l00565">cpuid.c:565</a></div></div>
<div class="ttc" id="acpuid_8c_html_a230e01b33626a01b4d37e8441e995938"><div class="ttname"><a href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938">kvm_cpu_cap_mask</a></div><div class="ttdeci">static __always_inline void kvm_cpu_cap_mask(enum cpuid_leafs leaf, u32 mask)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l00575">cpuid.c:575</a></div></div>
<div class="ttc" id="acpuid_8h_html_a267779506f2b7e74c16d026c5e5648f8"><div class="ttname"><a href="cpuid_8h.html#a267779506f2b7e74c16d026c5e5648f8">kvm_cpu_cap_check_and_set</a></div><div class="ttdeci">static __always_inline void kvm_cpu_cap_check_and_set(unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00226">cpuid.h:226</a></div></div>
<div class="ttc" id="acpuid_8h_html_abdc65f0e23a3e84daece0c718bac6198"><div class="ttname"><a href="cpuid_8h.html#abdc65f0e23a3e84daece0c718bac6198">kvm_cpu_cap_clear</a></div><div class="ttdeci">static __always_inline void kvm_cpu_cap_clear(unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00197">cpuid.h:197</a></div></div>
<div class="ttc" id="ammu_8c_html_ab96cbfdb088c3659bfd6117823de8e30"><div class="ttname"><a href="mmu_8c.html#ab96cbfdb088c3659bfd6117823de8e30">tdp_enabled</a></div><div class="ttdeci">bool tdp_enabled</div><div class="ttdef"><b>Definition:</b> <a href="mmu_8c_source.html#l00106">mmu.c:106</a></div></div>
<div class="ttc" id="areverse__cpuid_8h_html_a33165a02505466212d27a517cc779d19a085e27ce32fc47622c4949f04d40e78f"><div class="ttname"><a href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19a085e27ce32fc47622c4949f04d40e78f">CPUID_7_1_EDX</a></div><div class="ttdeci">@ CPUID_7_1_EDX</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00016">reverse_cpuid.h:16</a></div></div>
<div class="ttc" id="areverse__cpuid_8h_html_a33165a02505466212d27a517cc779d19a0ec53c71d8d1cd446493085c596e5ab3"><div class="ttname"><a href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19a0ec53c71d8d1cd446493085c596e5ab3">CPUID_7_2_EDX</a></div><div class="ttdeci">@ CPUID_7_2_EDX</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00019">reverse_cpuid.h:19</a></div></div>
<div class="ttc" id="areverse__cpuid_8h_html_a33165a02505466212d27a517cc779d19a44639d9f82ec04b6276403d72b2ac0d9"><div class="ttname"><a href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19a44639d9f82ec04b6276403d72b2ac0d9">CPUID_8000_0022_EAX</a></div><div class="ttdeci">@ CPUID_8000_0022_EAX</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00018">reverse_cpuid.h:18</a></div></div>
<div class="ttc" id="areverse__cpuid_8h_html_a33165a02505466212d27a517cc779d19a776cec6b7fe0f8a28d7c6077a06069b8"><div class="ttname"><a href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19a776cec6b7fe0f8a28d7c6077a06069b8">CPUID_12_EAX</a></div><div class="ttdeci">@ CPUID_12_EAX</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00015">reverse_cpuid.h:15</a></div></div>
<div class="ttc" id="areverse__cpuid_8h_html_a33165a02505466212d27a517cc779d19aa06f8ebfff07ea82a59288cc5b12abb5"><div class="ttname"><a href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19aa06f8ebfff07ea82a59288cc5b12abb5">NKVMCAPINTS</a></div><div class="ttdeci">@ NKVMCAPINTS</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00022">reverse_cpuid.h:22</a></div></div>
<div class="ttc" id="areverse__cpuid_8h_html_a33165a02505466212d27a517cc779d19aa1a99a294e8e48b11776432dd58965f1"><div class="ttname"><a href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19aa1a99a294e8e48b11776432dd58965f1">CPUID_8000_0007_EDX</a></div><div class="ttdeci">@ CPUID_8000_0007_EDX</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00017">reverse_cpuid.h:17</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_ac4b31e077b5a352bd48a541ad53e3162_cgraph.png" border="0" usemap="#acpuid_8h_ac4b31e077b5a352bd48a541ad53e3162_cgraph" alt=""/></div>
<map name="acpuid_8h_ac4b31e077b5a352bd48a541ad53e3162_cgraph" id="acpuid_8h_ac4b31e077b5a352bd48a541ad53e3162_cgraph">
<area shape="rect" title=" " alt="" coords="5,202,151,228"/>
<area shape="rect" href="cpuid_8h.html#a267779506f2b7e74c16d026c5e5648f8" title=" " alt="" coords="199,126,413,152"/>
<area shape="rect" href="cpuid_8h.html#aee66583565e70e231c1319604da3a201" title=" " alt="" coords="476,75,615,102"/>
<area shape="rect" href="cpuid_8h.html#abdc65f0e23a3e84daece0c718bac6198" title=" " alt="" coords="470,151,621,178"/>
<area shape="rect" href="cpuid_8h.html#a4a2881bd1ba1c3c4b2fb5f3b13ac12de" title=" " alt="" coords="235,227,377,254"/>
<area shape="rect" href="cpuid_8c.html#a080099f5d91326fd1c8c10429df2d042" title=" " alt="" coords="219,278,393,320"/>
<area shape="rect" href="cpuid_8c.html#a230e01b33626a01b4d37e8441e995938" title=" " alt="" coords="229,344,383,371"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="708,126,815,152"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="893,227,1052,254"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="915,75,1030,102"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="1100,100,1248,127"/>
<area shape="rect" href="cpuid_8h.html#a865db4a5b4bd205aeed6d939d971a768" title=" " alt="" coords="476,227,615,254"/>
<area shape="rect" href="cpuid_8c.html#ac97e11439f61d1a659b33cba3dc32abf" title=" " alt="" coords="461,344,629,371"/>
<area shape="rect" href="reverse__cpuid_8h.html#adf3299d46978c685ba9b46ebb1536680" title=" " alt="" coords="677,430,845,456"/>
<area shape="rect" href="reverse__cpuid_8h.html#a3f7e53c68e5610be44d760fd4854f892" title=" " alt="" coords="690,278,833,304"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_ac4b31e077b5a352bd48a541ad53e3162_icgraph.png" border="0" usemap="#acpuid_8h_ac4b31e077b5a352bd48a541ad53e3162_icgraph" alt=""/></div>
<map name="acpuid_8h_ac4b31e077b5a352bd48a541ad53e3162_icgraph" id="acpuid_8h_ac4b31e077b5a352bd48a541ad53e3162_icgraph">
<area shape="rect" title=" " alt="" coords="408,31,553,57"/>
<area shape="rect" href="svm_8c.html#ab2ed2d9e233f1c6a1a3c806826d63401" title=" " alt="" coords="215,5,359,32"/>
<area shape="rect" href="vmx_8c.html#ad6f2c2fa1ea6270fe1b55ad7e770db38" title=" " alt="" coords="215,56,360,83"/>
<area shape="rect" href="svm_8c.html#aa4cdf4791105d54ebcadfeafdcdf01ac" title=" " alt="" coords="5,5,167,32"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="23,56,149,83"/>
</map>
</div>

</div>
</div>
<a id="a537512099e11c7ab0553aeae5e38d9ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a537512099e11c7ab0553aeae5e38d9ea">&#9670;&nbsp;</a></span>kvm_update_cpuid_runtime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_update_cpuid_runtime </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8c_source.html#l00309">309</a> of file <a class="el" href="cpuid_8c_source.html">cpuid.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;{</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="cpuid_8c.html#aba2a2f99dbe3b8848b6ffc19effa6294">__kvm_update_cpuid_runtime</a>(vcpu, vcpu-&gt;arch.cpuid_entries, vcpu-&gt;arch.cpuid_nent);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div>
<div class="ttc" id="acpuid_8c_html_aba2a2f99dbe3b8848b6ffc19effa6294"><div class="ttname"><a href="cpuid_8c.html#aba2a2f99dbe3b8848b6ffc19effa6294">__kvm_update_cpuid_runtime</a></div><div class="ttdeci">static void __kvm_update_cpuid_runtime(struct kvm_vcpu *vcpu, struct kvm_cpuid_entry2 *entries, int nent)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l00265">cpuid.c:265</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a537512099e11c7ab0553aeae5e38d9ea_cgraph.png" border="0" usemap="#acpuid_8h_a537512099e11c7ab0553aeae5e38d9ea_cgraph" alt=""/></div>
<map name="acpuid_8h_a537512099e11c7ab0553aeae5e38d9ea_cgraph" id="acpuid_8h_a537512099e11c7ab0553aeae5e38d9ea_cgraph">
<area shape="rect" title=" " alt="" coords="5,185,208,212"/>
<area shape="rect" href="cpuid_8c.html#aba2a2f99dbe3b8848b6ffc19effa6294" title=" " alt="" coords="256,178,415,219"/>
<area shape="rect" href="cpuid_8c.html#a57e37154fafc08d4400cac72d0a0b91d" title=" " alt="" coords="463,43,637,85"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="693,21,830,48"/>
<area shape="rect" href="reverse__cpuid_8h.html#a9ca8b41f0d18f3dac63b62e545077db4" title=" " alt="" coords="685,160,837,187"/>
<area shape="rect" href="reverse__cpuid_8h.html#a748960fccca789bf432536205fdf9826" title=" " alt="" coords="486,109,614,136"/>
<area shape="rect" href="x86_8h.html#adf8330176a8805826ed4711a51ce93cf" title=" " alt="" coords="467,211,633,237"/>
<area shape="rect" href="x86_8h.html#ace4ed625ac4852e54db110fde28d3231" title=" " alt="" coords="481,261,619,288"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a2b779657b20f7afa44c0172b1478ac65" title=" " alt="" coords="477,312,623,339"/>
<area shape="rect" href="cpuid_8c.html#aad06d21707fd0abb109028612ea7514c" title=" " alt="" coords="471,363,629,389"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="1157,160,1264,187"/>
<area shape="rect" href="reverse__cpuid_8h.html#a08df87ae84991c96655f367379fad9b1" title=" " alt="" coords="905,84,1059,111"/>
<area shape="rect" href="reverse__cpuid_8h.html#a76ac51b62ef170b755204cb8b958e585" title=" " alt="" coords="1549,109,1697,136"/>
<area shape="rect" href="reverse__cpuid_8h.html#ae10c1644e90cb8443e5a32554acfd700" title=" " alt="" coords="1343,109,1501,136"/>
<area shape="rect" href="reverse__cpuid_8h.html#adf3299d46978c685ba9b46ebb1536680" title=" " alt="" coords="1127,109,1295,136"/>
<area shape="rect" href="reverse__cpuid_8h.html#a3f7e53c68e5610be44d760fd4854f892" title=" " alt="" coords="1139,59,1282,85"/>
<area shape="rect" href="reverse__cpuid_8h.html#a8f6dc89865c6af98e621e1ddcf401cae" title=" " alt="" coords="1365,59,1479,85"/>
<area shape="rect" href="reverse__cpuid_8h.html#a5c0c9322094b13d5fff76b5ab593339a" title=" " alt="" coords="698,109,825,136"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a24ffc81fe5ed7998e29134351275b4dd" title=" " alt="" coords="689,312,834,339"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a6b9ea8c019490183db2a81569aad2bf9" title=" " alt="" coords="885,312,1079,339"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a537512099e11c7ab0553aeae5e38d9ea_icgraph.png" border="0" usemap="#acpuid_8h_a537512099e11c7ab0553aeae5e38d9ea_icgraph" alt=""/></div>
<map name="acpuid_8h_a537512099e11c7ab0553aeae5e38d9ea_icgraph" id="acpuid_8h_a537512099e11c7ab0553aeae5e38d9ea_icgraph">
<area shape="rect" title=" " alt="" coords="1844,483,2047,509"/>
<area shape="rect" href="x86_8c.html#a8543429a9ca5c6d3d88560ccd84bbccd" title=" " alt="" coords="1423,123,1542,149"/>
<area shape="rect" href="smm_8c.html#ae1445727a8459a6cc7d2e49e5a63c0d5" title=" " alt="" coords="1658,483,1754,509"/>
<area shape="rect" href="lapic_8c.html#a8d747385873e52f47e85179c21521e73" title=" " alt="" coords="1629,265,1783,292"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="1152,392,1327,419"/>
<area shape="rect" href="sev_8c.html#aeb0279b2cc9c76c69ffcca8eb578b33f" title=" " alt="" coords="1616,537,1796,564"/>
<area shape="rect" href="svm_8c.html#aec23ca96447aab4ff19f594a297bc109" title=" " alt="" coords="1654,661,1758,688"/>
<area shape="rect" href="vmx_8c.html#adda41e5ad7d9839a1fd3e01efc608c37" title=" " alt="" coords="1653,864,1759,891"/>
<area shape="rect" href="x86_8c.html#aa5087b536be3ec29dc352f8062f744f5" title=" " alt="" coords="1172,123,1307,149"/>
<area shape="rect" href="x86_8c.html#ab9b558d7e5dcf9150cf853e009cce971" title=" " alt="" coords="1158,5,1321,32"/>
<area shape="rect" href="x86_8c.html#a388b875e496f0b87b5c551430b8cf436" title=" " alt="" coords="1162,57,1317,98"/>
<area shape="rect" href="x86_8c.html#a2694456104c02a7204796d89d13a1e91" title=" " alt="" coords="1175,240,1304,267"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="895,88,1053,115"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,181,129,208"/>
<area shape="rect" href="lapic_8c.html#a27836a2bcd51ebcfe2ca478e9ad7aa04" title=" " alt="" coords="881,240,1067,267"/>
<area shape="rect" href="x86_8c.html#ae2ebf37d8daf1a8b43a9823bae4ab32b" title=" " alt="" coords="888,139,1060,165"/>
<area shape="rect" href="svm_8c.html#a2ca2b108d5447ed4093cb0b07092b07d" title=" " alt="" coords="889,189,1059,216"/>
<area shape="rect" href="x86_8c.html#a5eac8002ee5a0c08de662d89be4d6a11" title=" " alt="" coords="412,174,571,215"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="177,240,364,267"/>
<area shape="rect" href="x86_8c.html#a11b79dde650fe425e9b649e1463869be" title=" " alt="" coords="671,291,766,317"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="650,341,787,368"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="451,291,532,317"/>
<area shape="rect" href="kvm__main_8c.html#ab8870469dadfadf9a204346c62016293" title=" " alt="" coords="619,139,819,165"/>
<area shape="rect" href="x86_8c.html#a2b372d06c72b7d8c25e9004bb3a3fd3b" title=" " alt="" coords="1397,475,1568,517"/>
<area shape="rect" href="lapic_8c.html#a4768d4990380510ec220c3e510d32598" title=" " alt="" coords="1407,185,1559,212"/>
<area shape="rect" href="lapic_8c.html#a8b8a5d87df5283a20e9aa9b828320552" title=" " alt="" coords="1418,240,1547,267"/>
<area shape="rect" href="lapic_8h.html#a9d9f2a266299bc56c932735db94816d5" title=" " alt="" coords="1407,291,1558,317"/>
<area shape="rect" href="x86_8c.html#a4426192bd0d8288db892f9fcbf4577b9" title=" " alt="" coords="1164,174,1315,215"/>
<area shape="rect" href="x86_8c.html#ad6dd5b8847ecb92fe36f8dabdac40b08" title=" " alt="" coords="1158,291,1321,317"/>
<area shape="rect" href="x86_8c.html#ac766943d4a9d3c7a489012c02e25be54" title=" " alt="" coords="925,291,1023,317"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="933,443,1015,469"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="919,341,1029,368"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="919,392,1029,419"/>
<area shape="rect" href="sev_8c.html#aac550422551b71c0afe8efe176e0b55d" title=" " alt="" coords="1404,541,1561,568"/>
<area shape="rect" href="svm_8c.html#af4590239d3e0b5fbad189a245207dfaa" title=" " alt="" coords="1206,763,1273,789"/>
<area shape="rect" href="svm_2nested_8c.html#a73d1cb9b9fcfa112138681d9080a1c05" title=" " alt="" coords="1162,661,1317,688"/>
<area shape="rect" href="svm_2nested_8c.html#ae734b89c5cf3a889380d8136e2ed749e" title=" " alt="" coords="1129,712,1349,739"/>
<area shape="rect" href="svm_8c.html#a1a9474f1273be079ac4f3c1320093c3d" title=" " alt="" coords="1431,712,1535,739"/>
<area shape="rect" href="svm_2nested_8c.html#a777240cb9ab00451d21a1b204e19c5a6" title=" " alt="" coords="878,779,1070,805"/>
<area shape="rect" href="svm_2nested_8c.html#a03b4be7ca82710ecd17bc66f2a20cad8" title=" " alt="" coords="867,545,1081,586"/>
<area shape="rect" href="svm_2nested_8c.html#a574acca11f4be4ea5df18f36307f9bf6" title=" " alt="" coords="872,611,1076,637"/>
<area shape="rect" href="svm_8h.html#a7b2d87885eea1b11b1bf1045c21c5a8b" title=" " alt="" coords="871,661,1077,688"/>
<area shape="rect" href="svm_2nested_8c.html#a4ec7e878f6af209e74dd84285ee0198f" title=" " alt="" coords="643,855,794,881"/>
<area shape="rect" href="svm_2hyperv_8c.html#a33efa5fe6a664e9b2a70232b93485645" title=" " alt="" coords="883,713,1065,754"/>
<area shape="rect" href="svm_2nested_8c.html#a9b21378a3de8baae9bcb689f00cad48e" title=" " alt="" coords="885,880,1063,907"/>
<area shape="rect" href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0" title=" " alt="" coords="1148,948,1331,975"/>
<area shape="rect" href="vmx_2nested_8c.html#a001f930db9a867e828cf01b48d3e4e25" title=" " alt="" coords="1162,831,1317,873"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="1174,897,1305,924"/>
<area shape="rect" href="vmx_8c.html#acf9f5acdb0b2a5b2778c853846cfa09f" title=" " alt="" coords="1430,915,1535,941"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="897,939,1051,965"/>
</map>
</div>

</div>
</div>
<a id="a30771fd4ef9230ee864f4d7ac9cf0514"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30771fd4ef9230ee864f4d7ac9cf0514">&#9670;&nbsp;</a></span>kvm_update_pv_runtime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_update_pv_runtime </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8c_source.html#l00238">238</a> of file <a class="el" href="cpuid_8c_source.html">cpuid.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">struct </span>kvm_cpuid_entry2 *best = <a class="code" href="cpuid_8c.html#a6d8deb4e45da8c580e5830057541fd8b">kvm_find_kvm_cpuid_features</a>(vcpu);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">     * save the feature bitmap to avoid cpuid lookup for every PV</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">     * operation</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span> (best)</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        vcpu-&gt;arch.pv_cpuid.features = best-&gt;eax;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="ttc" id="acpuid_8c_html_a6d8deb4e45da8c580e5830057541fd8b"><div class="ttname"><a href="cpuid_8c.html#a6d8deb4e45da8c580e5830057541fd8b">kvm_find_kvm_cpuid_features</a></div><div class="ttdeci">static struct kvm_cpuid_entry2 * kvm_find_kvm_cpuid_features(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l00232">cpuid.c:232</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a30771fd4ef9230ee864f4d7ac9cf0514_cgraph.png" border="0" usemap="#acpuid_8h_a30771fd4ef9230ee864f4d7ac9cf0514_cgraph" alt=""/></div>
<map name="acpuid_8h_a30771fd4ef9230ee864f4d7ac9cf0514_cgraph" id="acpuid_8h_a30771fd4ef9230ee864f4d7ac9cf0514_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,189,39"/>
<area shape="rect" href="cpuid_8c.html#a6d8deb4e45da8c580e5830057541fd8b" title=" " alt="" coords="237,5,397,47"/>
<area shape="rect" href="cpuid_8c.html#a57e37154fafc08d4400cac72d0a0b91d" title=" " alt="" coords="445,5,620,47"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="668,13,805,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a30771fd4ef9230ee864f4d7ac9cf0514_icgraph.png" border="0" usemap="#acpuid_8h_a30771fd4ef9230ee864f4d7ac9cf0514_icgraph" alt=""/></div>
<map name="acpuid_8h_a30771fd4ef9230ee864f4d7ac9cf0514_icgraph" id="acpuid_8h_a30771fd4ef9230ee864f4d7ac9cf0514_icgraph">
<area shape="rect" title=" " alt="" coords="1037,107,1221,134"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="836,71,989,112"/>
<area shape="rect" href="x86_8c.html#acfafdbc1dfaad0bcc468d4b40e286234" title=" " alt="" coords="583,137,788,163"/>
<area shape="rect" href="cpuid_8c.html#a0ff60eac33c1bf95a3889674e34251ad" title=" " alt="" coords="625,78,745,105"/>
<area shape="rect" href="cpuid_8c.html#a5066ac0b188677d15925709568a91c9d" title=" " alt="" coords="384,5,535,47"/>
<area shape="rect" href="cpuid_8c.html#ad4dde50a2939106abd2baf99683ac139" title=" " alt="" coords="384,71,535,112"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,78,336,105"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,78,129,105"/>
</map>
</div>

</div>
</div>
<a id="a5a115858ba6090dccc1ac1605bc3acc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a115858ba6090dccc1ac1605bc3acc1">&#9670;&nbsp;</a></span>kvm_vcpu_ioctl_get_cpuid2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_vcpu_ioctl_get_cpuid2 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_cpuid2 *&#160;</td>
          <td class="paramname"><em>cpuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_cpuid_entry2 __user *&#160;</td>
          <td class="paramname"><em>entries</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8c_source.html#l00535">535</a> of file <a class="el" href="cpuid_8c_source.html">cpuid.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;{</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span> (cpuid-&gt;nent &lt; vcpu-&gt;arch.cpuid_nent)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keywordflow">return</span> -E2BIG;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">if</span> (copy_to_user(entries, vcpu-&gt;arch.cpuid_entries,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;             vcpu-&gt;arch.cpuid_nent * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> kvm_cpuid_entry2)))</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">return</span> -EFAULT;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    cpuid-&gt;nent = vcpu-&gt;arch.cpuid_nent;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a5a115858ba6090dccc1ac1605bc3acc1_icgraph.png" border="0" usemap="#acpuid_8h_a5a115858ba6090dccc1ac1605bc3acc1_icgraph" alt=""/></div>
<map name="acpuid_8h_a5a115858ba6090dccc1ac1605bc3acc1_icgraph" id="acpuid_8h_a5a115858ba6090dccc1ac1605bc3acc1_icgraph">
<area shape="rect" title=" " alt="" coords="384,5,536,47"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,13,336,39"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,13,129,39"/>
</map>
</div>

</div>
</div>
<a id="a5066ac0b188677d15925709568a91c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5066ac0b188677d15925709568a91c9d">&#9670;&nbsp;</a></span>kvm_vcpu_ioctl_set_cpuid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_vcpu_ioctl_set_cpuid </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="cpuid_8h.html#a91d770d0af7358b6cd24b7cbe2617d73">kvm_cpuid</a> *&#160;</td>
          <td class="paramname"><em>cpuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_cpuid_entry __user *&#160;</td>
          <td class="paramname"><em>entries</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8c_source.html#l00467">467</a> of file <a class="el" href="cpuid_8c_source.html">cpuid.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;{</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordtype">int</span> r, i;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keyword">struct </span>kvm_cpuid_entry *e = NULL;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keyword">struct </span>kvm_cpuid_entry2 *e2 = NULL;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span> (cpuid-&gt;nent &gt; KVM_MAX_CPUID_ENTRIES)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">return</span> -E2BIG;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">if</span> (cpuid-&gt;nent) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        e = vmemdup_array_user(entries, cpuid-&gt;nent, <span class="keyword">sizeof</span>(*e));</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">if</span> (IS_ERR(e))</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keywordflow">return</span> PTR_ERR(e);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        e2 = kvmalloc_array(cpuid-&gt;nent, <span class="keyword">sizeof</span>(*e2), GFP_KERNEL_ACCOUNT);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordflow">if</span> (!e2) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            r = -ENOMEM;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="keywordflow">goto</span> out_free_cpuid;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; cpuid-&gt;nent; i++) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        e2[i].function = e[i].function;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        e2[i].eax = e[i].eax;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        e2[i].ebx = e[i].ebx;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        e2[i].ecx = e[i].ecx;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        e2[i].edx = e[i].edx;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        e2[i].index = 0;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        e2[i].flags = 0;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        e2[i].padding[0] = 0;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        e2[i].padding[1] = 0;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        e2[i].padding[2] = 0;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    r = <a class="code" href="cpuid_8c.html#a0ff60eac33c1bf95a3889674e34251ad">kvm_set_cpuid</a>(vcpu, e2, cpuid-&gt;nent);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">if</span> (r)</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        kvfree(e2);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;out_free_cpuid:</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    kvfree(e);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div>
<div class="ttc" id="acpuid_8c_html_a0ff60eac33c1bf95a3889674e34251ad"><div class="ttname"><a href="cpuid_8c.html#a0ff60eac33c1bf95a3889674e34251ad">kvm_set_cpuid</a></div><div class="ttdeci">static int kvm_set_cpuid(struct kvm_vcpu *vcpu, struct kvm_cpuid_entry2 *e2, int nent)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8c_source.html#l00414">cpuid.c:414</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a5066ac0b188677d15925709568a91c9d_cgraph.png" border="0" usemap="#acpuid_8h_a5066ac0b188677d15925709568a91c9d_cgraph" alt=""/></div>
<map name="acpuid_8h_a5066ac0b188677d15925709568a91c9d_cgraph" id="acpuid_8h_a5066ac0b188677d15925709568a91c9d_cgraph">
<area shape="rect" title=" " alt="" coords="5,898,156,939"/>
<area shape="rect" href="cpuid_8c.html#a0ff60eac33c1bf95a3889674e34251ad" title=" " alt="" coords="204,905,324,932"/>
<area shape="rect" href="cpuid_8c.html#aba2a2f99dbe3b8848b6ffc19effa6294" title=" " alt="" coords="383,201,542,242"/>
<area shape="rect" href="cpuid_8c.html#afea420158d1fda2784dd4382763f258c" title=" " alt="" coords="1115,1364,1253,1391"/>
<area shape="rect" href="cpuid_8c.html#a8f1b656d74e435fdceffcc2853a1c184" title=" " alt="" coords="372,813,553,840"/>
<area shape="rect" href="cpuid_8c.html#a7eb8299488a685437496d827e2ad9fb3" title=" " alt="" coords="614,1201,789,1228"/>
<area shape="rect" href="cpuid_8c.html#ab855645f0756d3668a7a31696e95c218" title=" " alt="" coords="385,930,540,971"/>
<area shape="rect" href="hyperv_8c.html#a6b9b9a8864c87d56aa2c400fa1331b0b" title=" " alt="" coords="393,436,533,463"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="386,865,539,906"/>
<area shape="rect" href="x86_8h.html#abf05d82904db21951117acb30ddf9c37" title=" " alt="" coords="871,1212,1018,1239"/>
<area shape="rect" href="cpuid_8c.html#a57e37154fafc08d4400cac72d0a0b91d" title=" " alt="" coords="1097,538,1271,579"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="1328,655,1465,681"/>
<area shape="rect" href="reverse__cpuid_8h.html#a9ca8b41f0d18f3dac63b62e545077db4" title=" " alt="" coords="869,284,1021,311"/>
<area shape="rect" href="reverse__cpuid_8h.html#a748960fccca789bf432536205fdf9826" title=" " alt="" coords="637,487,765,513"/>
<area shape="rect" href="x86_8h.html#adf8330176a8805826ed4711a51ce93cf" title=" " alt="" coords="618,157,785,184"/>
<area shape="rect" href="x86_8h.html#ace4ed625ac4852e54db110fde28d3231" title=" " alt="" coords="633,208,770,235"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a2b779657b20f7afa44c0172b1478ac65" title=" " alt="" coords="628,5,775,32"/>
<area shape="rect" href="cpuid_8c.html#aad06d21707fd0abb109028612ea7514c" title=" " alt="" coords="623,107,780,133"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="1131,487,1237,513"/>
<area shape="rect" href="reverse__cpuid_8h.html#a08df87ae84991c96655f367379fad9b1" title=" " alt="" coords="1107,360,1261,387"/>
<area shape="rect" href="reverse__cpuid_8h.html#a5c0c9322094b13d5fff76b5ab593339a" title=" " alt="" coords="881,487,1008,513"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a24ffc81fe5ed7998e29134351275b4dd" title=" " alt="" coords="872,5,1017,32"/>
<area shape="rect" href="hyperv_8c.html#ad212ee2bcf02cad45e2911fdb7d31861" title=" " alt="" coords="655,436,747,463"/>
<area shape="rect" href="hyperv_8c.html#acb0df6ea627c64fe5fe88dc5a52d648e" title=" " alt="" coords="659,385,743,412"/>
<area shape="rect" href="hyperv_8c.html#a053c0a6cdb6becc46a74a7b69fe791eb" title=" " alt="" coords="867,436,1023,463"/>
<area shape="rect" href="hyperv_8c.html#affaae94ac35c1a1ea573e2f1014ea259" title=" " alt="" coords="861,385,1028,412"/>
<area shape="rect" href="cpuid_8c.html#ab09a1700616790a1bd47e46825c5012b" title=" " alt="" coords="1088,604,1280,631"/>
<area shape="rect" href="cpuid_8c.html#a881fc10bf62818799a56d9246f58b6cf" title=" " alt="" coords="606,755,797,781"/>
<area shape="rect" href="cpuid_8c.html#aae0475609eefc48bb151ef5a631670c0" title=" " alt="" coords="862,655,1027,681"/>
<area shape="rect" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9" title=" " alt="" coords="879,857,1010,884"/>
<area shape="rect" href="cpuid_8h.html#a5a6ba63d82eb4536c34fc156c7021193" title=" " alt="" coords="624,806,779,847"/>
<area shape="rect" href="lapic_8c.html#aaa6716cc0b30bec513d223fbfdecfdcf" title=" " alt="" coords="618,989,785,1016"/>
<area shape="rect" href="cpuid_8h.html#a898d2d1ac4ac03c41e5bb2ebd1402ac0" title=" " alt="" coords="601,1049,801,1076"/>
<area shape="rect" href="hyperv_8c.html#a35fa0d5d0a982e559906372c42713c55" title=" " alt="" coords="630,704,773,731"/>
<area shape="rect" href="mmu_8c.html#a3b03fb05a1055f336fa61182cf0c760b" title=" " alt="" coords="602,1151,801,1177"/>
<area shape="rect" href="pmu_8c.html#a6d6bf5af13e5325bcfc07034b4d06e6c" title=" " alt="" coords="631,1100,771,1127"/>
<area shape="rect" href="cpuid_8c.html#a30771fd4ef9230ee864f4d7ac9cf0514" title=" " alt="" coords="609,549,793,576"/>
<area shape="rect" href="cpuid_8c.html#a8bf272b370f8a27bb68bf5bf9e5ae7d5" title=" " alt="" coords="609,923,793,965"/>
<area shape="rect" href="cpuid_8h.html#af2af2645f203b5d9bad2088af0da5c1e" title=" " alt="" coords="1091,857,1277,884"/>
<area shape="rect" href="kvm__emulate_8h.html#aaeb0a87b097a9164d79418139514f852" title=" " alt="" coords="863,807,1027,833"/>
<area shape="rect" href="kvm__emulate_8h.html#a1d708985e548ee4ce6eee808a31d279c" title=" " alt="" coords="857,756,1032,783"/>
<area shape="rect" href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0" title=" " alt="" coords="1101,705,1267,732"/>
<area shape="rect" href="ioapic_8h.html#a5efb8a822bd7119cfc8db075f12bf452" title=" " alt="" coords="881,959,1008,985"/>
<area shape="rect" href="lapic_8c.html#ab2ee275fa1bc17aa0bfde435723b8f48" title=" " alt="" coords="873,1009,1017,1036"/>
<area shape="rect" href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4" title=" " alt="" coords="885,908,1004,935"/>
<area shape="rect" href="cpuid_8h.html#a786eea4c1fa59be0155455a72125e0ff" title=" " alt="" coords="1097,1078,1271,1119"/>
<area shape="rect" href="cpuid_8h.html#a72da5444b01d72d935ebc411b99ba166" title=" " alt="" coords="849,1060,1040,1087"/>
<area shape="rect" href="mmu_8c.html#a56f1568115a55fdacc188e9b41159b8f" title=" " alt="" coords="851,1263,1039,1289"/>
<area shape="rect" href="pmu_8c.html#af2e9d984d1cd90e3f5d7e484a6bab422" title=" " alt="" coords="881,1161,1008,1188"/>
<area shape="rect" href="cpuid_8c.html#a6d8deb4e45da8c580e5830057541fd8b" title=" " alt="" coords="865,538,1025,579"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a5066ac0b188677d15925709568a91c9d_icgraph.png" border="0" usemap="#acpuid_8h_a5066ac0b188677d15925709568a91c9d_icgraph" alt=""/></div>
<map name="acpuid_8h_a5066ac0b188677d15925709568a91c9d_icgraph" id="acpuid_8h_a5066ac0b188677d15925709568a91c9d_icgraph">
<area shape="rect" title=" " alt="" coords="384,5,535,47"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,13,336,39"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,13,129,39"/>
</map>
</div>

</div>
</div>
<a id="ad4dde50a2939106abd2baf99683ac139"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4dde50a2939106abd2baf99683ac139">&#9670;&nbsp;</a></span>kvm_vcpu_ioctl_set_cpuid2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_vcpu_ioctl_set_cpuid2 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_cpuid2 *&#160;</td>
          <td class="paramname"><em>cpuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_cpuid_entry2 __user *&#160;</td>
          <td class="paramname"><em>entries</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8c_source.html#l00512">512</a> of file <a class="el" href="cpuid_8c_source.html">cpuid.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;{</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keyword">struct </span>kvm_cpuid_entry2 *e2 = NULL;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordtype">int</span> r;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">if</span> (cpuid-&gt;nent &gt; KVM_MAX_CPUID_ENTRIES)</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">return</span> -E2BIG;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">if</span> (cpuid-&gt;nent) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        e2 = vmemdup_array_user(entries, cpuid-&gt;nent, <span class="keyword">sizeof</span>(*e2));</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">if</span> (IS_ERR(e2))</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordflow">return</span> PTR_ERR(e2);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    r = <a class="code" href="cpuid_8c.html#a0ff60eac33c1bf95a3889674e34251ad">kvm_set_cpuid</a>(vcpu, e2, cpuid-&gt;nent);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">if</span> (r)</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        kvfree(e2);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_ad4dde50a2939106abd2baf99683ac139_cgraph.png" border="0" usemap="#acpuid_8h_ad4dde50a2939106abd2baf99683ac139_cgraph" alt=""/></div>
<map name="acpuid_8h_ad4dde50a2939106abd2baf99683ac139_cgraph" id="acpuid_8h_ad4dde50a2939106abd2baf99683ac139_cgraph">
<area shape="rect" title=" " alt="" coords="5,898,156,939"/>
<area shape="rect" href="cpuid_8c.html#a0ff60eac33c1bf95a3889674e34251ad" title=" " alt="" coords="204,905,324,932"/>
<area shape="rect" href="cpuid_8c.html#aba2a2f99dbe3b8848b6ffc19effa6294" title=" " alt="" coords="383,201,542,242"/>
<area shape="rect" href="cpuid_8c.html#afea420158d1fda2784dd4382763f258c" title=" " alt="" coords="1115,1364,1253,1391"/>
<area shape="rect" href="cpuid_8c.html#a8f1b656d74e435fdceffcc2853a1c184" title=" " alt="" coords="372,813,553,840"/>
<area shape="rect" href="cpuid_8c.html#a7eb8299488a685437496d827e2ad9fb3" title=" " alt="" coords="614,1201,789,1228"/>
<area shape="rect" href="cpuid_8c.html#ab855645f0756d3668a7a31696e95c218" title=" " alt="" coords="385,930,540,971"/>
<area shape="rect" href="hyperv_8c.html#a6b9b9a8864c87d56aa2c400fa1331b0b" title=" " alt="" coords="393,436,533,463"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="386,865,539,906"/>
<area shape="rect" href="x86_8h.html#abf05d82904db21951117acb30ddf9c37" title=" " alt="" coords="871,1212,1018,1239"/>
<area shape="rect" href="cpuid_8c.html#a57e37154fafc08d4400cac72d0a0b91d" title=" " alt="" coords="1097,538,1271,579"/>
<area shape="rect" href="cpuid_8c.html#a7220f0f9a6d0047aef7619e272fa9518" title=" " alt="" coords="1328,655,1465,681"/>
<area shape="rect" href="reverse__cpuid_8h.html#a9ca8b41f0d18f3dac63b62e545077db4" title=" " alt="" coords="869,284,1021,311"/>
<area shape="rect" href="reverse__cpuid_8h.html#a748960fccca789bf432536205fdf9826" title=" " alt="" coords="637,487,765,513"/>
<area shape="rect" href="x86_8h.html#adf8330176a8805826ed4711a51ce93cf" title=" " alt="" coords="618,157,785,184"/>
<area shape="rect" href="x86_8h.html#ace4ed625ac4852e54db110fde28d3231" title=" " alt="" coords="633,208,770,235"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a2b779657b20f7afa44c0172b1478ac65" title=" " alt="" coords="628,5,775,32"/>
<area shape="rect" href="cpuid_8c.html#aad06d21707fd0abb109028612ea7514c" title=" " alt="" coords="623,107,780,133"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="1131,487,1237,513"/>
<area shape="rect" href="reverse__cpuid_8h.html#a08df87ae84991c96655f367379fad9b1" title=" " alt="" coords="1107,360,1261,387"/>
<area shape="rect" href="reverse__cpuid_8h.html#a5c0c9322094b13d5fff76b5ab593339a" title=" " alt="" coords="881,487,1008,513"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a24ffc81fe5ed7998e29134351275b4dd" title=" " alt="" coords="872,5,1017,32"/>
<area shape="rect" href="hyperv_8c.html#ad212ee2bcf02cad45e2911fdb7d31861" title=" " alt="" coords="655,436,747,463"/>
<area shape="rect" href="hyperv_8c.html#acb0df6ea627c64fe5fe88dc5a52d648e" title=" " alt="" coords="659,385,743,412"/>
<area shape="rect" href="hyperv_8c.html#a053c0a6cdb6becc46a74a7b69fe791eb" title=" " alt="" coords="867,436,1023,463"/>
<area shape="rect" href="hyperv_8c.html#affaae94ac35c1a1ea573e2f1014ea259" title=" " alt="" coords="861,385,1028,412"/>
<area shape="rect" href="cpuid_8c.html#ab09a1700616790a1bd47e46825c5012b" title=" " alt="" coords="1088,604,1280,631"/>
<area shape="rect" href="cpuid_8c.html#a881fc10bf62818799a56d9246f58b6cf" title=" " alt="" coords="606,755,797,781"/>
<area shape="rect" href="cpuid_8c.html#aae0475609eefc48bb151ef5a631670c0" title=" " alt="" coords="862,655,1027,681"/>
<area shape="rect" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9" title=" " alt="" coords="879,857,1010,884"/>
<area shape="rect" href="cpuid_8h.html#a5a6ba63d82eb4536c34fc156c7021193" title=" " alt="" coords="624,806,779,847"/>
<area shape="rect" href="lapic_8c.html#aaa6716cc0b30bec513d223fbfdecfdcf" title=" " alt="" coords="618,989,785,1016"/>
<area shape="rect" href="cpuid_8h.html#a898d2d1ac4ac03c41e5bb2ebd1402ac0" title=" " alt="" coords="601,1049,801,1076"/>
<area shape="rect" href="hyperv_8c.html#a35fa0d5d0a982e559906372c42713c55" title=" " alt="" coords="630,704,773,731"/>
<area shape="rect" href="mmu_8c.html#a3b03fb05a1055f336fa61182cf0c760b" title=" " alt="" coords="602,1151,801,1177"/>
<area shape="rect" href="pmu_8c.html#a6d6bf5af13e5325bcfc07034b4d06e6c" title=" " alt="" coords="631,1100,771,1127"/>
<area shape="rect" href="cpuid_8c.html#a30771fd4ef9230ee864f4d7ac9cf0514" title=" " alt="" coords="609,549,793,576"/>
<area shape="rect" href="cpuid_8c.html#a8bf272b370f8a27bb68bf5bf9e5ae7d5" title=" " alt="" coords="609,923,793,965"/>
<area shape="rect" href="cpuid_8h.html#af2af2645f203b5d9bad2088af0da5c1e" title=" " alt="" coords="1091,857,1277,884"/>
<area shape="rect" href="kvm__emulate_8h.html#aaeb0a87b097a9164d79418139514f852" title=" " alt="" coords="863,807,1027,833"/>
<area shape="rect" href="kvm__emulate_8h.html#a1d708985e548ee4ce6eee808a31d279c" title=" " alt="" coords="857,756,1032,783"/>
<area shape="rect" href="cpuid_8h.html#aae0475609eefc48bb151ef5a631670c0" title=" " alt="" coords="1101,705,1267,732"/>
<area shape="rect" href="ioapic_8h.html#a5efb8a822bd7119cfc8db075f12bf452" title=" " alt="" coords="881,959,1008,985"/>
<area shape="rect" href="lapic_8c.html#ab2ee275fa1bc17aa0bfde435723b8f48" title=" " alt="" coords="873,1009,1017,1036"/>
<area shape="rect" href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4" title=" " alt="" coords="885,908,1004,935"/>
<area shape="rect" href="cpuid_8h.html#a786eea4c1fa59be0155455a72125e0ff" title=" " alt="" coords="1097,1078,1271,1119"/>
<area shape="rect" href="cpuid_8h.html#a72da5444b01d72d935ebc411b99ba166" title=" " alt="" coords="849,1060,1040,1087"/>
<area shape="rect" href="mmu_8c.html#a56f1568115a55fdacc188e9b41159b8f" title=" " alt="" coords="851,1263,1039,1289"/>
<area shape="rect" href="pmu_8c.html#af2e9d984d1cd90e3f5d7e484a6bab422" title=" " alt="" coords="881,1161,1008,1188"/>
<area shape="rect" href="cpuid_8c.html#a6d8deb4e45da8c580e5830057541fd8b" title=" " alt="" coords="865,538,1025,579"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_ad4dde50a2939106abd2baf99683ac139_icgraph.png" border="0" usemap="#acpuid_8h_ad4dde50a2939106abd2baf99683ac139_icgraph" alt=""/></div>
<map name="acpuid_8h_ad4dde50a2939106abd2baf99683ac139_icgraph" id="acpuid_8h_ad4dde50a2939106abd2baf99683ac139_icgraph">
<area shape="rect" title=" " alt="" coords="384,5,535,47"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,13,336,39"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,13,129,39"/>
</map>
</div>

</div>
</div>
<a id="a5468d9b5cbcb2f7a464c1fdfae1801a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5468d9b5cbcb2f7a464c1fdfae1801a5">&#9670;&nbsp;</a></span>kvm_vcpu_is_legal_aligned_gpa()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool kvm_vcpu_is_legal_aligned_gpa </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpa_t&#160;</td>
          <td class="paramname"><em>gpa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpa_t&#160;</td>
          <td class="paramname"><em>alignment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00050">50</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">return</span> IS_ALIGNED(gpa, alignment) &amp;&amp; <a class="code" href="cpuid_8h.html#a79ede0627c3b2d96bb1e5c0ff8e98cd0">kvm_vcpu_is_legal_gpa</a>(vcpu, gpa);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_a79ede0627c3b2d96bb1e5c0ff8e98cd0"><div class="ttname"><a href="cpuid_8h.html#a79ede0627c3b2d96bb1e5c0ff8e98cd0">kvm_vcpu_is_legal_gpa</a></div><div class="ttdeci">static bool kvm_vcpu_is_legal_gpa(struct kvm_vcpu *vcpu, gpa_t gpa)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00045">cpuid.h:45</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a5468d9b5cbcb2f7a464c1fdfae1801a5_cgraph.png" border="0" usemap="#acpuid_8h_a5468d9b5cbcb2f7a464c1fdfae1801a5_cgraph" alt=""/></div>
<map name="acpuid_8h_a5468d9b5cbcb2f7a464c1fdfae1801a5_cgraph" id="acpuid_8h_a5468d9b5cbcb2f7a464c1fdfae1801a5_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,237,32"/>
<area shape="rect" href="cpuid_8h.html#a79ede0627c3b2d96bb1e5c0ff8e98cd0" title=" " alt="" coords="285,5,463,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a5468d9b5cbcb2f7a464c1fdfae1801a5_icgraph.png" border="0" usemap="#acpuid_8h_a5468d9b5cbcb2f7a464c1fdfae1801a5_icgraph" alt=""/></div>
<map name="acpuid_8h_a5468d9b5cbcb2f7a464c1fdfae1801a5_icgraph" id="acpuid_8h_a5468d9b5cbcb2f7a464c1fdfae1801a5_icgraph">
<area shape="rect" title=" " alt="" coords="1808,359,2040,386"/>
<area shape="rect" href="vmx_2nested_8c.html#a4d02669b451b76b64dc28047526be8c4" title=" " alt="" coords="1571,244,1760,285"/>
<area shape="rect" href="vmx_2nested_8c.html#ab4f69a58fef9308ff968e011ba10ba27" title=" " alt="" coords="1576,71,1755,112"/>
<area shape="rect" href="cpuid_8h.html#a324c2cf2152bc998a4e85165ee805f83" title=" " alt="" coords="1590,574,1741,601"/>
<area shape="rect" href="vmx_8c.html#a8f909e946d4dfa1c3944e816e987efe3" title=" " alt="" coords="1585,814,1746,841"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1061,353,1271,395"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,361,1013,387"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,721,739,747"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,771,759,798"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,727,539,754"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,793,541,819"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,844,351,885"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,851,132,878"/>
<area shape="rect" href="vmx_2nested_8c.html#a39326600a11c49f96597ebe2f1f548db" title=" " alt="" coords="1327,5,1515,47"/>
<area shape="rect" href="vmx_2nested_8c.html#a1c456b2afa81ebbb626aa9265958630c" title=" " alt="" coords="1331,71,1510,112"/>
<area shape="rect" href="vmx_2nested_8c.html#a56f8d9d4a110dbb62471de947f8b6219" title=" " alt="" coords="1076,37,1256,79"/>
<area shape="rect" href="vmx_2nested_8c.html#a38255673e8a889b4e3b0ee34253692d5" title=" " alt="" coords="1081,164,1251,205"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3473bc074c4b59fe28597bd275c7668" title=" " alt="" coords="847,851,973,878"/>
<area shape="rect" href="vmx_2nested_8c.html#a0d98c8746dea3af0e50611aa851e01d9" title=" " alt="" coords="848,902,972,929"/>
<area shape="rect" href="vmx_2nested_8c.html#acfc614b787620aa3ea5f48ed247cfe30" title=" " alt="" coords="615,953,733,979"/>
<area shape="rect" href="vmx_2nested_8c.html#a4fa642a40472c8cb6408c30f10e93be7" title=" " alt="" coords="1330,501,1511,543"/>
<area shape="rect" href="vmx_2nested_8c.html#af6ea36b16075218f55f7c3a9c745d633" title=" " alt="" coords="1337,567,1504,608"/>
<area shape="rect" href="vmx_2nested_8c.html#ab6ca9c721b03e5956849a83f4145b3d3" title=" " alt="" coords="1331,188,1510,229"/>
<area shape="rect" href="vmx_2nested_8c.html#a0cee42406db9df08ec06a960fb9c732f" title=" " alt="" coords="1331,253,1510,295"/>
<area shape="rect" href="vmx_2nested_8c.html#a4fc8c438d2338f3fd0d3bfa71f08a8ea" title=" " alt="" coords="1319,319,1523,360"/>
<area shape="rect" href="vmx_2nested_8c.html#ae599fad0f0739484a7e04b47d50836c3" title=" " alt="" coords="1335,384,1507,425"/>
<area shape="rect" href="vmx_2nested_8c.html#af3ac0e639a9f3b73dbcc84c7aeaeb5cb" title=" " alt="" coords="1326,735,1515,776"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="1366,633,1475,659"/>
<area shape="rect" href="svm_2nested_8c.html#a8bac395de612ca2b748016c6f5ea0fef" title=" " alt="" coords="1337,683,1505,710"/>
<area shape="rect" href="vmx_2nested_8c.html#a926c867f33af4ad620f2cbeaa310a7eb" title=" " alt="" coords="815,735,1005,776"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="1365,1003,1476,1030"/>
</map>
</div>

</div>
</div>
<a id="a8f4d8ed96a58f11e51539641257987c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f4d8ed96a58f11e51539641257987c2">&#9670;&nbsp;</a></span>kvm_vcpu_is_legal_cr3()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool kvm_vcpu_is_legal_cr3 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>cr3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00287">287</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;{</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cpuid_8h.html#acf67f5848a2ddd59dc852e37bc330390">guest_can_use</a>(vcpu, X86_FEATURE_LAM))</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        cr3 &amp;= ~(X86_CR3_LAM_U48 | X86_CR3_LAM_U57);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cpuid_8h.html#a79ede0627c3b2d96bb1e5c0ff8e98cd0">kvm_vcpu_is_legal_gpa</a>(vcpu, cr3);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_acf67f5848a2ddd59dc852e37bc330390"><div class="ttname"><a href="cpuid_8h.html#acf67f5848a2ddd59dc852e37bc330390">guest_can_use</a></div><div class="ttdeci">static __always_inline bool guest_can_use(struct kvm_vcpu *vcpu, unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00278">cpuid.h:278</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a8f4d8ed96a58f11e51539641257987c2_cgraph.png" border="0" usemap="#acpuid_8h_a8f4d8ed96a58f11e51539641257987c2_cgraph" alt=""/></div>
<map name="acpuid_8h_a8f4d8ed96a58f11e51539641257987c2_cgraph" id="acpuid_8h_a8f4d8ed96a58f11e51539641257987c2_cgraph">
<area shape="rect" title=" " alt="" coords="5,38,179,65"/>
<area shape="rect" href="cpuid_8h.html#acf67f5848a2ddd59dc852e37bc330390" title=" " alt="" coords="256,13,375,39"/>
<area shape="rect" href="cpuid_8h.html#a79ede0627c3b2d96bb1e5c0ff8e98cd0" title=" " alt="" coords="227,63,404,90"/>
<area shape="rect" href="cpuid_8h.html#a786eea4c1fa59be0155455a72125e0ff" title=" " alt="" coords="691,5,864,47"/>
<area shape="rect" href="cpuid_8h.html#a72da5444b01d72d935ebc411b99ba166" title=" " alt="" coords="452,38,643,65"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a8f4d8ed96a58f11e51539641257987c2_icgraph.png" border="0" usemap="#acpuid_8h_a8f4d8ed96a58f11e51539641257987c2_icgraph" alt=""/></div>
<map name="acpuid_8h_a8f4d8ed96a58f11e51539641257987c2_icgraph" id="acpuid_8h_a8f4d8ed96a58f11e51539641257987c2_icgraph">
<area shape="rect" title=" " alt="" coords="1469,569,1643,596"/>
<area shape="rect" href="svm_2nested_8c.html#adc31a13f6b922f4423d486a14f6f0531" title=" " alt="" coords="1215,109,1421,136"/>
<area shape="rect" href="x86_8c.html#ab82b4dd5c18ce3566c10ea155d280a68" title=" " alt="" coords="1243,620,1393,647"/>
<area shape="rect" href="x86_8c.html#a75f57f1f4494df7f35fcdf0e0e582a31" title=" " alt="" coords="1265,544,1371,571"/>
<area shape="rect" href="svm_2nested_8c.html#a2d996c5be366f0a7b21228fd18be85ab" title=" " alt="" coords="1237,185,1399,212"/>
<area shape="rect" href="vmx_2nested_8c.html#a4632daec5bd26a4c08659779f9d2ca07" title=" " alt="" coords="975,705,1157,746"/>
<area shape="rect" href="vmx_2nested_8c.html#a6541b63ab236a1d9732c8ffc3c604ee9" title=" " alt="" coords="1236,821,1400,848"/>
<area shape="rect" href="svm_2nested_8c.html#ae732aef70a2e3611917e028d9ec42ace" title=" " alt="" coords="970,47,1162,73"/>
<area shape="rect" href="svm_2nested_8c.html#a8bac395de612ca2b748016c6f5ea0fef" title=" " alt="" coords="982,109,1150,136"/>
<area shape="rect" href="svm_2nested_8c.html#a4ec7e878f6af209e74dd84285ee0198f" title=" " alt="" coords="735,40,885,67"/>
<area shape="rect" href="svm_8c.html#a5d52c93beeb85ba5a99283d4eba589e1" title=" " alt="" coords="472,5,621,32"/>
<area shape="rect" href="svm_8c.html#a1eacc7b79f62ed332056217c35fe3be4" title=" " alt="" coords="232,56,379,83"/>
<area shape="rect" href="x86_8c.html#ad6dd5b8847ecb92fe36f8dabdac40b08" title=" " alt="" coords="985,645,1147,672"/>
<area shape="rect" href="x86_8c.html#ac766943d4a9d3c7a489012c02e25be54" title=" " alt="" coords="761,603,859,629"/>
<area shape="rect" href="x86_8c.html#a48bee74c7062ceb8db0b0fa3beebfbbc" title=" " alt="" coords="757,657,863,684"/>
<area shape="rect" href="x86_8c.html#adfaccb9ae903e8b5aee77f8591d51dc9" title=" " alt="" coords="467,595,626,637"/>
<area shape="rect" href="x86_8c.html#ade4b46f56f9ee72375fa967f97e62b56" title=" " alt="" coords="503,544,590,571"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="467,661,626,688"/>
<area shape="rect" href="svm_8c.html#ad1887c4bb9c78c577fb20a129d73ea41" title=" " alt="" coords="246,329,365,356"/>
<area shape="rect" href="x86_8c.html#a86812e4228865668099921709e1c2f26" title=" " alt="" coords="1003,493,1129,520"/>
<area shape="rect" href="vmx_8c.html#aa55ace9429e6e94042e6602716222805" title=" " alt="" coords="1023,544,1109,571"/>
<area shape="rect" href="smm_8c.html#a0c50da2c4874eda6d67766974a476019" title=" " alt="" coords="965,595,1167,621"/>
<area shape="rect" href="svm_8c.html#af2ee2a03530f5b7a02a127d8b779d2ae" title=" " alt="" coords="5,329,172,356"/>
<area shape="rect" href="smm_8c.html#ae0136cd1aa193ad29565961ea839a99a" title=" " alt="" coords="737,523,883,549"/>
<area shape="rect" href="smm_8c.html#a0943012ff008c7999f582998f0f9167a" title=" " alt="" coords="465,493,629,520"/>
<area shape="rect" href="svm_2nested_8c.html#a9b21378a3de8baae9bcb689f00cad48e" title=" " alt="" coords="977,160,1155,187"/>
<area shape="rect" href="svm_2nested_8c.html#a73d1cb9b9fcfa112138681d9080a1c05" title=" " alt="" coords="989,211,1143,237"/>
<area shape="rect" href="svm_2nested_8c.html#a777240cb9ab00451d21a1b204e19c5a6" title=" " alt="" coords="714,275,906,301"/>
<area shape="rect" href="svm_2nested_8c.html#a03b4be7ca82710ecd17bc66f2a20cad8" title=" " alt="" coords="703,209,917,250"/>
<area shape="rect" href="svm_2nested_8c.html#a574acca11f4be4ea5df18f36307f9bf6" title=" " alt="" coords="708,355,912,381"/>
<area shape="rect" href="svm_8h.html#a7b2d87885eea1b11b1bf1045c21c5a8b" title=" " alt="" coords="707,157,913,184"/>
<area shape="rect" href="svm_2hyperv_8c.html#a33efa5fe6a664e9b2a70232b93485645" title=" " alt="" coords="719,91,901,133"/>
<area shape="rect" href="svm_8c.html#a08788d6a633657aa9e7e2f3b09db9b40" title=" " alt="" coords="470,209,623,250"/>
<area shape="rect" href="svm_8c.html#ae135f7d753cde05e6f726fb75e971ddd" title=" " alt="" coords="467,325,627,352"/>
<area shape="rect" href="svm_8c.html#a3f8983432f4aae138a6f4d167c561132" title=" " alt="" coords="480,275,613,301"/>
<area shape="rect" href="svm_2nested_8c.html#a3286f29b650004d599595557d310136e" title=" " alt="" coords="448,157,645,184"/>
<area shape="rect" href="svm_2nested_8c.html#a962af1ea814d32a42ada9f601918cee5" title=" " alt="" coords="461,377,632,418"/>
<area shape="rect" href="svm_2nested_8c.html#a387a91a64bb25a25590ee3b019f0e0a2" title=" " alt="" coords="457,56,636,83"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="745,712,875,739"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="725,763,895,789"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="478,712,615,739"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="475,763,618,789"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="220,755,391,797"/>
<area shape="rect" href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0" title=" " alt="" coords="975,821,1157,848"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="1001,872,1131,899"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="733,872,887,899"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="473,813,621,840"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="485,996,608,1023"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="459,865,635,906"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="439,930,655,971"/>
</map>
</div>

</div>
</div>
<a id="a79ede0627c3b2d96bb1e5c0ff8e98cd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79ede0627c3b2d96bb1e5c0ff8e98cd0">&#9670;&nbsp;</a></span>kvm_vcpu_is_legal_gpa()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool kvm_vcpu_is_legal_gpa </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpa_t&#160;</td>
          <td class="paramname"><em>gpa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00045">45</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;{</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">return</span> !(gpa &amp; vcpu-&gt;arch.reserved_gpa_bits);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a79ede0627c3b2d96bb1e5c0ff8e98cd0_icgraph.png" border="0" usemap="#acpuid_8h_a79ede0627c3b2d96bb1e5c0ff8e98cd0_icgraph" alt=""/></div>
<map name="acpuid_8h_a79ede0627c3b2d96bb1e5c0ff8e98cd0_icgraph" id="acpuid_8h_a79ede0627c3b2d96bb1e5c0ff8e98cd0_icgraph">
<area shape="rect" title=" " alt="" coords="1531,643,1708,670"/>
<area shape="rect" href="vmx_8c.html#a55a56c6fe3cbee7ead4da26de4074000" title=" " alt="" coords="1287,402,1446,429"/>
<area shape="rect" href="cpuid_8h.html#a5468d9b5cbcb2f7a464c1fdfae1801a5" title=" " alt="" coords="1251,503,1483,530"/>
<area shape="rect" href="vmx_2nested_8c.html#ab4f69a58fef9308ff968e011ba10ba27" title=" " alt="" coords="1010,121,1189,163"/>
<area shape="rect" href="cpuid_8h.html#a8f4d8ed96a58f11e51539641257987c2" title=" " alt="" coords="1280,1333,1453,1359"/>
<area shape="rect" href="svm_2nested_8c.html#ac66cbb3033fe85192ecbcf2f6308cace" title=" " alt="" coords="1255,1514,1478,1541"/>
<area shape="rect" href="vmx_2nested_8c.html#a9908339c87e1a2aae4172d5785104e32" title=" " alt="" coords="1008,1003,1191,1030"/>
<area shape="rect" href="vmx_2nested_8c.html#a4d02669b451b76b64dc28047526be8c4" title=" " alt="" coords="1005,388,1194,429"/>
<area shape="rect" href="cpuid_8h.html#a324c2cf2152bc998a4e85165ee805f83" title=" " alt="" coords="1024,610,1175,637"/>
<area shape="rect" href="vmx_8c.html#a8f909e946d4dfa1c3944e816e987efe3" title=" " alt="" coords="1019,237,1180,263"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="477,603,687,644"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="223,610,429,637"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="25,665,155,691"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="5,610,175,637"/>
<area shape="rect" href="vmx_2nested_8c.html#a39326600a11c49f96597ebe2f1f548db" title=" " alt="" coords="747,71,935,112"/>
<area shape="rect" href="vmx_2nested_8c.html#a1c456b2afa81ebbb626aa9265958630c" title=" " alt="" coords="752,5,931,47"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3473bc074c4b59fe28597bd275c7668" title=" " alt="" coords="778,1003,905,1030"/>
<area shape="rect" href="vmx_2nested_8c.html#a0d98c8746dea3af0e50611aa851e01d9" title=" " alt="" coords="779,851,903,878"/>
<area shape="rect" href="vmx_2nested_8c.html#acfc614b787620aa3ea5f48ed247cfe30" title=" " alt="" coords="783,902,900,929"/>
<area shape="rect" href="vmx_2nested_8c.html#a4fa642a40472c8cb6408c30f10e93be7" title=" " alt="" coords="751,720,932,761"/>
<area shape="rect" href="vmx_2nested_8c.html#af6ea36b16075218f55f7c3a9c745d633" title=" " alt="" coords="758,785,925,827"/>
<area shape="rect" href="vmx_2nested_8c.html#ab6ca9c721b03e5956849a83f4145b3d3" title=" " alt="" coords="752,407,931,448"/>
<area shape="rect" href="vmx_2nested_8c.html#a0cee42406db9df08ec06a960fb9c732f" title=" " alt="" coords="752,472,931,513"/>
<area shape="rect" href="vmx_2nested_8c.html#a4fc8c438d2338f3fd0d3bfa71f08a8ea" title=" " alt="" coords="739,537,943,579"/>
<area shape="rect" href="vmx_2nested_8c.html#ae599fad0f0739484a7e04b47d50836c3" title=" " alt="" coords="755,603,927,644"/>
<area shape="rect" href="vmx_2nested_8c.html#af3ac0e639a9f3b73dbcc84c7aeaeb5cb" title=" " alt="" coords="747,289,936,331"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="787,355,896,382"/>
<area shape="rect" href="svm_2nested_8c.html#a8bac395de612ca2b748016c6f5ea0fef" title=" " alt="" coords="757,1510,925,1537"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="497,945,667,987"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="786,137,897,163"/>
<area shape="rect" href="svm_2nested_8c.html#adc31a13f6b922f4423d486a14f6f0531" title=" " alt="" coords="996,1459,1203,1486"/>
<area shape="rect" href="x86_8c.html#ab82b4dd5c18ce3566c10ea155d280a68" title=" " alt="" coords="1024,1257,1175,1283"/>
<area shape="rect" href="x86_8c.html#a75f57f1f4494df7f35fcdf0e0e582a31" title=" " alt="" coords="1047,1333,1152,1359"/>
<area shape="rect" href="svm_2nested_8c.html#a2d996c5be366f0a7b21228fd18be85ab" title=" " alt="" coords="1018,1535,1181,1562"/>
<area shape="rect" href="vmx_2nested_8c.html#a4632daec5bd26a4c08659779f9d2ca07" title=" " alt="" coords="235,661,417,703"/>
<area shape="rect" href="vmx_2nested_8c.html#a6541b63ab236a1d9732c8ffc3c604ee9" title=" " alt="" coords="1017,1637,1181,1663"/>
<area shape="rect" href="svm_2nested_8c.html#ae732aef70a2e3611917e028d9ec42ace" title=" " alt="" coords="745,1459,937,1486"/>
<area shape="rect" href="x86_8c.html#ad6dd5b8847ecb92fe36f8dabdac40b08" title=" " alt="" coords="760,1206,923,1233"/>
<area shape="rect" href="svm_8c.html#ad1887c4bb9c78c577fb20a129d73ea41" title=" " alt="" coords="782,1409,901,1435"/>
<area shape="rect" href="x86_8c.html#a86812e4228865668099921709e1c2f26" title=" " alt="" coords="778,1257,905,1283"/>
<area shape="rect" href="vmx_8c.html#aa55ace9429e6e94042e6602716222805" title=" " alt="" coords="799,1307,884,1334"/>
<area shape="rect" href="smm_8c.html#a0c50da2c4874eda6d67766974a476019" title=" " alt="" coords="741,1358,942,1385"/>
<area shape="rect" href="svm_2nested_8c.html#a9b21378a3de8baae9bcb689f00cad48e" title=" " alt="" coords="752,1611,931,1638"/>
<area shape="rect" href="svm_2nested_8c.html#a73d1cb9b9fcfa112138681d9080a1c05" title=" " alt="" coords="764,1561,919,1587"/>
<area shape="rect" href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0" title=" " alt="" coords="750,1713,933,1739"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="776,1662,907,1689"/>
<area shape="rect" href="svm_2nested_8c.html#af3c541bc236a86c71f59264fc3c6fba4" title=" " alt="" coords="1015,1688,1183,1729"/>
<area shape="rect" href="svm_2nested_8c.html#aeb4d38d47572db12942883495b996356" title=" " alt="" coords="735,1763,948,1790"/>
<area shape="rect" href="vmx_2nested_8c.html#a54e70f407596ed5f029a4e4a9855d76c" title=" " alt="" coords="784,1105,899,1131"/>
<area shape="rect" href="vmx_2nested_8c.html#ad874dd59254c34b16ae48fffb4ebbf1f" title=" " alt="" coords="738,1054,945,1081"/>
</map>
</div>

</div>
</div>
<a id="a8bf272b370f8a27bb68bf5bf9e5ae7d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bf272b370f8a27bb68bf5bf9e5ae7d5">&#9670;&nbsp;</a></span>kvm_vcpu_reserved_gpa_bits_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u64 kvm_vcpu_reserved_gpa_bits_raw </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8c_source.html#l00409">409</a> of file <a class="el" href="cpuid_8c_source.html">cpuid.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mmu_8h.html#a20a41b0166b13eb22b15786964f5de9d">rsvd_bits</a>(<a class="code" href="cpuid_8h.html#a1678e00b10264045277c1abfcb6eec3e">cpuid_maxphyaddr</a>(vcpu), 63);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_a1678e00b10264045277c1abfcb6eec3e"><div class="ttname"><a href="cpuid_8h.html#a1678e00b10264045277c1abfcb6eec3e">cpuid_maxphyaddr</a></div><div class="ttdeci">static int cpuid_maxphyaddr(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00040">cpuid.h:40</a></div></div>
<div class="ttc" id="ammu_8h_html_a20a41b0166b13eb22b15786964f5de9d"><div class="ttname"><a href="mmu_8h.html#a20a41b0166b13eb22b15786964f5de9d">rsvd_bits</a></div><div class="ttdeci">static __always_inline u64 rsvd_bits(int s, int e)</div><div class="ttdef"><b>Definition:</b> <a href="mmu_8h_source.html#l00045">mmu.h:45</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a8bf272b370f8a27bb68bf5bf9e5ae7d5_cgraph.png" border="0" usemap="#acpuid_8h_a8bf272b370f8a27bb68bf5bf9e5ae7d5_cgraph" alt=""/></div>
<map name="acpuid_8h_a8bf272b370f8a27bb68bf5bf9e5ae7d5_cgraph" id="acpuid_8h_a8bf272b370f8a27bb68bf5bf9e5ae7d5_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,189,65"/>
<area shape="rect" href="cpuid_8h.html#a1678e00b10264045277c1abfcb6eec3e" title=" " alt="" coords="237,5,384,32"/>
<area shape="rect" href="mmu_8h.html#a20a41b0166b13eb22b15786964f5de9d" title=" " alt="" coords="270,56,351,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a8bf272b370f8a27bb68bf5bf9e5ae7d5_icgraph.png" border="0" usemap="#acpuid_8h_a8bf272b370f8a27bb68bf5bf9e5ae7d5_icgraph" alt=""/></div>
<map name="acpuid_8h_a8bf272b370f8a27bb68bf5bf9e5ae7d5_icgraph" id="acpuid_8h_a8bf272b370f8a27bb68bf5bf9e5ae7d5_icgraph">
<area shape="rect" title=" " alt="" coords="1309,125,1493,166"/>
<area shape="rect" href="x86_8c.html#ae2ebf37d8daf1a8b43a9823bae4ab32b" title=" " alt="" coords="1089,5,1261,32"/>
<area shape="rect" href="mtrr_8c.html#a81a164c2615ef1c0fc231d71e5ba9a53" title=" " alt="" coords="1102,56,1249,83"/>
<area shape="rect" href="mtrr_8c.html#a1775807b30fdd1d17a4fb9f1f82a6aab" title=" " alt="" coords="1113,107,1238,133"/>
<area shape="rect" href="lapic_8h.html#a9d9f2a266299bc56c932735db94816d5" title=" " alt="" coords="1100,208,1251,235"/>
<area shape="rect" href="cpuid_8c.html#ae8f7489a3e05a9bcd5dfdae82c33d618" title=" " alt="" coords="1099,285,1252,326"/>
<area shape="rect" href="mtrr_8c.html#ae76247135f576f78a7740ff82f92b10c" title=" " alt="" coords="1107,157,1244,184"/>
<area shape="rect" href="kvm__main_8c.html#ab8870469dadfadf9a204346c62016293" title=" " alt="" coords="841,5,1041,32"/>
<area shape="rect" href="x86_8c.html#a0e93cb5e88dc8c07d9357181a3a7b2e9" title=" " alt="" coords="854,56,1029,83"/>
<area shape="rect" href="svm_8c.html#a091db4f6d8d0fc811fdd6d9b2a775889" title=" " alt="" coords="651,5,761,32"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="651,56,761,83"/>
<area shape="rect" href="mtrr_8c.html#a2b95f238c68e317e64e57d06f2a698dd" title=" " alt="" coords="869,107,1014,133"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="619,107,793,133"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="451,44,532,71"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="437,95,546,121"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="436,145,547,172"/>
<area shape="rect" href="x86_8c.html#ad6dd5b8847ecb92fe36f8dabdac40b08" title=" " alt="" coords="860,208,1023,235"/>
<area shape="rect" href="x86_8c.html#ac766943d4a9d3c7a489012c02e25be54" title=" " alt="" coords="657,196,755,223"/>
<area shape="rect" href="x86_8c.html#a48bee74c7062ceb8db0b0fa3beebfbbc" title=" " alt="" coords="653,247,759,273"/>
<area shape="rect" href="x86_8c.html#adfaccb9ae903e8b5aee77f8591d51dc9" title=" " alt="" coords="191,189,350,230"/>
<area shape="rect" href="x86_8c.html#ade4b46f56f9ee72375fa967f97e62b56" title=" " alt="" coords="448,251,535,277"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,255,129,281"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="177,255,364,281"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="412,305,571,332"/>
<area shape="rect" href="cpuid_8c.html#a0ff60eac33c1bf95a3889674e34251ad" title=" " alt="" coords="881,305,1001,332"/>
<area shape="rect" href="cpuid_8c.html#a5066ac0b188677d15925709568a91c9d" title=" " alt="" coords="631,298,781,339"/>
<area shape="rect" href="cpuid_8c.html#ad4dde50a2939106abd2baf99683ac139" title=" " alt="" coords="631,363,781,405"/>
</map>
</div>

</div>
</div>
<a id="a324c2cf2152bc998a4e85165ee805f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a324c2cf2152bc998a4e85165ee805f83">&#9670;&nbsp;</a></span>page_address_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool page_address_valid </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpa_t&#160;</td>
          <td class="paramname"><em>gpa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00056">56</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cpuid_8h.html#a5468d9b5cbcb2f7a464c1fdfae1801a5">kvm_vcpu_is_legal_aligned_gpa</a>(vcpu, gpa, PAGE_SIZE);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_a5468d9b5cbcb2f7a464c1fdfae1801a5"><div class="ttname"><a href="cpuid_8h.html#a5468d9b5cbcb2f7a464c1fdfae1801a5">kvm_vcpu_is_legal_aligned_gpa</a></div><div class="ttdeci">static bool kvm_vcpu_is_legal_aligned_gpa(struct kvm_vcpu *vcpu, gpa_t gpa, gpa_t alignment)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00050">cpuid.h:50</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a324c2cf2152bc998a4e85165ee805f83_cgraph.png" border="0" usemap="#acpuid_8h_a324c2cf2152bc998a4e85165ee805f83_cgraph" alt=""/></div>
<map name="acpuid_8h_a324c2cf2152bc998a4e85165ee805f83_cgraph" id="acpuid_8h_a324c2cf2152bc998a4e85165ee805f83_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,156,32"/>
<area shape="rect" href="cpuid_8h.html#a5468d9b5cbcb2f7a464c1fdfae1801a5" title=" " alt="" coords="204,5,436,32"/>
<area shape="rect" href="cpuid_8h.html#a79ede0627c3b2d96bb1e5c0ff8e98cd0" title=" " alt="" coords="484,5,661,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a324c2cf2152bc998a4e85165ee805f83_icgraph.png" border="0" usemap="#acpuid_8h_a324c2cf2152bc998a4e85165ee805f83_icgraph" alt=""/></div>
<map name="acpuid_8h_a324c2cf2152bc998a4e85165ee805f83_icgraph" id="acpuid_8h_a324c2cf2152bc998a4e85165ee805f83_icgraph">
<area shape="rect" title=" " alt="" coords="1571,412,1721,439"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3473bc074c4b59fe28597bd275c7668" title=" " alt="" coords="847,37,973,64"/>
<area shape="rect" href="vmx_2nested_8c.html#a0d98c8746dea3af0e50611aa851e01d9" title=" " alt="" coords="1104,88,1228,115"/>
<area shape="rect" href="vmx_2nested_8c.html#acfc614b787620aa3ea5f48ed247cfe30" title=" " alt="" coords="851,139,969,165"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1061,469,1271,510"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,215,759,241"/>
<area shape="rect" href="vmx_2nested_8c.html#a4fa642a40472c8cb6408c30f10e93be7" title=" " alt="" coords="1330,306,1511,347"/>
<area shape="rect" href="vmx_2nested_8c.html#af6ea36b16075218f55f7c3a9c745d633" title=" " alt="" coords="1337,371,1504,413"/>
<area shape="rect" href="vmx_2nested_8c.html#ab6ca9c721b03e5956849a83f4145b3d3" title=" " alt="" coords="1331,437,1510,478"/>
<area shape="rect" href="vmx_2nested_8c.html#a0cee42406db9df08ec06a960fb9c732f" title=" " alt="" coords="1331,502,1510,543"/>
<area shape="rect" href="vmx_2nested_8c.html#a4fc8c438d2338f3fd0d3bfa71f08a8ea" title=" " alt="" coords="1319,567,1523,609"/>
<area shape="rect" href="vmx_2nested_8c.html#ae599fad0f0739484a7e04b47d50836c3" title=" " alt="" coords="1335,633,1507,674"/>
<area shape="rect" href="vmx_2nested_8c.html#af3ac0e639a9f3b73dbcc84c7aeaeb5cb" title=" " alt="" coords="1326,241,1515,282"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="1366,749,1475,776"/>
<area shape="rect" href="svm_2nested_8c.html#a8bac395de612ca2b748016c6f5ea0fef" title=" " alt="" coords="1337,800,1505,827"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,131,351,173"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,139,132,165"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,291,1013,317"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,265,739,292"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,259,539,285"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,196,541,223"/>
<area shape="rect" href="vmx_2nested_8c.html#a926c867f33af4ad620f2cbeaa310a7eb" title=" " alt="" coords="1071,241,1261,282"/>
</map>
</div>

</div>
</div>
<a id="a0f86e383596ed59413757a8502625f31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f86e383596ed59413757a8502625f31">&#9670;&nbsp;</a></span>supports_cpuid_fault()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool supports_cpuid_fault </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8h_source.html#l00186">186</a> of file <a class="el" href="cpuid_8h_source.html">cpuid.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;{</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">return</span> vcpu-&gt;arch.msr_platform_info &amp; MSR_PLATFORM_INFO_CPUID_FAULT;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_a0f86e383596ed59413757a8502625f31_icgraph.png" border="0" usemap="#acpuid_8h_a0f86e383596ed59413757a8502625f31_icgraph" alt=""/></div>
<map name="acpuid_8h_a0f86e383596ed59413757a8502625f31_icgraph" id="acpuid_8h_a0f86e383596ed59413757a8502625f31_icgraph">
<area shape="rect" title=" " alt="" coords="387,56,544,83"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="164,56,339,83"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="20,5,101,32"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="6,56,115,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,107,116,133"/>
</map>
</div>

</div>
</div>
<a id="aad06d21707fd0abb109028612ea7514c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad06d21707fd0abb109028612ea7514c">&#9670;&nbsp;</a></span>xstate_required_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32 xstate_required_size </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>xstate_bv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>compacted</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8c_source.html#l00039">39</a> of file <a class="el" href="cpuid_8c_source.html">cpuid.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;{</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="reverse__cpuid_8h.html#a631fce724f1a93c2eb164f640a5d3876">feature_bit</a> = 0;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    u32 ret = XSAVE_HDR_SIZE + XSAVE_HDR_OFFSET;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    xstate_bv &amp;= XFEATURE_MASK_EXTEND;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">while</span> (xstate_bv) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordflow">if</span> (xstate_bv &amp; 0x1) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                u32 eax, ebx, ecx, edx, offset;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                cpuid_count(0xD, <a class="code" href="reverse__cpuid_8h.html#a631fce724f1a93c2eb164f640a5d3876">feature_bit</a>, &amp;eax, &amp;ebx, &amp;ecx, &amp;edx);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <span class="comment">/* ECX[1]: 64B alignment in compacted form */</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <span class="keywordflow">if</span> (compacted)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                offset = (ecx &amp; 0x2) ? ALIGN(ret, 64) : ret;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                offset = ebx;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            ret = max(ret, offset + eax);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        xstate_bv &gt;&gt;= 1;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <a class="code" href="reverse__cpuid_8h.html#a631fce724f1a93c2eb164f640a5d3876">feature_bit</a>++;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="ttc" id="areverse__cpuid_8h_html_a631fce724f1a93c2eb164f640a5d3876"><div class="ttname"><a href="reverse__cpuid_8h.html#a631fce724f1a93c2eb164f640a5d3876">feature_bit</a></div><div class="ttdeci">#define feature_bit(name)</div><div class="ttdef"><b>Definition:</b> <a href="reverse__cpuid_8h_source.html#l00156">reverse_cpuid.h:156</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cpuid_8h_aad06d21707fd0abb109028612ea7514c_icgraph.png" border="0" usemap="#acpuid_8h_aad06d21707fd0abb109028612ea7514c_icgraph" alt=""/></div>
<map name="acpuid_8h_aad06d21707fd0abb109028612ea7514c_icgraph" id="acpuid_8h_aad06d21707fd0abb109028612ea7514c_icgraph">
<area shape="rect" title=" " alt="" coords="1619,461,1776,488"/>
<area shape="rect" href="cpuid_8c.html#ac91da0391b283d7527a8b33206fe03dd" title=" " alt="" coords="1427,379,1556,405"/>
<area shape="rect" href="cpuid_8c.html#aba2a2f99dbe3b8848b6ffc19effa6294" title=" " alt="" coords="1412,454,1571,495"/>
<area shape="rect" href="x86_8c.html#a18efe0d4e70bef9cae70344f31f47cff" title=" " alt="" coords="1412,566,1571,607"/>
<area shape="rect" href="cpuid_8c.html#a652f54573475d1818402ab58329c340c" title=" " alt="" coords="1205,207,1320,233"/>
<area shape="rect" href="cpuid_8c.html#a1e952716ba7f46eb64f00d8a59c2be8d" title=" " alt="" coords="963,87,1083,113"/>
<area shape="rect" href="cpuid_8c.html#ac74b10a6f6a1e67ef54c48e55473ff07" title=" " alt="" coords="699,43,885,69"/>
<area shape="rect" href="x86_8c.html#a05ad3b4bc56bfbca86cf49699ca69f5f" title=" " alt="" coords="465,5,617,32"/>
<area shape="rect" href="cpuid_8c.html#a0ff60eac33c1bf95a3889674e34251ad" title=" " alt="" coords="732,129,852,156"/>
<area shape="rect" href="cpuid_8c.html#a537512099e11c7ab0553aeae5e38d9ea" title=" " alt="" coords="1161,535,1364,561"/>
<area shape="rect" href="cpuid_8c.html#a5066ac0b188677d15925709568a91c9d" title=" " alt="" coords="465,57,616,98"/>
<area shape="rect" href="cpuid_8c.html#ad4dde50a2939106abd2baf99683ac139" title=" " alt="" coords="465,122,616,163"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="207,163,366,189"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="12,163,136,189"/>
<area shape="rect" href="x86_8c.html#a8543429a9ca5c6d3d88560ccd84bbccd" title=" " alt="" coords="733,369,851,396"/>
<area shape="rect" href="smm_8c.html#ae1445727a8459a6cc7d2e49e5a63c0d5" title=" " alt="" coords="975,496,1071,523"/>
<area shape="rect" href="lapic_8c.html#a8d747385873e52f47e85179c21521e73" title=" " alt="" coords="946,433,1101,460"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="453,572,628,599"/>
<area shape="rect" href="sev_8c.html#aeb0279b2cc9c76c69ffcca8eb578b33f" title=" " alt="" coords="933,623,1113,649"/>
<area shape="rect" href="svm_8c.html#aec23ca96447aab4ff19f594a297bc109" title=" " alt="" coords="971,724,1075,751"/>
<area shape="rect" href="vmx_8c.html#adda41e5ad7d9839a1fd3e01efc608c37" title=" " alt="" coords="971,901,1076,928"/>
<area shape="rect" href="x86_8c.html#aa5087b536be3ec29dc352f8062f744f5" title=" " alt="" coords="473,319,608,345"/>
<area shape="rect" href="x86_8c.html#ab9b558d7e5dcf9150cf853e009cce971" title=" " alt="" coords="459,369,622,396"/>
<area shape="rect" href="x86_8c.html#a388b875e496f0b87b5c551430b8cf436" title=" " alt="" coords="463,253,618,294"/>
<area shape="rect" href="x86_8c.html#a2694456104c02a7204796d89d13a1e91" title=" " alt="" coords="476,420,605,447"/>
<area shape="rect" href="lapic_8c.html#a27836a2bcd51ebcfe2ca478e9ad7aa04" title=" " alt="" coords="193,319,380,345"/>
<area shape="rect" href="x86_8c.html#ae2ebf37d8daf1a8b43a9823bae4ab32b" title=" " alt="" coords="201,369,373,396"/>
<area shape="rect" href="svm_8c.html#a2ca2b108d5447ed4093cb0b07092b07d" title=" " alt="" coords="201,420,372,447"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="5,399,143,425"/>
<area shape="rect" href="x86_8c.html#a2b372d06c72b7d8c25e9004bb3a3fd3b" title=" " alt="" coords="201,471,372,513"/>
<area shape="rect" href="lapic_8c.html#a4768d4990380510ec220c3e510d32598" title=" " alt="" coords="716,256,868,283"/>
<area shape="rect" href="lapic_8c.html#a8b8a5d87df5283a20e9aa9b828320552" title=" " alt="" coords="727,420,857,447"/>
<area shape="rect" href="lapic_8h.html#a9d9f2a266299bc56c932735db94816d5" title=" " alt="" coords="717,521,867,548"/>
<area shape="rect" href="x86_8c.html#a4426192bd0d8288db892f9fcbf4577b9" title=" " alt="" coords="465,187,616,229"/>
<area shape="rect" href="x86_8c.html#ad6dd5b8847ecb92fe36f8dabdac40b08" title=" " alt="" coords="459,521,622,548"/>
<area shape="rect" href="svm_8c.html#acb46126747f78036462437a7bcdc2e47" title=" " alt="" coords="246,537,327,564"/>
<area shape="rect" href="svm_8c.html#aac18b9094154a2c8b8e27c3b08c9e359" title=" " alt="" coords="232,588,341,615"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="231,639,342,665"/>
<area shape="rect" href="sev_8c.html#aac550422551b71c0afe8efe176e0b55d" title=" " alt="" coords="713,623,871,649"/>
<area shape="rect" href="svm_8c.html#af4590239d3e0b5fbad189a245207dfaa" title=" " alt="" coords="507,699,574,725"/>
<area shape="rect" href="svm_2nested_8c.html#a73d1cb9b9fcfa112138681d9080a1c05" title=" " alt="" coords="463,763,618,789"/>
<area shape="rect" href="svm_2nested_8c.html#ae734b89c5cf3a889380d8136e2ed749e" title=" " alt="" coords="431,820,651,847"/>
<area shape="rect" href="svm_8c.html#a1a9474f1273be079ac4f3c1320093c3d" title=" " alt="" coords="740,724,844,751"/>
<area shape="rect" href="svm_2nested_8c.html#a777240cb9ab00451d21a1b204e19c5a6" title=" " alt="" coords="191,763,383,789"/>
<area shape="rect" href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0" title=" " alt="" coords="449,880,632,907"/>
<area shape="rect" href="vmx_2nested_8c.html#a001f930db9a867e828cf01b48d3e4e25" title=" " alt="" coords="463,939,618,981"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="475,1023,606,1049"/>
<area shape="rect" href="vmx_8c.html#acf9f5acdb0b2a5b2778c853846cfa09f" title=" " alt="" coords="739,927,845,953"/>
<area shape="rect" href="kvm__main_8c.html#af05b1274e9e33570d11f7f98bee8b839" title=" " alt="" coords="1183,659,1342,701"/>
<area shape="rect" href="kvm__main_8c.html#aaeec02d207c8ce5ca12b1ef2ac36fae0" title=" " alt="" coords="941,953,1106,994"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3f87d0caeb64feff3b9b177c32ba3ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f87d0caeb64feff3b9b177c32ba3ed1">&#9670;&nbsp;</a></span>__read_mostly</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32 kvm_cpu_caps [<a class="el" href="reverse__cpuid_8h.html#a33165a02505466212d27a517cc779d19a44bab4a663c0c6145b025d34e59c2556">NR_KVM_CPU_CAPS</a>] __read_mostly</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cpuid_8c_source.html#l00036">36</a> of file <a class="el" href="cpuid_8c_source.html">cpuid.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
