<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KVM: arch/x86/kvm/mmu/tdp_iter.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ea9599923402ca8ab47fc3e495999dea.html">arch</a></li><li class="navelem"><a class="el" href="dir_c21774f8bc9f0de15163573e5f5fa2b5.html">x86</a></li><li class="navelem"><a class="el" href="dir_fde450fd4b58e2560c53a1e73bfa4d6d.html">kvm</a></li><li class="navelem"><a class="el" href="dir_5b5419bab78eb3e26ed0c43edf6fed27.html">mmu</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tdp_iter.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="mmu__internal_8h_source.html">mmu_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tdp__iter_8h_source.html">tdp_iter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="spte_8h_source.html">spte.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tdp_iter.c:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c__incl.png" border="0" usemap="#aarch_2x86_2kvm_2mmu_2tdp__iter_8c" alt=""/></div>
<map name="aarch_2x86_2kvm_2mmu_2tdp__iter_8c" id="aarch_2x86_2kvm_2mmu_2tdp__iter_8c">
<area shape="rect" title=" " alt="" coords="189,5,363,47"/>
<area shape="rect" href="mmu__internal_8h.html" title=" " alt="" coords="153,244,279,271"/>
<area shape="rect" href="tdp__iter_8h.html" title=" " alt="" coords="313,95,396,121"/>
<area shape="rect" href="spte_8h.html" title=" " alt="" coords="254,169,317,196"/>
<area shape="rect" title=" " alt="" coords="5,319,112,345"/>
<area shape="rect" title=" " alt="" coords="338,543,473,569"/>
<area shape="rect" title=" " alt="" coords="187,319,317,345"/>
<area shape="rect" href="mmu_8h.html" title=" " alt="" coords="393,244,461,271"/>
<area shape="rect" href="kvm__cache__regs_8h.html" title=" " alt="" coords="443,468,586,495"/>
<area shape="rect" href="cpuid_8h.html" title=" " alt="" coords="1385,319,1455,345"/>
<area shape="rect" href="x86_8h.html" title=" " alt="" coords="836,393,895,420"/>
<area shape="rect" href="reverse__cpuid_8h.html" title=" " alt="" coords="1225,393,1351,420"/>
<area shape="rect" title=" " alt="" coords="1375,393,1465,420"/>
<area shape="rect" title=" " alt="" coords="1489,393,1617,420"/>
<area shape="rect" title=" " alt="" coords="1641,393,1804,420"/>
<area shape="rect" href="governed__features_8h.html" title=" " alt="" coords="1829,393,1985,420"/>
<area shape="rect" title=" " alt="" coords="662,468,794,495"/>
<area shape="rect" title=" " alt="" coords="818,468,913,495"/>
<area shape="rect" title=" " alt="" coords="937,468,1053,495"/>
<area shape="rect" href="kvm__emulate_8h.html" title=" " alt="" coords="1077,468,1201,495"/>
<area shape="rect" title=" " alt="" coords="1015,543,1145,569"/>
<area shape="rect" href="fpu_8h.html" title=" " alt="" coords="1170,543,1225,569"/>
<area shape="rect" title=" " alt="" coords="1142,617,1253,644"/>
<area shape="rect" title=" " alt="" coords="1225,468,1351,495"/>
<area shape="rect" title=" " alt="" coords="1376,468,1512,495"/>
<area shape="rect" title=" " alt="" coords="1537,468,1679,495"/>
</map>
</div>
</div>
<p><a href="tdp__iter_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1f8c165bf4196327bc3abff648276d92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8c.html#a1f8c165bf4196327bc3abff648276d92">pr_fmt</a>(fmt)&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td></tr>
<tr class="separator:a1f8c165bf4196327bc3abff648276d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac7e4487519442c765c89b1ac081fed2e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e">tdp_iter_refresh_sptep</a> (struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *iter)</td></tr>
<tr class="separator:ac7e4487519442c765c89b1ac081fed2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4b66dc30c8f261c500b78382bd3c73f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8c.html#af4b66dc30c8f261c500b78382bd3c73f">tdp_iter_restart</a> (struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *iter)</td></tr>
<tr class="separator:af4b66dc30c8f261c500b78382bd3c73f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab290f5fe97e3911e3861f3c6035279b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8c.html#ab290f5fe97e3911e3861f3c6035279b9">tdp_iter_start</a> (struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *iter, struct <a class="el" href="structkvm__mmu__page.html">kvm_mmu_page</a> *root, int min_level, gfn_t next_last_level_gfn)</td></tr>
<tr class="separator:ab290f5fe97e3911e3861f3c6035279b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae565103c187af07e69eb2f29b180b977"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8c.html#ae565103c187af07e69eb2f29b180b977">spte_to_child_pt</a> (u64 spte, int level)</td></tr>
<tr class="separator:ae565103c187af07e69eb2f29b180b977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac33361f92b725eb2260a76750b57e820"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8c.html#ac33361f92b725eb2260a76750b57e820">try_step_down</a> (struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *iter)</td></tr>
<tr class="separator:ac33361f92b725eb2260a76750b57e820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63153e1d0a5d399bbdb49826be88d49f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8c.html#a63153e1d0a5d399bbdb49826be88d49f">try_step_side</a> (struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *iter)</td></tr>
<tr class="separator:a63153e1d0a5d399bbdb49826be88d49f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c7652570e5b5290b9ad645630208b4f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8c.html#a2c7652570e5b5290b9ad645630208b4f">try_step_up</a> (struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *iter)</td></tr>
<tr class="separator:a2c7652570e5b5290b9ad645630208b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8acf7109400135dbba38aced135d44d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tdp__iter_8c.html#a8acf7109400135dbba38aced135d44d8">tdp_iter_next</a> (struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *iter)</td></tr>
<tr class="separator:a8acf7109400135dbba38aced135d44d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1f8c165bf4196327bc3abff648276d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8c165bf4196327bc3abff648276d92">&#9670;&nbsp;</a></span>pr_fmt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pr_fmt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt</td><td>)</td>
          <td>&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8c_source.html#l00002">2</a> of file <a class="el" href="tdp__iter_8c_source.html">tdp_iter.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae565103c187af07e69eb2f29b180b977"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae565103c187af07e69eb2f29b180b977">&#9670;&nbsp;</a></span>spte_to_child_pt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a> spte_to_child_pt </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>spte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8c_source.html#l00062">62</a> of file <a class="el" href="tdp__iter_8c_source.html">tdp_iter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">     * There&#39;s no child entry if this entry isn&#39;t present or is a</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">     * last-level entry.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686">is_shadow_present_pte</a>(spte) || <a class="code" href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5">is_last_spte</a>(spte, level))</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a>)__va(<a class="code" href="spte_8h.html#a88a720d39abac3aee2f63e03a20e8abd">spte_to_pfn</a>(spte) &lt;&lt; PAGE_SHIFT);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
<div class="ttc" id="ammu__internal_8h_html_a6798167b4e223d54b53a69a2c3c892c3"><div class="ttname"><a href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a></div><div class="ttdeci">u64 __rcu * tdp_ptep_t</div><div class="ttdef"><b>Definition:</b> <a href="mmu__internal_8h_source.html#l00050">mmu_internal.h:50</a></div></div>
<div class="ttc" id="aspte_8h_html_a785ce7507ac8cabfb2a667ed0c57b1f5"><div class="ttname"><a href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5">is_last_spte</a></div><div class="ttdeci">static bool is_last_spte(u64 pte, int level)</div><div class="ttdef"><b>Definition:</b> <a href="spte_8h_source.html#l00318">spte.h:318</a></div></div>
<div class="ttc" id="aspte_8h_html_a7d73c1cb0114320b9dab8ba78033c686"><div class="ttname"><a href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686">is_shadow_present_pte</a></div><div class="ttdeci">static bool is_shadow_present_pte(u64 pte)</div><div class="ttdef"><b>Definition:</b> <a href="spte_8h_source.html#l00258">spte.h:258</a></div></div>
<div class="ttc" id="aspte_8h_html_a88a720d39abac3aee2f63e03a20e8abd"><div class="ttname"><a href="spte_8h.html#a88a720d39abac3aee2f63e03a20e8abd">spte_to_pfn</a></div><div class="ttdeci">static kvm_pfn_t spte_to_pfn(u64 pte)</div><div class="ttdef"><b>Definition:</b> <a href="spte_8h_source.html#l00328">spte.h:328</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c_ae565103c187af07e69eb2f29b180b977_cgraph.png" border="0" usemap="#atdp__iter_8c_ae565103c187af07e69eb2f29b180b977_cgraph" alt=""/></div>
<map name="atdp__iter_8c_ae565103c187af07e69eb2f29b180b977_cgraph" id="atdp__iter_8c_ae565103c187af07e69eb2f29b180b977_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,133,83"/>
<area shape="rect" href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5" title=" " alt="" coords="219,5,318,32"/>
<area shape="rect" href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686" title=" " alt="" coords="181,56,356,83"/>
<area shape="rect" href="spte_8h.html#a88a720d39abac3aee2f63e03a20e8abd" title=" " alt="" coords="219,107,318,133"/>
<area shape="rect" href="spte_8h.html#ae9b1a94fccf74f0837e1a775bc57d729" title=" " alt="" coords="404,5,505,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c_ae565103c187af07e69eb2f29b180b977_icgraph.png" border="0" usemap="#atdp__iter_8c_ae565103c187af07e69eb2f29b180b977_icgraph" alt=""/></div>
<map name="atdp__iter_8c_ae565103c187af07e69eb2f29b180b977_icgraph" id="atdp__iter_8c_ae565103c187af07e69eb2f29b180b977_icgraph">
<area shape="rect" title=" " alt="" coords="1947,294,2075,321"/>
<area shape="rect" href="tdp__mmu_8c.html#a95692dd1daa13effa90e042a8a7057af" title=" " alt="" coords="1736,243,1899,270"/>
<area shape="rect" href="tdp__iter_8c.html#ac33361f92b725eb2260a76750b57e820" title=" " alt="" coords="1759,319,1876,346"/>
<area shape="rect" href="tdp__mmu_8c.html#ac509299bc28d3b827578915abdb2280e" title=" " alt="" coords="1537,193,1688,219"/>
<area shape="rect" href="tdp__mmu_8c.html#a1880e056251c1743579f5c7a25ccad1a" title=" " alt="" coords="1539,243,1686,270"/>
<area shape="rect" href="tdp__mmu_8c.html#a692eb9d20075258e5d4a0e4289a7c9b6" title=" " alt="" coords="1291,470,1489,497"/>
<area shape="rect" href="tdp__mmu_8c.html#a381e22ee819864cf1fd726479a76b6c7" title=" " alt="" coords="1304,119,1476,146"/>
<area shape="rect" href="tdp__mmu_8c.html#af6444812b70d9509539a3fa478cde14d" title=" " alt="" coords="1303,243,1477,270"/>
<area shape="rect" href="mmu_8c.html#a85202c8f53b11b1c80f9b6e26210aa9a" title=" " alt="" coords="1057,39,1227,80"/>
<area shape="rect" href="mmu_8c.html#a2683113dbbf42e73c2b52410f9ef6f84" title=" " alt="" coords="765,5,981,47"/>
<area shape="rect" href="mmu_8c.html#a13148d5065ef27624701afcaa3229983" title=" " alt="" coords="497,13,680,39"/>
<area shape="rect" href="x86_8c.html#a91673b399129921871f11d0752eea8c3" title=" " alt="" coords="234,13,411,39"/>
<area shape="rect" href="tdp__mmu_8c.html#af9c34fae0b7eac63cc78a01882498cfb" title=" " alt="" coords="1061,314,1223,341"/>
<area shape="rect" href="tdp__mmu_8c.html#a01bf8752c61ddeae2878ef46d312e00c" title=" " alt="" coords="1089,243,1195,270"/>
<area shape="rect" href="tdp__mmu_8c.html#a6588b054500f580603f94c0555fe3c06" title=" " alt="" coords="1073,394,1211,421"/>
<area shape="rect" href="tdp__mmu_8c.html#a182ff449fd87f9503148e88c33cff5ac" title=" " alt="" coords="1065,137,1219,163"/>
<area shape="rect" href="tdp__mmu_8c.html#aa07f9d272e2404a5b5392ae7aa175580" title=" " alt="" coords="1074,189,1210,215"/>
<area shape="rect" href="tdp__mmu_8c.html#a95955e5f31399228d6a722fba5a81477" title=" " alt="" coords="799,314,946,341"/>
<area shape="rect" href="tdp__mmu_8c.html#aca0f6025bf55596c80647e3a35997d92" title=" " alt="" coords="502,361,675,387"/>
<area shape="rect" href="tdp__mmu_8c.html#a8ab26f4fb05f388d8bcf04ad89ee6797" title=" " alt="" coords="473,295,704,336"/>
<area shape="rect" href="mmu_8c.html#a6db2d9d04af40584cbde51a2e1f74837" title=" " alt="" coords="250,361,395,387"/>
<area shape="rect" href="tdp__mmu_8c.html#a73432bf42fbb3d43b3e04f88cd92b592" title=" " alt="" coords="220,255,425,282"/>
<area shape="rect" href="mmu_8c.html#abd59fd9785b9b5676841e9706c1c6797" title=" " alt="" coords="234,306,411,333"/>
<area shape="rect" href="tdp__mmu_8c.html#aa53a75612d7b32153949be34f4055144" title=" " alt="" coords="767,243,978,270"/>
<area shape="rect" href="mmu_8c.html#a978186d69e4a1b753b9650294d80ca7d" title=" " alt="" coords="518,243,659,270"/>
<area shape="rect" href="tdp__mmu_8c.html#ad2479228afe629631e4f0331c440a4d6" title=" " alt="" coords="511,478,667,505"/>
<area shape="rect" href="tdp__mmu_8c.html#acf7d062eca8e6190d76f4934c290be61" title=" " alt="" coords="774,377,971,403"/>
<area shape="rect" href="tdp__mmu_8c.html#afa070d8c089f8547cfc2dbafa856e99c" title=" " alt="" coords="509,412,668,453"/>
<area shape="rect" href="tdp__mmu_8c.html#a57310f6ad7e70c13dadcfd30aa71af6d" title=" " alt="" coords="233,412,413,453"/>
<area shape="rect" href="tdp__mmu_8c.html#aaa8f0898db08dd5c9213ac2f8b355501" title=" " alt="" coords="773,71,973,112"/>
<area shape="rect" href="tdp__mmu_8c.html#aa4fb1a66a2bc67f8699e8ddafdd4b1e8" title=" " alt="" coords="778,137,967,163"/>
<area shape="rect" href="mmu_8c.html#aa37fc9ea36d6c97e97d77af76eca5767" title=" " alt="" coords="501,75,676,102"/>
<area shape="rect" href="mmu_8c.html#a8b2588158566c9bb798cdb77760e6446" title=" " alt="" coords="512,126,665,153"/>
<area shape="rect" href="x86_8c.html#ac280f3f33408b1fead3c38127a2ab3e9" title=" " alt="" coords="247,157,398,199"/>
<area shape="rect" href="x86_8c.html#ab61af196de8a3705f59d9915b5eb1a0e" title=" " alt="" coords="224,92,421,133"/>
<area shape="rect" href="tdp__mmu_8c.html#a45fd618d35fb0df14a3401a230f41faa" title=" " alt="" coords="752,187,993,214"/>
<area shape="rect" href="mmu_8c.html#a1f49638b71a482e4b0c3a6af10d0711e" title=" " alt="" coords="493,177,684,219"/>
<area shape="rect" href="tdp__mmu_8c.html#a9da9e7ba01717f85966fc080e86ecb84" title=" " alt="" coords="1061,579,1223,606"/>
<area shape="rect" href="tdp__mmu_8c.html#aa98226578ebe207e97e262a86bbd5427" title=" " alt="" coords="1057,463,1227,504"/>
<area shape="rect" href="tdp__mmu_8c.html#ab901a77cd00a4e809baa9a25e289b59d" title=" " alt="" coords="1041,634,1243,661"/>
<area shape="rect" href="tdp__mmu_8c.html#ae3e523e725021c7dd3f3796f4e074a37" title=" " alt="" coords="1074,529,1210,555"/>
<area shape="rect" href="tdp__mmu_8c.html#a670804848ccec53148d097c06b44657c" title=" " alt="" coords="759,579,986,606"/>
<area shape="rect" href="mmu_8c.html#acb92068f6e948846797ac6814b3618f1" title=" " alt="" coords="225,572,420,613"/>
<area shape="rect" href="x86_8c.html#a9ca94438429f3e85a9b7b6db1ef55252" title=" " alt="" coords="5,572,172,613"/>
<area shape="rect" href="tdp__mmu_8c.html#ac72a38de4d0b8a5cfeace82f10cc4caf" title=" " alt="" coords="794,632,951,673"/>
<area shape="rect" href="tdp__mmu_8c.html#a3a86994ba17144f60df37ea7682d650b" title=" " alt="" coords="475,633,702,675"/>
<area shape="rect" href="mmu_8c.html#a35da5538a61de05522efdad8f615df4f" title=" " alt="" coords="223,637,422,679"/>
<area shape="rect" href="tdp__mmu_8c.html#a7f6c658f3ddf3ffac5ce96335b78e295" title=" " alt="" coords="773,529,973,555"/>
<area shape="rect" href="mmu_8c.html#a168b7814e68a545abd8bf00fc4466610" title=" " alt="" coords="233,507,413,548"/>
<area shape="rect" href="tdp__iter_8c.html#a8acf7109400135dbba38aced135d44d8" title=" " alt="" coords="1559,345,1667,371"/>
</map>
</div>

</div>
</div>
<a id="a8acf7109400135dbba38aced135d44d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8acf7109400135dbba38aced135d44d8">&#9670;&nbsp;</a></span>tdp_iter_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tdp_iter_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8c_source.html#l00161">161</a> of file <a class="el" href="tdp__iter_8c_source.html">tdp_iter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structtdp__iter.html#a983cb7057ab9ba3c1e3984ce5cd4e295">yielded</a>) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="tdp__iter_8c.html#af4b66dc30c8f261c500b78382bd3c73f">tdp_iter_restart</a>(iter);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tdp__iter_8c.html#ac33361f92b725eb2260a76750b57e820">try_step_down</a>(iter))</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tdp__iter_8c.html#a63153e1d0a5d399bbdb49826be88d49f">try_step_side</a>(iter))</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="tdp__iter_8c.html#a2c7652570e5b5290b9ad645630208b4f">try_step_up</a>(iter));</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#afdce20293ace648a92fc5eea88f59b4c">valid</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="ttc" id="astructtdp__iter_html_a983cb7057ab9ba3c1e3984ce5cd4e295"><div class="ttname"><a href="structtdp__iter.html#a983cb7057ab9ba3c1e3984ce5cd4e295">tdp_iter::yielded</a></div><div class="ttdeci">bool yielded</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00116">tdp_iter.h:116</a></div></div>
<div class="ttc" id="astructtdp__iter_html_afdce20293ace648a92fc5eea88f59b4c"><div class="ttname"><a href="structtdp__iter.html#afdce20293ace648a92fc5eea88f59b4c">tdp_iter::valid</a></div><div class="ttdeci">bool valid</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00110">tdp_iter.h:110</a></div></div>
<div class="ttc" id="atdp__iter_8c_html_a2c7652570e5b5290b9ad645630208b4f"><div class="ttname"><a href="tdp__iter_8c.html#a2c7652570e5b5290b9ad645630208b4f">try_step_up</a></div><div class="ttdeci">static bool try_step_up(struct tdp_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8c_source.html#l00133">tdp_iter.c:133</a></div></div>
<div class="ttc" id="atdp__iter_8c_html_a63153e1d0a5d399bbdb49826be88d49f"><div class="ttname"><a href="tdp__iter_8c.html#a63153e1d0a5d399bbdb49826be88d49f">try_step_side</a></div><div class="ttdeci">static bool try_step_side(struct tdp_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8c_source.html#l00110">tdp_iter.c:110</a></div></div>
<div class="ttc" id="atdp__iter_8c_html_ac33361f92b725eb2260a76750b57e820"><div class="ttname"><a href="tdp__iter_8c.html#ac33361f92b725eb2260a76750b57e820">try_step_down</a></div><div class="ttdeci">static bool try_step_down(struct tdp_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8c_source.html#l00078">tdp_iter.c:78</a></div></div>
<div class="ttc" id="atdp__iter_8c_html_af4b66dc30c8f261c500b78382bd3c73f"><div class="ttname"><a href="tdp__iter_8c.html#af4b66dc30c8f261c500b78382bd3c73f">tdp_iter_restart</a></div><div class="ttdeci">void tdp_iter_restart(struct tdp_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8c_source.html#l00023">tdp_iter.c:23</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c_a8acf7109400135dbba38aced135d44d8_cgraph.png" border="0" usemap="#atdp__iter_8c_a8acf7109400135dbba38aced135d44d8_cgraph" alt=""/></div>
<map name="atdp__iter_8c_a8acf7109400135dbba38aced135d44d8_cgraph" id="atdp__iter_8c_a8acf7109400135dbba38aced135d44d8_cgraph">
<area shape="rect" title=" " alt="" coords="5,183,113,209"/>
<area shape="rect" href="tdp__iter_8c.html#af4b66dc30c8f261c500b78382bd3c73f" title=" " alt="" coords="161,208,284,235"/>
<area shape="rect" href="tdp__iter_8c.html#ac33361f92b725eb2260a76750b57e820" title=" " alt="" coords="164,107,281,133"/>
<area shape="rect" href="tdp__iter_8c.html#a63153e1d0a5d399bbdb49826be88d49f" title=" " alt="" coords="361,259,471,285"/>
<area shape="rect" href="tdp__iter_8c.html#a2c7652570e5b5290b9ad645630208b4f" title=" " alt="" coords="173,157,272,184"/>
<area shape="rect" href="mmu__internal_8h.html#a8805295a6f11129455d5b87a86fd3db5" title=" " alt="" coords="341,208,491,235"/>
<area shape="rect" href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e" title=" " alt="" coords="332,157,500,184"/>
<area shape="rect" href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768" title=" " alt="" coords="548,157,739,184"/>
<area shape="rect" href="tdp__iter_8c.html#ae565103c187af07e69eb2f29b180b977" title=" " alt="" coords="352,56,480,83"/>
<area shape="rect" href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5" title=" " alt="" coords="594,5,693,32"/>
<area shape="rect" href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686" title=" " alt="" coords="556,56,731,83"/>
<area shape="rect" href="spte_8h.html#a88a720d39abac3aee2f63e03a20e8abd" title=" " alt="" coords="594,107,693,133"/>
<area shape="rect" href="spte_8h.html#ae9b1a94fccf74f0837e1a775bc57d729" title=" " alt="" coords="787,5,888,32"/>
</map>
</div>

</div>
</div>
<a id="ac7e4487519442c765c89b1ac081fed2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7e4487519442c765c89b1ac081fed2e">&#9670;&nbsp;</a></span>tdp_iter_refresh_sptep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tdp_iter_refresh_sptep </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8c_source.html#l00012">12</a> of file <a class="el" href="tdp__iter_8c_source.html">tdp_iter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;{</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a869c59866a73015fdc7bb34b2ce8ed1b">sptep</a> = iter-&gt;<a class="code" href="structtdp__iter.html#a0002405591df92db81e563b4ef23c631">pt_path</a>[iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a> - 1] +</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;        <a class="code" href="spte_8h.html#aca9400a358bf907b576059ae68c72022">SPTE_INDEX</a>(iter-&gt;<a class="code" href="structtdp__iter.html#a5d152c98e3bfe241c7f4ebeacbfd2627">gfn</a> &lt;&lt; PAGE_SHIFT, iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a>);</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#ac3633464e37fa08393128005c46de911">old_spte</a> = <a class="code" href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768">kvm_tdp_mmu_read_spte</a>(iter-&gt;<a class="code" href="structtdp__iter.html#a869c59866a73015fdc7bb34b2ce8ed1b">sptep</a>);</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;}</div>
<div class="ttc" id="aspte_8h_html_aca9400a358bf907b576059ae68c72022"><div class="ttname"><a href="spte_8h.html#aca9400a358bf907b576059ae68c72022">SPTE_INDEX</a></div><div class="ttdeci">#define SPTE_INDEX(address, level)</div><div class="ttdef"><b>Definition:</b> <a href="spte_8h_source.html#l00057">spte.h:57</a></div></div>
<div class="ttc" id="astructtdp__iter_html_a0002405591df92db81e563b4ef23c631"><div class="ttname"><a href="structtdp__iter.html#a0002405591df92db81e563b4ef23c631">tdp_iter::pt_path</a></div><div class="ttdeci">tdp_ptep_t pt_path[PT64_ROOT_MAX_LEVEL]</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00091">tdp_iter.h:91</a></div></div>
<div class="ttc" id="astructtdp__iter_html_a5d152c98e3bfe241c7f4ebeacbfd2627"><div class="ttname"><a href="structtdp__iter.html#a5d152c98e3bfe241c7f4ebeacbfd2627">tdp_iter::gfn</a></div><div class="ttdeci">gfn_t gfn</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00095">tdp_iter.h:95</a></div></div>
<div class="ttc" id="astructtdp__iter_html_a869c59866a73015fdc7bb34b2ce8ed1b"><div class="ttname"><a href="structtdp__iter.html#a869c59866a73015fdc7bb34b2ce8ed1b">tdp_iter::sptep</a></div><div class="ttdeci">tdp_ptep_t sptep</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00093">tdp_iter.h:93</a></div></div>
<div class="ttc" id="astructtdp__iter_html_ac3633464e37fa08393128005c46de911"><div class="ttname"><a href="structtdp__iter.html#ac3633464e37fa08393128005c46de911">tdp_iter::old_spte</a></div><div class="ttdeci">u64 old_spte</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00105">tdp_iter.h:105</a></div></div>
<div class="ttc" id="astructtdp__iter_html_ac6b854683bce752c9e0fe0b068a288b2"><div class="ttname"><a href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">tdp_iter::level</a></div><div class="ttdeci">int level</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00101">tdp_iter.h:101</a></div></div>
<div class="ttc" id="atdp__iter_8h_html_ae1b8feffcbd421cbcb6a40cd57abf768"><div class="ttname"><a href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768">kvm_tdp_mmu_read_spte</a></div><div class="ttdeci">static u64 kvm_tdp_mmu_read_spte(tdp_ptep_t sptep)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00017">tdp_iter.h:17</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c_ac7e4487519442c765c89b1ac081fed2e_cgraph.png" border="0" usemap="#atdp__iter_8c_ac7e4487519442c765c89b1ac081fed2e_cgraph" alt=""/></div>
<map name="atdp__iter_8c_ac7e4487519442c765c89b1ac081fed2e_cgraph" id="atdp__iter_8c_ac7e4487519442c765c89b1ac081fed2e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,173,32"/>
<area shape="rect" href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768" title=" " alt="" coords="221,5,412,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c_ac7e4487519442c765c89b1ac081fed2e_icgraph.png" border="0" usemap="#atdp__iter_8c_ac7e4487519442c765c89b1ac081fed2e_icgraph" alt=""/></div>
<map name="atdp__iter_8c_ac7e4487519442c765c89b1ac081fed2e_icgraph" id="atdp__iter_8c_ac7e4487519442c765c89b1ac081fed2e_icgraph">
<area shape="rect" title=" " alt="" coords="333,56,501,83"/>
<area shape="rect" href="tdp__iter_8c.html#af4b66dc30c8f261c500b78382bd3c73f" title=" " alt="" coords="163,107,285,133"/>
<area shape="rect" href="tdp__iter_8c.html#ac33361f92b725eb2260a76750b57e820" title=" " alt="" coords="165,5,283,32"/>
<area shape="rect" href="tdp__iter_8c.html#a2c7652570e5b5290b9ad645630208b4f" title=" " alt="" coords="175,56,273,83"/>
<area shape="rect" href="tdp__iter_8c.html#a8acf7109400135dbba38aced135d44d8" title=" " alt="" coords="6,56,114,83"/>
<area shape="rect" href="tdp__iter_8c.html#ab290f5fe97e3911e3861f3c6035279b9" title=" " alt="" coords="5,107,115,133"/>
</map>
</div>

</div>
</div>
<a id="af4b66dc30c8f261c500b78382bd3c73f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4b66dc30c8f261c500b78382bd3c73f">&#9670;&nbsp;</a></span>tdp_iter_restart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tdp_iter_restart </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8c_source.html#l00023">23</a> of file <a class="el" href="tdp__iter_8c_source.html">tdp_iter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a983cb7057ab9ba3c1e3984ce5cd4e295">yielded</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a98f21bd9a64fdbc0146b38eb7d8b3be4">yielded_gfn</a> = iter-&gt;<a class="code" href="structtdp__iter.html#add699b3494aafcbc63bf5c66d4281875">next_last_level_gfn</a>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a> = iter-&gt;<a class="code" href="structtdp__iter.html#a4dff0e52c9e038c4d61dea6cca2aad5a">root_level</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a5d152c98e3bfe241c7f4ebeacbfd2627">gfn</a> = <a class="code" href="mmu__internal_8h.html#a8805295a6f11129455d5b87a86fd3db5">gfn_round_for_level</a>(iter-&gt;<a class="code" href="structtdp__iter.html#add699b3494aafcbc63bf5c66d4281875">next_last_level_gfn</a>, iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e">tdp_iter_refresh_sptep</a>(iter);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#afdce20293ace648a92fc5eea88f59b4c">valid</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}</div>
<div class="ttc" id="ammu__internal_8h_html_a8805295a6f11129455d5b87a86fd3db5"><div class="ttname"><a href="mmu__internal_8h.html#a8805295a6f11129455d5b87a86fd3db5">gfn_round_for_level</a></div><div class="ttdeci">static gfn_t gfn_round_for_level(gfn_t gfn, int level)</div><div class="ttdef"><b>Definition:</b> <a href="mmu__internal_8h_source.html#l00161">mmu_internal.h:161</a></div></div>
<div class="ttc" id="astructtdp__iter_html_a4dff0e52c9e038c4d61dea6cca2aad5a"><div class="ttname"><a href="structtdp__iter.html#a4dff0e52c9e038c4d61dea6cca2aad5a">tdp_iter::root_level</a></div><div class="ttdeci">int root_level</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00097">tdp_iter.h:97</a></div></div>
<div class="ttc" id="astructtdp__iter_html_a98f21bd9a64fdbc0146b38eb7d8b3be4"><div class="ttname"><a href="structtdp__iter.html#a98f21bd9a64fdbc0146b38eb7d8b3be4">tdp_iter::yielded_gfn</a></div><div class="ttdeci">gfn_t yielded_gfn</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00089">tdp_iter.h:89</a></div></div>
<div class="ttc" id="astructtdp__iter_html_add699b3494aafcbc63bf5c66d4281875"><div class="ttname"><a href="structtdp__iter.html#add699b3494aafcbc63bf5c66d4281875">tdp_iter::next_last_level_gfn</a></div><div class="ttdeci">gfn_t next_last_level_gfn</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00083">tdp_iter.h:83</a></div></div>
<div class="ttc" id="atdp__iter_8c_html_ac7e4487519442c765c89b1ac081fed2e"><div class="ttname"><a href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e">tdp_iter_refresh_sptep</a></div><div class="ttdeci">static void tdp_iter_refresh_sptep(struct tdp_iter *iter)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8c_source.html#l00012">tdp_iter.c:12</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c_af4b66dc30c8f261c500b78382bd3c73f_cgraph.png" border="0" usemap="#atdp__iter_8c_af4b66dc30c8f261c500b78382bd3c73f_cgraph" alt=""/></div>
<map name="atdp__iter_8c_af4b66dc30c8f261c500b78382bd3c73f_cgraph" id="atdp__iter_8c_af4b66dc30c8f261c500b78382bd3c73f_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,128,57"/>
<area shape="rect" href="mmu__internal_8h.html#a8805295a6f11129455d5b87a86fd3db5" title=" " alt="" coords="185,5,335,32"/>
<area shape="rect" href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e" title=" " alt="" coords="176,56,344,83"/>
<area shape="rect" href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768" title=" " alt="" coords="392,56,583,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c_af4b66dc30c8f261c500b78382bd3c73f_icgraph.png" border="0" usemap="#atdp__iter_8c_af4b66dc30c8f261c500b78382bd3c73f_icgraph" alt=""/></div>
<map name="atdp__iter_8c_af4b66dc30c8f261c500b78382bd3c73f_icgraph" id="atdp__iter_8c_af4b66dc30c8f261c500b78382bd3c73f_icgraph">
<area shape="rect" title=" " alt="" coords="163,31,285,57"/>
<area shape="rect" href="tdp__iter_8c.html#a8acf7109400135dbba38aced135d44d8" title=" " alt="" coords="6,5,114,32"/>
<area shape="rect" href="tdp__iter_8c.html#ab290f5fe97e3911e3861f3c6035279b9" title=" " alt="" coords="5,56,115,83"/>
</map>
</div>

</div>
</div>
<a id="ab290f5fe97e3911e3861f3c6035279b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab290f5fe97e3911e3861f3c6035279b9">&#9670;&nbsp;</a></span>tdp_iter_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tdp_iter_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkvm__mmu__page.html">kvm_mmu_page</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gfn_t&#160;</td>
          <td class="paramname"><em>next_last_level_gfn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8c_source.html#l00039">39</a> of file <a class="el" href="tdp__iter_8c_source.html">tdp_iter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">if</span> (WARN_ON_ONCE(!root || (root-&gt;<a class="code" href="structkvm__mmu__page.html#a9a054096d38bb2789139b0ef5aa8fec3">role</a>.level &lt; 1) ||</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;             (root-&gt;<a class="code" href="structkvm__mmu__page.html#a9a054096d38bb2789139b0ef5aa8fec3">role</a>.level &gt; PT64_ROOT_MAX_LEVEL))) {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        iter-&gt;<a class="code" href="structtdp__iter.html#afdce20293ace648a92fc5eea88f59b4c">valid</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#add699b3494aafcbc63bf5c66d4281875">next_last_level_gfn</a> = next_last_level_gfn;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a4dff0e52c9e038c4d61dea6cca2aad5a">root_level</a> = root-&gt;<a class="code" href="structkvm__mmu__page.html#a9a054096d38bb2789139b0ef5aa8fec3">role</a>.level;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#ac27bd3b5c86c4d810d3345d0f961825e">min_level</a> = min_level;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a0002405591df92db81e563b4ef23c631">pt_path</a>[iter-&gt;<a class="code" href="structtdp__iter.html#a4dff0e52c9e038c4d61dea6cca2aad5a">root_level</a> - 1] = (<a class="code" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a>)root-&gt;<a class="code" href="structkvm__mmu__page.html#a1bb8925c750e6b17d3a66a54c5df7c50">spt</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a473dd3cffaeffdae16cb52b94286141b">as_id</a> = <a class="code" href="mmu__internal_8h.html#a993d31328977f0bf21610ad74fa55a79">kvm_mmu_page_as_id</a>(root);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="tdp__iter_8c.html#af4b66dc30c8f261c500b78382bd3c73f">tdp_iter_restart</a>(iter);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
<div class="ttc" id="ammu__internal_8h_html_a993d31328977f0bf21610ad74fa55a79"><div class="ttname"><a href="mmu__internal_8h.html#a993d31328977f0bf21610ad74fa55a79">kvm_mmu_page_as_id</a></div><div class="ttdeci">static int kvm_mmu_page_as_id(struct kvm_mmu_page *sp)</div><div class="ttdef"><b>Definition:</b> <a href="mmu__internal_8h_source.html#l00143">mmu_internal.h:143</a></div></div>
<div class="ttc" id="astructkvm__mmu__page_html_a1bb8925c750e6b17d3a66a54c5df7c50"><div class="ttname"><a href="structkvm__mmu__page.html#a1bb8925c750e6b17d3a66a54c5df7c50">kvm_mmu_page::spt</a></div><div class="ttdeci">u64 * spt</div><div class="ttdef"><b>Definition:</b> <a href="mmu__internal_8h_source.html#l00083">mmu_internal.h:83</a></div></div>
<div class="ttc" id="astructkvm__mmu__page_html_a9a054096d38bb2789139b0ef5aa8fec3"><div class="ttname"><a href="structkvm__mmu__page.html#a9a054096d38bb2789139b0ef5aa8fec3">kvm_mmu_page::role</a></div><div class="ttdeci">union kvm_mmu_page_role role</div><div class="ttdef"><b>Definition:</b> <a href="mmu__internal_8h_source.html#l00074">mmu_internal.h:80</a></div></div>
<div class="ttc" id="astructtdp__iter_html_a473dd3cffaeffdae16cb52b94286141b"><div class="ttname"><a href="structtdp__iter.html#a473dd3cffaeffdae16cb52b94286141b">tdp_iter::as_id</a></div><div class="ttdeci">int as_id</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00103">tdp_iter.h:103</a></div></div>
<div class="ttc" id="astructtdp__iter_html_ac27bd3b5c86c4d810d3345d0f961825e"><div class="ttname"><a href="structtdp__iter.html#ac27bd3b5c86c4d810d3345d0f961825e">tdp_iter::min_level</a></div><div class="ttdeci">int min_level</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8h_source.html#l00099">tdp_iter.h:99</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c_ab290f5fe97e3911e3861f3c6035279b9_cgraph.png" border="0" usemap="#atdp__iter_8c_ab290f5fe97e3911e3861f3c6035279b9_cgraph" alt=""/></div>
<map name="atdp__iter_8c_ab290f5fe97e3911e3861f3c6035279b9_cgraph" id="atdp__iter_8c_ab290f5fe97e3911e3861f3c6035279b9_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,115,57"/>
<area shape="rect" href="mmu__internal_8h.html#a993d31328977f0bf21610ad74fa55a79" title=" " alt="" coords="163,5,335,32"/>
<area shape="rect" href="tdp__iter_8c.html#af4b66dc30c8f261c500b78382bd3c73f" title=" " alt="" coords="187,56,310,83"/>
<area shape="rect" href="mmu__internal_8h.html#a5334557775f77a151865c95f1cd224ac" title=" " alt="" coords="384,5,549,32"/>
<area shape="rect" href="mmu__internal_8h.html#a8805295a6f11129455d5b87a86fd3db5" title=" " alt="" coords="391,56,542,83"/>
<area shape="rect" href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e" title=" " alt="" coords="383,107,551,133"/>
<area shape="rect" href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768" title=" " alt="" coords="599,107,789,133"/>
</map>
</div>

</div>
</div>
<a id="ac33361f92b725eb2260a76750b57e820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac33361f92b725eb2260a76750b57e820">&#9670;&nbsp;</a></span>try_step_down()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool try_step_down </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8c_source.html#l00078">78</a> of file <a class="el" href="tdp__iter_8c_source.html">tdp_iter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="mmu__internal_8h.html#a6798167b4e223d54b53a69a2c3c892c3">tdp_ptep_t</a> child_pt;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a> == iter-&gt;<a class="code" href="structtdp__iter.html#ac27bd3b5c86c4d810d3345d0f961825e">min_level</a>)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">     * Reread the SPTE before stepping down to avoid traversing into page</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">     * tables that are no longer linked from this entry.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#ac3633464e37fa08393128005c46de911">old_spte</a> = <a class="code" href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768">kvm_tdp_mmu_read_spte</a>(iter-&gt;<a class="code" href="structtdp__iter.html#a869c59866a73015fdc7bb34b2ce8ed1b">sptep</a>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    child_pt = <a class="code" href="tdp__iter_8c.html#ae565103c187af07e69eb2f29b180b977">spte_to_child_pt</a>(iter-&gt;<a class="code" href="structtdp__iter.html#ac3633464e37fa08393128005c46de911">old_spte</a>, iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> (!child_pt)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a>--;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a0002405591df92db81e563b4ef23c631">pt_path</a>[iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a> - 1] = child_pt;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a5d152c98e3bfe241c7f4ebeacbfd2627">gfn</a> = <a class="code" href="mmu__internal_8h.html#a8805295a6f11129455d5b87a86fd3db5">gfn_round_for_level</a>(iter-&gt;<a class="code" href="structtdp__iter.html#add699b3494aafcbc63bf5c66d4281875">next_last_level_gfn</a>, iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e">tdp_iter_refresh_sptep</a>(iter);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="ttc" id="atdp__iter_8c_html_ae565103c187af07e69eb2f29b180b977"><div class="ttname"><a href="tdp__iter_8c.html#ae565103c187af07e69eb2f29b180b977">spte_to_child_pt</a></div><div class="ttdeci">tdp_ptep_t spte_to_child_pt(u64 spte, int level)</div><div class="ttdef"><b>Definition:</b> <a href="tdp__iter_8c_source.html#l00062">tdp_iter.c:62</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c_ac33361f92b725eb2260a76750b57e820_cgraph.png" border="0" usemap="#atdp__iter_8c_ac33361f92b725eb2260a76750b57e820_cgraph" alt=""/></div>
<map name="atdp__iter_8c_ac33361f92b725eb2260a76750b57e820_cgraph" id="atdp__iter_8c_ac33361f92b725eb2260a76750b57e820_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,123,108"/>
<area shape="rect" href="mmu__internal_8h.html#a8805295a6f11129455d5b87a86fd3db5" title=" " alt="" coords="179,5,330,32"/>
<area shape="rect" href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768" title=" " alt="" coords="387,56,577,83"/>
<area shape="rect" href="tdp__iter_8c.html#ae565103c187af07e69eb2f29b180b977" title=" " alt="" coords="191,157,319,184"/>
<area shape="rect" href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e" title=" " alt="" coords="171,107,339,133"/>
<area shape="rect" href="spte_8h.html#a785ce7507ac8cabfb2a667ed0c57b1f5" title=" " alt="" coords="433,107,531,133"/>
<area shape="rect" href="spte_8h.html#a7d73c1cb0114320b9dab8ba78033c686" title=" " alt="" coords="395,157,569,184"/>
<area shape="rect" href="spte_8h.html#a88a720d39abac3aee2f63e03a20e8abd" title=" " alt="" coords="433,208,531,235"/>
<area shape="rect" href="spte_8h.html#ae9b1a94fccf74f0837e1a775bc57d729" title=" " alt="" coords="625,107,727,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c_ac33361f92b725eb2260a76750b57e820_icgraph.png" border="0" usemap="#atdp__iter_8c_ac33361f92b725eb2260a76750b57e820_icgraph" alt=""/></div>
<map name="atdp__iter_8c_ac33361f92b725eb2260a76750b57e820_icgraph" id="atdp__iter_8c_ac33361f92b725eb2260a76750b57e820_icgraph">
<area shape="rect" title=" " alt="" coords="161,5,279,32"/>
<area shape="rect" href="tdp__iter_8c.html#a8acf7109400135dbba38aced135d44d8" title=" " alt="" coords="5,5,113,32"/>
</map>
</div>

</div>
</div>
<a id="a63153e1d0a5d399bbdb49826be88d49f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63153e1d0a5d399bbdb49826be88d49f">&#9670;&nbsp;</a></span>try_step_side()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool try_step_side </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8c_source.html#l00110">110</a> of file <a class="el" href="tdp__iter_8c_source.html">tdp_iter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">     * Check if the iterator is already at the end of the current page</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">     * table.</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="spte_8h.html#aca9400a358bf907b576059ae68c72022">SPTE_INDEX</a>(iter-&gt;<a class="code" href="structtdp__iter.html#a5d152c98e3bfe241c7f4ebeacbfd2627">gfn</a> &lt;&lt; PAGE_SHIFT, iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a>) ==</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        (<a class="code" href="spte_8h.html#a576b7a13ccedb0b5859a12df4280ed9d">SPTE_ENT_PER_PAGE</a> - 1))</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a5d152c98e3bfe241c7f4ebeacbfd2627">gfn</a> += KVM_PAGES_PER_HPAGE(iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#add699b3494aafcbc63bf5c66d4281875">next_last_level_gfn</a> = iter-&gt;<a class="code" href="structtdp__iter.html#a5d152c98e3bfe241c7f4ebeacbfd2627">gfn</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a869c59866a73015fdc7bb34b2ce8ed1b">sptep</a>++;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#ac3633464e37fa08393128005c46de911">old_spte</a> = <a class="code" href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768">kvm_tdp_mmu_read_spte</a>(iter-&gt;<a class="code" href="structtdp__iter.html#a869c59866a73015fdc7bb34b2ce8ed1b">sptep</a>);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
<div class="ttc" id="aspte_8h_html_a576b7a13ccedb0b5859a12df4280ed9d"><div class="ttname"><a href="spte_8h.html#a576b7a13ccedb0b5859a12df4280ed9d">SPTE_ENT_PER_PAGE</a></div><div class="ttdeci">#define SPTE_ENT_PER_PAGE</div><div class="ttdef"><b>Definition:</b> <a href="spte_8h_source.html#l00058">spte.h:58</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c_a63153e1d0a5d399bbdb49826be88d49f_cgraph.png" border="0" usemap="#atdp__iter_8c_a63153e1d0a5d399bbdb49826be88d49f_cgraph" alt=""/></div>
<map name="atdp__iter_8c_a63153e1d0a5d399bbdb49826be88d49f_cgraph" id="atdp__iter_8c_a63153e1d0a5d399bbdb49826be88d49f_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,115,32"/>
<area shape="rect" href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768" title=" " alt="" coords="163,5,353,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c_a63153e1d0a5d399bbdb49826be88d49f_icgraph.png" border="0" usemap="#atdp__iter_8c_a63153e1d0a5d399bbdb49826be88d49f_icgraph" alt=""/></div>
<map name="atdp__iter_8c_a63153e1d0a5d399bbdb49826be88d49f_icgraph" id="atdp__iter_8c_a63153e1d0a5d399bbdb49826be88d49f_icgraph">
<area shape="rect" title=" " alt="" coords="161,5,271,32"/>
<area shape="rect" href="tdp__iter_8c.html#a8acf7109400135dbba38aced135d44d8" title=" " alt="" coords="5,5,113,32"/>
</map>
</div>

</div>
</div>
<a id="a2c7652570e5b5290b9ad645630208b4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c7652570e5b5290b9ad645630208b4f">&#9670;&nbsp;</a></span>try_step_up()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool try_step_up </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtdp__iter.html">tdp_iter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tdp__iter_8c_source.html#l00133">133</a> of file <a class="el" href="tdp__iter_8c_source.html">tdp_iter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a> == iter-&gt;<a class="code" href="structtdp__iter.html#a4dff0e52c9e038c4d61dea6cca2aad5a">root_level</a>)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a>++;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    iter-&gt;<a class="code" href="structtdp__iter.html#a5d152c98e3bfe241c7f4ebeacbfd2627">gfn</a> = <a class="code" href="mmu__internal_8h.html#a8805295a6f11129455d5b87a86fd3db5">gfn_round_for_level</a>(iter-&gt;<a class="code" href="structtdp__iter.html#a5d152c98e3bfe241c7f4ebeacbfd2627">gfn</a>, iter-&gt;<a class="code" href="structtdp__iter.html#ac6b854683bce752c9e0fe0b068a288b2">level</a>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e">tdp_iter_refresh_sptep</a>(iter);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c_a2c7652570e5b5290b9ad645630208b4f_cgraph.png" border="0" usemap="#atdp__iter_8c_a2c7652570e5b5290b9ad645630208b4f_cgraph" alt=""/></div>
<map name="atdp__iter_8c_a2c7652570e5b5290b9ad645630208b4f_cgraph" id="atdp__iter_8c_a2c7652570e5b5290b9ad645630208b4f_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,104,57"/>
<area shape="rect" href="mmu__internal_8h.html#a8805295a6f11129455d5b87a86fd3db5" title=" " alt="" coords="161,5,311,32"/>
<area shape="rect" href="tdp__iter_8c.html#ac7e4487519442c765c89b1ac081fed2e" title=" " alt="" coords="152,56,320,83"/>
<area shape="rect" href="tdp__iter_8h.html#ae1b8feffcbd421cbcb6a40cd57abf768" title=" " alt="" coords="368,56,559,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tdp__iter_8c_a2c7652570e5b5290b9ad645630208b4f_icgraph.png" border="0" usemap="#atdp__iter_8c_a2c7652570e5b5290b9ad645630208b4f_icgraph" alt=""/></div>
<map name="atdp__iter_8c_a2c7652570e5b5290b9ad645630208b4f_icgraph" id="atdp__iter_8c_a2c7652570e5b5290b9ad645630208b4f_icgraph">
<area shape="rect" title=" " alt="" coords="161,5,260,32"/>
<area shape="rect" href="tdp__iter_8c.html#a8acf7109400135dbba38aced135d44d8" title=" " alt="" coords="5,5,113,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
