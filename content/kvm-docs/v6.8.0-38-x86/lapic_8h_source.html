<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KVM: arch/x86/kvm/lapic.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ea9599923402ca8ab47fc3e495999dea.html">arch</a></li><li class="navelem"><a class="el" href="dir_c21774f8bc9f0de15163573e5f5fa2b5.html">x86</a></li><li class="navelem"><a class="el" href="dir_fde450fd4b58e2560c53a1e73bfa4d6d.html">kvm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">lapic.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="lapic_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* SPDX-License-Identifier: GPL-2.0 */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#ifndef __KVM_X86_LAPIC_H</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#define __KVM_X86_LAPIC_H</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;kvm/iodev.h&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;linux/kvm_host.h&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vmx_2hyperv_8h.html">hyperv.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="smm_8h.html">smm.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="lapic_8h.html#a3b7d7d35c001fcefc23520569c5d81d7">   12</a></span>&#160;<span class="preprocessor">#define KVM_APIC_INIT       0</span></div>
<div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="lapic_8h.html#af7a4bf414bb99391b6c9e674d87cdc41">   13</a></span>&#160;<span class="preprocessor">#define KVM_APIC_SIPI       1</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="lapic_8h.html#ad3b78bd2ddd9b9b15390755b6df98d3d">   15</a></span>&#160;<span class="preprocessor">#define APIC_SHORT_MASK         0xc0000</span></div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="lapic_8h.html#acc73bace457403e7d23ff22afac7df0f">   16</a></span>&#160;<span class="preprocessor">#define APIC_DEST_NOSHORT       0x0</span></div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="lapic_8h.html#a5e58cf75a31cd26e03db7f201861a8e4">   17</a></span>&#160;<span class="preprocessor">#define APIC_DEST_MASK          0x800</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="lapic_8h.html#a0e44db9c8a1731b40f6ad0267b42f3f9">   19</a></span>&#160;<span class="preprocessor">#define APIC_BUS_CYCLE_NS       1</span></div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="lapic_8h.html#a877c690c49f1d0ce3adc113fcbfe4a22">   20</a></span>&#160;<span class="preprocessor">#define APIC_BUS_FREQUENCY      (1000000000ULL / APIC_BUS_CYCLE_NS)</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="lapic_8h.html#a8e368c4d317e2f3289d8287fc28c4d19">   22</a></span>&#160;<span class="preprocessor">#define APIC_BROADCAST          0xFF</span></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="lapic_8h.html#a481da2cdd19d996fb0378476375133c6">   23</a></span>&#160;<span class="preprocessor">#define X2APIC_BROADCAST        0xFFFFFFFFul</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dff">   25</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dff">lapic_mode</a> {</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dffaa085aa594329c377d85feca3872e9d38">   26</a></span>&#160;    <a class="code" href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dffaa085aa594329c377d85feca3872e9d38">LAPIC_MODE_DISABLED</a> = 0,</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dffacc7944d9d7dbe606acabbf39f2fd9358">   27</a></span>&#160;    <a class="code" href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dffacc7944d9d7dbe606acabbf39f2fd9358">LAPIC_MODE_INVALID</a> = X2APIC_ENABLE,</div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dffaaf077cffd5b7a15d27225db34a95b56c">   28</a></span>&#160;    <a class="code" href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dffaaf077cffd5b7a15d27225db34a95b56c">LAPIC_MODE_XAPIC</a> = MSR_IA32_APICBASE_ENABLE,</div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dffa995b62067c99e3263b6615a6b44bf092">   29</a></span>&#160;    <a class="code" href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dffa995b62067c99e3263b6615a6b44bf092">LAPIC_MODE_X2APIC</a> = MSR_IA32_APICBASE_ENABLE | X2APIC_ENABLE,</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;};</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fd">   32</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fd">lapic_lvt_entry</a> {</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fdaaa41ab22efcb8632e45533e067402ac2">   33</a></span>&#160;    <a class="code" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fdaaa41ab22efcb8632e45533e067402ac2">LVT_TIMER</a>,</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fdaf3ef908053e3fd4a9c45a1c5046372c9">   34</a></span>&#160;    <a class="code" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fdaf3ef908053e3fd4a9c45a1c5046372c9">LVT_THERMAL_MONITOR</a>,</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fda287c02fa2b5efa0b060c321914ad5aff">   35</a></span>&#160;    <a class="code" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fda287c02fa2b5efa0b060c321914ad5aff">LVT_PERFORMANCE_COUNTER</a>,</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fda1118be31e3566e933d9ce565a02cfdd5">   36</a></span>&#160;    <a class="code" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fda1118be31e3566e933d9ce565a02cfdd5">LVT_LINT0</a>,</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fdad63014a29d09b49e2d4a5ea621624573">   37</a></span>&#160;    <a class="code" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fdad63014a29d09b49e2d4a5ea621624573">LVT_LINT1</a>,</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fda3f637ebcd14b33d1c30b0b56b09cb29f">   38</a></span>&#160;    <a class="code" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fda3f637ebcd14b33d1c30b0b56b09cb29f">LVT_ERROR</a>,</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fda6501a8a1c49c80b439b25520514bbfce">   39</a></span>&#160;    <a class="code" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fda6501a8a1c49c80b439b25520514bbfce">LVT_CMCI</a>,</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fdaa2e7ce18b246d7ad6fe039d93d40dd06">   41</a></span>&#160;    <a class="code" href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fdaa2e7ce18b246d7ad6fe039d93d40dd06">KVM_APIC_MAX_NR_LVT_ENTRIES</a>,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;};</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="lapic_8h.html#ae54f52b3c96453d38d44e36bc8d3c00c">   44</a></span>&#160;<span class="preprocessor">#define APIC_LVTx(x) ((x) == LVT_CMCI ? APIC_LVTCMCI : APIC_LVTT + 0x10 * (x))</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structkvm__timer.html">   46</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structkvm__timer.html">kvm_timer</a> {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keyword">struct </span>hrtimer <a class="code" href="structkvm__timer.html#a31da14cdecf55074bd9ff5af10c3ffa0">timer</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="structkvm__timer.html#a159bd17861468df061b33cdbd9a6b477">   48</a></span>&#160;    s64 <a class="code" href="structkvm__timer.html#a159bd17861468df061b33cdbd9a6b477">period</a>;                 <span class="comment">/* unit: ns */</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structkvm__timer.html#a0de90943a0ace07fbb0e0219fe64e2f8">   49</a></span>&#160;    ktime_t <a class="code" href="structkvm__timer.html#a0de90943a0ace07fbb0e0219fe64e2f8">target_expiration</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="structkvm__timer.html#a0a01f4db22cd9d821750ba99cd9dd1d6">   50</a></span>&#160;    u32 <a class="code" href="structkvm__timer.html#a0a01f4db22cd9d821750ba99cd9dd1d6">timer_mode</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structkvm__timer.html#a37e444e2ea7fd2b7cd3975909208ddcb">   51</a></span>&#160;    u32 <a class="code" href="structkvm__timer.html#a37e444e2ea7fd2b7cd3975909208ddcb">timer_mode_mask</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="structkvm__timer.html#acb4ad6bfe6c14982d0a87f4678e92d09">   52</a></span>&#160;    u64 <a class="code" href="structkvm__timer.html#acb4ad6bfe6c14982d0a87f4678e92d09">tscdeadline</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="structkvm__timer.html#a23c6ec12b6c61cf7b3c02ff13099dbcf">   53</a></span>&#160;    u64 <a class="code" href="structkvm__timer.html#a23c6ec12b6c61cf7b3c02ff13099dbcf">expired_tscdeadline</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="structkvm__timer.html#a02a69390fafe1e1281847530af564ef0">   54</a></span>&#160;    u32 <a class="code" href="structkvm__timer.html#a02a69390fafe1e1281847530af564ef0">timer_advance_ns</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="structkvm__timer.html#a581e6b6fe55055ed8a81d5a1aa258ff7">   55</a></span>&#160;    atomic_t <a class="code" href="structkvm__timer.html#a581e6b6fe55055ed8a81d5a1aa258ff7">pending</a>;           <span class="comment">/* accumulated triggered timers */</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="structkvm__timer.html#a033831ad90c69d7ea4e9af3fd0a6727e">   56</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structkvm__timer.html#a033831ad90c69d7ea4e9af3fd0a6727e">hv_timer_in_use</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;};</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structkvm__lapic.html">   59</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structkvm__lapic.html">kvm_lapic</a> {</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structkvm__lapic.html#a830e2e9bd5c55c17f48b72a0157a6fa2">   60</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structkvm__lapic.html#a830e2e9bd5c55c17f48b72a0157a6fa2">base_address</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keyword">struct </span>kvm_io_device <a class="code" href="structkvm__lapic.html#a64110f6330456e8272b6e96539d168e1">dev</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keyword">struct </span><a class="code" href="structkvm__timer.html">kvm_timer</a> <a class="code" href="structkvm__lapic.html#a2e61dc072b6f41497ade5b4a59b2c52a">lapic_timer</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structkvm__lapic.html#a31c3efc5b365f96580ea975272c3f277">   63</a></span>&#160;    u32 <a class="code" href="structkvm__lapic.html#a31c3efc5b365f96580ea975272c3f277">divide_count</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structkvm__lapic.html#a54741597d07b2792d2da72ea301ad648">   64</a></span>&#160;    <span class="keyword">struct </span>kvm_vcpu *<a class="code" href="structkvm__lapic.html#a54741597d07b2792d2da72ea301ad648">vcpu</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="structkvm__lapic.html#a4642d7f446bbd9ede893aa1ebbcc9c1a">   65</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structkvm__lapic.html#a4642d7f446bbd9ede893aa1ebbcc9c1a">apicv_active</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="structkvm__lapic.html#afc6c88da7e5d98be1e6e833ca181dab2">   66</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structkvm__lapic.html#afc6c88da7e5d98be1e6e833ca181dab2">sw_enabled</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structkvm__lapic.html#ada91b44df57789499ad32ad287c21217">   67</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structkvm__lapic.html#ada91b44df57789499ad32ad287c21217">irr_pending</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="structkvm__lapic.html#aa50adf6f32ef5726dac99ac5b8c4ba39">   68</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structkvm__lapic.html#aa50adf6f32ef5726dac99ac5b8c4ba39">lvt0_in_nmi_mode</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">/* Number of bits set in ISR. */</span></div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structkvm__lapic.html#ad8506269387d80ddd1c6cc8a96c9398a">   70</a></span>&#160;    s16 <a class="code" href="structkvm__lapic.html#ad8506269387d80ddd1c6cc8a96c9398a">isr_count</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">/* The highest vector set in ISR; if -1 - invalid, must scan ISR. */</span></div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structkvm__lapic.html#a4b58ed7ed33fe007d319d39271d8d1b9">   72</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structkvm__lapic.html#a4b58ed7ed33fe007d319d39271d8d1b9">highest_isr_cache</a>;<span class="comment"></span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">     * APIC register page.  The layout matches the register layout seen by</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">     * the guest 1:1, because it is accessed by the vmx microcode.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">     * Note: Only one register, the TPR, is used by the microcode.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structkvm__lapic.html#ae3a8009387d4fa77d8bc5ba244f7f6aa">   78</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structkvm__lapic.html#ae3a8009387d4fa77d8bc5ba244f7f6aa">regs</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structkvm__lapic.html#adf67d2b36ad016503087c9972d9cdf5d">   79</a></span>&#160;    gpa_t <a class="code" href="structkvm__lapic.html#adf67d2b36ad016503087c9972d9cdf5d">vapic_addr</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keyword">struct </span>gfn_to_hva_cache <a class="code" href="structkvm__lapic.html#a10b091cd5ea6402115f0352a5528d830">vapic_cache</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structkvm__lapic.html#ade63c790c3a1363b7af1853b98bacf1a">   81</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structkvm__lapic.html#ade63c790c3a1363b7af1853b98bacf1a">pending_events</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structkvm__lapic.html#a9122fb8adbd131d159cb064fe6a3f01e">   82</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structkvm__lapic.html#a9122fb8adbd131d159cb064fe6a3f01e">sipi_vector</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structkvm__lapic.html#ae2b24a1af6e2a89bda594f08d3382267">   83</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structkvm__lapic.html#ae2b24a1af6e2a89bda594f08d3382267">nr_lvt_entries</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;};</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">struct </span><a class="code" href="structdest__map.html">dest_map</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a1d54fd094860a96cad1af17c18f6904c">kvm_create_lapic</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, <span class="keywordtype">int</span> timer_advance_ns);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a4b935c2c698d932ceff03cb20f512919">kvm_free_lapic</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#aa421165466ac455ff3fff91fb9afe7bf">kvm_apic_has_interrupt</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a1f4df169625f9c4c2cb06f7443698af4">kvm_apic_accept_pic_intr</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#ac6d5ae412d8199fc4aceeae42cb80024">kvm_get_apic_interrupt</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a27836a2bcd51ebcfe2ca478e9ad7aa04">kvm_apic_accept_events</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a8b8a5d87df5283a20e9aa9b828320552">kvm_lapic_reset</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, <span class="keywordtype">bool</span> init_event);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;u64 <a class="code" href="lapic_8h.html#a3aead5d19fd0505da0197dfc140d6824">kvm_lapic_get_cr8</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#aee34622e495b500817e0b0905bfd0d4c">kvm_lapic_set_tpr</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> cr8);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#ab6d8f3638f580c8d6dcd091512c49768">kvm_lapic_set_eoi</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a8d747385873e52f47e85179c21521e73">kvm_lapic_set_base</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, u64 value);</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="lapic_8h.html#abb2749600d08d491d91b7d3ce1d0cfaf">  100</a></span>&#160;u64 <a class="code" href="lapic_8h.html#abb2749600d08d491d91b7d3ce1d0cfaf">kvm_lapic_get_base</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a756b707dd502680db2eed7759defde40">kvm_recalculate_apic_map</a>(<span class="keyword">struct</span> kvm *kvm);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#aaa6716cc0b30bec513d223fbfdecfdcf">kvm_apic_set_version</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a200be826b3634c1b5a377464f35d540f">kvm_apic_after_set_mcg_cap</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#adb63e5a650d4571316b450d153a3105d">kvm_apic_match_dest</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, <span class="keyword">struct</span> <a class="code" href="structkvm__lapic.html">kvm_lapic</a> *source,</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;               <span class="keywordtype">int</span> shorthand, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dest, <span class="keywordtype">int</span> dest_mode);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a47d52843df792ef8e7bffdfb66a3b40b">kvm_apic_compare_prio</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu1, <span class="keyword">struct</span> kvm_vcpu *vcpu2);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#ad608730f208932f64d2c98c762fce85c">kvm_apic_clear_irr</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, <span class="keywordtype">int</span> vec);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#aed305556b8d09cfaa135cca071bd8c22">__kvm_apic_update_irr</a>(u32 *<a class="code" href="posted__intr_8h.html#a2707c542febe155b1642f9b9a9c0bc79">pir</a>, <span class="keywordtype">void</span> *regs, <span class="keywordtype">int</span> *max_irr);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#a922ce0b7b20cf9b9ef4930d3d81e8360">kvm_apic_update_irr</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, u32 *<a class="code" href="posted__intr_8h.html#a2707c542febe155b1642f9b9a9c0bc79">pir</a>, <span class="keywordtype">int</span> *max_irr);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a44fec9a6b84f831af88ffed6b2325545">kvm_apic_update_ppr</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a3d272e1b73f22f797955e7ddea84b741">kvm_apic_set_irq</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, <span class="keyword">struct</span> kvm_lapic_irq *irq,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;             <span class="keyword">struct</span> <a class="code" href="structdest__map.html">dest_map</a> *<a class="code" href="structdest__map.html">dest_map</a>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#ab1ce737e754e319ee93f3d06e197cc50">kvm_apic_local_deliver</a>(<span class="keyword">struct</span> <a class="code" href="structkvm__lapic.html">kvm_lapic</a> *apic, <span class="keywordtype">int</span> lvt_type);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a5468339c2df08ca538b77d4d48915c35">kvm_apic_update_apicv</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a8c6616d2cbae35632aa5debb15b552ec">kvm_alloc_apic_access_page</a>(<span class="keyword">struct</span> kvm *kvm);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a017e57adbc721d98d26099f1a431a22c">kvm_inhibit_apic_access_page</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#a17eee4051fa1d41b805b09a195f64045">kvm_irq_delivery_to_apic_fast</a>(<span class="keyword">struct</span> kvm *kvm, <span class="keyword">struct</span> <a class="code" href="structkvm__lapic.html">kvm_lapic</a> *src,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keyword">struct</span> kvm_lapic_irq *irq, <span class="keywordtype">int</span> *r, <span class="keyword">struct</span> <a class="code" href="structdest__map.html">dest_map</a> *<a class="code" href="structdest__map.html">dest_map</a>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a4b7f12cb3ba68245df79bc30d938b728">kvm_apic_send_ipi</a>(<span class="keyword">struct</span> <a class="code" href="structkvm__lapic.html">kvm_lapic</a> *apic, u32 icr_low, u32 icr_high);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;u64 <a class="code" href="lapic_8h.html#a62fc68a9f819c5044440e2cf6a7763e8">kvm_get_apic_base</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a9d9f2a266299bc56c932735db94816d5">kvm_set_apic_base</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, <span class="keyword">struct</span> msr_data *msr_info);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a623f02f0875b0883fd65e82c565c9a18">kvm_apic_get_state</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, <span class="keyword">struct</span> kvm_lapic_state *s);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a4768d4990380510ec220c3e510d32598">kvm_apic_set_state</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, <span class="keyword">struct</span> kvm_lapic_state *s);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keyword">enum</span> <a class="code" href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dff">lapic_mode</a> <a class="code" href="lapic_8h.html#a8415cd1d2d30e65d505adb5ba75a0338">kvm_get_apic_mode</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a1e5b22760af617cabb18355a0a373156">kvm_lapic_find_highest_irr</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;u64 <a class="code" href="lapic_8h.html#af2fa5313476adb8240d3595805d784fc">kvm_get_lapic_tscdeadline_msr</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a44881cc17bdbe632a483e8c7c1dd0dfb">kvm_set_lapic_tscdeadline_msr</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, u64 data);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a1b33bb5758d3dd75c7b87e537a5e729e">kvm_apic_write_nodecode</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, u32 offset);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a501cf23b440691f979fad04c87067f93">kvm_apic_set_eoi_accelerated</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, <span class="keywordtype">int</span> vector);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#ad0f76b010d3d80125e88dc3d819f115b">kvm_lapic_set_vapic_addr</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, gpa_t vapic_addr);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#aa63139efcde3eb7b7548e5792d7cf63d">kvm_lapic_sync_from_vapic</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a332060485ef249fcfd9edbf9cf80dd2b">kvm_lapic_sync_to_vapic</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#adf2487dc76dace6e577b637cc357998b">kvm_x2apic_icr_write</a>(<span class="keyword">struct</span> <a class="code" href="structkvm__lapic.html">kvm_lapic</a> *apic, u64 data);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a7d2f3f34c12c8c724fe739cbbc44ad43">kvm_x2apic_msr_write</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, u32 msr, u64 data);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a179cfc2268db31f40b5bd9b1c247a37b">kvm_x2apic_msr_read</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, u32 msr, u64 *data);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a6b13b534cc2764aef8abe2383294fb06">kvm_hv_vapic_msr_write</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, u32 msr, u64 data);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#aec25ca9a5ddcfdd5fee6a986826582c7">kvm_hv_vapic_msr_read</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, u32 msr, u64 *data);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a9c3f4680631c7f6cb33a6a5c4c001750">kvm_lapic_set_pv_eoi</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, u64 data, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> len);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#af2d9c133a24e68f345a3fe133bf8bfaf">kvm_lapic_exit</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;u64 <a class="code" href="lapic_8h.html#a4b4d880305f2ddba0ac9fdb398a7611a">kvm_lapic_readable_reg_mask</a>(<span class="keyword">struct</span> <a class="code" href="structkvm__lapic.html">kvm_lapic</a> *apic);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="lapic_8h.html#a9c7a9b90f9a68f13aa4b9395a275ca96">  151</a></span>&#160;<span class="preprocessor">#define VEC_POS(v) ((v) &amp; (32 - 1))</span></div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="lapic_8h.html#aba88c7489787a27e53b077679ce7b534">  152</a></span>&#160;<span class="preprocessor">#define REG_POS(v) (((v) &gt;&gt; 5) &lt;&lt; 4)</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="lapic_8h.html#ada4d7479e3c0f2e45cb1565dab78c198">  154</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#ada4d7479e3c0f2e45cb1565dab78c198">kvm_lapic_clear_vector</a>(<span class="keywordtype">int</span> vec, <span class="keywordtype">void</span> *bitmap)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;{</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    clear_bit(<a class="code" href="lapic_8h.html#a9c7a9b90f9a68f13aa4b9395a275ca96">VEC_POS</a>(vec), (bitmap) + <a class="code" href="lapic_8h.html#aba88c7489787a27e53b077679ce7b534">REG_POS</a>(vec));</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="lapic_8h.html#aecd6ca5347dbb81047584149b2291019">  159</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#aecd6ca5347dbb81047584149b2291019">kvm_lapic_set_vector</a>(<span class="keywordtype">int</span> vec, <span class="keywordtype">void</span> *bitmap)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;{</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    set_bit(<a class="code" href="lapic_8h.html#a9c7a9b90f9a68f13aa4b9395a275ca96">VEC_POS</a>(vec), (bitmap) + <a class="code" href="lapic_8h.html#aba88c7489787a27e53b077679ce7b534">REG_POS</a>(vec));</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="lapic_8h.html#a12227432ca4a620c3a4e249cbb28ecbe">  164</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a12227432ca4a620c3a4e249cbb28ecbe">kvm_lapic_set_irr</a>(<span class="keywordtype">int</span> vec, <span class="keyword">struct</span> <a class="code" href="structkvm__lapic.html">kvm_lapic</a> *apic)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="lapic_8h.html#aecd6ca5347dbb81047584149b2291019">kvm_lapic_set_vector</a>(vec, apic-&gt;<a class="code" href="structkvm__lapic.html#ae3a8009387d4fa77d8bc5ba244f7f6aa">regs</a> + APIC_IRR);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">     * irr_pending must be true if any interrupt is pending; set it after</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">     * APIC_IRR to avoid race with apic_clear_irr</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    apic-&gt;<a class="code" href="structkvm__lapic.html#ada91b44df57789499ad32ad287c21217">irr_pending</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178">  174</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> u32 <a class="code" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178">__kvm_lapic_get_reg</a>(<span class="keywordtype">char</span> *regs, <span class="keywordtype">int</span> reg_off)</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> *((u32 *) (regs + reg_off));</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee">  179</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> u32 <a class="code" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee">kvm_lapic_get_reg</a>(<span class="keyword">struct</span> <a class="code" href="structkvm__lapic.html">kvm_lapic</a> *apic, <span class="keywordtype">int</span> reg_off)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178">__kvm_lapic_get_reg</a>(apic-&gt;<a class="code" href="structkvm__lapic.html#ae3a8009387d4fa77d8bc5ba244f7f6aa">regs</a>, reg_off);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="lapic_8h.html#a794ccadf351e1b46decb0755741b3eed">  184</a></span>&#160;<a class="code" href="lapic_8h.html#a794ccadf351e1b46decb0755741b3eed">DECLARE_STATIC_KEY_FALSE</a>(kvm_has_noapic_vcpu);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4">  186</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4">lapic_in_kernel</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;{</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span> (static_branch_unlikely(&amp;kvm_has_noapic_vcpu))</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">return</span> vcpu-&gt;arch.apic;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>static_key_false_deferred <a class="code" href="lapic_8h.html#a65788ee3d09ea041368cd93b3391f3c4">apic_hw_disabled</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4">  195</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4">kvm_apic_hw_enabled</a>(<span class="keyword">struct</span> <a class="code" href="structkvm__lapic.html">kvm_lapic</a> *apic)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span> (static_branch_unlikely(&amp;<a class="code" href="lapic_8h.html#a65788ee3d09ea041368cd93b3391f3c4">apic_hw_disabled</a>.key))</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">return</span> apic-&gt;<a class="code" href="structkvm__lapic.html#a54741597d07b2792d2da72ea301ad648">vcpu</a>-&gt;arch.apic_base &amp; MSR_IA32_APICBASE_ENABLE;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>static_key_false_deferred <a class="code" href="lapic_8h.html#a3c2a1bc1bb244452f5338719ef4e73c8">apic_sw_disabled</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="lapic_8h.html#a447b1b971acaf871dd62669b4aa3116f">  204</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#a447b1b971acaf871dd62669b4aa3116f">kvm_apic_sw_enabled</a>(<span class="keyword">struct</span> <a class="code" href="structkvm__lapic.html">kvm_lapic</a> *apic)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;{</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (static_branch_unlikely(&amp;<a class="code" href="lapic_8h.html#a3c2a1bc1bb244452f5338719ef4e73c8">apic_sw_disabled</a>.key))</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">return</span> apic-&gt;<a class="code" href="structkvm__lapic.html#afc6c88da7e5d98be1e6e833ca181dab2">sw_enabled</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="lapic_8h.html#ae7e74fde3e4fb01f561634e789b5eab4">  211</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#ae7e74fde3e4fb01f561634e789b5eab4">kvm_apic_present</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;{</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4">lapic_in_kernel</a>(vcpu) &amp;&amp; <a class="code" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4">kvm_apic_hw_enabled</a>(vcpu-&gt;arch.apic);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="lapic_8h.html#ac572ef1ae29ec34adf2d46f7b82cc620">  216</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#ac572ef1ae29ec34adf2d46f7b82cc620">kvm_lapic_enabled</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu)</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lapic_8h.html#ae7e74fde3e4fb01f561634e789b5eab4">kvm_apic_present</a>(vcpu) &amp;&amp; <a class="code" href="lapic_8h.html#a447b1b971acaf871dd62669b4aa3116f">kvm_apic_sw_enabled</a>(vcpu-&gt;arch.apic);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="lapic_8h.html#a07d3e1e4090a62753325dfa11d232cea">  221</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a07d3e1e4090a62753325dfa11d232cea">apic_x2apic_mode</a>(<span class="keyword">struct</span> <a class="code" href="structkvm__lapic.html">kvm_lapic</a> *apic)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">return</span> apic-&gt;<a class="code" href="structkvm__lapic.html#a54741597d07b2792d2da72ea301ad648">vcpu</a>-&gt;arch.apic_base &amp; X2APIC_ENABLE;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="lapic_8h.html#a3af346d02eebff16886d49d3810b5358">  226</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#a3af346d02eebff16886d49d3810b5358">kvm_vcpu_apicv_active</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4">lapic_in_kernel</a>(vcpu) &amp;&amp; vcpu-&gt;arch.apic-&gt;apicv_active;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="lapic_8h.html#a106127db5f69d94e5ea9d6d2982c23fd">  231</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#a106127db5f69d94e5ea9d6d2982c23fd">kvm_apic_has_pending_init_or_sipi</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4">lapic_in_kernel</a>(vcpu) &amp;&amp; vcpu-&gt;arch.apic-&gt;pending_events;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="lapic_8h.html#a58bae1ee856b1b5c5c44903c9f83a4f7">  236</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#a58bae1ee856b1b5c5c44903c9f83a4f7">kvm_apic_init_sipi_allowed</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;{</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="smm_8h.html#aa0d6bb14bef67edc441fccd36d205a67">is_smm</a>(vcpu) &amp;&amp;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;           !static_call(kvm_x86_apic_init_signal_blocked)(vcpu);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;}</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="lapic_8h.html#adfbea71ac96b210fb91bef47c77194f1">  242</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#adfbea71ac96b210fb91bef47c77194f1">kvm_lowest_prio_delivery</a>(<span class="keyword">struct</span> kvm_lapic_irq *irq)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;{</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">return</span> (irq-&gt;delivery_mode == APIC_DM_LOWEST ||</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            irq-&gt;msi_redir_hint);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="lapic_8h.html#a90e371fd128f6bd87e2863ca2d3ed066">  248</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#a90e371fd128f6bd87e2863ca2d3ed066">kvm_lapic_latched_init</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4">lapic_in_kernel</a>(vcpu) &amp;&amp; test_bit(<a class="code" href="lapic_8h.html#a3b7d7d35c001fcefc23520569c5d81d7">KVM_APIC_INIT</a>, &amp;vcpu-&gt;arch.apic-&gt;pending_events);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;}</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#a637f6f499709ab30e61db1b69177ea00">kvm_apic_pending_eoi</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu, <span class="keywordtype">int</span> vector);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a94273a31a16c3d074d5722f22474bcbb">kvm_wait_lapic_expire</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a42846edfc8630e622bcde943f49559c4">kvm_bitmap_or_dest_vcpus</a>(<span class="keyword">struct</span> kvm *kvm, <span class="keyword">struct</span> kvm_lapic_irq *irq,</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *vcpu_bitmap);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#a8620b1c89f8cf017f7827024fc95ac92">kvm_intr_is_single_vcpu_fast</a>(<span class="keyword">struct</span> kvm *kvm, <span class="keyword">struct</span> kvm_lapic_irq *irq,</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <span class="keyword">struct</span> kvm_vcpu **dest_vcpu);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="keywordtype">int</span> <a class="code" href="lapic_8h.html#ac9fecb7d9f4574931650af9abb4b9f4c">kvm_vector_to_index</a>(u32 vector, u32 dest_vcpus,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *bitmap, u32 bitmap_size);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#aee4a3e5ae4ed211edf4e463ebacadaa5">kvm_lapic_switch_to_sw_timer</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a973c3bd2856958a514e5ae2f49b14821">kvm_lapic_switch_to_hv_timer</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#a55b40b66655c45769650efd20bf3c26d">kvm_lapic_expired_hv_timer</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#a054dd145c5435c8bfe1dea1adf2ed1e1">kvm_lapic_hv_timer_in_use</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keywordtype">void</span> <a class="code" href="lapic_8h.html#ab785e74943a17874760f3d4b6b5359d0">kvm_lapic_restart_hv_timer</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="lapic_8h.html#a101348a7cc26ee89dac847f02ca917a4">  269</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="lapic_8h.html#a2400290b895608d302ecce4ee352ee25">kvm_can_use_hv_timer</a>(<span class="keyword">struct</span> kvm_vcpu *vcpu);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">enum</span> <a class="code" href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dff">lapic_mode</a> <a class="code" href="lapic_8h.html#a101348a7cc26ee89dac847f02ca917a4">kvm_apic_mode</a>(u64 apic_base)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">return</span> apic_base &amp; (MSR_IA32_APICBASE_ENABLE | X2APIC_ENABLE);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="structkvm__timer.html#a31da14cdecf55074bd9ff5af10c3ffa0">  276</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> u8 <a class="code" href="lapic_8h.html#a4f07303d20a06eeb408d4985c5e15096">kvm_xapic_id</a>(<span class="keyword">struct</span> <a class="code" href="structkvm__lapic.html">kvm_lapic</a> *apic)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;{</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee">kvm_lapic_get_reg</a>(apic, APIC_ID) &gt;&gt; 24;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="alapic_8h_html_a017e57adbc721d98d26099f1a431a22c"><div class="ttname"><a href="lapic_8h.html#a017e57adbc721d98d26099f1a431a22c">kvm_inhibit_apic_access_page</a></div><div class="ttdeci">void kvm_inhibit_apic_access_page(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02634">lapic.c:2634</a></div></div>
<div class="ttc" id="alapic_8h_html_a054dd145c5435c8bfe1dea1adf2ed1e1"><div class="ttname"><a href="lapic_8h.html#a054dd145c5435c8bfe1dea1adf2ed1e1">kvm_lapic_hv_timer_in_use</a></div><div class="ttdeci">bool kvm_lapic_hv_timer_in_use(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02083">lapic.c:2083</a></div></div>
<div class="ttc" id="alapic_8h_html_a07d3e1e4090a62753325dfa11d232cea"><div class="ttname"><a href="lapic_8h.html#a07d3e1e4090a62753325dfa11d232cea">apic_x2apic_mode</a></div><div class="ttdeci">static int apic_x2apic_mode(struct kvm_lapic *apic)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00221">lapic.h:221</a></div></div>
<div class="ttc" id="alapic_8h_html_a0c04991fb862ed18aaf962dc5eae9dff"><div class="ttname"><a href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dff">lapic_mode</a></div><div class="ttdeci">lapic_mode</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00025">lapic.h:25</a></div></div>
<div class="ttc" id="alapic_8h_html_a0c04991fb862ed18aaf962dc5eae9dffa995b62067c99e3263b6615a6b44bf092"><div class="ttname"><a href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dffa995b62067c99e3263b6615a6b44bf092">LAPIC_MODE_X2APIC</a></div><div class="ttdeci">@ LAPIC_MODE_X2APIC</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00029">lapic.h:29</a></div></div>
<div class="ttc" id="alapic_8h_html_a0c04991fb862ed18aaf962dc5eae9dffaa085aa594329c377d85feca3872e9d38"><div class="ttname"><a href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dffaa085aa594329c377d85feca3872e9d38">LAPIC_MODE_DISABLED</a></div><div class="ttdeci">@ LAPIC_MODE_DISABLED</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00026">lapic.h:26</a></div></div>
<div class="ttc" id="alapic_8h_html_a0c04991fb862ed18aaf962dc5eae9dffaaf077cffd5b7a15d27225db34a95b56c"><div class="ttname"><a href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dffaaf077cffd5b7a15d27225db34a95b56c">LAPIC_MODE_XAPIC</a></div><div class="ttdeci">@ LAPIC_MODE_XAPIC</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00028">lapic.h:28</a></div></div>
<div class="ttc" id="alapic_8h_html_a0c04991fb862ed18aaf962dc5eae9dffacc7944d9d7dbe606acabbf39f2fd9358"><div class="ttname"><a href="lapic_8h.html#a0c04991fb862ed18aaf962dc5eae9dffacc7944d9d7dbe606acabbf39f2fd9358">LAPIC_MODE_INVALID</a></div><div class="ttdeci">@ LAPIC_MODE_INVALID</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00027">lapic.h:27</a></div></div>
<div class="ttc" id="alapic_8h_html_a101348a7cc26ee89dac847f02ca917a4"><div class="ttname"><a href="lapic_8h.html#a101348a7cc26ee89dac847f02ca917a4">kvm_apic_mode</a></div><div class="ttdeci">static enum lapic_mode kvm_apic_mode(u64 apic_base)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00269">lapic.h:271</a></div></div>
<div class="ttc" id="alapic_8h_html_a106127db5f69d94e5ea9d6d2982c23fd"><div class="ttname"><a href="lapic_8h.html#a106127db5f69d94e5ea9d6d2982c23fd">kvm_apic_has_pending_init_or_sipi</a></div><div class="ttdeci">static bool kvm_apic_has_pending_init_or_sipi(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00231">lapic.h:231</a></div></div>
<div class="ttc" id="alapic_8h_html_a12227432ca4a620c3a4e249cbb28ecbe"><div class="ttname"><a href="lapic_8h.html#a12227432ca4a620c3a4e249cbb28ecbe">kvm_lapic_set_irr</a></div><div class="ttdeci">static void kvm_lapic_set_irr(int vec, struct kvm_lapic *apic)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00164">lapic.h:164</a></div></div>
<div class="ttc" id="alapic_8h_html_a179cfc2268db31f40b5bd9b1c247a37b"><div class="ttname"><a href="lapic_8h.html#a179cfc2268db31f40b5bd9b1c247a37b">kvm_x2apic_msr_read</a></div><div class="ttdeci">int kvm_x2apic_msr_read(struct kvm_vcpu *vcpu, u32 msr, u64 *data)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l03210">lapic.c:3210</a></div></div>
<div class="ttc" id="alapic_8h_html_a17eee4051fa1d41b805b09a195f64045"><div class="ttname"><a href="lapic_8h.html#a17eee4051fa1d41b805b09a195f64045">kvm_irq_delivery_to_apic_fast</a></div><div class="ttdeci">bool kvm_irq_delivery_to_apic_fast(struct kvm *kvm, struct kvm_lapic *src, struct kvm_lapic_irq *irq, int *r, struct dest_map *dest_map)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01208">lapic.c:1208</a></div></div>
<div class="ttc" id="alapic_8h_html_a1b33bb5758d3dd75c7b87e537a5e729e"><div class="ttname"><a href="lapic_8h.html#a1b33bb5758d3dd75c7b87e537a5e729e">kvm_apic_write_nodecode</a></div><div class="ttdeci">void kvm_apic_write_nodecode(struct kvm_vcpu *vcpu, u32 offset)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02446">lapic.c:2446</a></div></div>
<div class="ttc" id="alapic_8h_html_a1d54fd094860a96cad1af17c18f6904c"><div class="ttname"><a href="lapic_8h.html#a1d54fd094860a96cad1af17c18f6904c">kvm_create_lapic</a></div><div class="ttdeci">int kvm_create_lapic(struct kvm_vcpu *vcpu, int timer_advance_ns)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02810">lapic.c:2810</a></div></div>
<div class="ttc" id="alapic_8h_html_a1d8660ecbda996b11b10b179013e52d4"><div class="ttname"><a href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4">kvm_apic_hw_enabled</a></div><div class="ttdeci">static bool kvm_apic_hw_enabled(struct kvm_lapic *apic)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00195">lapic.h:195</a></div></div>
<div class="ttc" id="alapic_8h_html_a1d8c9378fcbf62390a89dc3b7f0bdbd4"><div class="ttname"><a href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4">lapic_in_kernel</a></div><div class="ttdeci">static bool lapic_in_kernel(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00186">lapic.h:186</a></div></div>
<div class="ttc" id="alapic_8h_html_a1e5b22760af617cabb18355a0a373156"><div class="ttname"><a href="lapic_8h.html#a1e5b22760af617cabb18355a0a373156">kvm_lapic_find_highest_irr</a></div><div class="ttdeci">int kvm_lapic_find_highest_irr(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l00808">lapic.c:808</a></div></div>
<div class="ttc" id="alapic_8h_html_a1f4df169625f9c4c2cb06f7443698af4"><div class="ttname"><a href="lapic_8h.html#a1f4df169625f9c4c2cb06f7443698af4">kvm_apic_accept_pic_intr</a></div><div class="ttdeci">int kvm_apic_accept_pic_intr(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02872">lapic.c:2872</a></div></div>
<div class="ttc" id="alapic_8h_html_a200be826b3634c1b5a377464f35d540f"><div class="ttname"><a href="lapic_8h.html#a200be826b3634c1b5a377464f35d540f">kvm_apic_after_set_mcg_cap</a></div><div class="ttdeci">void kvm_apic_after_set_mcg_cap(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l00596">lapic.c:596</a></div></div>
<div class="ttc" id="alapic_8h_html_a2400290b895608d302ecce4ee352ee25"><div class="ttname"><a href="lapic_8h.html#a2400290b895608d302ecce4ee352ee25">kvm_can_use_hv_timer</a></div><div class="ttdeci">bool kvm_can_use_hv_timer(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l00154">lapic.c:154</a></div></div>
<div class="ttc" id="alapic_8h_html_a27836a2bcd51ebcfe2ca478e9ad7aa04"><div class="ttname"><a href="lapic_8h.html#a27836a2bcd51ebcfe2ca478e9ad7aa04">kvm_apic_accept_events</a></div><div class="ttdeci">int kvm_apic_accept_events(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l03263">lapic.c:3263</a></div></div>
<div class="ttc" id="alapic_8h_html_a332060485ef249fcfd9edbf9cf80dd2b"><div class="ttname"><a href="lapic_8h.html#a332060485ef249fcfd9edbf9cf80dd2b">kvm_lapic_sync_to_vapic</a></div><div class="ttdeci">void kvm_lapic_sync_to_vapic(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l03115">lapic.c:3115</a></div></div>
<div class="ttc" id="alapic_8h_html_a3aead5d19fd0505da0197dfc140d6824"><div class="ttname"><a href="lapic_8h.html#a3aead5d19fd0505da0197dfc140d6824">kvm_lapic_get_cr8</a></div><div class="ttdeci">u64 kvm_lapic_get_cr8(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02521">lapic.c:2521</a></div></div>
<div class="ttc" id="alapic_8h_html_a3af346d02eebff16886d49d3810b5358"><div class="ttname"><a href="lapic_8h.html#a3af346d02eebff16886d49d3810b5358">kvm_vcpu_apicv_active</a></div><div class="ttdeci">static bool kvm_vcpu_apicv_active(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00226">lapic.h:226</a></div></div>
<div class="ttc" id="alapic_8h_html_a3b7d7d35c001fcefc23520569c5d81d7"><div class="ttname"><a href="lapic_8h.html#a3b7d7d35c001fcefc23520569c5d81d7">KVM_APIC_INIT</a></div><div class="ttdeci">#define KVM_APIC_INIT</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00012">lapic.h:12</a></div></div>
<div class="ttc" id="alapic_8h_html_a3c2a1bc1bb244452f5338719ef4e73c8"><div class="ttname"><a href="lapic_8h.html#a3c2a1bc1bb244452f5338719ef4e73c8">apic_sw_disabled</a></div><div class="ttdeci">struct static_key_false_deferred apic_sw_disabled</div></div>
<div class="ttc" id="alapic_8h_html_a3d272e1b73f22f797955e7ddea84b741"><div class="ttname"><a href="lapic_8h.html#a3d272e1b73f22f797955e7ddea84b741">kvm_apic_set_irq</a></div><div class="ttdeci">int kvm_apic_set_irq(struct kvm_vcpu *vcpu, struct kvm_lapic_irq *irq, struct dest_map *dest_map)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l00823">lapic.c:823</a></div></div>
<div class="ttc" id="alapic_8h_html_a42846edfc8630e622bcde943f49559c4"><div class="ttname"><a href="lapic_8h.html#a42846edfc8630e622bcde943f49559c4">kvm_bitmap_or_dest_vcpus</a></div><div class="ttdeci">void kvm_bitmap_or_dest_vcpus(struct kvm *kvm, struct kvm_lapic_irq *irq, unsigned long *vcpu_bitmap)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01394">lapic.c:1394</a></div></div>
<div class="ttc" id="alapic_8h_html_a447b1b971acaf871dd62669b4aa3116f"><div class="ttname"><a href="lapic_8h.html#a447b1b971acaf871dd62669b4aa3116f">kvm_apic_sw_enabled</a></div><div class="ttdeci">static bool kvm_apic_sw_enabled(struct kvm_lapic *apic)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00204">lapic.h:204</a></div></div>
<div class="ttc" id="alapic_8h_html_a44881cc17bdbe632a483e8c7c1dd0dfb"><div class="ttname"><a href="lapic_8h.html#a44881cc17bdbe632a483e8c7c1dd0dfb">kvm_set_lapic_tscdeadline_msr</a></div><div class="ttdeci">void kvm_set_lapic_tscdeadline_msr(struct kvm_vcpu *vcpu, u64 data)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02504">lapic.c:2504</a></div></div>
<div class="ttc" id="alapic_8h_html_a44fec9a6b84f831af88ffed6b2325545"><div class="ttname"><a href="lapic_8h.html#a44fec9a6b84f831af88ffed6b2325545">kvm_apic_update_ppr</a></div><div class="ttdeci">void kvm_apic_update_ppr(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l00975">lapic.c:975</a></div></div>
<div class="ttc" id="alapic_8h_html_a4768d4990380510ec220c3e510d32598"><div class="ttname"><a href="lapic_8h.html#a4768d4990380510ec220c3e510d32598">kvm_apic_set_state</a></div><div class="ttdeci">int kvm_apic_set_state(struct kvm_vcpu *vcpu, struct kvm_lapic_state *s)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02984">lapic.c:2984</a></div></div>
<div class="ttc" id="alapic_8h_html_a47d52843df792ef8e7bffdfb66a3b40b"><div class="ttname"><a href="lapic_8h.html#a47d52843df792ef8e7bffdfb66a3b40b">kvm_apic_compare_prio</a></div><div class="ttdeci">int kvm_apic_compare_prio(struct kvm_vcpu *vcpu1, struct kvm_vcpu *vcpu2)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01432">lapic.c:1432</a></div></div>
<div class="ttc" id="alapic_8h_html_a4b4d880305f2ddba0ac9fdb398a7611a"><div class="ttname"><a href="lapic_8h.html#a4b4d880305f2ddba0ac9fdb398a7611a">kvm_lapic_readable_reg_mask</a></div><div class="ttdeci">u64 kvm_lapic_readable_reg_mask(struct kvm_lapic *apic)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01607">lapic.c:1607</a></div></div>
<div class="ttc" id="alapic_8h_html_a4b7f12cb3ba68245df79bc30d938b728"><div class="ttname"><a href="lapic_8h.html#a4b7f12cb3ba68245df79bc30d938b728">kvm_apic_send_ipi</a></div><div class="ttdeci">void kvm_apic_send_ipi(struct kvm_lapic *apic, u32 icr_low, u32 icr_high)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01504">lapic.c:1504</a></div></div>
<div class="ttc" id="alapic_8h_html_a4b935c2c698d932ceff03cb20f512919"><div class="ttname"><a href="lapic_8h.html#a4b935c2c698d932ceff03cb20f512919">kvm_free_lapic</a></div><div class="ttdeci">void kvm_free_lapic(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02468">lapic.c:2468</a></div></div>
<div class="ttc" id="alapic_8h_html_a4f07303d20a06eeb408d4985c5e15096"><div class="ttname"><a href="lapic_8h.html#a4f07303d20a06eeb408d4985c5e15096">kvm_xapic_id</a></div><div class="ttdeci">static u8 kvm_xapic_id(struct kvm_lapic *apic)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00276">lapic.h:276</a></div></div>
<div class="ttc" id="alapic_8h_html_a501cf23b440691f979fad04c87067f93"><div class="ttname"><a href="lapic_8h.html#a501cf23b440691f979fad04c87067f93">kvm_apic_set_eoi_accelerated</a></div><div class="ttdeci">void kvm_apic_set_eoi_accelerated(struct kvm_vcpu *vcpu, int vector)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01493">lapic.c:1493</a></div></div>
<div class="ttc" id="alapic_8h_html_a5468339c2df08ca538b77d4d48915c35"><div class="ttname"><a href="lapic_8h.html#a5468339c2df08ca538b77d4d48915c35">kvm_apic_update_apicv</a></div><div class="ttdeci">void kvm_apic_update_apicv(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02578">lapic.c:2578</a></div></div>
<div class="ttc" id="alapic_8h_html_a55b40b66655c45769650efd20bf3c26d"><div class="ttname"><a href="lapic_8h.html#a55b40b66655c45769650efd20bf3c26d">kvm_lapic_expired_hv_timer</a></div><div class="ttdeci">void kvm_lapic_expired_hv_timer(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02171">lapic.c:2171</a></div></div>
<div class="ttc" id="alapic_8h_html_a58bae1ee856b1b5c5c44903c9f83a4f7"><div class="ttname"><a href="lapic_8h.html#a58bae1ee856b1b5c5c44903c9f83a4f7">kvm_apic_init_sipi_allowed</a></div><div class="ttdeci">static bool kvm_apic_init_sipi_allowed(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00236">lapic.h:236</a></div></div>
<div class="ttc" id="alapic_8h_html_a623f02f0875b0883fd65e82c565c9a18"><div class="ttname"><a href="lapic_8h.html#a623f02f0875b0883fd65e82c565c9a18">kvm_apic_get_state</a></div><div class="ttdeci">int kvm_apic_get_state(struct kvm_vcpu *vcpu, struct kvm_lapic_state *s)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02970">lapic.c:2970</a></div></div>
<div class="ttc" id="alapic_8h_html_a62fc68a9f819c5044440e2cf6a7763e8"><div class="ttname"><a href="lapic_8h.html#a62fc68a9f819c5044440e2cf6a7763e8">kvm_get_apic_base</a></div><div class="ttdeci">u64 kvm_get_apic_base(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8c_source.html#l00474">x86.c:474</a></div></div>
<div class="ttc" id="alapic_8h_html_a637f6f499709ab30e61db1b69177ea00"><div class="ttname"><a href="lapic_8h.html#a637f6f499709ab30e61db1b69177ea00">kvm_apic_pending_eoi</a></div><div class="ttdeci">bool kvm_apic_pending_eoi(struct kvm_vcpu *vcpu, int vector)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l00110">lapic.c:110</a></div></div>
<div class="ttc" id="alapic_8h_html_a65788ee3d09ea041368cd93b3391f3c4"><div class="ttname"><a href="lapic_8h.html#a65788ee3d09ea041368cd93b3391f3c4">apic_hw_disabled</a></div><div class="ttdeci">struct static_key_false_deferred apic_hw_disabled</div></div>
<div class="ttc" id="alapic_8h_html_a6b13b534cc2764aef8abe2383294fb06"><div class="ttname"><a href="lapic_8h.html#a6b13b534cc2764aef8abe2383294fb06">kvm_hv_vapic_msr_write</a></div><div class="ttdeci">int kvm_hv_vapic_msr_write(struct kvm_vcpu *vcpu, u32 msr, u64 data)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l03221">lapic.c:3221</a></div></div>
<div class="ttc" id="alapic_8h_html_a756b707dd502680db2eed7759defde40"><div class="ttname"><a href="lapic_8h.html#a756b707dd502680db2eed7759defde40">kvm_recalculate_apic_map</a></div><div class="ttdeci">void kvm_recalculate_apic_map(struct kvm *kvm)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l00374">lapic.c:374</a></div></div>
<div class="ttc" id="alapic_8h_html_a794ccadf351e1b46decb0755741b3eed"><div class="ttname"><a href="lapic_8h.html#a794ccadf351e1b46decb0755741b3eed">DECLARE_STATIC_KEY_FALSE</a></div><div class="ttdeci">DECLARE_STATIC_KEY_FALSE(kvm_has_noapic_vcpu)</div></div>
<div class="ttc" id="alapic_8h_html_a7d2f3f34c12c8c724fe739cbbc44ad43"><div class="ttname"><a href="lapic_8h.html#a7d2f3f34c12c8c724fe739cbbc44ad43">kvm_x2apic_msr_write</a></div><div class="ttdeci">int kvm_x2apic_msr_write(struct kvm_vcpu *vcpu, u32 msr, u64 data)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l03199">lapic.c:3199</a></div></div>
<div class="ttc" id="alapic_8h_html_a8415cd1d2d30e65d505adb5ba75a0338"><div class="ttname"><a href="lapic_8h.html#a8415cd1d2d30e65d505adb5ba75a0338">kvm_get_apic_mode</a></div><div class="ttdeci">enum lapic_mode kvm_get_apic_mode(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8c_source.html#l00474">x86.c:479</a></div></div>
<div class="ttc" id="alapic_8h_html_a8620b1c89f8cf017f7827024fc95ac92"><div class="ttname"><a href="lapic_8h.html#a8620b1c89f8cf017f7827024fc95ac92">kvm_intr_is_single_vcpu_fast</a></div><div class="ttdeci">bool kvm_intr_is_single_vcpu_fast(struct kvm *kvm, struct kvm_lapic_irq *irq, struct kvm_vcpu **dest_vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01259">lapic.c:1259</a></div></div>
<div class="ttc" id="alapic_8h_html_a8b8a5d87df5283a20e9aa9b828320552"><div class="ttname"><a href="lapic_8h.html#a8b8a5d87df5283a20e9aa9b828320552">kvm_lapic_reset</a></div><div class="ttdeci">void kvm_lapic_reset(struct kvm_vcpu *vcpu, bool init_event)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02669">lapic.c:2669</a></div></div>
<div class="ttc" id="alapic_8h_html_a8c6616d2cbae35632aa5debb15b552ec"><div class="ttname"><a href="lapic_8h.html#a8c6616d2cbae35632aa5debb15b552ec">kvm_alloc_apic_access_page</a></div><div class="ttdeci">int kvm_alloc_apic_access_page(struct kvm *kvm)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02598">lapic.c:2598</a></div></div>
<div class="ttc" id="alapic_8h_html_a8cd1df8b4c079c23a522d09c964da0ee"><div class="ttname"><a href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee">kvm_lapic_get_reg</a></div><div class="ttdeci">static u32 kvm_lapic_get_reg(struct kvm_lapic *apic, int reg_off)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00179">lapic.h:179</a></div></div>
<div class="ttc" id="alapic_8h_html_a8d747385873e52f47e85179c21521e73"><div class="ttname"><a href="lapic_8h.html#a8d747385873e52f47e85179c21521e73">kvm_lapic_set_base</a></div><div class="ttdeci">void kvm_lapic_set_base(struct kvm_vcpu *vcpu, u64 value)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02530">lapic.c:2530</a></div></div>
<div class="ttc" id="alapic_8h_html_a90e371fd128f6bd87e2863ca2d3ed066"><div class="ttname"><a href="lapic_8h.html#a90e371fd128f6bd87e2863ca2d3ed066">kvm_lapic_latched_init</a></div><div class="ttdeci">static int kvm_lapic_latched_init(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00248">lapic.h:248</a></div></div>
<div class="ttc" id="alapic_8h_html_a922ce0b7b20cf9b9ef4930d3d81e8360"><div class="ttname"><a href="lapic_8h.html#a922ce0b7b20cf9b9ef4930d3d81e8360">kvm_apic_update_irr</a></div><div class="ttdeci">bool kvm_apic_update_irr(struct kvm_vcpu *vcpu, u32 *pir, int *max_irr)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l00690">lapic.c:690</a></div></div>
<div class="ttc" id="alapic_8h_html_a94273a31a16c3d074d5722f22474bcbb"><div class="ttname"><a href="lapic_8h.html#a94273a31a16c3d074d5722f22474bcbb">kvm_wait_lapic_expire</a></div><div class="ttdeci">void kvm_wait_lapic_expire(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01869">lapic.c:1869</a></div></div>
<div class="ttc" id="alapic_8h_html_a973c3bd2856958a514e5ae2f49b14821"><div class="ttname"><a href="lapic_8h.html#a973c3bd2856958a514e5ae2f49b14821">kvm_lapic_switch_to_hv_timer</a></div><div class="ttdeci">void kvm_lapic_switch_to_hv_timer(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02192">lapic.c:2192</a></div></div>
<div class="ttc" id="alapic_8h_html_a9c3f4680631c7f6cb33a6a5c4c001750"><div class="ttname"><a href="lapic_8h.html#a9c3f4680631c7f6cb33a6a5c4c001750">kvm_lapic_set_pv_eoi</a></div><div class="ttdeci">int kvm_lapic_set_pv_eoi(struct kvm_vcpu *vcpu, u64 data, unsigned long len)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l03237">lapic.c:3237</a></div></div>
<div class="ttc" id="alapic_8h_html_a9c7a9b90f9a68f13aa4b9395a275ca96"><div class="ttname"><a href="lapic_8h.html#a9c7a9b90f9a68f13aa4b9395a275ca96">VEC_POS</a></div><div class="ttdeci">#define VEC_POS(v)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00151">lapic.h:151</a></div></div>
<div class="ttc" id="alapic_8h_html_a9d9f2a266299bc56c932735db94816d5"><div class="ttname"><a href="lapic_8h.html#a9d9f2a266299bc56c932735db94816d5">kvm_set_apic_base</a></div><div class="ttdeci">int kvm_set_apic_base(struct kvm_vcpu *vcpu, struct msr_data *msr_info)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8c_source.html#l00485">x86.c:485</a></div></div>
<div class="ttc" id="alapic_8h_html_aa28a43e0f54449e2ec4d25e1f8ecb178"><div class="ttname"><a href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178">__kvm_lapic_get_reg</a></div><div class="ttdeci">static u32 __kvm_lapic_get_reg(char *regs, int reg_off)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00174">lapic.h:174</a></div></div>
<div class="ttc" id="alapic_8h_html_aa421165466ac455ff3fff91fb9afe7bf"><div class="ttname"><a href="lapic_8h.html#aa421165466ac455ff3fff91fb9afe7bf">kvm_apic_has_interrupt</a></div><div class="ttdeci">int kvm_apic_has_interrupt(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02859">lapic.c:2859</a></div></div>
<div class="ttc" id="alapic_8h_html_aa63139efcde3eb7b7548e5792d7cf63d"><div class="ttname"><a href="lapic_8h.html#aa63139efcde3eb7b7548e5792d7cf63d">kvm_lapic_sync_from_vapic</a></div><div class="ttdeci">void kvm_lapic_sync_from_vapic(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l03072">lapic.c:3072</a></div></div>
<div class="ttc" id="alapic_8h_html_aaa6716cc0b30bec513d223fbfdecfdcf"><div class="ttname"><a href="lapic_8h.html#aaa6716cc0b30bec513d223fbfdecfdcf">kvm_apic_set_version</a></div><div class="ttdeci">void kvm_apic_set_version(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l00573">lapic.c:573</a></div></div>
<div class="ttc" id="alapic_8h_html_ab1ce737e754e319ee93f3d06e197cc50"><div class="ttname"><a href="lapic_8h.html#ab1ce737e754e319ee93f3d06e197cc50">kvm_apic_local_deliver</a></div><div class="ttdeci">int kvm_apic_local_deliver(struct kvm_lapic *apic, int lvt_type)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02762">lapic.c:2762</a></div></div>
<div class="ttc" id="alapic_8h_html_ab6d8f3638f580c8d6dcd091512c49768"><div class="ttname"><a href="lapic_8h.html#ab6d8f3638f580c8d6dcd091512c49768">kvm_lapic_set_eoi</a></div><div class="ttdeci">void kvm_lapic_set_eoi(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02439">lapic.c:2439</a></div></div>
<div class="ttc" id="alapic_8h_html_ab785e74943a17874760f3d4b6b5359d0"><div class="ttname"><a href="lapic_8h.html#ab785e74943a17874760f3d4b6b5359d0">kvm_lapic_restart_hv_timer</a></div><div class="ttdeci">void kvm_lapic_restart_hv_timer(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02208">lapic.c:2208</a></div></div>
<div class="ttc" id="alapic_8h_html_aba88c7489787a27e53b077679ce7b534"><div class="ttname"><a href="lapic_8h.html#aba88c7489787a27e53b077679ce7b534">REG_POS</a></div><div class="ttdeci">#define REG_POS(v)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00152">lapic.h:152</a></div></div>
<div class="ttc" id="alapic_8h_html_abb2749600d08d491d91b7d3ce1d0cfaf"><div class="ttname"><a href="lapic_8h.html#abb2749600d08d491d91b7d3ce1d0cfaf">kvm_lapic_get_base</a></div><div class="ttdeci">u64 kvm_lapic_get_base(struct kvm_vcpu *vcpu)</div></div>
<div class="ttc" id="alapic_8h_html_abcd26ec2b2cce7b13778d6fcea27c1fd"><div class="ttname"><a href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fd">lapic_lvt_entry</a></div><div class="ttdeci">lapic_lvt_entry</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00032">lapic.h:32</a></div></div>
<div class="ttc" id="alapic_8h_html_abcd26ec2b2cce7b13778d6fcea27c1fda1118be31e3566e933d9ce565a02cfdd5"><div class="ttname"><a href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fda1118be31e3566e933d9ce565a02cfdd5">LVT_LINT0</a></div><div class="ttdeci">@ LVT_LINT0</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00036">lapic.h:36</a></div></div>
<div class="ttc" id="alapic_8h_html_abcd26ec2b2cce7b13778d6fcea27c1fda287c02fa2b5efa0b060c321914ad5aff"><div class="ttname"><a href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fda287c02fa2b5efa0b060c321914ad5aff">LVT_PERFORMANCE_COUNTER</a></div><div class="ttdeci">@ LVT_PERFORMANCE_COUNTER</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00035">lapic.h:35</a></div></div>
<div class="ttc" id="alapic_8h_html_abcd26ec2b2cce7b13778d6fcea27c1fda3f637ebcd14b33d1c30b0b56b09cb29f"><div class="ttname"><a href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fda3f637ebcd14b33d1c30b0b56b09cb29f">LVT_ERROR</a></div><div class="ttdeci">@ LVT_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00038">lapic.h:38</a></div></div>
<div class="ttc" id="alapic_8h_html_abcd26ec2b2cce7b13778d6fcea27c1fda6501a8a1c49c80b439b25520514bbfce"><div class="ttname"><a href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fda6501a8a1c49c80b439b25520514bbfce">LVT_CMCI</a></div><div class="ttdeci">@ LVT_CMCI</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00039">lapic.h:39</a></div></div>
<div class="ttc" id="alapic_8h_html_abcd26ec2b2cce7b13778d6fcea27c1fdaa2e7ce18b246d7ad6fe039d93d40dd06"><div class="ttname"><a href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fdaa2e7ce18b246d7ad6fe039d93d40dd06">KVM_APIC_MAX_NR_LVT_ENTRIES</a></div><div class="ttdeci">@ KVM_APIC_MAX_NR_LVT_ENTRIES</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00041">lapic.h:41</a></div></div>
<div class="ttc" id="alapic_8h_html_abcd26ec2b2cce7b13778d6fcea27c1fdaaa41ab22efcb8632e45533e067402ac2"><div class="ttname"><a href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fdaaa41ab22efcb8632e45533e067402ac2">LVT_TIMER</a></div><div class="ttdeci">@ LVT_TIMER</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00033">lapic.h:33</a></div></div>
<div class="ttc" id="alapic_8h_html_abcd26ec2b2cce7b13778d6fcea27c1fdad63014a29d09b49e2d4a5ea621624573"><div class="ttname"><a href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fdad63014a29d09b49e2d4a5ea621624573">LVT_LINT1</a></div><div class="ttdeci">@ LVT_LINT1</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00037">lapic.h:37</a></div></div>
<div class="ttc" id="alapic_8h_html_abcd26ec2b2cce7b13778d6fcea27c1fdaf3ef908053e3fd4a9c45a1c5046372c9"><div class="ttname"><a href="lapic_8h.html#abcd26ec2b2cce7b13778d6fcea27c1fdaf3ef908053e3fd4a9c45a1c5046372c9">LVT_THERMAL_MONITOR</a></div><div class="ttdeci">@ LVT_THERMAL_MONITOR</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00034">lapic.h:34</a></div></div>
<div class="ttc" id="alapic_8h_html_ac572ef1ae29ec34adf2d46f7b82cc620"><div class="ttname"><a href="lapic_8h.html#ac572ef1ae29ec34adf2d46f7b82cc620">kvm_lapic_enabled</a></div><div class="ttdeci">static int kvm_lapic_enabled(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00216">lapic.h:216</a></div></div>
<div class="ttc" id="alapic_8h_html_ac6d5ae412d8199fc4aceeae42cb80024"><div class="ttname"><a href="lapic_8h.html#ac6d5ae412d8199fc4aceeae42cb80024">kvm_get_apic_interrupt</a></div><div class="ttdeci">int kvm_get_apic_interrupt(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02894">lapic.c:2894</a></div></div>
<div class="ttc" id="alapic_8h_html_ac9fecb7d9f4574931650af9abb4b9f4c"><div class="ttname"><a href="lapic_8h.html#ac9fecb7d9f4574931650af9abb4b9f4c">kvm_vector_to_index</a></div><div class="ttdeci">int kvm_vector_to_index(u32 vector, u32 dest_vcpus, const unsigned long *bitmap, u32 bitmap_size)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01092">lapic.c:1092</a></div></div>
<div class="ttc" id="alapic_8h_html_ad0f76b010d3d80125e88dc3d819f115b"><div class="ttname"><a href="lapic_8h.html#ad0f76b010d3d80125e88dc3d819f115b">kvm_lapic_set_vapic_addr</a></div><div class="ttdeci">int kvm_lapic_set_vapic_addr(struct kvm_vcpu *vcpu, gpa_t vapic_addr)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l03139">lapic.c:3139</a></div></div>
<div class="ttc" id="alapic_8h_html_ad608730f208932f64d2c98c762fce85c"><div class="ttname"><a href="lapic_8h.html#ad608730f208932f64d2c98c762fce85c">kvm_apic_clear_irr</a></div><div class="ttdeci">void kvm_apic_clear_irr(struct kvm_vcpu *vcpu, int vec)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l00738">lapic.c:738</a></div></div>
<div class="ttc" id="alapic_8h_html_ada4d7479e3c0f2e45cb1565dab78c198"><div class="ttname"><a href="lapic_8h.html#ada4d7479e3c0f2e45cb1565dab78c198">kvm_lapic_clear_vector</a></div><div class="ttdeci">static void kvm_lapic_clear_vector(int vec, void *bitmap)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00154">lapic.h:154</a></div></div>
<div class="ttc" id="alapic_8h_html_adb63e5a650d4571316b450d153a3105d"><div class="ttname"><a href="lapic_8h.html#adb63e5a650d4571316b450d153a3105d">kvm_apic_match_dest</a></div><div class="ttdeci">bool kvm_apic_match_dest(struct kvm_vcpu *vcpu, struct kvm_lapic *source, int shorthand, unsigned int dest, int dest_mode)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l01067">lapic.c:1067</a></div></div>
<div class="ttc" id="alapic_8h_html_adf2487dc76dace6e577b637cc357998b"><div class="ttname"><a href="lapic_8h.html#adf2487dc76dace6e577b637cc357998b">kvm_x2apic_icr_write</a></div><div class="ttdeci">int kvm_x2apic_icr_write(struct kvm_lapic *apic, u64 data)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l03155">lapic.c:3155</a></div></div>
<div class="ttc" id="alapic_8h_html_adfbea71ac96b210fb91bef47c77194f1"><div class="ttname"><a href="lapic_8h.html#adfbea71ac96b210fb91bef47c77194f1">kvm_lowest_prio_delivery</a></div><div class="ttdeci">static bool kvm_lowest_prio_delivery(struct kvm_lapic_irq *irq)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00242">lapic.h:242</a></div></div>
<div class="ttc" id="alapic_8h_html_ae7e74fde3e4fb01f561634e789b5eab4"><div class="ttname"><a href="lapic_8h.html#ae7e74fde3e4fb01f561634e789b5eab4">kvm_apic_present</a></div><div class="ttdeci">static bool kvm_apic_present(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00211">lapic.h:211</a></div></div>
<div class="ttc" id="alapic_8h_html_aec25ca9a5ddcfdd5fee6a986826582c7"><div class="ttname"><a href="lapic_8h.html#aec25ca9a5ddcfdd5fee6a986826582c7">kvm_hv_vapic_msr_read</a></div><div class="ttdeci">int kvm_hv_vapic_msr_read(struct kvm_vcpu *vcpu, u32 msr, u64 *data)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l03229">lapic.c:3229</a></div></div>
<div class="ttc" id="alapic_8h_html_aecd6ca5347dbb81047584149b2291019"><div class="ttname"><a href="lapic_8h.html#aecd6ca5347dbb81047584149b2291019">kvm_lapic_set_vector</a></div><div class="ttdeci">static void kvm_lapic_set_vector(int vec, void *bitmap)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00159">lapic.h:159</a></div></div>
<div class="ttc" id="alapic_8h_html_aed305556b8d09cfaa135cca071bd8c22"><div class="ttname"><a href="lapic_8h.html#aed305556b8d09cfaa135cca071bd8c22">__kvm_apic_update_irr</a></div><div class="ttdeci">bool __kvm_apic_update_irr(u32 *pir, void *regs, int *max_irr)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l00654">lapic.c:654</a></div></div>
<div class="ttc" id="alapic_8h_html_aee34622e495b500817e0b0905bfd0d4c"><div class="ttname"><a href="lapic_8h.html#aee34622e495b500817e0b0905bfd0d4c">kvm_lapic_set_tpr</a></div><div class="ttdeci">void kvm_lapic_set_tpr(struct kvm_vcpu *vcpu, unsigned long cr8)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02516">lapic.c:2516</a></div></div>
<div class="ttc" id="alapic_8h_html_aee4a3e5ae4ed211edf4e463ebacadaa5"><div class="ttname"><a href="lapic_8h.html#aee4a3e5ae4ed211edf4e463ebacadaa5">kvm_lapic_switch_to_sw_timer</a></div><div class="ttdeci">void kvm_lapic_switch_to_sw_timer(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02197">lapic.c:2197</a></div></div>
<div class="ttc" id="alapic_8h_html_af2d9c133a24e68f345a3fe133bf8bfaf"><div class="ttname"><a href="lapic_8h.html#af2d9c133a24e68f345a3fe133bf8bfaf">kvm_lapic_exit</a></div><div class="ttdeci">void kvm_lapic_exit(void)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l03313">lapic.c:3313</a></div></div>
<div class="ttc" id="alapic_8h_html_af2fa5313476adb8240d3595805d784fc"><div class="ttname"><a href="lapic_8h.html#af2fa5313476adb8240d3595805d784fc">kvm_get_lapic_tscdeadline_msr</a></div><div class="ttdeci">u64 kvm_get_lapic_tscdeadline_msr(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02494">lapic.c:2494</a></div></div>
<div class="ttc" id="aposted__intr_8h_html_a2707c542febe155b1642f9b9a9c0bc79"><div class="ttname"><a href="posted__intr_8h.html#a2707c542febe155b1642f9b9a9c0bc79">pir</a></div><div class="ttdeci">u32 pir[8]</div><div class="ttdef"><b>Definition:</b> <a href="posted__intr_8h_source.html#l00000">posted_intr.h:0</a></div></div>
<div class="ttc" id="asmm_8h_html"><div class="ttname"><a href="smm_8h.html">smm.h</a></div></div>
<div class="ttc" id="asmm_8h_html_aa0d6bb14bef67edc441fccd36d205a67"><div class="ttname"><a href="smm_8h.html#aa0d6bb14bef67edc441fccd36d205a67">is_smm</a></div><div class="ttdeci">static bool is_smm(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="smm_8h_source.html#l00160">smm.h:160</a></div></div>
<div class="ttc" id="astructdest__map_html"><div class="ttname"><a href="structdest__map.html">dest_map</a></div><div class="ttdef"><b>Definition:</b> <a href="ioapic_8h_source.html#l00040">ioapic.h:40</a></div></div>
<div class="ttc" id="astructkvm__lapic_html"><div class="ttname"><a href="structkvm__lapic.html">kvm_lapic</a></div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00059">lapic.h:59</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_a10b091cd5ea6402115f0352a5528d830"><div class="ttname"><a href="structkvm__lapic.html#a10b091cd5ea6402115f0352a5528d830">kvm_lapic::vapic_cache</a></div><div class="ttdeci">struct gfn_to_hva_cache vapic_cache</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00079">lapic.h:80</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_a2e61dc072b6f41497ade5b4a59b2c52a"><div class="ttname"><a href="structkvm__lapic.html#a2e61dc072b6f41497ade5b4a59b2c52a">kvm_lapic::lapic_timer</a></div><div class="ttdeci">struct kvm_timer lapic_timer</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00060">lapic.h:62</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_a31c3efc5b365f96580ea975272c3f277"><div class="ttname"><a href="structkvm__lapic.html#a31c3efc5b365f96580ea975272c3f277">kvm_lapic::divide_count</a></div><div class="ttdeci">u32 divide_count</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00063">lapic.h:63</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_a4642d7f446bbd9ede893aa1ebbcc9c1a"><div class="ttname"><a href="structkvm__lapic.html#a4642d7f446bbd9ede893aa1ebbcc9c1a">kvm_lapic::apicv_active</a></div><div class="ttdeci">bool apicv_active</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00065">lapic.h:65</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_a4b58ed7ed33fe007d319d39271d8d1b9"><div class="ttname"><a href="structkvm__lapic.html#a4b58ed7ed33fe007d319d39271d8d1b9">kvm_lapic::highest_isr_cache</a></div><div class="ttdeci">int highest_isr_cache</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00072">lapic.h:72</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_a54741597d07b2792d2da72ea301ad648"><div class="ttname"><a href="structkvm__lapic.html#a54741597d07b2792d2da72ea301ad648">kvm_lapic::vcpu</a></div><div class="ttdeci">struct kvm_vcpu * vcpu</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00064">lapic.h:64</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_a64110f6330456e8272b6e96539d168e1"><div class="ttname"><a href="structkvm__lapic.html#a64110f6330456e8272b6e96539d168e1">kvm_lapic::dev</a></div><div class="ttdeci">struct kvm_io_device dev</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00060">lapic.h:61</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_a830e2e9bd5c55c17f48b72a0157a6fa2"><div class="ttname"><a href="structkvm__lapic.html#a830e2e9bd5c55c17f48b72a0157a6fa2">kvm_lapic::base_address</a></div><div class="ttdeci">unsigned long base_address</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00060">lapic.h:60</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_a9122fb8adbd131d159cb064fe6a3f01e"><div class="ttname"><a href="structkvm__lapic.html#a9122fb8adbd131d159cb064fe6a3f01e">kvm_lapic::sipi_vector</a></div><div class="ttdeci">unsigned int sipi_vector</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00082">lapic.h:82</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_aa50adf6f32ef5726dac99ac5b8c4ba39"><div class="ttname"><a href="structkvm__lapic.html#aa50adf6f32ef5726dac99ac5b8c4ba39">kvm_lapic::lvt0_in_nmi_mode</a></div><div class="ttdeci">bool lvt0_in_nmi_mode</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00068">lapic.h:68</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_ad8506269387d80ddd1c6cc8a96c9398a"><div class="ttname"><a href="structkvm__lapic.html#ad8506269387d80ddd1c6cc8a96c9398a">kvm_lapic::isr_count</a></div><div class="ttdeci">s16 isr_count</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00070">lapic.h:70</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_ada91b44df57789499ad32ad287c21217"><div class="ttname"><a href="structkvm__lapic.html#ada91b44df57789499ad32ad287c21217">kvm_lapic::irr_pending</a></div><div class="ttdeci">bool irr_pending</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00067">lapic.h:67</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_ade63c790c3a1363b7af1853b98bacf1a"><div class="ttname"><a href="structkvm__lapic.html#ade63c790c3a1363b7af1853b98bacf1a">kvm_lapic::pending_events</a></div><div class="ttdeci">unsigned long pending_events</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00081">lapic.h:81</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_adf67d2b36ad016503087c9972d9cdf5d"><div class="ttname"><a href="structkvm__lapic.html#adf67d2b36ad016503087c9972d9cdf5d">kvm_lapic::vapic_addr</a></div><div class="ttdeci">gpa_t vapic_addr</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00079">lapic.h:79</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_ae2b24a1af6e2a89bda594f08d3382267"><div class="ttname"><a href="structkvm__lapic.html#ae2b24a1af6e2a89bda594f08d3382267">kvm_lapic::nr_lvt_entries</a></div><div class="ttdeci">int nr_lvt_entries</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00083">lapic.h:83</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_ae3a8009387d4fa77d8bc5ba244f7f6aa"><div class="ttname"><a href="structkvm__lapic.html#ae3a8009387d4fa77d8bc5ba244f7f6aa">kvm_lapic::regs</a></div><div class="ttdeci">void * regs</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00078">lapic.h:78</a></div></div>
<div class="ttc" id="astructkvm__lapic_html_afc6c88da7e5d98be1e6e833ca181dab2"><div class="ttname"><a href="structkvm__lapic.html#afc6c88da7e5d98be1e6e833ca181dab2">kvm_lapic::sw_enabled</a></div><div class="ttdeci">bool sw_enabled</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00066">lapic.h:66</a></div></div>
<div class="ttc" id="astructkvm__timer_html"><div class="ttname"><a href="structkvm__timer.html">kvm_timer</a></div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00046">lapic.h:46</a></div></div>
<div class="ttc" id="astructkvm__timer_html_a02a69390fafe1e1281847530af564ef0"><div class="ttname"><a href="structkvm__timer.html#a02a69390fafe1e1281847530af564ef0">kvm_timer::timer_advance_ns</a></div><div class="ttdeci">u32 timer_advance_ns</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00054">lapic.h:54</a></div></div>
<div class="ttc" id="astructkvm__timer_html_a033831ad90c69d7ea4e9af3fd0a6727e"><div class="ttname"><a href="structkvm__timer.html#a033831ad90c69d7ea4e9af3fd0a6727e">kvm_timer::hv_timer_in_use</a></div><div class="ttdeci">bool hv_timer_in_use</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00056">lapic.h:56</a></div></div>
<div class="ttc" id="astructkvm__timer_html_a0a01f4db22cd9d821750ba99cd9dd1d6"><div class="ttname"><a href="structkvm__timer.html#a0a01f4db22cd9d821750ba99cd9dd1d6">kvm_timer::timer_mode</a></div><div class="ttdeci">u32 timer_mode</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00050">lapic.h:50</a></div></div>
<div class="ttc" id="astructkvm__timer_html_a0de90943a0ace07fbb0e0219fe64e2f8"><div class="ttname"><a href="structkvm__timer.html#a0de90943a0ace07fbb0e0219fe64e2f8">kvm_timer::target_expiration</a></div><div class="ttdeci">ktime_t target_expiration</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00049">lapic.h:49</a></div></div>
<div class="ttc" id="astructkvm__timer_html_a159bd17861468df061b33cdbd9a6b477"><div class="ttname"><a href="structkvm__timer.html#a159bd17861468df061b33cdbd9a6b477">kvm_timer::period</a></div><div class="ttdeci">s64 period</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00048">lapic.h:48</a></div></div>
<div class="ttc" id="astructkvm__timer_html_a23c6ec12b6c61cf7b3c02ff13099dbcf"><div class="ttname"><a href="structkvm__timer.html#a23c6ec12b6c61cf7b3c02ff13099dbcf">kvm_timer::expired_tscdeadline</a></div><div class="ttdeci">u64 expired_tscdeadline</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00053">lapic.h:53</a></div></div>
<div class="ttc" id="astructkvm__timer_html_a31da14cdecf55074bd9ff5af10c3ffa0"><div class="ttname"><a href="structkvm__timer.html#a31da14cdecf55074bd9ff5af10c3ffa0">kvm_timer::timer</a></div><div class="ttdeci">struct hrtimer timer</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00276">lapic.h:47</a></div></div>
<div class="ttc" id="astructkvm__timer_html_a37e444e2ea7fd2b7cd3975909208ddcb"><div class="ttname"><a href="structkvm__timer.html#a37e444e2ea7fd2b7cd3975909208ddcb">kvm_timer::timer_mode_mask</a></div><div class="ttdeci">u32 timer_mode_mask</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00051">lapic.h:51</a></div></div>
<div class="ttc" id="astructkvm__timer_html_a581e6b6fe55055ed8a81d5a1aa258ff7"><div class="ttname"><a href="structkvm__timer.html#a581e6b6fe55055ed8a81d5a1aa258ff7">kvm_timer::pending</a></div><div class="ttdeci">atomic_t pending</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00055">lapic.h:55</a></div></div>
<div class="ttc" id="astructkvm__timer_html_acb4ad6bfe6c14982d0a87f4678e92d09"><div class="ttname"><a href="structkvm__timer.html#acb4ad6bfe6c14982d0a87f4678e92d09">kvm_timer::tscdeadline</a></div><div class="ttdeci">u64 tscdeadline</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00052">lapic.h:52</a></div></div>
<div class="ttc" id="avmx_2hyperv_8h_html"><div class="ttname"><a href="vmx_2hyperv_8h.html">hyperv.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
