<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KVM: arch/x86/kvm/svm/hyperv.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ea9599923402ca8ab47fc3e495999dea.html">arch</a></li><li class="navelem"><a class="el" href="dir_c21774f8bc9f0de15163573e5f5fa2b5.html">x86</a></li><li class="navelem"><a class="el" href="dir_fde450fd4b58e2560c53a1e73bfa4d6d.html">kvm</a></li><li class="navelem"><a class="el" href="dir_59e270fee840b69a56de99d30906df9d.html">svm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">hyperv.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="svm_2hyperv_8h_source.html">hyperv.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for hyperv.c:</div>
<div class="dyncontent">
<div class="center"><img src="svm_2hyperv_8c__incl.png" border="0" usemap="#aarch_2x86_2kvm_2svm_2hyperv_8c" alt=""/></div>
<map name="aarch_2x86_2kvm_2svm_2hyperv_8c" id="aarch_2x86_2kvm_2svm_2hyperv_8c">
<area shape="rect" title=" " alt="" coords="252,5,455,32"/>
<area shape="rect" href="svm_2hyperv_8h.html" title=" " alt="" coords="314,80,393,107"/>
<area shape="rect" title=" " alt="" coords="185,155,316,181"/>
<area shape="rect" href="hyperv_8h.html" title=" " alt="" coords="141,229,232,256"/>
<area shape="rect" href="svm_8h.html" title=" " alt="" coords="631,155,694,181"/>
<area shape="rect" title=" " alt="" coords="605,453,739,480"/>
<area shape="rect" href="x86_8h.html" title=" " alt="" coords="463,304,521,331"/>
<area shape="rect" title=" " alt="" coords="578,379,710,405"/>
<area shape="rect" title=" " alt="" coords="267,379,362,405"/>
<area shape="rect" title=" " alt="" coords="386,379,502,405"/>
<area shape="rect" href="kvm__cache__regs_8h.html" title=" " alt="" coords="734,379,877,405"/>
<area shape="rect" href="kvm__emulate_8h.html" title=" " alt="" coords="67,379,191,405"/>
<area shape="rect" title=" " alt="" coords="5,453,136,480"/>
<area shape="rect" href="fpu_8h.html" title=" " alt="" coords="161,453,215,480"/>
<area shape="rect" title=" " alt="" coords="133,528,243,555"/>
<area shape="rect" title=" " alt="" coords="257,229,399,256"/>
<area shape="rect" title=" " alt="" coords="423,229,518,256"/>
<area shape="rect" title=" " alt="" coords="542,229,637,256"/>
<area shape="rect" title=" " alt="" coords="661,229,811,256"/>
<area shape="rect" href="cpuid_8h.html" title=" " alt="" coords="1007,229,1076,256"/>
<area shape="rect" href="reverse__cpuid_8h.html" title=" " alt="" coords="979,304,1104,331"/>
<area shape="rect" title=" " alt="" coords="865,304,954,331"/>
<area shape="rect" title=" " alt="" coords="1128,304,1256,331"/>
<area shape="rect" title=" " alt="" coords="1280,304,1443,331"/>
<area shape="rect" href="governed__features_8h.html" title=" " alt="" coords="1467,304,1623,331"/>
<area shape="rect" title=" " alt="" coords="1229,379,1355,405"/>
<area shape="rect" title=" " alt="" coords="901,379,1037,405"/>
<area shape="rect" title=" " alt="" coords="1062,379,1205,405"/>
</map>
</div>
</div>
<p><a href="svm_2hyperv_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a33efa5fe6a664e9b2a70232b93485645"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="svm_2hyperv_8c.html#a33efa5fe6a664e9b2a70232b93485645">svm_hv_inject_synthetic_vmexit_post_tlb_flush</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a33efa5fe6a664e9b2a70232b93485645"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a33efa5fe6a664e9b2a70232b93485645"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33efa5fe6a664e9b2a70232b93485645">&#9670;&nbsp;</a></span>svm_hv_inject_synthetic_vmexit_post_tlb_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void svm_hv_inject_synthetic_vmexit_post_tlb_flush </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="svm_2hyperv_8c_source.html#l00009">9</a> of file <a class="el" href="svm_2hyperv_8c_source.html">hyperv.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;{</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvcpu__svm.html">vcpu_svm</a> *svm = <a class="code" href="svm_8h.html#a83e420c88631faf9613ea3caa72c63b7">to_svm</a>(<a class="code" href="structvcpu__svm.html#af164d8d741d9ea90dae6a46974d29f9e">vcpu</a>);</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    svm-&gt;<a class="code" href="structvcpu__svm.html#af095ed7bcc31c036e28e533582723a60">vmcb</a>-&gt;control.exit_code = HV_SVM_EXITCODE_ENL;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    svm-&gt;<a class="code" href="structvcpu__svm.html#af095ed7bcc31c036e28e533582723a60">vmcb</a>-&gt;control.exit_code_hi = 0;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    svm-&gt;<a class="code" href="structvcpu__svm.html#af095ed7bcc31c036e28e533582723a60">vmcb</a>-&gt;control.exit_info_1 = HV_SVM_ENL_EXITCODE_TRAP_AFTER_FLUSH;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    svm-&gt;<a class="code" href="structvcpu__svm.html#af095ed7bcc31c036e28e533582723a60">vmcb</a>-&gt;control.exit_info_2 = 0;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <a class="code" href="svm_2nested_8c.html#a73d1cb9b9fcfa112138681d9080a1c05">nested_svm_vmexit</a>(svm);</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;}</div>
<div class="ttc" id="astructvcpu__svm_html"><div class="ttname"><a href="structvcpu__svm.html">vcpu_svm</a></div><div class="ttdef"><b>Definition:</b> <a href="svm_8h_source.html#l00209">svm.h:209</a></div></div>
<div class="ttc" id="astructvcpu__svm_html_af095ed7bcc31c036e28e533582723a60"><div class="ttname"><a href="structvcpu__svm.html#af095ed7bcc31c036e28e533582723a60">vcpu_svm::vmcb</a></div><div class="ttdeci">struct vmcb * vmcb</div><div class="ttdef"><b>Definition:</b> <a href="svm_8h_source.html#l00212">svm.h:212</a></div></div>
<div class="ttc" id="astructvcpu__svm_html_af164d8d741d9ea90dae6a46974d29f9e"><div class="ttname"><a href="structvcpu__svm.html#af164d8d741d9ea90dae6a46974d29f9e">vcpu_svm::vcpu</a></div><div class="ttdeci">struct kvm_vcpu vcpu</div><div class="ttdef"><b>Definition:</b> <a href="svm_8h_source.html#l00206">svm.h:210</a></div></div>
<div class="ttc" id="asvm_2nested_8c_html_a73d1cb9b9fcfa112138681d9080a1c05"><div class="ttname"><a href="svm_2nested_8c.html#a73d1cb9b9fcfa112138681d9080a1c05">nested_svm_vmexit</a></div><div class="ttdeci">int nested_svm_vmexit(struct vcpu_svm *svm)</div><div class="ttdef"><b>Definition:</b> <a href="svm_2nested_8c_source.html#l00967">nested.c:967</a></div></div>
<div class="ttc" id="asvm_8h_html_a83e420c88631faf9613ea3caa72c63b7"><div class="ttname"><a href="svm_8h.html#a83e420c88631faf9613ea3caa72c63b7">to_svm</a></div><div class="ttdeci">static __always_inline struct vcpu_svm * to_svm(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="svm_8h_source.html#l00364">svm.h:364</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="svm_2hyperv_8c_a33efa5fe6a664e9b2a70232b93485645_cgraph.png" border="0" usemap="#asvm_2hyperv_8c_a33efa5fe6a664e9b2a70232b93485645_cgraph" alt=""/></div>
<map name="asvm_2hyperv_8c_a33efa5fe6a664e9b2a70232b93485645_cgraph" id="asvm_2hyperv_8c_a33efa5fe6a664e9b2a70232b93485645_cgraph">
<area shape="rect" title=" " alt="" coords="5,503,188,544"/>
<area shape="rect" href="svm_2nested_8c.html#a73d1cb9b9fcfa112138681d9080a1c05" title=" " alt="" coords="236,955,391,982"/>
<area shape="rect" href="svm_8h.html#a83e420c88631faf9613ea3caa72c63b7" title=" " alt="" coords="997,291,1068,318"/>
<area shape="rect" href="x86_8c.html#a87cedb0953e919148694dd8b06c9cb73" title=" " alt="" coords="441,367,639,394"/>
<area shape="rect" href="cpuid_8h.html#acf67f5848a2ddd59dc852e37bc330390" title=" " alt="" coords="729,13,848,39"/>
<area shape="rect" href="x86_8c.html#a21212b8e1a82cdc8ac696137981d8d7a" title=" " alt="" coords="459,773,621,799"/>
<area shape="rect" href="x86_8h.html#acdc826b0cd2ce8b958a826c8faa306b4" title=" " alt="" coords="459,824,621,865"/>
<area shape="rect" href="x86_8h.html#a9dbf3d5bc7a0735443e0e21e00802160" title=" " alt="" coords="463,889,617,931"/>
<area shape="rect" href="x86_8c.html#aeca964de04721f39e3ec34f195707b5c" title=" " alt="" coords="479,955,601,982"/>
<area shape="rect" href="x86_8h.html#ab226ac0135835109146350d5db3d4031" title=" " alt="" coords="461,1006,619,1033"/>
<area shape="rect" href="x86_8c.html#ac9502ee8f018301047c80e19ab79f7e2" title=" " alt="" coords="455,1057,625,1083"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a66188c5384cbd688acd880f8de16fbff" title=" " alt="" coords="483,1107,597,1134"/>
<area shape="rect" href="kvm__cache__regs_8h.html#aa80de2ba11d877ef825788b0c9768378" title=" " alt="" coords="731,1158,846,1185"/>
<area shape="rect" href="kvm__cache__regs_8h.html#ad97ff6b975b461b815e6749d29c65446" title=" " alt="" coords="485,1259,595,1286"/>
<area shape="rect" href="kvm__cache__regs_8h.html#aa70071fd3a98f236b0b57a30cbec124f" title=" " alt="" coords="483,1361,597,1387"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a30f9ca7e6fd08d1cf123f57fbfba01c7" title=" " alt="" coords="483,1209,597,1235"/>
<area shape="rect" href="kvm__cache__regs_8h.html#ac3d05504b537edf79951e929f6d76633" title=" " alt="" coords="481,1310,599,1337"/>
<area shape="rect" href="x86_8c.html#a12826c3f941e4dbf381d4d085ce42110" title=" " alt="" coords="479,1411,601,1438"/>
<area shape="rect" href="x86_8c.html#afed36c545d27cca59caddf31fdfd054a" title=" " alt="" coords="475,1462,605,1489"/>
<area shape="rect" href="kvm__main_8c.html#a96c7b38454f962b34da813b043f4abe9" title=" " alt="" coords="477,1513,603,1539"/>
<area shape="rect" href="kvm__main_8c.html#af9a24e7d30a38de04326c683ebc6a155" title=" " alt="" coords="469,1563,611,1590"/>
<area shape="rect" href="kvm__cache__regs_8h.html#aeca9aaff776c6158999d08d88e93e9a3" title=" " alt="" coords="467,1614,613,1641"/>
<area shape="rect" href="svm_8h.html#a13cbed806a9638fcaab4d01cb926d141" title=" " alt="" coords="465,1665,615,1691"/>
<area shape="rect" href="svm_2nested_8c.html#a5b731f64682240fd51bd242f194b33f4" title=" " alt="" coords="459,1716,621,1757"/>
<area shape="rect" href="svm_2nested_8c.html#adaebb1c261df8111105ce7566e7bb79f" title=" " alt="" coords="439,1781,641,1823"/>
<area shape="rect" href="svm_2nested_8c.html#a2d996c5be366f0a7b21228fd18be85ab" title=" " alt="" coords="459,1847,621,1874"/>
<area shape="rect" href="svm_2nested_8c.html#af381358fd9991ce7d26d81fdb9f763a9" title=" " alt="" coords="455,185,625,227"/>
<area shape="rect" href="svm_2nested_8c.html#a10ef7b4561f5f7773d13cbd00fa7db53" title=" " alt="" coords="447,251,633,292"/>
<area shape="rect" href="svm_8c.html#a06d8a6a899d49f3235ec1294d1943c84" title=" " alt="" coords="729,570,848,597"/>
<area shape="rect" href="svm_8h.html#ab83edec724698a20d66a086a1900aa27" title=" " alt="" coords="965,570,1101,597"/>
<area shape="rect" href="svm_8c.html#a1a9474f1273be079ac4f3c1320093c3d" title=" " alt="" coords="488,519,592,546"/>
<area shape="rect" href="svm_8c.html#aec23ca96447aab4ff19f594a297bc109" title=" " alt="" coords="737,418,841,445"/>
<area shape="rect" href="svm_8c.html#a5df90c8772700a60441f2ba19472f726" title=" " alt="" coords="485,621,595,647"/>
<area shape="rect" href="svm_8c.html#a5c26f1ceaa6cc778d986bd33629dc539" title=" " alt="" coords="738,722,839,749"/>
<area shape="rect" href="svm_8c.html#a051d09f3fa8790388364ac3f69ed3e53" title=" " alt="" coords="469,418,611,445"/>
<area shape="rect" href="svm_8c.html#ad5aa214e23ea9ec9418bebbe889d41ef" title=" " alt="" coords="473,114,607,141"/>
<area shape="rect" href="svm_8c.html#ad9a1b45b05505f9435cc2d1dd1c37943" title=" " alt="" coords="695,165,882,191"/>
<area shape="rect" href="lapic_8c.html#a5468339c2df08ca538b77d4d48915c35" title=" " alt="" coords="699,215,878,242"/>
<area shape="rect" href="x86_8c.html#a8415cd1d2d30e65d505adb5ba75a0338" title=" " alt="" coords="710,266,867,293"/>
<area shape="rect" href="x86_8c.html#ade52ab1bf2b3d66def1c4851fab08c45" title=" " alt="" coords="689,317,888,343"/>
<area shape="rect" href="lapic_8h.html#a1d8c9378fcbf62390a89dc3b7f0bdbd4" title=" " alt="" coords="729,367,848,394"/>
<area shape="rect" href="cpuid_8h.html#a786eea4c1fa59be0155455a72125e0ff" title=" " alt="" coords="1177,5,1351,47"/>
<area shape="rect" href="cpuid_8h.html#a72da5444b01d72d935ebc411b99ba166" title=" " alt="" coords="937,38,1128,65"/>
<area shape="rect" href="x86_8c.html#a9a6f9a3892e36b8251d551192dc20a6f" title=" " alt="" coords="697,1057,880,1083"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a5fbb40e1f7661ccfd5accdaef3d8c378" title=" " alt="" coords="716,1107,861,1134"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a6b9ea8c019490183db2a81569aad2bf9" title=" " alt="" coords="936,1158,1129,1185"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a5d9eb0563cffb1e3ed1cccebabcf2df6" title=" " alt="" coords="701,1209,876,1235"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a5117377174dc7ebf722e4976c0ae736b" title=" " alt="" coords="699,1335,878,1362"/>
<area shape="rect" href="x86_8c.html#a02687f1819d3a24cafdda1660be6ec9b" title=" " alt="" coords="721,1411,856,1438"/>
<area shape="rect" href="kvm__main_8c.html#a055190afb6bce32ba87e7fea907ec1ec" title=" " alt="" coords="743,1513,834,1539"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
