<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KVM: arch/x86/kvm/vmx/nested.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ea9599923402ca8ab47fc3e495999dea.html">arch</a></li><li class="navelem"><a class="el" href="dir_c21774f8bc9f0de15163573e5f5fa2b5.html">x86</a></li><li class="navelem"><a class="el" href="dir_fde450fd4b58e2560c53a1e73bfa4d6d.html">kvm</a></li><li class="navelem"><a class="el" href="dir_9793580f8dab032f23ee1d591e6cafd6.html">vmx</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">nested.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="kvm__cache__regs_8h_source.html">kvm_cache_regs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vmx_2hyperv_8h_source.html">hyperv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vmcs12_8h_source.html">vmcs12.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vmx_8h_source.html">vmx.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for nested.h:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h__incl.png" border="0" usemap="#aarch_2x86_2kvm_2vmx_2nested_8h" alt=""/></div>
<map name="aarch_2x86_2kvm_2vmx_2nested_8h" id="aarch_2x86_2kvm_2vmx_2nested_8h">
<area shape="rect" title=" " alt="" coords="2010,5,2214,32"/>
<area shape="rect" href="kvm__cache__regs_8h.html" title=" " alt="" coords="1715,901,1858,928"/>
<area shape="rect" href="vmx_2hyperv_8h.html" title=" " alt="" coords="2111,80,2190,107"/>
<area shape="rect" href="vmcs12_8h.html" title=" " alt="" coords="1748,453,1833,480"/>
<area shape="rect" href="vmx_8h.html" title=" " alt="" coords="1682,155,1745,181"/>
<area shape="rect" title=" " alt="" coords="1229,976,1363,1003"/>
<area shape="rect" title=" " alt="" coords="1512,827,1645,853"/>
<area shape="rect" href="vmcs_8h.html" title=" " alt="" coords="1788,528,1857,555"/>
<area shape="rect" title=" " alt="" coords="1769,603,1877,629"/>
<area shape="rect" title=" " alt="" coords="1901,603,1992,629"/>
<area shape="rect" title=" " alt="" coords="1577,752,1693,779"/>
<area shape="rect" title=" " alt="" coords="2017,603,2111,629"/>
<area shape="rect" title=" " alt="" coords="1445,677,1539,704"/>
<area shape="rect" href="capabilities_8h.html" title=" " alt="" coords="1132,603,1241,629"/>
<area shape="rect" href="lapic_8h.html" title=" " alt="" coords="1244,677,1321,704"/>
<area shape="rect" href="x86_8h.html" title=" " alt="" coords="1091,827,1149,853"/>
<area shape="rect" href="pmu_8h.html" title=" " alt="" coords="1345,677,1420,704"/>
<area shape="rect" href="cpuid_8h.html" title=" " alt="" coords="789,677,870,704"/>
<area shape="rect" title=" " alt="" coords="1450,752,1553,779"/>
<area shape="rect" href="hyperv_8h.html" title=" " alt="" coords="1205,752,1283,779"/>
<area shape="rect" href="smm_8h.html" title=" " alt="" coords="1359,752,1425,779"/>
<area shape="rect" title=" " alt="" coords="791,901,923,928"/>
<area shape="rect" title=" " alt="" coords="947,901,1042,928"/>
<area shape="rect" title=" " alt="" coords="1066,901,1182,928"/>
<area shape="rect" href="kvm__emulate_8h.html" title=" " alt="" coords="67,901,191,928"/>
<area shape="rect" title=" " alt="" coords="5,976,136,1003"/>
<area shape="rect" href="fpu_8h.html" title=" " alt="" coords="161,976,215,1003"/>
<area shape="rect" title=" " alt="" coords="133,1051,243,1077"/>
<area shape="rect" href="reverse__cpuid_8h.html" title=" " alt="" coords="269,752,395,779"/>
<area shape="rect" title=" " alt="" coords="599,752,689,779"/>
<area shape="rect" title=" " alt="" coords="713,752,841,779"/>
<area shape="rect" title=" " alt="" coords="865,752,1028,779"/>
<area shape="rect" href="governed__features_8h.html" title=" " alt="" coords="419,752,575,779"/>
<area shape="rect" title=" " alt="" coords="594,827,721,853"/>
<area shape="rect" title=" " alt="" coords="267,827,403,853"/>
<area shape="rect" title=" " alt="" coords="427,827,570,853"/>
<area shape="rect" title=" " alt="" coords="1361,229,1476,256"/>
<area shape="rect" title=" " alt="" coords="1500,229,1636,256"/>
<area shape="rect" href="posted__intr_8h.html" title=" " alt="" coords="1660,229,1767,256"/>
<area shape="rect" href="vmx__ops_8h.html" title=" " alt="" coords="1244,229,1337,256"/>
<area shape="rect" href="run__flags_8h.html" title=" " alt="" coords="1791,229,1884,256"/>
<area shape="rect" href="vmx__onhyperv_8h.html" title=" " alt="" coords="1383,304,1513,331"/>
<area shape="rect" title=" " alt="" coords="1393,453,1530,480"/>
<area shape="rect" title=" " alt="" coords="1383,379,1513,405"/>
<area shape="rect" title=" " alt="" coords="1538,379,1681,405"/>
<area shape="rect" href="hyperv__evmcs_8h.html" title=" " alt="" coords="1229,379,1358,405"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h__dep__incl.png" border="0" usemap="#aarch_2x86_2kvm_2vmx_2nested_8hdep" alt=""/></div>
<map name="aarch_2x86_2kvm_2vmx_2nested_8hdep" id="aarch_2x86_2kvm_2vmx_2nested_8hdep">
<area shape="rect" title=" " alt="" coords="423,5,627,32"/>
<area shape="rect" href="vmx_2hyperv_8c.html" title=" " alt="" coords="5,87,208,114"/>
<area shape="rect" href="pmu__intel_8c.html" title=" " alt="" coords="233,80,410,121"/>
<area shape="rect" href="sgx_8c.html" title=" " alt="" coords="434,87,617,114"/>
<area shape="rect" href="vmx_2nested_8c.html" title=" " alt="" coords="641,87,844,114"/>
<area shape="rect" href="vmx_8c.html" title=" " alt="" coords="869,87,1057,114"/>
</map>
</div>
</div>
<p><a href="nested_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a67dd9578b0858bfdb87a112634e8a211"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a67dd9578b0858bfdb87a112634e8a211">nested_guest_cr4_valid</a>&#160;&#160;&#160;<a class="el" href="nested_8h.html#a97d80aa34980a711c5e58ec26407445f">nested_cr4_valid</a></td></tr>
<tr class="separator:a67dd9578b0858bfdb87a112634e8a211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2da776f0123724598f19a8dc417e07d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#af2da776f0123724598f19a8dc417e07d">nested_host_cr4_valid</a>&#160;&#160;&#160;<a class="el" href="nested_8h.html#a97d80aa34980a711c5e58ec26407445f">nested_cr4_valid</a></td></tr>
<tr class="separator:af2da776f0123724598f19a8dc417e07d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:af07e2d530a354cfa27514213db4eee25"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25">nvmx_vmentry_status</a> { <a class="el" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25ade93879865cb05ae5cf787179af39f9f">NVMX_VMENTRY_SUCCESS</a>
, <a class="el" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25a174ea26820ced9526288db9a7343b1f9">NVMX_VMENTRY_VMFAIL</a>
, <a class="el" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25aa6893ac85d8ede32eb482aa9d9a487aa">NVMX_VMENTRY_VMEXIT</a>
, <a class="el" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25a654b8744860c1d9dd259fff093507330">NVMX_VMENTRY_KVM_INTERNAL_ERROR</a>
 }</td></tr>
<tr class="separator:af07e2d530a354cfa27514213db4eee25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a64e6550fab681b40c832fe4e2d5e3b95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a64e6550fab681b40c832fe4e2d5e3b95">vmx_leave_nested</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a64e6550fab681b40c832fe4e2d5e3b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a29ab2fcf72f604e749dc4dfefa91aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a9a29ab2fcf72f604e749dc4dfefa91aa">nested_vmx_setup_ctls_msrs</a> (struct <a class="el" href="structvmcs__config.html">vmcs_config</a> *vmcs_conf, u32 ept_caps)</td></tr>
<tr class="separator:a9a29ab2fcf72f604e749dc4dfefa91aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62fbfd6161f8cce5e24e1e6ecc75e1e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a62fbfd6161f8cce5e24e1e6ecc75e1e6">nested_vmx_hardware_unsetup</a> (void)</td></tr>
<tr class="separator:a62fbfd6161f8cce5e24e1e6ecc75e1e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ca924cd23ac875ea48b1f181f33000"><td class="memItemLeft" align="right" valign="top">__init int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a77ca924cd23ac875ea48b1f181f33000">nested_vmx_hardware_setup</a> (int(*exit_handlers[])(struct kvm_vcpu *))</td></tr>
<tr class="separator:a77ca924cd23ac875ea48b1f181f33000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7f66d44ea73592c4363687638d05d79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#ad7f66d44ea73592c4363687638d05d79">nested_vmx_set_vmcs_shadowing_bitmap</a> (void)</td></tr>
<tr class="separator:ad7f66d44ea73592c4363687638d05d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c53f6d5cd8133df2c8e67ab90b9aa5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f">nested_vmx_free_vcpu</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a2c53f6d5cd8133df2c8e67ab90b9aa5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37fe15bb3aec9734fe49107b75a927d1"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25">nvmx_vmentry_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a37fe15bb3aec9734fe49107b75a927d1">nested_vmx_enter_non_root_mode</a> (struct kvm_vcpu *vcpu, bool from_vmentry)</td></tr>
<tr class="separator:a37fe15bb3aec9734fe49107b75a927d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48fcc88ceee4f57a3dbf23fedb46a5cb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a48fcc88ceee4f57a3dbf23fedb46a5cb">nested_vmx_reflect_vmexit</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a48fcc88ceee4f57a3dbf23fedb46a5cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad680a323fa0378a55e97821505ba74b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#ad680a323fa0378a55e97821505ba74b1">nested_vmx_vmexit</a> (struct kvm_vcpu *vcpu, u32 vm_exit_reason, u32 exit_intr_info, unsigned long exit_qualification)</td></tr>
<tr class="separator:ad680a323fa0378a55e97821505ba74b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc435d13c9681dd613719dc3c209e02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#aafc435d13c9681dd613719dc3c209e02">nested_sync_vmcs12_to_shadow</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:aafc435d13c9681dd613719dc3c209e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adadb0a6ac35df97508835dab926cf82c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#adadb0a6ac35df97508835dab926cf82c">vmx_set_vmx_msr</a> (struct kvm_vcpu *vcpu, u32 msr_index, u64 data)</td></tr>
<tr class="separator:adadb0a6ac35df97508835dab926cf82c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2f904fb4c8a3a4df9428ba9db3d2af4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#ad2f904fb4c8a3a4df9428ba9db3d2af4">vmx_get_vmx_msr</a> (struct <a class="el" href="structnested__vmx__msrs.html">nested_vmx_msrs</a> *msrs, u32 msr_index, u64 *pdata)</td></tr>
<tr class="separator:ad2f904fb4c8a3a4df9428ba9db3d2af4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f92d0cdc8257a39a1360af576ff3b1a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a8f92d0cdc8257a39a1360af576ff3b1a">get_vmx_mem_address</a> (struct kvm_vcpu *vcpu, unsigned long exit_qualification, u32 vmx_instruction_info, bool wr, int len, gva_t *ret)</td></tr>
<tr class="separator:a8f92d0cdc8257a39a1360af576ff3b1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a119e2b19d11ad1028ba6b72f7ad3cacd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a119e2b19d11ad1028ba6b72f7ad3cacd">nested_mark_vmcs12_pages_dirty</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a119e2b19d11ad1028ba6b72f7ad3cacd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92342f18ec8ac72f6cad41943f8c4b3b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a92342f18ec8ac72f6cad41943f8c4b3b">nested_vmx_check_io_bitmaps</a> (struct kvm_vcpu *vcpu, unsigned int port, int size)</td></tr>
<tr class="separator:a92342f18ec8ac72f6cad41943f8c4b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65c62b59f6be374d9da24feaef363497"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497">get_vmcs12</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a65c62b59f6be374d9da24feaef363497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790d6b36303c6d48a00eb15b819a4602"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a790d6b36303c6d48a00eb15b819a4602">get_shadow_vmcs12</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a790d6b36303c6d48a00eb15b819a4602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b993e102c382b87b77d7570fb36b3e7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a5b993e102c382b87b77d7570fb36b3e7">vmx_has_valid_vmcs12</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a5b993e102c382b87b77d7570fb36b3e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ef52cbdde487ef61fd78bd3b2c68642"><td class="memItemLeft" align="right" valign="top">static u16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a9ef52cbdde487ef61fd78bd3b2c68642">nested_get_vpid02</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a9ef52cbdde487ef61fd78bd3b2c68642"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2fb246c295b9e93765508e05fd6a333"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#ac2fb246c295b9e93765508e05fd6a333">nested_ept_get_eptp</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:ac2fb246c295b9e93765508e05fd6a333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c0f72e13a3ded68fa556ef3c504c541"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a7c0f72e13a3ded68fa556ef3c504c541">nested_ept_ad_enabled</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a7c0f72e13a3ded68fa556ef3c504c541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83fe83dc420969ce3e3ae42bcb41cab4"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a83fe83dc420969ce3e3ae42bcb41cab4">nested_read_cr0</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *fields)</td></tr>
<tr class="separator:a83fe83dc420969ce3e3ae42bcb41cab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627521a68de013e10f90bbd47444f2bf"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a627521a68de013e10f90bbd47444f2bf">nested_read_cr4</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *fields)</td></tr>
<tr class="separator:a627521a68de013e10f90bbd47444f2bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a435fb26e78eb17ea021e5687ddf86de5"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a435fb26e78eb17ea021e5687ddf86de5">nested_cpu_vmx_misc_cr3_count</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a435fb26e78eb17ea021e5687ddf86de5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5046866406a4429bf7f1d0a028605c14"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a5046866406a4429bf7f1d0a028605c14">nested_cpu_has_vmwrite_any_field</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a5046866406a4429bf7f1d0a028605c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c88b7b5d774ae5b205361f3e761a6a2"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a3c88b7b5d774ae5b205361f3e761a6a2">nested_cpu_has_zero_length_injection</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a3c88b7b5d774ae5b205361f3e761a6a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354b11c43fa66a1a37d4f8bd68086fe6"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a354b11c43fa66a1a37d4f8bd68086fe6">nested_cpu_supports_monitor_trap_flag</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a354b11c43fa66a1a37d4f8bd68086fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af261e61678c1686e1f478a6fd8f0b560"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#af261e61678c1686e1f478a6fd8f0b560">nested_cpu_has_vmx_shadow_vmcs</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:af261e61678c1686e1f478a6fd8f0b560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8f95597e49047619366cbf8f1a63449"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#ae8f95597e49047619366cbf8f1a63449">nested_cpu_has</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>, u32 bit)</td></tr>
<tr class="separator:ae8f95597e49047619366cbf8f1a63449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa997cf53b86844ddc4f230369935239e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e">nested_cpu_has2</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>, u32 bit)</td></tr>
<tr class="separator:aa997cf53b86844ddc4f230369935239e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a93ea0427140487cadef64529af0104"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a0a93ea0427140487cadef64529af0104">nested_cpu_has_preemption_timer</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:a0a93ea0427140487cadef64529af0104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a186f3dfc87866bdacaf4ef809d671447"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a186f3dfc87866bdacaf4ef809d671447">nested_cpu_has_nmi_exiting</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:a186f3dfc87866bdacaf4ef809d671447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc33c2b120f57db11e2e82564c28d007"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#adc33c2b120f57db11e2e82564c28d007">nested_cpu_has_virtual_nmis</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:adc33c2b120f57db11e2e82564c28d007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5d552db463f26f0bf98a4d06514c4a9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#ad5d552db463f26f0bf98a4d06514c4a9">nested_cpu_has_mtf</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:ad5d552db463f26f0bf98a4d06514c4a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9a97c4e71871f0e10b0e864d02a782e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#ae9a97c4e71871f0e10b0e864d02a782e">nested_cpu_has_ept</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:ae9a97c4e71871f0e10b0e864d02a782e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7db5a9fdfd3d45250801d8992d37d89c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a7db5a9fdfd3d45250801d8992d37d89c">nested_cpu_has_xsaves</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:a7db5a9fdfd3d45250801d8992d37d89c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29ac23d0b7b920e6379e7236ca27b2df"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a29ac23d0b7b920e6379e7236ca27b2df">nested_cpu_has_pml</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:a29ac23d0b7b920e6379e7236ca27b2df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a0ee8876d839fb9c8a758d75891f449"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a2a0ee8876d839fb9c8a758d75891f449">nested_cpu_has_virt_x2apic_mode</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:a2a0ee8876d839fb9c8a758d75891f449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91f803e3ba878e57ca9473200196b009"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a91f803e3ba878e57ca9473200196b009">nested_cpu_has_vpid</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:a91f803e3ba878e57ca9473200196b009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b8ee673c1f5c40af637ea7e9ad345a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#ae5b8ee673c1f5c40af637ea7e9ad345a">nested_cpu_has_apic_reg_virt</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:ae5b8ee673c1f5c40af637ea7e9ad345a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d32114ea365cb14f9a7c08d900e10c2"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a3d32114ea365cb14f9a7c08d900e10c2">nested_cpu_has_vid</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:a3d32114ea365cb14f9a7c08d900e10c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60e2a92b3bcd5271ef711e48d7f38773"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a60e2a92b3bcd5271ef711e48d7f38773">nested_cpu_has_posted_intr</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:a60e2a92b3bcd5271ef711e48d7f38773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e5ea3e2f109135becdc57c21e263db0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a1e5ea3e2f109135becdc57c21e263db0">nested_cpu_has_vmfunc</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:a1e5ea3e2f109135becdc57c21e263db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac06a51fbe7bec2497b168721f6ac0356"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#ac06a51fbe7bec2497b168721f6ac0356">nested_cpu_has_eptp_switching</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:ac06a51fbe7bec2497b168721f6ac0356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb56519064640e3f5be9902f5a96ae10"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#aeb56519064640e3f5be9902f5a96ae10">nested_cpu_has_shadow_vmcs</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:aeb56519064640e3f5be9902f5a96ae10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3886d9f433a554b24de4e44ae0cbc97c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a3886d9f433a554b24de4e44ae0cbc97c">nested_cpu_has_save_preemption_timer</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:a3886d9f433a554b24de4e44ae0cbc97c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7989fdd3d423fa3feac3b5d96fdd501a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a7989fdd3d423fa3feac3b5d96fdd501a">nested_exit_on_nmi</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a7989fdd3d423fa3feac3b5d96fdd501a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ac428a449ce142e927efcadfae6e3a3"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a5ac428a449ce142e927efcadfae6e3a3">nested_exit_on_intr</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a5ac428a449ce142e927efcadfae6e3a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace42273b4cc4a695bcec7ede1745411a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#ace42273b4cc4a695bcec7ede1745411a">nested_cpu_has_encls_exit</a> (struct <a class="el" href="structvmcs12.html">vmcs12</a> *<a class="el" href="structvmcs12.html">vmcs12</a>)</td></tr>
<tr class="separator:ace42273b4cc4a695bcec7ede1745411a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab42a72f929e0102443b373456c6c7e63"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#ab42a72f929e0102443b373456c6c7e63">fixed_bits_valid</a> (u64 val, u64 fixed0, u64 fixed1)</td></tr>
<tr class="separator:ab42a72f929e0102443b373456c6c7e63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa10ac041c543a9965a262aea3f86656"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#afa10ac041c543a9965a262aea3f86656">nested_guest_cr0_valid</a> (struct kvm_vcpu *vcpu, unsigned long val)</td></tr>
<tr class="separator:afa10ac041c543a9965a262aea3f86656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affa4c4024f409647e77dddbffe7a3ec9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#affa4c4024f409647e77dddbffe7a3ec9">nested_host_cr0_valid</a> (struct kvm_vcpu *vcpu, unsigned long val)</td></tr>
<tr class="separator:affa4c4024f409647e77dddbffe7a3ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97d80aa34980a711c5e58ec26407445f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a97d80aa34980a711c5e58ec26407445f">nested_cr4_valid</a> (struct kvm_vcpu *vcpu, unsigned long val)</td></tr>
<tr class="separator:a97d80aa34980a711c5e58ec26407445f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6729479f193f8edbe2215b4d439cb421"><td class="memItemLeft" align="right" valign="top">struct kvm_x86_nested_ops&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nested_8h.html#a6729479f193f8edbe2215b4d439cb421">vmx_nested_ops</a></td></tr>
<tr class="separator:a6729479f193f8edbe2215b4d439cb421"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a67dd9578b0858bfdb87a112634e8a211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67dd9578b0858bfdb87a112634e8a211">&#9670;&nbsp;</a></span>nested_guest_cr4_valid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nested_guest_cr4_valid&#160;&#160;&#160;<a class="el" href="nested_8h.html#a97d80aa34980a711c5e58ec26407445f">nested_cr4_valid</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00289">289</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>

</div>
</div>
<a id="af2da776f0123724598f19a8dc417e07d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2da776f0123724598f19a8dc417e07d">&#9670;&nbsp;</a></span>nested_host_cr4_valid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nested_host_cr4_valid&#160;&#160;&#160;<a class="el" href="nested_8h.html#a97d80aa34980a711c5e58ec26407445f">nested_cr4_valid</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00290">290</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="af07e2d530a354cfa27514213db4eee25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af07e2d530a354cfa27514213db4eee25">&#9670;&nbsp;</a></span>nvmx_vmentry_status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25">nvmx_vmentry_status</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af07e2d530a354cfa27514213db4eee25ade93879865cb05ae5cf787179af39f9f"></a>NVMX_VMENTRY_SUCCESS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af07e2d530a354cfa27514213db4eee25a174ea26820ced9526288db9a7343b1f9"></a>NVMX_VMENTRY_VMFAIL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af07e2d530a354cfa27514213db4eee25aa6893ac85d8ede32eb482aa9d9a487aa"></a>NVMX_VMENTRY_VMEXIT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af07e2d530a354cfa27514213db4eee25a654b8744860c1d9dd259fff093507330"></a>NVMX_VMENTRY_KVM_INTERNAL_ERROR&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00013">13</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                         {</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <a class="code" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25ade93879865cb05ae5cf787179af39f9f">NVMX_VMENTRY_SUCCESS</a>,       <span class="comment">/* Entered VMX non-root mode */</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <a class="code" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25a174ea26820ced9526288db9a7343b1f9">NVMX_VMENTRY_VMFAIL</a>,        <span class="comment">/* Consistency check VMFail */</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <a class="code" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25aa6893ac85d8ede32eb482aa9d9a487aa">NVMX_VMENTRY_VMEXIT</a>,        <span class="comment">/* Consistency check VMExit */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <a class="code" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25a654b8744860c1d9dd259fff093507330">NVMX_VMENTRY_KVM_INTERNAL_ERROR</a>,<span class="comment">/* KVM internal error */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;};</div>
<div class="ttc" id="anested_8h_html_af07e2d530a354cfa27514213db4eee25a174ea26820ced9526288db9a7343b1f9"><div class="ttname"><a href="nested_8h.html#af07e2d530a354cfa27514213db4eee25a174ea26820ced9526288db9a7343b1f9">NVMX_VMENTRY_VMFAIL</a></div><div class="ttdeci">@ NVMX_VMENTRY_VMFAIL</div><div class="ttdef"><b>Definition:</b> <a href="nested_8h_source.html#l00015">nested.h:15</a></div></div>
<div class="ttc" id="anested_8h_html_af07e2d530a354cfa27514213db4eee25a654b8744860c1d9dd259fff093507330"><div class="ttname"><a href="nested_8h.html#af07e2d530a354cfa27514213db4eee25a654b8744860c1d9dd259fff093507330">NVMX_VMENTRY_KVM_INTERNAL_ERROR</a></div><div class="ttdeci">@ NVMX_VMENTRY_KVM_INTERNAL_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="nested_8h_source.html#l00017">nested.h:17</a></div></div>
<div class="ttc" id="anested_8h_html_af07e2d530a354cfa27514213db4eee25aa6893ac85d8ede32eb482aa9d9a487aa"><div class="ttname"><a href="nested_8h.html#af07e2d530a354cfa27514213db4eee25aa6893ac85d8ede32eb482aa9d9a487aa">NVMX_VMENTRY_VMEXIT</a></div><div class="ttdeci">@ NVMX_VMENTRY_VMEXIT</div><div class="ttdef"><b>Definition:</b> <a href="nested_8h_source.html#l00016">nested.h:16</a></div></div>
<div class="ttc" id="anested_8h_html_af07e2d530a354cfa27514213db4eee25ade93879865cb05ae5cf787179af39f9f"><div class="ttname"><a href="nested_8h.html#af07e2d530a354cfa27514213db4eee25ade93879865cb05ae5cf787179af39f9f">NVMX_VMENTRY_SUCCESS</a></div><div class="ttdeci">@ NVMX_VMENTRY_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="nested_8h_source.html#l00014">nested.h:14</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab42a72f929e0102443b373456c6c7e63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab42a72f929e0102443b373456c6c7e63">&#9670;&nbsp;</a></span>fixed_bits_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool fixed_bits_valid </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>fixed0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>fixed1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00252">252</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;{</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">return</span> ((val &amp; fixed1) | fixed0) == val;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ab42a72f929e0102443b373456c6c7e63_icgraph.png" border="0" usemap="#anested_8h_ab42a72f929e0102443b373456c6c7e63_icgraph" alt=""/></div>
<map name="anested_8h_ab42a72f929e0102443b373456c6c7e63_icgraph" id="anested_8h_ab42a72f929e0102443b373456c6c7e63_icgraph">
<area shape="rect" title=" " alt="" coords="1513,220,1636,247"/>
<area shape="rect" href="nested_8h.html#a97d80aa34980a711c5e58ec26407445f" title=" " alt="" coords="1326,43,1458,69"/>
<area shape="rect" href="nested_8h.html#afa10ac041c543a9965a262aea3f86656" title=" " alt="" coords="1079,304,1253,331"/>
<area shape="rect" href="nested_8h.html#affa4c4024f409647e77dddbffe7a3ec9" title=" " alt="" coords="1083,253,1249,280"/>
<area shape="rect" href="vmx_2nested_8c.html#a40f549af65b76816ab8ac6bd10e34dff" title=" " alt="" coords="1319,163,1465,189"/>
<area shape="rect" href="vmx_8c.html#a01a2b7a1fe2b59ae7d0d3b56683809f4" title=" " alt="" coords="1099,5,1233,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a926c867f33af4ad620f2cbeaa310a7eb" title=" " alt="" coords="815,351,1005,393"/>
<area shape="rect" href="vmx_8c.html#ac64102970a46b9500cf1db638934a1f6" title=" " alt="" coords="843,300,977,327"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,192,759,219"/>
<area shape="rect" href="vmx_2nested_8c.html#acfc614b787620aa3ea5f48ed247cfe30" title=" " alt="" coords="615,248,733,275"/>
<area shape="rect" href="vmx_2nested_8c.html#a4632daec5bd26a4c08659779f9d2ca07" title=" " alt="" coords="819,183,1001,225"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,185,351,226"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,192,132,219"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,141,739,168"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,192,539,219"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,141,541,168"/>
<area shape="rect" href="vmx_2nested_8c.html#a56f8d9d4a110dbb62471de947f8b6219" title=" " alt="" coords="1076,57,1256,98"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1061,122,1271,163"/>
<area shape="rect" href="vmx_2nested_8c.html#a38255673e8a889b4e3b0ee34253692d5" title=" " alt="" coords="1081,187,1251,229"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,132,1013,159"/>
</map>
</div>

</div>
</div>
<a id="a790d6b36303c6d48a00eb15b819a4602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a790d6b36303c6d48a00eb15b819a4602">&#9670;&nbsp;</a></span>get_shadow_vmcs12()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structvmcs12.html">vmcs12</a>* get_shadow_vmcs12 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00045">45</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;{</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a1547deeb9ba9f7b8ae3308f8f42daf48">cached_shadow_vmcs12</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
<div class="ttc" id="astructnested__vmx_html_a1547deeb9ba9f7b8ae3308f8f42daf48"><div class="ttname"><a href="structnested__vmx.html#a1547deeb9ba9f7b8ae3308f8f42daf48">nested_vmx::cached_shadow_vmcs12</a></div><div class="ttdeci">struct vmcs12 * cached_shadow_vmcs12</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00135">vmx.h:135</a></div></div>
<div class="ttc" id="astructvcpu__vmx_html_a8c239bf06e666ec62b7ff19f1e2966bf"><div class="ttname"><a href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">vcpu_vmx::nested</a></div><div class="ttdeci">struct nested_vmx nested</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00318">vmx.h:329</a></div></div>
<div class="ttc" id="avmx_8h_html_a6e0cb34c77519a9be4432b4dd4ec11b4"><div class="ttname"><a href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a></div><div class="ttdeci">static __always_inline struct vcpu_vmx * to_vmx(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00657">vmx.h:657</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a790d6b36303c6d48a00eb15b819a4602_cgraph.png" border="0" usemap="#anested_8h_a790d6b36303c6d48a00eb15b819a4602_cgraph" alt=""/></div>
<map name="anested_8h_a790d6b36303c6d48a00eb15b819a4602_cgraph" id="anested_8h_a790d6b36303c6d48a00eb15b819a4602_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,164,32"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="212,5,283,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a790d6b36303c6d48a00eb15b819a4602_icgraph.png" border="0" usemap="#anested_8h_a790d6b36303c6d48a00eb15b819a4602_icgraph" alt=""/></div>
<map name="anested_8h_a790d6b36303c6d48a00eb15b819a4602_icgraph" id="anested_8h_a790d6b36303c6d48a00eb15b819a4602_icgraph">
<area shape="rect" title=" " alt="" coords="1120,255,1279,281"/>
<area shape="rect" href="vmx_2nested_8c.html#a3fe22c3468a281d231b3554bdc8ab9d2" title=" " alt="" coords="715,5,837,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a012c9b2d00b8a098ebc34d5693eb2f2b" title=" " alt="" coords="713,79,839,105"/>
<area shape="rect" href="vmx_2nested_8c.html#a6d5a422c3a454017b8e5008d5dfb0cf2" title=" " alt="" coords="903,238,1071,279"/>
<area shape="rect" href="vmx_2nested_8c.html#a084d1079969b182e5a997cae6326c36d" title=" " alt="" coords="908,390,1065,431"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="203,701,372,728"/>
<area shape="rect" href="vmx_2nested_8c.html#ac436bd43f9cd48511bdf54c6e36fd31d" title=" " alt="" coords="901,752,1072,779"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="202,75,373,117"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="9,83,136,109"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="711,133,841,160"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="474,83,611,109"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="471,133,614,160"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="699,407,853,433"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="213,264,361,291"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="481,184,604,211"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="455,351,631,393"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="435,417,651,458"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="188,453,387,480"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="467,286,618,327"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="453,533,633,560"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="451,585,635,626"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="470,651,615,677"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="5,264,140,291"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="206,351,369,393"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="7,359,138,385"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="201,600,374,627"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="232,651,343,677"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="11,600,134,627"/>
</map>
</div>

</div>
</div>
<a id="a65c62b59f6be374d9da24feaef363497"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65c62b59f6be374d9da24feaef363497">&#9670;&nbsp;</a></span>get_vmcs12()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structvmcs12.html">vmcs12</a>* get_vmcs12 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00040">40</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;{</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#ac247c112536a2e2c723a2556b8c26d7b">cached_vmcs12</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
<div class="ttc" id="astructnested__vmx_html_ac247c112536a2e2c723a2556b8c26d7b"><div class="ttname"><a href="structnested__vmx.html#ac247c112536a2e2c723a2556b8c26d7b">nested_vmx::cached_vmcs12</a></div><div class="ttdeci">struct vmcs12 * cached_vmcs12</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00129">vmx.h:129</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a65c62b59f6be374d9da24feaef363497_cgraph.png" border="0" usemap="#anested_8h_a65c62b59f6be374d9da24feaef363497_cgraph" alt=""/></div>
<map name="anested_8h_a65c62b59f6be374d9da24feaef363497_cgraph" id="anested_8h_a65c62b59f6be374d9da24feaef363497_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,107,32"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="155,5,225,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a65c62b59f6be374d9da24feaef363497_icgraph.png" border="0" usemap="#anested_8h_a65c62b59f6be374d9da24feaef363497_icgraph" alt=""/></div>
<map name="anested_8h_a65c62b59f6be374d9da24feaef363497_icgraph" id="anested_8h_a65c62b59f6be374d9da24feaef363497_icgraph">
<area shape="rect" title=" " alt="" coords="1441,1157,1543,1183"/>
<area shape="rect" href="vmx_2nested_8c.html#ad5ef2ac09d92d71624361ccce6a317dc" title=" " alt="" coords="1200,70,1388,97"/>
<area shape="rect" href="vmx_2nested_8c.html#a5a5df09c88b5fad9a716109f9917e9a5" title=" " alt="" coords="967,25,1146,51"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="991,81,1122,107"/>
<area shape="rect" href="vmx_2nested_8c.html#ac436bd43f9cd48511bdf54c6e36fd31d" title=" " alt="" coords="971,142,1142,169"/>
<area shape="rect" href="vmx_2nested_8c.html#a6913302cb499706580c7efc3f9e8be40" title=" " alt="" coords="1200,222,1388,249"/>
<area shape="rect" href="vmx_8c.html#ac02e59b539f5874eaeb4b12568e9d0dd" title=" " alt="" coords="1234,323,1354,350"/>
<area shape="rect" href="vmx_8c.html#a47ac25caf6fcd4e2519ed1cd5cee4aaf" title=" " alt="" coords="1234,273,1354,299"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="271,475,393,502"/>
<area shape="rect" href="vmx_2nested_8c.html#a3fe22c3468a281d231b3554bdc8ab9d2" title=" " alt="" coords="526,374,649,401"/>
<area shape="rect" href="vmx_2nested_8c.html#a012c9b2d00b8a098ebc34d5693eb2f2b" title=" " alt="" coords="763,425,890,451"/>
<area shape="rect" href="nested_8h.html#ac2fb246c295b9e93765508e05fd6a333" title=" " alt="" coords="1215,526,1373,553"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="244,587,420,628"/>
<area shape="rect" href="vmx_2nested_8c.html#ae1abbe29ce23f3cf0b25b346ca87c72e" title=" " alt="" coords="735,627,919,654"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="510,678,665,705"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="224,964,440,1005"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="257,2011,407,2052"/>
<area shape="rect" href="nested_8h.html#a5ac428a449ce142e927efcadfae6e3a3" title=" " alt="" coords="1219,830,1369,857"/>
<area shape="rect" href="nested_8h.html#a7989fdd3d423fa3feac3b5d96fdd501a" title=" " alt="" coords="1217,881,1371,907"/>
<area shape="rect" href="vmx_2nested_8c.html#a562e6893d0703c98635cab943cc58fed" title=" " alt="" coords="1195,931,1393,958"/>
<area shape="rect" href="nested_8h.html#afa10ac041c543a9965a262aea3f86656" title=" " alt="" coords="1207,982,1381,1009"/>
<area shape="rect" href="vmx_2nested_8c.html#a50056fcd07ea88aa781a3e7cbbad775d" title=" " alt="" coords="1199,1033,1389,1059"/>
<area shape="rect" href="vmx_2nested_8c.html#a119e2b19d11ad1028ba6b72f7ad3cacd" title=" " alt="" coords="1211,1084,1377,1125"/>
<area shape="rect" href="vmx_2nested_8c.html#a160633ec3fad3e00057c5dfcac45f02e" title=" " alt="" coords="1211,1149,1377,1191"/>
<area shape="rect" href="vmx_2nested_8c.html#a92342f18ec8ac72f6cad41943f8c4b3b" title=" " alt="" coords="1211,1484,1377,1525"/>
<area shape="rect" href="vmx_8c.html#a2d5f406e95b5e1b64759e08f3a63952a" title=" " alt="" coords="967,1491,1147,1518"/>
<area shape="rect" href="vmx_8c.html#a3f986bbfd4a5aac58f65d35dbef8119d" title=" " alt="" coords="746,1554,907,1581"/>
<area shape="rect" href="vmx_2nested_8c.html#aec3ff66d7b1e9086f727ebe6b9b1a0cf" title=" " alt="" coords="1213,1367,1375,1394"/>
<area shape="rect" href="vmx_2nested_8c.html#ac55d65dec426f8671169d613830b7233" title=" " alt="" coords="1199,1419,1389,1460"/>
<area shape="rect" href="vmx_2nested_8c.html#a877b148ab3be256ff208a4d0c0136809" title=" " alt="" coords="488,2069,687,2095"/>
<area shape="rect" href="vmx_2nested_8c.html#aeb36b8fba177f5eeebaddf9acfc250c0" title=" " alt="" coords="1202,1549,1386,1591"/>
<area shape="rect" href="vmx_2nested_8c.html#a001f930db9a867e828cf01b48d3e4e25" title=" " alt="" coords="749,751,904,792"/>
<area shape="rect" href="vmx_2nested_8c.html#a136dea09c1603dee70a71cd7716e9581" title=" " alt="" coords="1207,1667,1381,1708"/>
<area shape="rect" href="vmx_8c.html#a7f870aba1430166e5fc5609b4c71de1a" title=" " alt="" coords="1199,1733,1389,1759"/>
<area shape="rect" href="vmx_2nested_8c.html#ad2cf8f413b130e4d32fcf63c1eb23333" title=" " alt="" coords="1211,1784,1377,1825"/>
<area shape="rect" href="vmx_8c.html#ac02364004e8e3f247ba9a3c3ca79a460" title=" " alt="" coords="1197,1850,1391,1877"/>
<area shape="rect" href="vmx_8c.html#a46c1e27ec7a8197f1194b6cc37db30ef" title=" " alt="" coords="1210,1901,1378,1927"/>
<area shape="rect" href="vmx_8c.html#a4b7bce685b675217949fe87872d9a121" title=" " alt="" coords="1215,1952,1373,1993"/>
<area shape="rect" href="vmx_8c.html#acf9f5acdb0b2a5b2778c853846cfa09f" title=" " alt="" coords="1004,830,1109,857"/>
<area shape="rect" href="vmx_8c.html#adda41e5ad7d9839a1fd3e01efc608c37" title=" " alt="" coords="1241,779,1347,806"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="1001,2345,1112,2371"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="1209,2170,1379,2197"/>
<area shape="rect" href="vmx_8c.html#ab609c79ddd2d63583113f8be5d341fcd" title=" " alt="" coords="1197,2221,1391,2247"/>
<area shape="rect" href="vmx_8c.html#a76284be3e9ff36fd3e24d79f6f8dc92d" title=" " alt="" coords="1208,2272,1380,2313"/>
<area shape="rect" href="vmx_8c.html#a6ddb2979d2cb226fe63f24b99f88a99e" title=" " alt="" coords="1207,2337,1381,2379"/>
<area shape="rect" href="sgx_8c.html#a7f5682145e68a3283de02a0ac6a9e617" title=" " alt="" coords="1201,2403,1387,2430"/>
<area shape="rect" href="vmx_2nested_8c.html#aafc435d13c9681dd613719dc3c209e02" title=" " alt="" coords="976,215,1137,256"/>
<area shape="rect" href="vmx_8c.html#aa55ace9429e6e94042e6602716222805" title=" " alt="" coords="1014,302,1099,329"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="5,417,176,459"/>
<area shape="rect" href="nested_8h.html#a7c0f72e13a3ded68fa556ef3c504c541" title=" " alt="" coords="969,526,1145,553"/>
</map>
</div>

</div>
</div>
<a id="a8f92d0cdc8257a39a1360af576ff3b1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f92d0cdc8257a39a1360af576ff3b1a">&#9670;&nbsp;</a></span>get_vmx_mem_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_vmx_mem_address </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>exit_qualification</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>vmx_instruction_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gva_t *&#160;</td>
          <td class="paramname"><em>ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l04963">4963</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;{</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;    gva_t off;</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;    <span class="keywordtype">bool</span> exn;</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;    <span class="keyword">struct </span>kvm_segment s;</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160; </div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;<span class="comment">     * According to Vol. 3B, &quot;Information for VM Exits Due to Instruction</span></div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;<span class="comment">     * Execution&quot;, on an exit, vmx_instruction_info holds most of the</span></div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;<span class="comment">     * addressing components of the operand. Only the displacement part</span></div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;<span class="comment">     * is put in exit_qualification (see 3B, &quot;Basic VM-Exit Information&quot;).</span></div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;<span class="comment">     * For how an actual address is calculated from all these components,</span></div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;<span class="comment">     * refer to Vol. 1, &quot;Operand Addressing&quot;.</span></div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;    <span class="keywordtype">int</span>  scaling = vmx_instruction_info &amp; 3;</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;    <span class="keywordtype">int</span>  addr_size = (vmx_instruction_info &gt;&gt; 7) &amp; 7;</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;    <span class="keywordtype">bool</span> is_reg = vmx_instruction_info &amp; (1u &lt;&lt; 10);</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;    <span class="keywordtype">int</span>  seg_reg = (vmx_instruction_info &gt;&gt; 15) &amp; 7;</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;    <span class="keywordtype">int</span>  index_reg = (vmx_instruction_info &gt;&gt; 18) &amp; 0xf;</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;    <span class="keywordtype">bool</span> index_is_valid = !(vmx_instruction_info &amp; (1u &lt;&lt; 22));</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;    <span class="keywordtype">int</span>  base_reg       = (vmx_instruction_info &gt;&gt; 23) &amp; 0xf;</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;    <span class="keywordtype">bool</span> base_is_valid  = !(vmx_instruction_info &amp; (1u &lt;&lt; 27));</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160; </div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;    <span class="keywordflow">if</span> (is_reg) {</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;        <a class="code" href="x86_8c.html#ac9502ee8f018301047c80e19ab79f7e2">kvm_queue_exception</a>(vcpu, UD_VECTOR);</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;    }</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160; </div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;    <span class="comment">/* Addr = segment_base + offset */</span></div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;    <span class="comment">/* offset = base + [index * scale] + displacement */</span></div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;    off = exit_qualification; <span class="comment">/* holds the displacement */</span></div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;    <span class="keywordflow">if</span> (addr_size == 1)</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;        off = (gva_t)sign_extend64(off, 31);</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (addr_size == 0)</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;        off = (gva_t)sign_extend64(off, 15);</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;    <span class="keywordflow">if</span> (base_is_valid)</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;        off += <a class="code" href="x86_8h.html#a9f7e7cd8d352da04de3bf53cbb3b4e57">kvm_register_read</a>(vcpu, base_reg);</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;    <span class="keywordflow">if</span> (index_is_valid)</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;        off += <a class="code" href="x86_8h.html#a9f7e7cd8d352da04de3bf53cbb3b4e57">kvm_register_read</a>(vcpu, index_reg) &lt;&lt; scaling;</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;    <a class="code" href="vmx_8c.html#acfb1910d98db4bcd82dd9a96eb069ce9">vmx_get_segment</a>(vcpu, &amp;s, seg_reg);</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160; </div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;<span class="comment">     * The effective address, i.e. @off, of a memory operand is truncated</span></div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;<span class="comment">     * based on the address size of the instruction.  Note that this is</span></div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;<span class="comment">     * the *effective address*, i.e. the address prior to accounting for</span></div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;<span class="comment">     * the segment&#39;s base.</span></div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;    <span class="keywordflow">if</span> (addr_size == 1) <span class="comment">/* 32 bit */</span></div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;        off &amp;= 0xffffffff;</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (addr_size == 0) <span class="comment">/* 16 bit */</span></div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;        off &amp;= 0xffff;</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160; </div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;    <span class="comment">/* Checks for #GP/#SS exceptions. */</span></div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;    exn = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="x86_8h.html#aad3ee550e50892e0e340061479bb284d">is_long_mode</a>(vcpu)) {</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;<span class="comment">         * The virtual/linear address is never truncated in 64-bit</span></div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;<span class="comment">         * mode, e.g. a 32-bit address size can yield a 64-bit virtual</span></div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;<span class="comment">         * address when using FS/GS with a non-zero base.</span></div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;        <span class="keywordflow">if</span> (seg_reg == VCPU_SREG_FS || seg_reg == VCPU_SREG_GS)</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;            *ret = s.base + off;</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;            *ret = off;</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160; </div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;        *ret = <a class="code" href="vmx_8c.html#ac53159f102e6a5dacbc90a2c4666ac71">vmx_get_untagged_addr</a>(vcpu, *ret, 0);</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;        <span class="comment">/* Long mode: #GP(0)/#SS(0) if the memory address is in a</span></div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;<span class="comment">         * non-canonical form. This is the only check on the memory</span></div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;<span class="comment">         * destination for long mode!</span></div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;        exn = <a class="code" href="x86_8h.html#af9a5d53e18d888ed043578916e51cc55">is_noncanonical_address</a>(*ret, vcpu);</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;<span class="comment">         * When not in long mode, the virtual/linear address is</span></div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;<span class="comment">         * unconditionally truncated to 32 bits regardless of the</span></div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;<span class="comment">         * address size.</span></div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;        *ret = (s.base + off) &amp; 0xffffffff;</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160; </div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;        <span class="comment">/* Protected mode: apply checks for segment validity in the</span></div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;<span class="comment">         * following order:</span></div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;<span class="comment">         * - segment type check (#GP(0) may be thrown)</span></div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;<span class="comment">         * - usability check (#GP(0)/#SS(0))</span></div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;<span class="comment">         * - limit check (#GP(0)/#SS(0))</span></div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;        <span class="keywordflow">if</span> (wr)</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;            <span class="comment">/* #GP(0) if the destination operand is located in a</span></div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;<span class="comment">             * read-only data segment or any code segment.</span></div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;            exn = ((s.type &amp; 0xa) == 0 || (s.type &amp; 8));</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;            <span class="comment">/* #GP(0) if the source operand is located in an</span></div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;<span class="comment">             * execute-only code segment</span></div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;            exn = ((s.type &amp; 0xa) == 8);</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;        <span class="keywordflow">if</span> (exn) {</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;            <a class="code" href="x86_8c.html#aac24bace71b27dc8ae2ee3ecae145d0f">kvm_queue_exception_e</a>(vcpu, GP_VECTOR, 0);</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;        }</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;        <span class="comment">/* Protected mode: #GP(0)/#SS(0) if the segment is unusable.</span></div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;        exn = (s.unusable != 0);</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160; </div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;<span class="comment">         * Protected mode: #GP(0)/#SS(0) if the memory operand is</span></div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;<span class="comment">         * outside the segment limit.  All CPUs that support VMX ignore</span></div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;<span class="comment">         * limit checks for flat segments, i.e. segments with base==0,</span></div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;<span class="comment">         * limit==0xffffffff and of type expand-up data or code.</span></div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;        <span class="keywordflow">if</span> (!(s.base == 0 &amp;&amp; s.limit == 0xffffffff &amp;&amp;</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;             ((s.type &amp; 8) || !(s.type &amp; 4))))</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;            exn = exn || ((u64)off + len - 1 &gt; s.limit);</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;    }</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;    <span class="keywordflow">if</span> (exn) {</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;        <a class="code" href="x86_8c.html#aac24bace71b27dc8ae2ee3ecae145d0f">kvm_queue_exception_e</a>(vcpu,</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;                      seg_reg == VCPU_SREG_SS ?</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;                        SS_VECTOR : GP_VECTOR,</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;                      0);</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;    }</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160; </div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;}</div>
<div class="ttc" id="avmx_8c_html_ac53159f102e6a5dacbc90a2c4666ac71"><div class="ttname"><a href="vmx_8c.html#ac53159f102e6a5dacbc90a2c4666ac71">vmx_get_untagged_addr</a></div><div class="ttdeci">gva_t vmx_get_untagged_addr(struct kvm_vcpu *vcpu, gva_t gva, unsigned int flags)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8c_source.html#l08250">vmx.c:8250</a></div></div>
<div class="ttc" id="avmx_8c_html_acfb1910d98db4bcd82dd9a96eb069ce9"><div class="ttname"><a href="vmx_8c.html#acfb1910d98db4bcd82dd9a96eb069ce9">vmx_get_segment</a></div><div class="ttdeci">void vmx_get_segment(struct kvm_vcpu *vcpu, struct kvm_segment *var, int seg)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8c_source.html#l03496">vmx.c:3496</a></div></div>
<div class="ttc" id="ax86_8c_html_aac24bace71b27dc8ae2ee3ecae145d0f"><div class="ttname"><a href="x86_8c.html#aac24bace71b27dc8ae2ee3ecae145d0f">kvm_queue_exception_e</a></div><div class="ttdeci">void kvm_queue_exception_e(struct kvm_vcpu *vcpu, unsigned nr, u32 error_code)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8c_source.html#l00824">x86.c:824</a></div></div>
<div class="ttc" id="ax86_8c_html_ac9502ee8f018301047c80e19ab79f7e2"><div class="ttname"><a href="x86_8c.html#ac9502ee8f018301047c80e19ab79f7e2">kvm_queue_exception</a></div><div class="ttdeci">void kvm_queue_exception(struct kvm_vcpu *vcpu, unsigned nr)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8c_source.html#l00731">x86.c:731</a></div></div>
<div class="ttc" id="ax86_8h_html_a9f7e7cd8d352da04de3bf53cbb3b4e57"><div class="ttname"><a href="x86_8h.html#a9f7e7cd8d352da04de3bf53cbb3b4e57">kvm_register_read</a></div><div class="ttdeci">static unsigned long kvm_register_read(struct kvm_vcpu *vcpu, int reg)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8h_source.html#l00273">x86.h:273</a></div></div>
<div class="ttc" id="ax86_8h_html_aad3ee550e50892e0e340061479bb284d"><div class="ttname"><a href="x86_8h.html#aad3ee550e50892e0e340061479bb284d">is_long_mode</a></div><div class="ttdeci">static bool is_long_mode(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8h_source.html#l00143">x86.h:143</a></div></div>
<div class="ttc" id="ax86_8h_html_af9a5d53e18d888ed043578916e51cc55"><div class="ttname"><a href="x86_8h.html#af9a5d53e18d888ed043578916e51cc55">is_noncanonical_address</a></div><div class="ttdeci">static bool is_noncanonical_address(u64 la, struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8h_source.html#l00213">x86.h:213</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a8f92d0cdc8257a39a1360af576ff3b1a_cgraph.png" border="0" usemap="#anested_8h_a8f92d0cdc8257a39a1360af576ff3b1a_cgraph" alt=""/></div>
<map name="anested_8h_a8f92d0cdc8257a39a1360af576ff3b1a_cgraph" id="anested_8h_a8f92d0cdc8257a39a1360af576ff3b1a_cgraph">
<area shape="rect" title=" " alt="" coords="5,309,184,336"/>
<area shape="rect" href="x86_8h.html#aad3ee550e50892e0e340061479bb284d" title=" " alt="" coords="764,68,876,95"/>
<area shape="rect" href="x86_8h.html#af9a5d53e18d888ed043578916e51cc55" title=" " alt="" coords="232,208,416,235"/>
<area shape="rect" href="x86_8c.html#ac9502ee8f018301047c80e19ab79f7e2" title=" " alt="" coords="239,469,409,496"/>
<area shape="rect" href="x86_8c.html#aac24bace71b27dc8ae2ee3ecae145d0f" title=" " alt="" coords="728,747,912,773"/>
<area shape="rect" href="x86_8h.html#a9f7e7cd8d352da04de3bf53cbb3b4e57" title=" " alt="" coords="252,56,396,83"/>
<area shape="rect" href="vmx_8c.html#acfb1910d98db4bcd82dd9a96eb069ce9" title=" " alt="" coords="253,309,395,336"/>
<area shape="rect" href="vmx_8c.html#ac53159f102e6a5dacbc90a2c4666ac71" title=" " alt="" coords="233,680,415,707"/>
<area shape="rect" href="x86_8h.html#af360aa7bd1f33ab25089b12431f11773" title=" " alt="" coords="489,157,638,184"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a2b779657b20f7afa44c0172b1478ac65" title=" " alt="" coords="747,144,893,171"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a24ffc81fe5ed7998e29134351275b4dd" title=" " alt="" coords="1013,56,1158,83"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a6b9ea8c019490183db2a81569aad2bf9" title=" " alt="" coords="1241,56,1435,83"/>
<area shape="rect" href="x86_8c.html#a9a6f9a3892e36b8251d551192dc20a6f" title=" " alt="" coords="472,579,655,605"/>
<area shape="rect" href="x86_8c.html#aceb2924baf63df8bf7e8a4515976bd27" title=" " alt="" coords="757,696,883,723"/>
<area shape="rect" href="kvm__cache__regs_8h.html#afbcfc413ceedb460734eb5fd7c5c4fbc" title=" " alt="" coords="760,461,880,488"/>
<area shape="rect" href="x86_8c.html#a92e1a819da31f9776852acd897808e99" title=" " alt="" coords="733,513,907,554"/>
<area shape="rect" href="x86_8h.html#aa9890500a8e1721d97bbeb847c932d2b" title=" " alt="" coords="721,579,919,605"/>
<area shape="rect" href="x86_8c.html#a28de704e0172e28f1f108b20d606458b" title=" " alt="" coords="735,630,905,671"/>
<area shape="rect" href="x86_8h.html#ada9d5e605374059a5e34c42817ed5118" title=" " alt="" coords="501,56,625,83"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a5d9eb0563cffb1e3ed1cccebabcf2df6" title=" " alt="" coords="476,5,651,32"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="528,309,599,336"/>
<area shape="rect" href="vmx_8c.html#ae978f1764c6b6e466c1547927fa5f977" title=" " alt="" coords="473,259,653,285"/>
<area shape="rect" href="vmx_8c.html#a911b88947099c0d21f8fbeca202ea30f" title=" " alt="" coords="464,208,663,235"/>
<area shape="rect" href="vmx_8c.html#ab9185adefc641ff428164a7fcab15c45" title=" " alt="" coords="483,361,643,402"/>
<area shape="rect" href="vmx_8c.html#ae1134559a10e8db36f8d2dabc07f78fc" title=" " alt="" coords="483,426,643,467"/>
<area shape="rect" href="vmx__ops_8h.html#a8e451d9fa742dfde330958372b978485" title=" " alt="" coords="765,360,875,387"/>
<area shape="rect" href="vmx_8c.html#a69771798b92b67f275b9be73a17f6353" title=" " alt="" coords="711,259,929,285"/>
<area shape="rect" href="vmx__ops_8h.html#a4e53c9e55e0e6a94f7304f0f672e1168" title=" " alt="" coords="1030,360,1141,387"/>
<area shape="rect" href="vmx__onhyperv_8h.html#ad90d48badc854d1cdc59509cece943a5" title=" " alt="" coords="1027,461,1144,488"/>
<area shape="rect" href="vmx__onhyperv_8h.html#ab35d8d7479c3c62d461012dcabc04b11" title=" " alt="" coords="1005,411,1166,437"/>
<area shape="rect" href="vmx__ops_8h.html#af5ce3717bbcc96eeddead8b57ac3fa6a" title=" " alt="" coords="1026,309,1145,336"/>
<area shape="rect" href="x86_8c.html#aa600a8b690e74e45d1ce6b590b74a60b" title=" " alt="" coords="1263,385,1413,412"/>
<area shape="rect" href="vmx__ops_8h.html#a5bd8b5279566f5cedece56ca03955271" title=" " alt="" coords="1283,335,1393,361"/>
<area shape="rect" href="kvm__cache__regs_8h.html#a02b01f3ac97e70ca6457508f8dd94b2f" title=" " alt="" coords="977,259,1193,285"/>
<area shape="rect" href="vmx__ops_8h.html#aefa9026aa63362d2c8205086f646e956" title=" " alt="" coords="771,208,869,235"/>
<area shape="rect" href="vmx__onhyperv_8h.html#ab02646b06f78249d1315b2affdeb6572" title=" " alt="" coords="1027,107,1144,133"/>
<area shape="rect" href="vmx__ops_8h.html#ac411fdca9086093e5690910de4382641" title=" " alt="" coords="1032,157,1139,184"/>
<area shape="rect" href="vmx__ops_8h.html#af65cbcf47ab58f0ae9a713ebf50f03a7" title=" " alt="" coords="765,411,875,437"/>
<area shape="rect" href="vmx__onhyperv_8h.html#a77b65dd311c34381a8508de99e9b8543" title=" " alt="" coords="1027,563,1144,589"/>
<area shape="rect" href="vmx__ops_8h.html#a99d3cd27b0b9d3e69fcc2e1cae4225fa" title=" " alt="" coords="1026,512,1145,539"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a8f92d0cdc8257a39a1360af576ff3b1a_icgraph.png" border="0" usemap="#anested_8h_a8f92d0cdc8257a39a1360af576ff3b1a_icgraph" alt=""/></div>
<map name="anested_8h_a8f92d0cdc8257a39a1360af576ff3b1a_icgraph" id="anested_8h_a8f92d0cdc8257a39a1360af576ff3b1a_icgraph">
<area shape="rect" title=" " alt="" coords="797,140,976,166"/>
<area shape="rect" href="vmx_2nested_8c.html#a54e70f407596ed5f029a4e4a9855d76c" title=" " alt="" coords="405,13,519,40"/>
<area shape="rect" href="vmx_8c.html#af3a69581bc36e5dd88f3c37334df214d" title=" " alt="" coords="601,38,721,65"/>
<area shape="rect" href="vmx_2nested_8c.html#a82fdee7a11d269320b0b30e836910587" title=" " alt="" coords="401,89,523,116"/>
<area shape="rect" href="vmx_2nested_8c.html#a0597b7f483c8cc06841f463e5dd3203d" title=" " alt="" coords="599,140,723,166"/>
<area shape="rect" href="vmx_2nested_8c.html#a3fe22c3468a281d231b3554bdc8ab9d2" title=" " alt="" coords="600,190,723,217"/>
<area shape="rect" href="vmx_2nested_8c.html#a012c9b2d00b8a098ebc34d5693eb2f2b" title=" " alt="" coords="598,241,725,268"/>
<area shape="rect" href="vmx_2nested_8c.html#a6777a6616a2ebdcc07f60286e276d841" title=" " alt="" coords="573,317,749,344"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,208,351,250"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,216,132,242"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3473bc074c4b59fe28597bd275c7668" title=" " alt="" coords="399,292,525,318"/>
<area shape="rect" href="vmx_2nested_8c.html#a0d98c8746dea3af0e50611aa851e01d9" title=" " alt="" coords="400,342,524,369"/>
<area shape="rect" href="vmx_2nested_8c.html#acfc614b787620aa3ea5f48ed247cfe30" title=" " alt="" coords="403,393,521,420"/>
</map>
</div>

</div>
</div>
<a id="ae8f95597e49047619366cbf8f1a63449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8f95597e49047619366cbf8f1a63449">&#9670;&nbsp;</a></span>nested_cpu_has()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>bit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00132">132</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a34631a3acec2f8e1db398bc77e12b3c3">cpu_based_vm_exec_control</a> &amp; bit;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="ttc" id="astructvmcs12_html"><div class="ttname"><a href="structvmcs12.html">vmcs12</a></div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00027">vmcs12.h:27</a></div></div>
<div class="ttc" id="astructvmcs12_html_a34631a3acec2f8e1db398bc77e12b3c3"><div class="ttname"><a href="structvmcs12.html#a34631a3acec2f8e1db398bc77e12b3c3">vmcs12::cpu_based_vm_exec_control</a></div><div class="ttdeci">u32 cpu_based_vm_exec_control</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00122">vmcs12.h:122</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ae8f95597e49047619366cbf8f1a63449_icgraph.png" border="0" usemap="#anested_8h_ae8f95597e49047619366cbf8f1a63449_icgraph" alt=""/></div>
<map name="anested_8h_ae8f95597e49047619366cbf8f1a63449_icgraph" id="anested_8h_ae8f95597e49047619366cbf8f1a63449_icgraph">
<area shape="rect" title=" " alt="" coords="1636,700,1763,727"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1128,510,1337,552"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="629,232,759,259"/>
<area shape="rect" href="nested_8h.html#ad5d552db463f26f0bf98a4d06514c4a9" title=" " alt="" coords="1413,184,1569,211"/>
<area shape="rect" href="vmx_2nested_8c.html#a877b148ab3be256ff208a4d0c0136809" title=" " alt="" coords="857,198,1056,224"/>
<area shape="rect" href="vmx_2nested_8c.html#a562e6893d0703c98635cab943cc58fed" title=" " alt="" coords="1133,1058,1332,1084"/>
<area shape="rect" href="vmx_2nested_8c.html#a119e2b19d11ad1028ba6b72f7ad3cacd" title=" " alt="" coords="1150,853,1315,894"/>
<area shape="rect" href="vmx_2nested_8c.html#a4d02669b451b76b64dc28047526be8c4" title=" " alt="" coords="1396,752,1585,793"/>
<area shape="rect" href="vmx_2nested_8c.html#af6ea36b16075218f55f7c3a9c745d633" title=" " alt="" coords="1407,438,1574,480"/>
<area shape="rect" href="vmx_2nested_8c.html#ab6ca9c721b03e5956849a83f4145b3d3" title=" " alt="" coords="1401,504,1580,545"/>
<area shape="rect" href="vmx_2nested_8c.html#ae2abf60d3b2a39349e70053e00fc13a2" title=" " alt="" coords="1401,569,1580,610"/>
<area shape="rect" href="vmx_2nested_8c.html#ae599fad0f0739484a7e04b47d50836c3" title=" " alt="" coords="1405,634,1577,676"/>
<area shape="rect" href="vmx_2nested_8c.html#a05813a3b9f1f5f947997a81267e52389" title=" " alt="" coords="1127,235,1339,262"/>
<area shape="rect" href="vmx_2nested_8c.html#aa737b0ad266ca0532ad72b956726ad7c" title=" " alt="" coords="1127,286,1339,312"/>
<area shape="rect" href="vmx_2nested_8c.html#a9ea44f660f1ab70ff1f2ee831d1a5f39" title=" " alt="" coords="1120,336,1345,363"/>
<area shape="rect" href="vmx_2nested_8c.html#a2ac5647e082b0cfc93b16719577986c1" title=" " alt="" coords="1411,1021,1570,1062"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="1155,576,1310,603"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e4432d8f2321361c7b0b88e7237511c" title=" " alt="" coords="1405,1138,1576,1164"/>
<area shape="rect" href="vmx_8c.html#a2d5f406e95b5e1b64759e08f3a63952a" title=" " alt="" coords="1401,1188,1581,1215"/>
<area shape="rect" href="vmx_8c.html#ac02364004e8e3f247ba9a3c3ca79a460" title=" " alt="" coords="597,970,791,996"/>
<area shape="rect" href="vmx_8c.html#a46c1e27ec7a8197f1194b6cc37db30ef" title=" " alt="" coords="610,919,778,946"/>
<area shape="rect" href="vmx_8c.html#ab609c79ddd2d63583113f8be5d341fcd" title=" " alt="" coords="1393,1239,1588,1266"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="853,248,1060,275"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="609,400,779,427"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="404,232,541,259"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="401,283,544,310"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,276,351,317"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,283,132,310"/>
<area shape="rect" href="vmx_2nested_8c.html#adf474554d9eaba211d513053a6ad8876" title=" " alt="" coords="1121,184,1344,211"/>
<area shape="rect" href="vmx_8c.html#a76284be3e9ff36fd3e24d79f6f8dc92d" title=" " alt="" coords="1147,118,1319,160"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="619,284,769,325"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="399,451,547,478"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="198,451,333,478"/>
<area shape="rect" href="vmx_8c.html#a2036cf325e433da555987b14058374f2" title=" " alt="" coords="841,126,1072,152"/>
<area shape="rect" href="vmx_2nested_8c.html#a41a0c6eb138f02ae4481ca5d21a09818" title=" " alt="" coords="871,1050,1042,1092"/>
<area shape="rect" href="vmx_2nested_8c.html#a1202b81c0b68f0555ec94d77f1243029" title=" " alt="" coords="871,737,1042,778"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="595,635,793,662"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="411,342,534,368"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="869,802,1045,844"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="849,452,1065,493"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="867,518,1047,544"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="865,569,1049,610"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="884,686,1029,712"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="613,802,775,844"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="407,919,538,946"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="607,736,781,763"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="639,686,749,712"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="411,736,534,763"/>
<area shape="rect" href="vmx_8c.html#a3f986bbfd4a5aac58f65d35dbef8119d" title=" " alt="" coords="1152,1188,1313,1215"/>
</map>
</div>

</div>
</div>
<a id="aa997cf53b86844ddc4f230369935239e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa997cf53b86844ddc4f230369935239e">&#9670;&nbsp;</a></span>nested_cpu_has2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>bit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00137">137</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a34631a3acec2f8e1db398bc77e12b3c3">cpu_based_vm_exec_control</a> &amp;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            CPU_BASED_ACTIVATE_SECONDARY_CONTROLS) &amp;&amp;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        (<a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a4c500465a30847ff26ee9e192d865177">secondary_vm_exec_control</a> &amp; bit);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="ttc" id="astructvmcs12_html_a4c500465a30847ff26ee9e192d865177"><div class="ttname"><a href="structvmcs12.html#a4c500465a30847ff26ee9e192d865177">vmcs12::secondary_vm_exec_control</a></div><div class="ttdeci">u32 secondary_vm_exec_control</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00136">vmcs12.h:136</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_aa997cf53b86844ddc4f230369935239e_icgraph.png" border="0" usemap="#anested_8h_aa997cf53b86844ddc4f230369935239e_icgraph" alt=""/></div>
<map name="anested_8h_aa997cf53b86844ddc4f230369935239e_icgraph" id="anested_8h_aa997cf53b86844ddc4f230369935239e_icgraph">
<area shape="rect" title=" " alt="" coords="1288,1045,1423,1072"/>
<area shape="rect" href="vmx_2nested_8c.html#a56f8d9d4a110dbb62471de947f8b6219" title=" " alt="" coords="492,877,672,918"/>
<area shape="rect" href="nested_8h.html#ae5b8ee673c1f5c40af637ea7e9ad345a" title=" " alt="" coords="1047,97,1207,138"/>
<area shape="rect" href="vmx_2nested_8c.html#a4d02669b451b76b64dc28047526be8c4" title=" " alt="" coords="756,162,945,203"/>
<area shape="rect" href="vmx_2nested_8c.html#a562e6893d0703c98635cab943cc58fed" title=" " alt="" coords="483,104,681,131"/>
<area shape="rect" href="nested_8h.html#ace42273b4cc4a695bcec7ede1745411a" title=" " alt="" coords="1028,1877,1227,1904"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e4432d8f2321361c7b0b88e7237511c" title=" " alt="" coords="497,1968,667,1995"/>
<area shape="rect" href="nested_8h.html#ae9a97c4e71871f0e10b0e864d02a782e" title=" " alt="" coords="1050,759,1205,785"/>
<area shape="rect" href="vmx_2nested_8c.html#a669a9034786cf15e777c18ee8628b049" title=" " alt="" coords="755,810,947,851"/>
<area shape="rect" href="vmx_2nested_8c.html#a7419f21d411c3a6a4d2dc3dda0257e46" title=" " alt="" coords="735,591,967,633"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="505,993,659,1020"/>
<area shape="rect" href="nested_8h.html#a29ac23d0b7b920e6379e7236ca27b2df" title=" " alt="" coords="1048,533,1207,560"/>
<area shape="rect" href="nested_8h.html#aeb56519064640e3f5be9902f5a96ae10" title=" " alt="" coords="1015,1187,1240,1213"/>
<area shape="rect" href="vmx_2nested_8c.html#a877b148ab3be256ff208a4d0c0136809" title=" " alt="" coords="483,2069,681,2096"/>
<area shape="rect" href="nested_8h.html#a3d32114ea365cb14f9a7c08d900e10c2" title=" " alt="" coords="1051,279,1204,305"/>
<area shape="rect" href="nested_8h.html#a2a0ee8876d839fb9c8a758d75891f449" title=" " alt="" coords="1050,162,1205,203"/>
<area shape="rect" href="nested_8h.html#a1e5ea3e2f109135becdc57c21e263db0" title=" " alt="" coords="1036,373,1219,400"/>
<area shape="rect" href="nested_8h.html#a91f803e3ba878e57ca9473200196b009" title=" " alt="" coords="1047,1673,1208,1700"/>
<area shape="rect" href="nested_8h.html#a7db5a9fdfd3d45250801d8992d37d89c" title=" " alt="" coords="1038,1749,1217,1776"/>
<area shape="rect" href="nested_8h.html#afa10ac041c543a9965a262aea3f86656" title=" " alt="" coords="1040,1412,1215,1439"/>
<area shape="rect" href="vmx_2nested_8c.html#a4fa642a40472c8cb6408c30f10e93be7" title=" " alt="" coords="1037,869,1218,910"/>
<area shape="rect" href="vmx_2nested_8c.html#ab3fc0bd0d4a8fd0ee69e1b766c2d20aa" title=" " alt="" coords="1031,2058,1224,2099"/>
<area shape="rect" href="vmx_8c.html#a3f986bbfd4a5aac58f65d35dbef8119d" title=" " alt="" coords="1047,2175,1208,2201"/>
<area shape="rect" href="vmx_8c.html#ac02364004e8e3f247ba9a3c3ca79a460" title=" " alt="" coords="485,1547,679,1573"/>
<area shape="rect" href="vmx_8c.html#adda41e5ad7d9839a1fd3e01efc608c37" title=" " alt="" coords="529,1597,635,1624"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="223,884,429,911"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="5,1379,175,1405"/>
<area shape="rect" href="vmx_2nested_8c.html#a2ac5647e082b0cfc93b16719577986c1" title=" " alt="" coords="771,97,930,138"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="477,701,687,742"/>
<area shape="rect" href="vmx_2nested_8c.html#a41a0c6eb138f02ae4481ca5d21a09818" title=" " alt="" coords="241,97,411,138"/>
<area shape="rect" href="sgx_8c.html#a7f5682145e68a3283de02a0ac6a9e617" title=" " alt="" coords="758,1968,943,1995"/>
<area shape="rect" href="vmx_2nested_8c.html#a0cee42406db9df08ec06a960fb9c732f" title=" " alt="" coords="761,526,940,567"/>
<area shape="rect" href="vmx_2nested_8c.html#ad874dd59254c34b16ae48fffb4ebbf1f" title=" " alt="" coords="747,1328,954,1355"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="261,1597,391,1624"/>
<area shape="rect" href="vmx_2nested_8c.html#a44872272f3dd900f9252e772c59e8d16" title=" " alt="" coords="757,759,945,785"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="265,993,387,1020"/>
<area shape="rect" href="vmx_2nested_8c.html#ac436bd43f9cd48511bdf54c6e36fd31d" title=" " alt="" coords="497,943,667,969"/>
<area shape="rect" href="vmx_2nested_8c.html#a136dea09c1603dee70a71cd7716e9581" title=" " alt="" coords="763,461,938,502"/>
<area shape="rect" href="vmx_2nested_8c.html#a6d5a422c3a454017b8e5008d5dfb0cf2" title=" " alt="" coords="767,1146,935,1187"/>
<area shape="rect" href="vmx_2nested_8c.html#a084d1079969b182e5a997cae6326c36d" title=" " alt="" coords="772,1211,929,1253"/>
<area shape="rect" href="vmx_2nested_8c.html#a4fc8c438d2338f3fd0d3bfa71f08a8ea" title=" " alt="" coords="749,978,953,1019"/>
<area shape="rect" href="vmx_2nested_8c.html#af3ac0e639a9f3b73dbcc84c7aeaeb5cb" title=" " alt="" coords="756,1430,945,1471"/>
<area shape="rect" href="vmx_2nested_8c.html#ae2a1571a5502da9fe9d0434c61bbde7e" title=" " alt="" coords="754,1851,947,1893"/>
<area shape="rect" href="vmx_2nested_8c.html#a926c867f33af4ad620f2cbeaa310a7eb" title=" " alt="" coords="487,1430,677,1471"/>
<area shape="rect" href="vmx_8c.html#a4b7bce685b675217949fe87872d9a121" title=" " alt="" coords="771,227,930,269"/>
<area shape="rect" href="nested_8h.html#ac06a51fbe7bec2497b168721f6ac0356" title=" " alt="" coords="769,395,932,437"/>
<area shape="rect" href="vmx_2nested_8c.html#a50056fcd07ea88aa781a3e7cbbad775d" title=" " alt="" coords="755,1699,946,1725"/>
<area shape="rect" href="vmx_2nested_8c.html#a3d278d8acef5d454c3d68968a7a49862" title=" " alt="" coords="497,1691,667,1733"/>
<area shape="rect" href="vmx_2nested_8c.html#a85ce368c81cbe80d9e13c1873fce03b3" title=" " alt="" coords="749,1917,952,1944"/>
<area shape="rect" href="vmx_2nested_8c.html#aa9419b385a2c58c246195d3106c57afc" title=" " alt="" coords="501,1779,663,1805"/>
</map>
</div>

</div>
</div>
<a id="ae5b8ee673c1f5c40af637ea7e9ad345a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5b8ee673c1f5c40af637ea7e9ad345a">&#9670;&nbsp;</a></span>nested_cpu_has_apic_reg_virt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_apic_reg_virt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00190">190</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e">nested_cpu_has2</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, SECONDARY_EXEC_APIC_REGISTER_VIRT);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div>
<div class="ttc" id="anested_8h_html_aa997cf53b86844ddc4f230369935239e"><div class="ttname"><a href="nested_8h.html#aa997cf53b86844ddc4f230369935239e">nested_cpu_has2</a></div><div class="ttdeci">static bool nested_cpu_has2(struct vmcs12 *vmcs12, u32 bit)</div><div class="ttdef"><b>Definition:</b> <a href="nested_8h_source.html#l00137">nested.h:137</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ae5b8ee673c1f5c40af637ea7e9ad345a_cgraph.png" border="0" usemap="#anested_8h_ae5b8ee673c1f5c40af637ea7e9ad345a_cgraph" alt=""/></div>
<map name="anested_8h_ae5b8ee673c1f5c40af637ea7e9ad345a_cgraph" id="anested_8h_ae5b8ee673c1f5c40af637ea7e9ad345a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,165,47"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="213,13,348,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ae5b8ee673c1f5c40af637ea7e9ad345a_icgraph.png" border="0" usemap="#anested_8h_ae5b8ee673c1f5c40af637ea7e9ad345a_icgraph" alt=""/></div>
<map name="anested_8h_ae5b8ee673c1f5c40af637ea7e9ad345a_icgraph" id="anested_8h_ae5b8ee673c1f5c40af637ea7e9ad345a_icgraph">
<area shape="rect" title=" " alt="" coords="1556,82,1716,123"/>
<area shape="rect" href="vmx_2nested_8c.html#a4d02669b451b76b64dc28047526be8c4" title=" " alt="" coords="1319,49,1508,90"/>
<area shape="rect" href="vmx_2nested_8c.html#a2ac5647e082b0cfc93b16719577986c1" title=" " alt="" coords="1334,114,1493,155"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1061,49,1271,90"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,56,1013,83"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,31,739,57"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,81,759,108"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,5,539,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,56,541,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,23,351,65"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,31,132,57"/>
<area shape="rect" href="vmx_2nested_8c.html#a562e6893d0703c98635cab943cc58fed" title=" " alt="" coords="1067,121,1265,148"/>
<area shape="rect" href="vmx_2nested_8c.html#a41a0c6eb138f02ae4481ca5d21a09818" title=" " alt="" coords="825,114,995,155"/>
</map>
</div>

</div>
</div>
<a id="ace42273b4cc4a695bcec7ede1745411a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace42273b4cc4a695bcec7ede1745411a">&#9670;&nbsp;</a></span>nested_cpu_has_encls_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_encls_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00243">243</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;{</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e">nested_cpu_has2</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, SECONDARY_EXEC_ENCLS_EXITING);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ace42273b4cc4a695bcec7ede1745411a_cgraph.png" border="0" usemap="#anested_8h_ace42273b4cc4a695bcec7ede1745411a_cgraph" alt=""/></div>
<map name="anested_8h_ace42273b4cc4a695bcec7ede1745411a_cgraph" id="anested_8h_ace42273b4cc4a695bcec7ede1745411a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,204,32"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="252,5,387,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ace42273b4cc4a695bcec7ede1745411a_icgraph.png" border="0" usemap="#anested_8h_ace42273b4cc4a695bcec7ede1745411a_icgraph" alt=""/></div>
<map name="anested_8h_ace42273b4cc4a695bcec7ede1745411a_icgraph" id="anested_8h_ace42273b4cc4a695bcec7ede1745411a_icgraph">
<area shape="rect" title=" " alt="" coords="825,81,1024,108"/>
<area shape="rect" href="sgx_8c.html#a7f5682145e68a3283de02a0ac6a9e617" title=" " alt="" coords="592,81,777,108"/>
<area shape="rect" href="vmx_8c.html#ad9c0f9053e0fe647a367166a4b6a0c6f" title=" " alt="" coords="416,5,501,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e4432d8f2321361c7b0b88e7237511c" title=" " alt="" coords="373,56,544,83"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="403,107,514,133"/>
<area shape="rect" href="vmx_8c.html#a8ff77baa2f28fd717210bcac02a13434" title=" " alt="" coords="382,158,535,199"/>
<area shape="rect" href="vmx_8c.html#abd63cf398d1b18c9be4e9c4eae17c64c" title=" " alt="" coords="183,5,325,32"/>
<area shape="rect" href="vmx_8c.html#a8d0fa5e317cbd0eb67ebdc9fa5ec70ce" title=" " alt="" coords="5,5,135,32"/>
</map>
</div>

</div>
</div>
<a id="ae9a97c4e71871f0e10b0e864d02a782e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9a97c4e71871f0e10b0e864d02a782e">&#9670;&nbsp;</a></span>nested_cpu_has_ept()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nested_cpu_has_ept </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00165">165</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e">nested_cpu_has2</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, SECONDARY_EXEC_ENABLE_EPT);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ae9a97c4e71871f0e10b0e864d02a782e_cgraph.png" border="0" usemap="#anested_8h_ae9a97c4e71871f0e10b0e864d02a782e_cgraph" alt=""/></div>
<map name="anested_8h_ae9a97c4e71871f0e10b0e864d02a782e_cgraph" id="anested_8h_ae9a97c4e71871f0e10b0e864d02a782e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,160,32"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="208,5,343,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ae9a97c4e71871f0e10b0e864d02a782e_icgraph.png" border="0" usemap="#anested_8h_ae9a97c4e71871f0e10b0e864d02a782e_icgraph" alt=""/></div>
<map name="anested_8h_ae9a97c4e71871f0e10b0e864d02a782e_icgraph" id="anested_8h_ae9a97c4e71871f0e10b0e864d02a782e_icgraph">
<area shape="rect" title=" " alt="" coords="1637,249,1792,276"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1100,147,1309,189"/>
<area shape="rect" href="vmx_2nested_8c.html#a562e6893d0703c98635cab943cc58fed" title=" " alt="" coords="1374,629,1573,656"/>
<area shape="rect" href="vmx_2nested_8c.html#a669a9034786cf15e777c18ee8628b049" title=" " alt="" coords="1377,82,1569,123"/>
<area shape="rect" href="vmx_2nested_8c.html#a0cee42406db9df08ec06a960fb9c732f" title=" " alt="" coords="1384,147,1563,189"/>
<area shape="rect" href="vmx_2nested_8c.html#a7419f21d411c3a6a4d2dc3dda0257e46" title=" " alt="" coords="1357,213,1589,254"/>
<area shape="rect" href="vmx_2nested_8c.html#ad874dd59254c34b16ae48fffb4ebbf1f" title=" " alt="" coords="1101,9,1308,36"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="405,545,535,572"/>
<area shape="rect" href="vmx_2nested_8c.html#a44872272f3dd900f9252e772c59e8d16" title=" " alt="" coords="1379,329,1567,356"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="841,56,1047,83"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="623,56,754,83"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="604,140,773,167"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,56,539,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,107,541,133"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,49,351,90"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,56,132,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a41a0c6eb138f02ae4481ca5d21a09818" title=" " alt="" coords="1119,626,1290,667"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="883,5,1005,32"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="1127,283,1282,309"/>
<area shape="rect" href="vmx_2nested_8c.html#ac436bd43f9cd48511bdf54c6e36fd31d" title=" " alt="" coords="1119,333,1290,360"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="615,333,763,360"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="856,509,1032,550"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="836,443,1052,485"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="589,421,788,448"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="869,275,1019,317"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="854,107,1034,133"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="852,158,1036,199"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="871,224,1017,251"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="403,333,537,360"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="607,509,770,550"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="602,259,775,285"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="633,208,744,235"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="409,259,531,285"/>
</map>
</div>

</div>
</div>
<a id="ac06a51fbe7bec2497b168721f6ac0356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac06a51fbe7bec2497b168721f6ac0356">&#9670;&nbsp;</a></span>nested_cpu_has_eptp_switching()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_eptp_switching </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00210">210</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;{</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#a1e5ea3e2f109135becdc57c21e263db0">nested_cpu_has_vmfunc</a>(<a class="code" href="structvmcs12.html">vmcs12</a>) &amp;&amp;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        (<a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#af6c8884092f0f1ed9b69e4c36666293d">vm_function_control</a> &amp;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;         VMX_VMFUNC_EPTP_SWITCHING);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div>
<div class="ttc" id="anested_8h_html_a1e5ea3e2f109135becdc57c21e263db0"><div class="ttname"><a href="nested_8h.html#a1e5ea3e2f109135becdc57c21e263db0">nested_cpu_has_vmfunc</a></div><div class="ttdeci">static bool nested_cpu_has_vmfunc(struct vmcs12 *vmcs12)</div><div class="ttdef"><b>Definition:</b> <a href="nested_8h_source.html#l00205">nested.h:205</a></div></div>
<div class="ttc" id="astructvmcs12_html_af6c8884092f0f1ed9b69e4c36666293d"><div class="ttname"><a href="structvmcs12.html#af6c8884092f0f1ed9b69e4c36666293d">vmcs12::vm_function_control</a></div><div class="ttdeci">u64 vm_function_control</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00069">vmcs12.h:69</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ac06a51fbe7bec2497b168721f6ac0356_cgraph.png" border="0" usemap="#anested_8h_ac06a51fbe7bec2497b168721f6ac0356_cgraph" alt=""/></div>
<map name="anested_8h_ac06a51fbe7bec2497b168721f6ac0356_cgraph" id="anested_8h_ac06a51fbe7bec2497b168721f6ac0356_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,168,47"/>
<area shape="rect" href="nested_8h.html#a1e5ea3e2f109135becdc57c21e263db0" title=" " alt="" coords="216,13,399,39"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="447,13,581,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ac06a51fbe7bec2497b168721f6ac0356_icgraph.png" border="0" usemap="#anested_8h_ac06a51fbe7bec2497b168721f6ac0356_icgraph" alt=""/></div>
<map name="anested_8h_ac06a51fbe7bec2497b168721f6ac0356_icgraph" id="anested_8h_ac06a51fbe7bec2497b168721f6ac0356_icgraph">
<area shape="rect" title=" " alt="" coords="1319,49,1481,90"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1061,49,1271,90"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,56,1013,83"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,31,739,57"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,81,759,108"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,5,539,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,56,541,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,23,351,65"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,31,132,57"/>
</map>
</div>

</div>
</div>
<a id="ad5d552db463f26f0bf98a4d06514c4a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5d552db463f26f0bf98a4d06514c4a9">&#9670;&nbsp;</a></span>nested_cpu_has_mtf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nested_cpu_has_mtf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00160">160</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#ae8f95597e49047619366cbf8f1a63449">nested_cpu_has</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, CPU_BASED_MONITOR_TRAP_FLAG);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="ttc" id="anested_8h_html_ae8f95597e49047619366cbf8f1a63449"><div class="ttname"><a href="nested_8h.html#ae8f95597e49047619366cbf8f1a63449">nested_cpu_has</a></div><div class="ttdeci">static bool nested_cpu_has(struct vmcs12 *vmcs12, u32 bit)</div><div class="ttdef"><b>Definition:</b> <a href="nested_8h_source.html#l00132">nested.h:132</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ad5d552db463f26f0bf98a4d06514c4a9_cgraph.png" border="0" usemap="#anested_8h_ad5d552db463f26f0bf98a4d06514c4a9_cgraph" alt=""/></div>
<map name="anested_8h_ad5d552db463f26f0bf98a4d06514c4a9_cgraph" id="anested_8h_ad5d552db463f26f0bf98a4d06514c4a9_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,161,32"/>
<area shape="rect" href="nested_8h.html#ae8f95597e49047619366cbf8f1a63449" title=" " alt="" coords="209,5,336,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ad5d552db463f26f0bf98a4d06514c4a9_icgraph.png" border="0" usemap="#anested_8h_ad5d552db463f26f0bf98a4d06514c4a9_icgraph" alt=""/></div>
<map name="anested_8h_ad5d552db463f26f0bf98a4d06514c4a9_icgraph" id="anested_8h_ad5d552db463f26f0bf98a4d06514c4a9_icgraph">
<area shape="rect" title=" " alt="" coords="1132,42,1288,69"/>
<area shape="rect" href="vmx_2nested_8c.html#adf474554d9eaba211d513053a6ad8876" title=" " alt="" coords="861,13,1084,39"/>
<area shape="rect" href="vmx_8c.html#a76284be3e9ff36fd3e24d79f6f8dc92d" title=" " alt="" coords="887,64,1059,105"/>
<area shape="rect" href="vmx_2nested_8c.html#a877b148ab3be256ff208a4d0c0136809" title=" " alt="" coords="599,13,797,39"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="384,5,535,47"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="188,13,336,39"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="5,13,140,39"/>
<area shape="rect" href="vmx_8c.html#a2036cf325e433da555987b14058374f2" title=" " alt="" coords="583,71,813,98"/>
</map>
</div>

</div>
</div>
<a id="a186f3dfc87866bdacaf4ef809d671447"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a186f3dfc87866bdacaf4ef809d671447">&#9670;&nbsp;</a></span>nested_cpu_has_nmi_exiting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_nmi_exiting </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00150">150</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#aeb3e7d305df6ef6fa49e9a67e57f3ba5">pin_based_vm_exec_control</a> &amp; PIN_BASED_NMI_EXITING;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
<div class="ttc" id="astructvmcs12_html_aeb3e7d305df6ef6fa49e9a67e57f3ba5"><div class="ttname"><a href="structvmcs12.html#aeb3e7d305df6ef6fa49e9a67e57f3ba5">vmcs12::pin_based_vm_exec_control</a></div><div class="ttdeci">u32 pin_based_vm_exec_control</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00121">vmcs12.h:121</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a186f3dfc87866bdacaf4ef809d671447_icgraph.png" border="0" usemap="#anested_8h_a186f3dfc87866bdacaf4ef809d671447_icgraph" alt=""/></div>
<map name="anested_8h_a186f3dfc87866bdacaf4ef809d671447_icgraph" id="anested_8h_a186f3dfc87866bdacaf4ef809d671447_icgraph">
<area shape="rect" title=" " alt="" coords="1545,27,1704,69"/>
<area shape="rect" href="nested_8h.html#a7989fdd3d423fa3feac3b5d96fdd501a" title=" " alt="" coords="1331,5,1485,32"/>
<area shape="rect" href="vmx_2nested_8c.html#ae2abf60d3b2a39349e70053e00fc13a2" title=" " alt="" coords="1319,57,1497,98"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1061,57,1271,98"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,64,1013,91"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,39,739,65"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,89,759,116"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,13,539,40"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,64,541,91"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,31,351,73"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,39,132,65"/>
</map>
</div>

</div>
</div>
<a id="a29ac23d0b7b920e6379e7236ca27b2df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29ac23d0b7b920e6379e7236ca27b2df">&#9670;&nbsp;</a></span>nested_cpu_has_pml()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_pml </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00175">175</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e">nested_cpu_has2</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, SECONDARY_EXEC_ENABLE_PML);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a29ac23d0b7b920e6379e7236ca27b2df_cgraph.png" border="0" usemap="#anested_8h_a29ac23d0b7b920e6379e7236ca27b2df_cgraph" alt=""/></div>
<map name="anested_8h_a29ac23d0b7b920e6379e7236ca27b2df_cgraph" id="anested_8h_a29ac23d0b7b920e6379e7236ca27b2df_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,164,32"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="212,5,347,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a29ac23d0b7b920e6379e7236ca27b2df_icgraph.png" border="0" usemap="#anested_8h_a29ac23d0b7b920e6379e7236ca27b2df_icgraph" alt=""/></div>
<map name="anested_8h_a29ac23d0b7b920e6379e7236ca27b2df_icgraph" id="anested_8h_a29ac23d0b7b920e6379e7236ca27b2df_icgraph">
<area shape="rect" title=" " alt="" coords="1545,89,1704,116"/>
<area shape="rect" href="vmx_2nested_8c.html#a0cee42406db9df08ec06a960fb9c732f" title=" " alt="" coords="1319,49,1497,90"/>
<area shape="rect" href="vmx_2nested_8c.html#a136dea09c1603dee70a71cd7716e9581" title=" " alt="" coords="1321,114,1495,155"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1061,49,1271,90"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,56,1013,83"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,31,739,57"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,81,759,108"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,5,539,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,56,541,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,23,351,65"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,31,132,57"/>
</map>
</div>

</div>
</div>
<a id="a60e2a92b3bcd5271ef711e48d7f38773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60e2a92b3bcd5271ef711e48d7f38773">&#9670;&nbsp;</a></span>nested_cpu_has_posted_intr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_posted_intr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00200">200</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#aeb3e7d305df6ef6fa49e9a67e57f3ba5">pin_based_vm_exec_control</a> &amp; PIN_BASED_POSTED_INTR;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a60e2a92b3bcd5271ef711e48d7f38773_icgraph.png" border="0" usemap="#anested_8h_a60e2a92b3bcd5271ef711e48d7f38773_icgraph" alt=""/></div>
<map name="anested_8h_a60e2a92b3bcd5271ef711e48d7f38773_icgraph" id="anested_8h_a60e2a92b3bcd5271ef711e48d7f38773_icgraph">
<area shape="rect" title=" " alt="" coords="1565,195,1772,222"/>
<area shape="rect" href="vmx_2nested_8c.html#a562e6893d0703c98635cab943cc58fed" title=" " alt="" coords="1319,42,1517,69"/>
<area shape="rect" href="vmx_2nested_8c.html#a119e2b19d11ad1028ba6b72f7ad3cacd" title=" " alt="" coords="1335,123,1501,164"/>
<area shape="rect" href="vmx_2nested_8c.html#a4d02669b451b76b64dc28047526be8c4" title=" " alt="" coords="1323,188,1513,229"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,250,739,277"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e4432d8f2321361c7b0b88e7237511c" title=" " alt="" coords="1333,305,1503,331"/>
<area shape="rect" href="vmx_2nested_8c.html#a41a0c6eb138f02ae4481ca5d21a09818" title=" " alt="" coords="1081,5,1251,47"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="1092,71,1240,98"/>
<area shape="rect" href="vmx_2nested_8c.html#a1202b81c0b68f0555ec94d77f1243029" title=" " alt="" coords="1081,123,1251,164"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="843,71,977,98"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="811,130,1009,157"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1061,188,1271,229"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,199,1013,226"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,199,759,226"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,225,539,251"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,275,541,302"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,243,351,284"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,250,132,277"/>
</map>
</div>

</div>
</div>
<a id="a0a93ea0427140487cadef64529af0104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a93ea0427140487cadef64529af0104">&#9670;&nbsp;</a></span>nested_cpu_has_preemption_timer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_preemption_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00144">144</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#aeb3e7d305df6ef6fa49e9a67e57f3ba5">pin_based_vm_exec_control</a> &amp;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        PIN_BASED_VMX_PREEMPTION_TIMER;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a0a93ea0427140487cadef64529af0104_icgraph.png" border="0" usemap="#anested_8h_a0a93ea0427140487cadef64529af0104_icgraph" alt=""/></div>
<map name="anested_8h_a0a93ea0427140487cadef64529af0104_icgraph" id="anested_8h_a0a93ea0427140487cadef64529af0104_icgraph">
<area shape="rect" title=" " alt="" coords="1421,410,1629,451"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1164,199,1373,241"/>
<area shape="rect" href="vmx_2nested_8c.html#aeb36b8fba177f5eeebaddf9acfc250c0" title=" " alt="" coords="1177,557,1361,598"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="935,392,1090,419"/>
<area shape="rect" href="vmx_2nested_8c.html#a44872272f3dd900f9252e772c59e8d16" title=" " alt="" coords="1175,417,1363,444"/>
<area shape="rect" href="vmx_2nested_8c.html#ac436bd43f9cd48511bdf54c6e36fd31d" title=" " alt="" coords="927,455,1098,481"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="909,107,1116,133"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="688,56,819,83"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="413,107,583,133"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="429,5,567,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="427,56,569,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,49,351,90"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,56,132,83"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="399,627,597,653"/>
<area shape="rect" href="vmx_2nested_8c.html#aaf4ba5979f7c9485d0c722e1b1e4001a" title=" " alt="" coords="921,564,1104,591"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="424,245,572,272"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="692,157,815,184"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="665,326,841,367"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="645,561,861,602"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="678,209,829,250"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="663,392,843,419"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="661,443,845,485"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="681,509,826,536"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="198,245,333,272"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="417,326,579,367"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="200,333,331,360"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="411,535,585,561"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="443,484,553,511"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="204,535,327,561"/>
</map>
</div>

</div>
</div>
<a id="a3886d9f433a554b24de4e44ae0cbc97c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3886d9f433a554b24de4e44ae0cbc97c">&#9670;&nbsp;</a></span>nested_cpu_has_save_preemption_timer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_save_preemption_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00222">222</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a476ad0df4ca8b0dbc254aebc33def047">vm_exit_controls</a> &amp;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        VM_EXIT_SAVE_VMX_PREEMPTION_TIMER;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="ttc" id="astructvmcs12_html_a476ad0df4ca8b0dbc254aebc33def047"><div class="ttname"><a href="structvmcs12.html#a476ad0df4ca8b0dbc254aebc33def047">vmcs12::vm_exit_controls</a></div><div class="ttdeci">u32 vm_exit_controls</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00127">vmcs12.h:127</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a3886d9f433a554b24de4e44ae0cbc97c_icgraph.png" border="0" usemap="#anested_8h_a3886d9f433a554b24de4e44ae0cbc97c_icgraph" alt=""/></div>
<map name="anested_8h_a3886d9f433a554b24de4e44ae0cbc97c_icgraph" id="anested_8h_a3886d9f433a554b24de4e44ae0cbc97c_icgraph">
<area shape="rect" title=" " alt="" coords="1319,49,1483,90"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1061,49,1271,90"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,56,1013,83"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,31,739,57"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,81,759,108"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,5,539,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,56,541,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,23,351,65"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,31,132,57"/>
</map>
</div>

</div>
</div>
<a id="aeb56519064640e3f5be9902f5a96ae10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb56519064640e3f5be9902f5a96ae10">&#9670;&nbsp;</a></span>nested_cpu_has_shadow_vmcs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_shadow_vmcs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00217">217</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e">nested_cpu_has2</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, SECONDARY_EXEC_SHADOW_VMCS);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_aeb56519064640e3f5be9902f5a96ae10_cgraph.png" border="0" usemap="#anested_8h_aeb56519064640e3f5be9902f5a96ae10_cgraph" alt=""/></div>
<map name="anested_8h_aeb56519064640e3f5be9902f5a96ae10_cgraph" id="anested_8h_aeb56519064640e3f5be9902f5a96ae10_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,231,32"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="279,5,413,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_aeb56519064640e3f5be9902f5a96ae10_icgraph.png" border="0" usemap="#anested_8h_aeb56519064640e3f5be9902f5a96ae10_icgraph" alt=""/></div>
<map name="anested_8h_aeb56519064640e3f5be9902f5a96ae10_icgraph" id="anested_8h_aeb56519064640e3f5be9902f5a96ae10_icgraph">
<area shape="rect" title=" " alt="" coords="1609,341,1835,368"/>
<area shape="rect" href="vmx_2nested_8c.html#a6d5a422c3a454017b8e5008d5dfb0cf2" title=" " alt="" coords="1121,7,1289,49"/>
<area shape="rect" href="vmx_2nested_8c.html#a084d1079969b182e5a997cae6326c36d" title=" " alt="" coords="1381,334,1538,375"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="604,627,773,653"/>
<area shape="rect" href="vmx_2nested_8c.html#a4fc8c438d2338f3fd0d3bfa71f08a8ea" title=" " alt="" coords="1357,151,1561,193"/>
<area shape="rect" href="vmx_2nested_8c.html#af3ac0e639a9f3b73dbcc84c7aeaeb5cb" title=" " alt="" coords="1365,675,1554,717"/>
<area shape="rect" href="vmx_2nested_8c.html#ae2a1571a5502da9fe9d0434c61bbde7e" title=" " alt="" coords="1363,234,1556,275"/>
<area shape="rect" href="vmx_2nested_8c.html#ac436bd43f9cd48511bdf54c6e36fd31d" title=" " alt="" coords="1374,741,1545,768"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="623,31,754,57"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,5,539,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,56,541,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,49,351,90"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,56,132,83"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="1127,341,1282,368"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="615,195,763,221"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="409,107,531,133"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="856,275,1032,317"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="836,393,1052,434"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="589,371,788,397"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="869,158,1019,199"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="854,459,1034,485"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="852,510,1036,551"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="871,576,1017,603"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="403,195,537,221"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="607,275,770,317"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="405,283,535,309"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="602,525,775,552"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="633,576,744,603"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="409,525,531,552"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1100,142,1309,183"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="841,56,1047,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a926c867f33af4ad620f2cbeaa310a7eb" title=" " alt="" coords="1109,675,1300,717"/>
<area shape="rect" href="vmx_2nested_8c.html#a877b148ab3be256ff208a4d0c0136809" title=" " alt="" coords="1105,211,1304,237"/>
</map>
</div>

</div>
</div>
<a id="a3d32114ea365cb14f9a7c08d900e10c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d32114ea365cb14f9a7c08d900e10c2">&#9670;&nbsp;</a></span>nested_cpu_has_vid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_vid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00195">195</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e">nested_cpu_has2</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, SECONDARY_EXEC_VIRTUAL_INTR_DELIVERY);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a3d32114ea365cb14f9a7c08d900e10c2_cgraph.png" border="0" usemap="#anested_8h_a3d32114ea365cb14f9a7c08d900e10c2_cgraph" alt=""/></div>
<map name="anested_8h_a3d32114ea365cb14f9a7c08d900e10c2_cgraph" id="anested_8h_a3d32114ea365cb14f9a7c08d900e10c2_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,159,32"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="207,5,341,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a3d32114ea365cb14f9a7c08d900e10c2_icgraph.png" border="0" usemap="#anested_8h_a3d32114ea365cb14f9a7c08d900e10c2_icgraph" alt=""/></div>
<map name="anested_8h_a3d32114ea365cb14f9a7c08d900e10c2_icgraph" id="anested_8h_a3d32114ea365cb14f9a7c08d900e10c2_icgraph">
<area shape="rect" title=" " alt="" coords="1595,247,1748,273"/>
<area shape="rect" href="vmx_2nested_8c.html#a4d02669b451b76b64dc28047526be8c4" title=" " alt="" coords="1357,19,1547,61"/>
<area shape="rect" href="vmx_2nested_8c.html#a2ac5647e082b0cfc93b16719577986c1" title=" " alt="" coords="1373,126,1531,167"/>
<area shape="rect" href="vmx_2nested_8c.html#a44872272f3dd900f9252e772c59e8d16" title=" " alt="" coords="1358,276,1546,303"/>
<area shape="rect" href="vmx_8c.html#a4b7bce685b675217949fe87872d9a121" title=" " alt="" coords="1373,327,1531,369"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1100,9,1309,50"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="841,5,1047,32"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="623,27,754,53"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="604,77,773,104"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,27,539,53"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,77,541,104"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,70,351,111"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,77,132,104"/>
<area shape="rect" href="vmx_2nested_8c.html#a562e6893d0703c98635cab943cc58fed" title=" " alt="" coords="1105,77,1304,104"/>
<area shape="rect" href="vmx_2nested_8c.html#a41a0c6eb138f02ae4481ca5d21a09818" title=" " alt="" coords="859,57,1029,98"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="1127,297,1282,324"/>
<area shape="rect" href="vmx_2nested_8c.html#ac436bd43f9cd48511bdf54c6e36fd31d" title=" " alt="" coords="1119,348,1290,375"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="615,273,763,300"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="409,329,531,356"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="856,407,1032,449"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="836,473,1052,514"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="589,509,788,536"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="869,290,1019,331"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="854,589,1034,616"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="852,122,1036,163"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="871,188,1017,215"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="403,273,537,300"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="607,407,770,449"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="405,415,535,441"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="602,168,775,195"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="633,219,744,245"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="409,168,531,195"/>
</map>
</div>

</div>
</div>
<a id="a2a0ee8876d839fb9c8a758d75891f449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a0ee8876d839fb9c8a758d75891f449">&#9670;&nbsp;</a></span>nested_cpu_has_virt_x2apic_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_virt_x2apic_mode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00180">180</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;{</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e">nested_cpu_has2</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, SECONDARY_EXEC_VIRTUALIZE_X2APIC_MODE);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a2a0ee8876d839fb9c8a758d75891f449_cgraph.png" border="0" usemap="#anested_8h_a2a0ee8876d839fb9c8a758d75891f449_cgraph" alt=""/></div>
<map name="anested_8h_a2a0ee8876d839fb9c8a758d75891f449_cgraph" id="anested_8h_a2a0ee8876d839fb9c8a758d75891f449_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,160,47"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="208,13,343,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a2a0ee8876d839fb9c8a758d75891f449_icgraph.png" border="0" usemap="#anested_8h_a2a0ee8876d839fb9c8a758d75891f449_icgraph" alt=""/></div>
<map name="anested_8h_a2a0ee8876d839fb9c8a758d75891f449_icgraph" id="anested_8h_a2a0ee8876d839fb9c8a758d75891f449_icgraph">
<area shape="rect" title=" " alt="" coords="1556,82,1711,123"/>
<area shape="rect" href="vmx_2nested_8c.html#a4d02669b451b76b64dc28047526be8c4" title=" " alt="" coords="1319,49,1508,90"/>
<area shape="rect" href="vmx_2nested_8c.html#a2ac5647e082b0cfc93b16719577986c1" title=" " alt="" coords="1334,114,1493,155"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1061,49,1271,90"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,56,1013,83"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,31,739,57"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,81,759,108"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,5,539,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,56,541,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,23,351,65"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,31,132,57"/>
<area shape="rect" href="vmx_2nested_8c.html#a562e6893d0703c98635cab943cc58fed" title=" " alt="" coords="1067,121,1265,148"/>
<area shape="rect" href="vmx_2nested_8c.html#a41a0c6eb138f02ae4481ca5d21a09818" title=" " alt="" coords="825,114,995,155"/>
</map>
</div>

</div>
</div>
<a id="adc33c2b120f57db11e2e82564c28d007"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc33c2b120f57db11e2e82564c28d007">&#9670;&nbsp;</a></span>nested_cpu_has_virtual_nmis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_virtual_nmis </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00155">155</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;{</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#aeb3e7d305df6ef6fa49e9a67e57f3ba5">pin_based_vm_exec_control</a> &amp; PIN_BASED_VIRTUAL_NMIS;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_adc33c2b120f57db11e2e82564c28d007_icgraph.png" border="0" usemap="#anested_8h_adc33c2b120f57db11e2e82564c28d007_icgraph" alt=""/></div>
<map name="anested_8h_adc33c2b120f57db11e2e82564c28d007_icgraph" id="anested_8h_adc33c2b120f57db11e2e82564c28d007_icgraph">
<area shape="rect" title=" " alt="" coords="1545,56,1760,83"/>
<area shape="rect" href="vmx_2nested_8c.html#ae2abf60d3b2a39349e70053e00fc13a2" title=" " alt="" coords="1319,49,1497,90"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1061,49,1271,90"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,56,1013,83"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,31,739,57"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,81,759,108"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,5,539,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,56,541,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,23,351,65"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,31,132,57"/>
</map>
</div>

</div>
</div>
<a id="a1e5ea3e2f109135becdc57c21e263db0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e5ea3e2f109135becdc57c21e263db0">&#9670;&nbsp;</a></span>nested_cpu_has_vmfunc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_vmfunc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00205">205</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e">nested_cpu_has2</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, SECONDARY_EXEC_ENABLE_VMFUNC);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a1e5ea3e2f109135becdc57c21e263db0_cgraph.png" border="0" usemap="#anested_8h_a1e5ea3e2f109135becdc57c21e263db0_cgraph" alt=""/></div>
<map name="anested_8h_a1e5ea3e2f109135becdc57c21e263db0_cgraph" id="anested_8h_a1e5ea3e2f109135becdc57c21e263db0_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,188,32"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="236,5,371,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a1e5ea3e2f109135becdc57c21e263db0_icgraph.png" border="0" usemap="#anested_8h_a1e5ea3e2f109135becdc57c21e263db0_icgraph" alt=""/></div>
<map name="anested_8h_a1e5ea3e2f109135becdc57c21e263db0_icgraph" id="anested_8h_a1e5ea3e2f109135becdc57c21e263db0_icgraph">
<area shape="rect" title=" " alt="" coords="1529,56,1712,83"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="1105,5,1227,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1061,93,1271,134"/>
<area shape="rect" href="nested_8h.html#ac06a51fbe7bec2497b168721f6ac0356" title=" " alt="" coords="1319,107,1481,149"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,49,351,90"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,56,132,83"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,100,1013,127"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,71,739,97"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,121,759,148"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,56,539,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,107,541,133"/>
</map>
</div>

</div>
</div>
<a id="a5046866406a4429bf7f1d0a028605c14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5046866406a4429bf7f1d0a028605c14">&#9670;&nbsp;</a></span>nested_cpu_has_vmwrite_any_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_vmwrite_any_field </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00109">109</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3c74c9a54bf9a345d79f43fb57df3589">msrs</a>.<a class="code" href="structnested__vmx__msrs.html#a56ab95dcf341b098f0ad1cf0362311d5">misc_low</a> &amp;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        MSR_IA32_VMX_MISC_VMWRITE_SHADOW_RO_FIELDS;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="ttc" id="astructnested__vmx__msrs_html_a56ab95dcf341b098f0ad1cf0362311d5"><div class="ttname"><a href="structnested__vmx__msrs.html#a56ab95dcf341b098f0ad1cf0362311d5">nested_vmx_msrs::misc_low</a></div><div class="ttdeci">u32 misc_low</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00043">capabilities.h:43</a></div></div>
<div class="ttc" id="astructnested__vmx_html_a3c74c9a54bf9a345d79f43fb57df3589"><div class="ttname"><a href="structnested__vmx.html#a3c74c9a54bf9a345d79f43fb57df3589">nested_vmx::msrs</a></div><div class="ttdeci">struct nested_vmx_msrs msrs</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00232">vmx.h:234</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a5046866406a4429bf7f1d0a028605c14_cgraph.png" border="0" usemap="#anested_8h_a5046866406a4429bf7f1d0a028605c14_cgraph" alt=""/></div>
<map name="anested_8h_a5046866406a4429bf7f1d0a028605c14_cgraph" id="anested_8h_a5046866406a4429bf7f1d0a028605c14_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,192,47"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="240,13,311,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a5046866406a4429bf7f1d0a028605c14_icgraph.png" border="0" usemap="#anested_8h_a5046866406a4429bf7f1d0a028605c14_icgraph" alt=""/></div>
<map name="anested_8h_a5046866406a4429bf7f1d0a028605c14_icgraph" id="anested_8h_a5046866406a4429bf7f1d0a028605c14_icgraph">
<area shape="rect" title=" " alt="" coords="573,5,760,47"/>
<area shape="rect" href="vmx_2nested_8c.html#a012c9b2d00b8a098ebc34d5693eb2f2b" title=" " alt="" coords="399,13,525,39"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,5,351,47"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,13,132,39"/>
</map>
</div>

</div>
</div>
<a id="af261e61678c1686e1f478a6fd8f0b560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af261e61678c1686e1f478a6fd8f0b560">&#9670;&nbsp;</a></span>nested_cpu_has_vmx_shadow_vmcs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_vmx_shadow_vmcs </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00126">126</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3c74c9a54bf9a345d79f43fb57df3589">msrs</a>.<a class="code" href="structnested__vmx__msrs.html#a724cd6e0744dabcb55fb05a077a33d95">secondary_ctls_high</a> &amp;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        SECONDARY_EXEC_SHADOW_VMCS;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
<div class="ttc" id="astructnested__vmx__msrs_html_a724cd6e0744dabcb55fb05a077a33d95"><div class="ttname"><a href="structnested__vmx__msrs.html#a724cd6e0744dabcb55fb05a077a33d95">nested_vmx_msrs::secondary_ctls_high</a></div><div class="ttdeci">u32 secondary_ctls_high</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00036">capabilities.h:36</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_af261e61678c1686e1f478a6fd8f0b560_cgraph.png" border="0" usemap="#anested_8h_af261e61678c1686e1f478a6fd8f0b560_cgraph" alt=""/></div>
<map name="anested_8h_af261e61678c1686e1f478a6fd8f0b560_cgraph" id="anested_8h_af261e61678c1686e1f478a6fd8f0b560_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,168,47"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="216,13,287,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_af261e61678c1686e1f478a6fd8f0b560_icgraph.png" border="0" usemap="#anested_8h_af261e61678c1686e1f478a6fd8f0b560_icgraph" alt=""/></div>
<map name="anested_8h_af261e61678c1686e1f478a6fd8f0b560_icgraph" id="anested_8h_af261e61678c1686e1f478a6fd8f0b560_icgraph">
<area shape="rect" title=" " alt="" coords="571,5,733,47"/>
<area shape="rect" href="vmx_2nested_8c.html#a0d98c8746dea3af0e50611aa851e01d9" title=" " alt="" coords="399,13,523,39"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,5,351,47"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,13,132,39"/>
</map>
</div>

</div>
</div>
<a id="a91f803e3ba878e57ca9473200196b009"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91f803e3ba878e57ca9473200196b009">&#9670;&nbsp;</a></span>nested_cpu_has_vpid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_vpid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00185">185</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;{</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e">nested_cpu_has2</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, SECONDARY_EXEC_ENABLE_VPID);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a91f803e3ba878e57ca9473200196b009_cgraph.png" border="0" usemap="#anested_8h_a91f803e3ba878e57ca9473200196b009_cgraph" alt=""/></div>
<map name="anested_8h_a91f803e3ba878e57ca9473200196b009_cgraph" id="anested_8h_a91f803e3ba878e57ca9473200196b009_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,167,32"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="215,5,349,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a91f803e3ba878e57ca9473200196b009_icgraph.png" border="0" usemap="#anested_8h_a91f803e3ba878e57ca9473200196b009_icgraph" alt=""/></div>
<map name="anested_8h_a91f803e3ba878e57ca9473200196b009_icgraph" id="anested_8h_a91f803e3ba878e57ca9473200196b009_icgraph">
<area shape="rect" title=" " alt="" coords="1632,304,1793,331"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1375,130,1584,171"/>
<area shape="rect" href="vmx_2nested_8c.html#a50056fcd07ea88aa781a3e7cbbad775d" title=" " alt="" coords="1384,355,1575,381"/>
<area shape="rect" href="vmx_2nested_8c.html#a3d278d8acef5d454c3d68968a7a49862" title=" " alt="" coords="1156,347,1327,389"/>
<area shape="rect" href="vmx_2nested_8c.html#ad874dd59254c34b16ae48fffb4ebbf1f" title=" " alt="" coords="901,204,1108,231"/>
<area shape="rect" href="vmx_2nested_8c.html#a85ce368c81cbe80d9e13c1873fce03b3" title=" " alt="" coords="1378,409,1581,436"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="901,107,1108,133"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="711,56,841,83"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="203,169,372,196"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="474,5,611,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="471,56,614,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="202,49,373,90"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="9,56,136,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0" title=" " alt="" coords="913,361,1096,388"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="7,647,138,673"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="699,363,853,389"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="213,523,361,549"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="481,157,604,184"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="455,610,631,651"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="435,427,651,469"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="188,405,387,432"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="467,545,618,586"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="453,208,633,235"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="451,259,635,301"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="470,325,615,352"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="5,523,140,549"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="206,610,369,651"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="201,289,374,316"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="232,340,343,367"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="11,289,134,316"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e4432d8f2321361c7b0b88e7237511c" title=" " alt="" coords="1156,413,1327,440"/>
</map>
</div>

</div>
</div>
<a id="a7db5a9fdfd3d45250801d8992d37d89c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7db5a9fdfd3d45250801d8992d37d89c">&#9670;&nbsp;</a></span>nested_cpu_has_xsaves()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_xsaves </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>vmcs12</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00170">170</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;{</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e">nested_cpu_has2</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, SECONDARY_EXEC_ENABLE_XSAVES);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a7db5a9fdfd3d45250801d8992d37d89c_cgraph.png" border="0" usemap="#anested_8h_a7db5a9fdfd3d45250801d8992d37d89c_cgraph" alt=""/></div>
<map name="anested_8h_a7db5a9fdfd3d45250801d8992d37d89c_cgraph" id="anested_8h_a7db5a9fdfd3d45250801d8992d37d89c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,184,32"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="232,5,367,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a7db5a9fdfd3d45250801d8992d37d89c_icgraph.png" border="0" usemap="#anested_8h_a7db5a9fdfd3d45250801d8992d37d89c_icgraph" alt=""/></div>
<map name="anested_8h_a7db5a9fdfd3d45250801d8992d37d89c_icgraph" id="anested_8h_a7db5a9fdfd3d45250801d8992d37d89c_icgraph">
<area shape="rect" title=" " alt="" coords="395,5,573,32"/>
<area shape="rect" href="vmx_2nested_8c.html#aa9419b385a2c58c246195d3106c57afc" title=" " alt="" coords="184,5,347,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="5,5,136,32"/>
</map>
</div>

</div>
</div>
<a id="a3c88b7b5d774ae5b205361f3e761a6a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c88b7b5d774ae5b205361f3e761a6a2">&#9670;&nbsp;</a></span>nested_cpu_has_zero_length_injection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_has_zero_length_injection </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00115">115</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3c74c9a54bf9a345d79f43fb57df3589">msrs</a>.<a class="code" href="structnested__vmx__msrs.html#a56ab95dcf341b098f0ad1cf0362311d5">misc_low</a> &amp; VMX_MISC_ZERO_LEN_INS;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a3c88b7b5d774ae5b205361f3e761a6a2_cgraph.png" border="0" usemap="#anested_8h_a3c88b7b5d774ae5b205361f3e761a6a2_cgraph" alt=""/></div>
<map name="anested_8h_a3c88b7b5d774ae5b205361f3e761a6a2_cgraph" id="anested_8h_a3c88b7b5d774ae5b205361f3e761a6a2_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,167,47"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="215,13,285,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a3c88b7b5d774ae5b205361f3e761a6a2_icgraph.png" border="0" usemap="#anested_8h_a3c88b7b5d774ae5b205361f3e761a6a2_icgraph" alt=""/></div>
<map name="anested_8h_a3c88b7b5d774ae5b205361f3e761a6a2_icgraph" id="anested_8h_a3c88b7b5d774ae5b205361f3e761a6a2_icgraph">
<area shape="rect" title=" " alt="" coords="1289,49,1451,90"/>
<area shape="rect" href="vmx_2nested_8c.html#a56f8d9d4a110dbb62471de947f8b6219" title=" " alt="" coords="1061,49,1241,90"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,56,1013,83"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,31,739,57"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,81,759,108"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,5,539,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,56,541,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,23,351,65"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,31,132,57"/>
</map>
</div>

</div>
</div>
<a id="a354b11c43fa66a1a37d4f8bd68086fe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a354b11c43fa66a1a37d4f8bd68086fe6">&#9670;&nbsp;</a></span>nested_cpu_supports_monitor_trap_flag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cpu_supports_monitor_trap_flag </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00120">120</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3c74c9a54bf9a345d79f43fb57df3589">msrs</a>.<a class="code" href="structnested__vmx__msrs.html#a307d0af838806b667d2fbb026472140a">procbased_ctls_high</a> &amp;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            CPU_BASED_MONITOR_TRAP_FLAG;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div>
<div class="ttc" id="astructnested__vmx__msrs_html_a307d0af838806b667d2fbb026472140a"><div class="ttname"><a href="structnested__vmx__msrs.html#a307d0af838806b667d2fbb026472140a">nested_vmx_msrs::procbased_ctls_high</a></div><div class="ttdeci">u32 procbased_ctls_high</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00034">capabilities.h:34</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a354b11c43fa66a1a37d4f8bd68086fe6_cgraph.png" border="0" usemap="#anested_8h_a354b11c43fa66a1a37d4f8bd68086fe6_cgraph" alt=""/></div>
<map name="anested_8h_a354b11c43fa66a1a37d4f8bd68086fe6_cgraph" id="anested_8h_a354b11c43fa66a1a37d4f8bd68086fe6_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,164,47"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="212,13,283,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a354b11c43fa66a1a37d4f8bd68086fe6_icgraph.png" border="0" usemap="#anested_8h_a354b11c43fa66a1a37d4f8bd68086fe6_icgraph" alt=""/></div>
<map name="anested_8h_a354b11c43fa66a1a37d4f8bd68086fe6_icgraph" id="anested_8h_a354b11c43fa66a1a37d4f8bd68086fe6_icgraph">
<area shape="rect" title=" " alt="" coords="1289,49,1448,90"/>
<area shape="rect" href="vmx_2nested_8c.html#a56f8d9d4a110dbb62471de947f8b6219" title=" " alt="" coords="1061,49,1241,90"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,56,1013,83"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,31,739,57"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,81,759,108"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,5,539,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,56,541,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,23,351,65"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,31,132,57"/>
</map>
</div>

</div>
</div>
<a id="a435fb26e78eb17ea021e5687ddf86de5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a435fb26e78eb17ea021e5687ddf86de5">&#9670;&nbsp;</a></span>nested_cpu_vmx_misc_cr3_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned nested_cpu_vmx_misc_cr3_count </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00099">99</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> vmx_misc_cr3_count(<a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="svm_8c.html#abe2e85eb9e667809ab7e5dd3ad442b26">nested</a>.msrs.misc_low);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
<div class="ttc" id="asvm_8c_html_abe2e85eb9e667809ab7e5dd3ad442b26"><div class="ttname"><a href="svm_8c.html#abe2e85eb9e667809ab7e5dd3ad442b26">nested</a></div><div class="ttdeci">static int nested</div><div class="ttdef"><b>Definition:</b> <a href="svm_8c_source.html#l00202">svm.c:202</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a435fb26e78eb17ea021e5687ddf86de5_cgraph.png" border="0" usemap="#anested_8h_a435fb26e78eb17ea021e5687ddf86de5_cgraph" alt=""/></div>
<map name="anested_8h_a435fb26e78eb17ea021e5687ddf86de5_cgraph" id="anested_8h_a435fb26e78eb17ea021e5687ddf86de5_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,176,47"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="224,13,295,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a435fb26e78eb17ea021e5687ddf86de5_icgraph.png" border="0" usemap="#anested_8h_a435fb26e78eb17ea021e5687ddf86de5_icgraph" alt=""/></div>
<map name="anested_8h_a435fb26e78eb17ea021e5687ddf86de5_icgraph" id="anested_8h_a435fb26e78eb17ea021e5687ddf86de5_icgraph">
<area shape="rect" title=" " alt="" coords="1319,49,1489,90"/>
<area shape="rect" href="vmx_2nested_8c.html#a8d1fe51ef29b584cee280b58fe718d4b" title=" " alt="" coords="1061,49,1271,90"/>
<area shape="rect" href="vmx_2nested_8c.html#abf066f4df15192018878337db5bbe045" title=" " alt="" coords="807,56,1013,83"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,31,739,57"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,81,759,108"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,5,539,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,56,541,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,23,351,65"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,31,132,57"/>
</map>
</div>

</div>
</div>
<a id="a97d80aa34980a711c5e58ec26407445f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97d80aa34980a711c5e58ec26407445f">&#9670;&nbsp;</a></span>nested_cr4_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_cr4_valid </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00279">279</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    u64 fixed0 = <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3c74c9a54bf9a345d79f43fb57df3589">msrs</a>.<a class="code" href="structnested__vmx__msrs.html#a7f803444ee9a17d4959e261ccb14496b">cr4_fixed0</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    u64 fixed1 = <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3c74c9a54bf9a345d79f43fb57df3589">msrs</a>.<a class="code" href="structnested__vmx__msrs.html#a2f35fe8e0643fc601a68956a24f46ddb">cr4_fixed1</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#ab42a72f929e0102443b373456c6c7e63">fixed_bits_valid</a>(val, fixed0, fixed1) &amp;&amp;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;           <a class="code" href="x86_8c.html#af08b5422fd770e61736c80ba64d811f8">__kvm_is_valid_cr4</a>(vcpu, val);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div>
<div class="ttc" id="anested_8h_html_ab42a72f929e0102443b373456c6c7e63"><div class="ttname"><a href="nested_8h.html#ab42a72f929e0102443b373456c6c7e63">fixed_bits_valid</a></div><div class="ttdeci">static bool fixed_bits_valid(u64 val, u64 fixed0, u64 fixed1)</div><div class="ttdef"><b>Definition:</b> <a href="nested_8h_source.html#l00252">nested.h:252</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_a2f35fe8e0643fc601a68956a24f46ddb"><div class="ttname"><a href="structnested__vmx__msrs.html#a2f35fe8e0643fc601a68956a24f46ddb">nested_vmx_msrs::cr4_fixed1</a></div><div class="ttdeci">u64 cr4_fixed1</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00051">capabilities.h:51</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_a7f803444ee9a17d4959e261ccb14496b"><div class="ttname"><a href="structnested__vmx__msrs.html#a7f803444ee9a17d4959e261ccb14496b">nested_vmx_msrs::cr4_fixed0</a></div><div class="ttdeci">u64 cr4_fixed0</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00050">capabilities.h:50</a></div></div>
<div class="ttc" id="ax86_8c_html_af08b5422fd770e61736c80ba64d811f8"><div class="ttname"><a href="x86_8c.html#af08b5422fd770e61736c80ba64d811f8">__kvm_is_valid_cr4</a></div><div class="ttdeci">bool __kvm_is_valid_cr4(struct kvm_vcpu *vcpu, unsigned long cr4)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8c_source.html#l01132">x86.c:1132</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a97d80aa34980a711c5e58ec26407445f_cgraph.png" border="0" usemap="#anested_8h_a97d80aa34980a711c5e58ec26407445f_cgraph" alt=""/></div>
<map name="anested_8h_a97d80aa34980a711c5e58ec26407445f_cgraph" id="anested_8h_a97d80aa34980a711c5e58ec26407445f_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,137,83"/>
<area shape="rect" href="x86_8c.html#af08b5422fd770e61736c80ba64d811f8" title=" " alt="" coords="185,5,335,32"/>
<area shape="rect" href="nested_8h.html#ab42a72f929e0102443b373456c6c7e63" title=" " alt="" coords="199,56,321,83"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="225,107,295,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a97d80aa34980a711c5e58ec26407445f_icgraph.png" border="0" usemap="#anested_8h_a97d80aa34980a711c5e58ec26407445f_icgraph" alt=""/></div>
<map name="anested_8h_a97d80aa34980a711c5e58ec26407445f_icgraph" id="anested_8h_a97d80aa34980a711c5e58ec26407445f_icgraph">
<area shape="rect" title=" " alt="" coords="188,5,320,32"/>
<area shape="rect" href="vmx_8c.html#a01a2b7a1fe2b59ae7d0d3b56683809f4" title=" " alt="" coords="5,5,140,32"/>
</map>
</div>

</div>
</div>
<a id="a7c0f72e13a3ded68fa556ef3c504c541"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c0f72e13a3ded68fa556ef3c504c541">&#9670;&nbsp;</a></span>nested_ept_ad_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_ept_ad_enabled </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00077">77</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;{</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#ac2fb246c295b9e93765508e05fd6a333">nested_ept_get_eptp</a>(vcpu) &amp; VMX_EPTP_AD_ENABLE_BIT;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
<div class="ttc" id="anested_8h_html_ac2fb246c295b9e93765508e05fd6a333"><div class="ttname"><a href="nested_8h.html#ac2fb246c295b9e93765508e05fd6a333">nested_ept_get_eptp</a></div><div class="ttdeci">static unsigned long nested_ept_get_eptp(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="nested_8h_source.html#l00071">nested.h:71</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a7c0f72e13a3ded68fa556ef3c504c541_cgraph.png" border="0" usemap="#anested_8h_a7c0f72e13a3ded68fa556ef3c504c541_cgraph" alt=""/></div>
<map name="anested_8h_a7c0f72e13a3ded68fa556ef3c504c541_cgraph" id="anested_8h_a7c0f72e13a3ded68fa556ef3c504c541_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,181,32"/>
<area shape="rect" href="nested_8h.html#ac2fb246c295b9e93765508e05fd6a333" title=" " alt="" coords="229,5,388,32"/>
<area shape="rect" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497" title=" " alt="" coords="436,5,537,32"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="585,5,656,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a7c0f72e13a3ded68fa556ef3c504c541_icgraph.png" border="0" usemap="#anested_8h_a7c0f72e13a3ded68fa556ef3c504c541_icgraph" alt=""/></div>
<map name="anested_8h_a7c0f72e13a3ded68fa556ef3c504c541_icgraph" id="anested_8h_a7c0f72e13a3ded68fa556ef3c504c541_icgraph">
<area shape="rect" title=" " alt="" coords="1116,151,1292,178"/>
<area shape="rect" href="vmx_8c.html#a8bf9ef0bfb4569903417b52d6eb09d41" title=" " alt="" coords="927,97,1045,123"/>
<area shape="rect" href="vmx_2nested_8c.html#a0b3f5e5d7c26f6301089970b32f1d771" title=" " alt="" coords="904,181,1068,207"/>
<area shape="rect" href="vmx_2nested_8c.html#ad2e9898adf303e2ea0d485adb616ec20" title=" " alt="" coords="656,5,849,47"/>
<area shape="rect" href="vmx_8c.html#af3ac981365567f8e3f172ebb9b42febe" title=" " alt="" coords="669,71,836,98"/>
<area shape="rect" href="vmx_8c.html#a074416f44b1e2949a96f85e0579c8aeb" title=" " alt="" coords="673,122,832,149"/>
<area shape="rect" href="vmx_2nested_8c.html#a85ce368c81cbe80d9e13c1873fce03b3" title=" " alt="" coords="399,13,601,39"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e4432d8f2321361c7b0b88e7237511c" title=" " alt="" coords="180,13,351,39"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="671,173,834,215"/>
<area shape="rect" href="vmx_2nested_8c.html#ad874dd59254c34b16ae48fffb4ebbf1f" title=" " alt="" coords="649,239,856,266"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="435,181,565,207"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="439,239,561,266"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,232,351,273"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,239,132,266"/>
</map>
</div>

</div>
</div>
<a id="ac2fb246c295b9e93765508e05fd6a333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2fb246c295b9e93765508e05fd6a333">&#9670;&nbsp;</a></span>nested_ept_get_eptp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nested_ept_get_eptp </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00071">71</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">/* return the page table to be shadowed - in our case, EPT12 */</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497">get_vmcs12</a>(vcpu)-&gt;<a class="code" href="structvmcs12.html#af21a8887fc44958d26b417281f4c36d0">ept_pointer</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="ttc" id="anested_8h_html_a65c62b59f6be374d9da24feaef363497"><div class="ttname"><a href="nested_8h.html#a65c62b59f6be374d9da24feaef363497">get_vmcs12</a></div><div class="ttdeci">static struct vmcs12 * get_vmcs12(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="nested_8h_source.html#l00040">nested.h:40</a></div></div>
<div class="ttc" id="astructvmcs12_html_af21a8887fc44958d26b417281f4c36d0"><div class="ttname"><a href="structvmcs12.html#af21a8887fc44958d26b417281f4c36d0">vmcs12::ept_pointer</a></div><div class="ttdeci">u64 ept_pointer</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00047">vmcs12.h:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ac2fb246c295b9e93765508e05fd6a333_cgraph.png" border="0" usemap="#anested_8h_ac2fb246c295b9e93765508e05fd6a333_cgraph" alt=""/></div>
<map name="anested_8h_ac2fb246c295b9e93765508e05fd6a333_cgraph" id="anested_8h_ac2fb246c295b9e93765508e05fd6a333_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,164,32"/>
<area shape="rect" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497" title=" " alt="" coords="212,5,313,32"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="361,5,432,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ac2fb246c295b9e93765508e05fd6a333_icgraph.png" border="0" usemap="#anested_8h_ac2fb246c295b9e93765508e05fd6a333_icgraph" alt=""/></div>
<map name="anested_8h_ac2fb246c295b9e93765508e05fd6a333_icgraph" id="anested_8h_ac2fb246c295b9e93765508e05fd6a333_icgraph">
<area shape="rect" title=" " alt="" coords="1340,179,1499,205"/>
<area shape="rect" href="nested_8h.html#a7c0f72e13a3ded68fa556ef3c504c541" title=" " alt="" coords="1116,128,1292,155"/>
<area shape="rect" href="vmx_2nested_8c.html#a0b3f5e5d7c26f6301089970b32f1d771" title=" " alt="" coords="904,177,1068,204"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="671,225,834,266"/>
<area shape="rect" href="vmx_8c.html#a8bf9ef0bfb4569903417b52d6eb09d41" title=" " alt="" coords="927,85,1045,112"/>
<area shape="rect" href="vmx_2nested_8c.html#ad2e9898adf303e2ea0d485adb616ec20" title=" " alt="" coords="656,107,849,149"/>
<area shape="rect" href="vmx_8c.html#af3ac981365567f8e3f172ebb9b42febe" title=" " alt="" coords="669,5,836,32"/>
<area shape="rect" href="vmx_8c.html#a074416f44b1e2949a96f85e0579c8aeb" title=" " alt="" coords="673,56,832,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a85ce368c81cbe80d9e13c1873fce03b3" title=" " alt="" coords="399,115,601,141"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e4432d8f2321361c7b0b88e7237511c" title=" " alt="" coords="180,115,351,141"/>
<area shape="rect" href="vmx_2nested_8c.html#ad874dd59254c34b16ae48fffb4ebbf1f" title=" " alt="" coords="649,173,856,200"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="435,232,565,259"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="439,173,561,200"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,166,351,207"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,173,132,200"/>
</map>
</div>

</div>
</div>
<a id="a5ac428a449ce142e927efcadfae6e3a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ac428a449ce142e927efcadfae6e3a3">&#9670;&nbsp;</a></span>nested_exit_on_intr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_exit_on_intr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00237">237</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;{</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497">get_vmcs12</a>(vcpu)-&gt;<a class="code" href="structvmcs12.html#aeb3e7d305df6ef6fa49e9a67e57f3ba5">pin_based_vm_exec_control</a> &amp;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        PIN_BASED_EXT_INTR_MASK;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a5ac428a449ce142e927efcadfae6e3a3_cgraph.png" border="0" usemap="#anested_8h_a5ac428a449ce142e927efcadfae6e3a3_cgraph" alt=""/></div>
<map name="anested_8h_a5ac428a449ce142e927efcadfae6e3a3_cgraph" id="anested_8h_a5ac428a449ce142e927efcadfae6e3a3_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,156,32"/>
<area shape="rect" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497" title=" " alt="" coords="204,5,305,32"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="353,5,424,32"/>
</map>
</div>

</div>
</div>
<a id="a7989fdd3d423fa3feac3b5d96fdd501a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7989fdd3d423fa3feac3b5d96fdd501a">&#9670;&nbsp;</a></span>nested_exit_on_nmi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_exit_on_nmi </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00228">228</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;{</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#a186f3dfc87866bdacaf4ef809d671447">nested_cpu_has_nmi_exiting</a>(<a class="code" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497">get_vmcs12</a>(vcpu));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="ttc" id="anested_8h_html_a186f3dfc87866bdacaf4ef809d671447"><div class="ttname"><a href="nested_8h.html#a186f3dfc87866bdacaf4ef809d671447">nested_cpu_has_nmi_exiting</a></div><div class="ttdeci">static bool nested_cpu_has_nmi_exiting(struct vmcs12 *vmcs12)</div><div class="ttdef"><b>Definition:</b> <a href="nested_8h_source.html#l00150">nested.h:150</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a7989fdd3d423fa3feac3b5d96fdd501a_cgraph.png" border="0" usemap="#anested_8h_a7989fdd3d423fa3feac3b5d96fdd501a_cgraph" alt=""/></div>
<map name="anested_8h_a7989fdd3d423fa3feac3b5d96fdd501a_cgraph" id="anested_8h_a7989fdd3d423fa3feac3b5d96fdd501a_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,159,61"/>
<area shape="rect" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497" title=" " alt="" coords="235,5,337,32"/>
<area shape="rect" href="nested_8h.html#a186f3dfc87866bdacaf4ef809d671447" title=" " alt="" coords="207,57,365,98"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="413,5,484,32"/>
</map>
</div>

</div>
</div>
<a id="a9ef52cbdde487ef61fd78bd3b2c68642"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ef52cbdde487ef61fd78bd3b2c68642">&#9670;&nbsp;</a></span>nested_get_vpid02()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u16 nested_get_vpid02 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00064">64</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;{</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvcpu__vmx.html">vcpu_vmx</a> *vmx = <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(<a class="code" href="structvcpu__vmx.html#a8a60fad06a6c03c5cc25e80d9a5b0203">vcpu</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">return</span> vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a4359b0d6790785682c2bde955fab8d3c">vpid02</a> ? vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a4359b0d6790785682c2bde955fab8d3c">vpid02</a> : vmx-&gt;<a class="code" href="structvcpu__vmx.html#a21897ebc1038c764be97767cc74095cf">vpid</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="ttc" id="astructnested__vmx_html_a4359b0d6790785682c2bde955fab8d3c"><div class="ttname"><a href="structnested__vmx.html#a4359b0d6790785682c2bde955fab8d3c">nested_vmx::vpid02</a></div><div class="ttdeci">u16 vpid02</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00231">vmx.h:231</a></div></div>
<div class="ttc" id="astructvcpu__vmx_html"><div class="ttname"><a href="structvcpu__vmx.html">vcpu_vmx</a></div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00251">vmx.h:251</a></div></div>
<div class="ttc" id="astructvcpu__vmx_html_a21897ebc1038c764be97767cc74095cf"><div class="ttname"><a href="structvcpu__vmx.html#a21897ebc1038c764be97767cc74095cf">vcpu_vmx::vpid</a></div><div class="ttdeci">int vpid</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00317">vmx.h:317</a></div></div>
<div class="ttc" id="astructvcpu__vmx_html_a8a60fad06a6c03c5cc25e80d9a5b0203"><div class="ttname"><a href="structvcpu__vmx.html#a8a60fad06a6c03c5cc25e80d9a5b0203">vcpu_vmx::vcpu</a></div><div class="ttdeci">struct kvm_vcpu vcpu</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00241">vmx.h:252</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a9ef52cbdde487ef61fd78bd3b2c68642_cgraph.png" border="0" usemap="#anested_8h_a9ef52cbdde487ef61fd78bd3b2c68642_cgraph" alt=""/></div>
<map name="anested_8h_a9ef52cbdde487ef61fd78bd3b2c68642_cgraph" id="anested_8h_a9ef52cbdde487ef61fd78bd3b2c68642_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,151,32"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="199,5,269,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a9ef52cbdde487ef61fd78bd3b2c68642_icgraph.png" border="0" usemap="#anested_8h_a9ef52cbdde487ef61fd78bd3b2c68642_icgraph" alt=""/></div>
<map name="anested_8h_a9ef52cbdde487ef61fd78bd3b2c68642_icgraph" id="anested_8h_a9ef52cbdde487ef61fd78bd3b2c68642_icgraph">
<area shape="rect" title=" " alt="" coords="613,71,759,98"/>
<area shape="rect" href="vmx_2nested_8c.html#a82fdee7a11d269320b0b30e836910587" title=" " alt="" coords="421,30,543,57"/>
<area shape="rect" href="vmx_8c.html#abc573a5b6bd6556fa79368ca3a0f9f7e" title=" " alt="" coords="399,97,565,123"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,5,351,47"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,13,132,39"/>
<area shape="rect" href="vmx_8c.html#af3ac981365567f8e3f172ebb9b42febe" title=" " alt="" coords="182,71,349,98"/>
<area shape="rect" href="vmx_8c.html#a6786a4e65e41efe753494499fcb24d60" title=" " alt="" coords="187,122,343,149"/>
<area shape="rect" href="vmx_8c.html#a9d5440a92246b3cd5e85d72f0a284488" title=" " alt="" coords="193,173,337,199"/>
</map>
</div>

</div>
</div>
<a id="afa10ac041c543a9965a262aea3f86656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa10ac041c543a9965a262aea3f86656">&#9670;&nbsp;</a></span>nested_guest_cr0_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_guest_cr0_valid </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00257">257</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;{</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    u64 fixed0 = <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3c74c9a54bf9a345d79f43fb57df3589">msrs</a>.<a class="code" href="structnested__vmx__msrs.html#a3f7229b058bcdee14af00acb7f9d12a3">cr0_fixed0</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    u64 fixed1 = <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3c74c9a54bf9a345d79f43fb57df3589">msrs</a>.<a class="code" href="structnested__vmx__msrs.html#acdec6f6e21267b1bb06a64cbdda7ae98">cr0_fixed1</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvmcs12.html">vmcs12</a> *<a class="code" href="structvmcs12.html">vmcs12</a> = <a class="code" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497">get_vmcs12</a>(vcpu);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="svm_8c.html#abe2e85eb9e667809ab7e5dd3ad442b26">nested</a>.msrs.secondary_ctls_high &amp;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        SECONDARY_EXEC_UNRESTRICTED_GUEST &amp;&amp;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <a class="code" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e">nested_cpu_has2</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, SECONDARY_EXEC_UNRESTRICTED_GUEST))</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        fixed0 &amp;= ~(X86_CR0_PE | X86_CR0_PG);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#ab42a72f929e0102443b373456c6c7e63">fixed_bits_valid</a>(val, fixed0, fixed1);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
<div class="ttc" id="astructnested__vmx__msrs_html_a3f7229b058bcdee14af00acb7f9d12a3"><div class="ttname"><a href="structnested__vmx__msrs.html#a3f7229b058bcdee14af00acb7f9d12a3">nested_vmx_msrs::cr0_fixed0</a></div><div class="ttdeci">u64 cr0_fixed0</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00048">capabilities.h:48</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_acdec6f6e21267b1bb06a64cbdda7ae98"><div class="ttname"><a href="structnested__vmx__msrs.html#acdec6f6e21267b1bb06a64cbdda7ae98">nested_vmx_msrs::cr0_fixed1</a></div><div class="ttdeci">u64 cr0_fixed1</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00049">capabilities.h:49</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_afa10ac041c543a9965a262aea3f86656_cgraph.png" border="0" usemap="#anested_8h_afa10ac041c543a9965a262aea3f86656_cgraph" alt=""/></div>
<map name="anested_8h_afa10ac041c543a9965a262aea3f86656_cgraph" id="anested_8h_afa10ac041c543a9965a262aea3f86656_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,180,108"/>
<area shape="rect" href="nested_8h.html#ab42a72f929e0102443b373456c6c7e63" title=" " alt="" coords="234,5,357,32"/>
<area shape="rect" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497" title=" " alt="" coords="245,56,346,83"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="411,81,481,108"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="228,157,363,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_afa10ac041c543a9965a262aea3f86656_icgraph.png" border="0" usemap="#anested_8h_afa10ac041c543a9965a262aea3f86656_icgraph" alt=""/></div>
<map name="anested_8h_afa10ac041c543a9965a262aea3f86656_icgraph" id="anested_8h_afa10ac041c543a9965a262aea3f86656_icgraph">
<area shape="rect" title=" " alt="" coords="461,42,636,69"/>
<area shape="rect" href="vmx_2nested_8c.html#a926c867f33af4ad620f2cbeaa310a7eb" title=" " alt="" coords="223,5,413,47"/>
<area shape="rect" href="vmx_8c.html#ac64102970a46b9500cf1db638934a1f6" title=" " alt="" coords="251,71,385,98"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="5,13,175,39"/>
</map>
</div>

</div>
</div>
<a id="affa4c4024f409647e77dddbffe7a3ec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affa4c4024f409647e77dddbffe7a3ec9">&#9670;&nbsp;</a></span>nested_host_cr0_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nested_host_cr0_valid </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00271">271</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    u64 fixed0 = <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3c74c9a54bf9a345d79f43fb57df3589">msrs</a>.<a class="code" href="structnested__vmx__msrs.html#a3f7229b058bcdee14af00acb7f9d12a3">cr0_fixed0</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    u64 fixed1 = <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3c74c9a54bf9a345d79f43fb57df3589">msrs</a>.<a class="code" href="structnested__vmx__msrs.html#acdec6f6e21267b1bb06a64cbdda7ae98">cr0_fixed1</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#ab42a72f929e0102443b373456c6c7e63">fixed_bits_valid</a>(val, fixed0, fixed1);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_affa4c4024f409647e77dddbffe7a3ec9_cgraph.png" border="0" usemap="#anested_8h_affa4c4024f409647e77dddbffe7a3ec9_cgraph" alt=""/></div>
<map name="anested_8h_affa4c4024f409647e77dddbffe7a3ec9_cgraph" id="anested_8h_affa4c4024f409647e77dddbffe7a3ec9_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,172,57"/>
<area shape="rect" href="nested_8h.html#ab42a72f929e0102443b373456c6c7e63" title=" " alt="" coords="220,5,343,32"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="246,56,317,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_affa4c4024f409647e77dddbffe7a3ec9_icgraph.png" border="0" usemap="#anested_8h_affa4c4024f409647e77dddbffe7a3ec9_icgraph" alt=""/></div>
<map name="anested_8h_affa4c4024f409647e77dddbffe7a3ec9_icgraph" id="anested_8h_affa4c4024f409647e77dddbffe7a3ec9_icgraph">
<area shape="rect" title=" " alt="" coords="1037,64,1204,91"/>
<area shape="rect" href="vmx_2nested_8c.html#acfc614b787620aa3ea5f48ed247cfe30" title=" " alt="" coords="615,5,733,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a4632daec5bd26a4c08659779f9d2ca07" title=" " alt="" coords="807,57,989,98"/>
<area shape="rect" href="vmx_8c.html#ac64102970a46b9500cf1db638934a1f6" title=" " alt="" coords="831,123,965,149"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,49,351,90"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,56,132,83"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,60,739,87"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,111,759,137"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,56,539,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,107,541,133"/>
</map>
</div>

</div>
</div>
<a id="a119e2b19d11ad1028ba6b72f7ad3cacd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a119e2b19d11ad1028ba6b72f7ad3cacd">&#9670;&nbsp;</a></span>nested_mark_vmcs12_pages_dirty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nested_mark_vmcs12_pages_dirty </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l03838">3838</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;{</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvmcs12.html">vmcs12</a> *<a class="code" href="structvmcs12.html">vmcs12</a> = <a class="code" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497">get_vmcs12</a>(vcpu);</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;    gfn_t gfn;</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160; </div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;<span class="comment">     * Don&#39;t need to mark the APIC access page dirty; it is never</span></div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;<span class="comment">     * written to by the CPU during APIC virtualization.</span></div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160; </div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nested_8h.html#ae8f95597e49047619366cbf8f1a63449">nested_cpu_has</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, CPU_BASED_TPR_SHADOW)) {</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;        gfn = <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a9a4d93ff95b1920da491c96e6eb5254a">virtual_apic_page_addr</a> &gt;&gt; PAGE_SHIFT;</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;        <a class="code" href="kvm__main_8c.html#ab3f118170e5a0cf30913bc0cd0a79cfd">kvm_vcpu_mark_page_dirty</a>(vcpu, gfn);</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;    }</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160; </div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nested_8h.html#a60e2a92b3bcd5271ef711e48d7f38773">nested_cpu_has_posted_intr</a>(<a class="code" href="structvmcs12.html">vmcs12</a>)) {</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;        gfn = <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a0902f0515e6fb04f4764a1f0ed99d874">posted_intr_desc_addr</a> &gt;&gt; PAGE_SHIFT;</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;        <a class="code" href="kvm__main_8c.html#ab3f118170e5a0cf30913bc0cd0a79cfd">kvm_vcpu_mark_page_dirty</a>(vcpu, gfn);</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;    }</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;}</div>
<div class="ttc" id="akvm__main_8c_html_ab3f118170e5a0cf30913bc0cd0a79cfd"><div class="ttname"><a href="kvm__main_8c.html#ab3f118170e5a0cf30913bc0cd0a79cfd">kvm_vcpu_mark_page_dirty</a></div><div class="ttdeci">void kvm_vcpu_mark_page_dirty(struct kvm_vcpu *vcpu, gfn_t gfn)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__main_8c_source.html#l03669">kvm_main.c:3669</a></div></div>
<div class="ttc" id="anested_8h_html_a60e2a92b3bcd5271ef711e48d7f38773"><div class="ttname"><a href="nested_8h.html#a60e2a92b3bcd5271ef711e48d7f38773">nested_cpu_has_posted_intr</a></div><div class="ttdeci">static bool nested_cpu_has_posted_intr(struct vmcs12 *vmcs12)</div><div class="ttdef"><b>Definition:</b> <a href="nested_8h_source.html#l00200">nested.h:200</a></div></div>
<div class="ttc" id="astructvmcs12_html_a0902f0515e6fb04f4764a1f0ed99d874"><div class="ttname"><a href="structvmcs12.html#a0902f0515e6fb04f4764a1f0ed99d874">vmcs12::posted_intr_desc_addr</a></div><div class="ttdeci">u64 posted_intr_desc_addr</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00046">vmcs12.h:46</a></div></div>
<div class="ttc" id="astructvmcs12_html_a9a4d93ff95b1920da491c96e6eb5254a"><div class="ttname"><a href="structvmcs12.html#a9a4d93ff95b1920da491c96e6eb5254a">vmcs12::virtual_apic_page_addr</a></div><div class="ttdeci">u64 virtual_apic_page_addr</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00044">vmcs12.h:44</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a119e2b19d11ad1028ba6b72f7ad3cacd_cgraph.png" border="0" usemap="#anested_8h_a119e2b19d11ad1028ba6b72f7ad3cacd_cgraph" alt=""/></div>
<map name="anested_8h_a119e2b19d11ad1028ba6b72f7ad3cacd_cgraph" id="anested_8h_a119e2b19d11ad1028ba6b72f7ad3cacd_cgraph">
<area shape="rect" title=" " alt="" coords="5,86,171,127"/>
<area shape="rect" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497" title=" " alt="" coords="271,5,373,32"/>
<area shape="rect" href="kvm__main_8c.html#ab3f118170e5a0cf30913bc0cd0a79cfd" title=" " alt="" coords="237,57,407,98"/>
<area shape="rect" href="nested_8h.html#ae8f95597e49047619366cbf8f1a63449" title=" " alt="" coords="259,123,385,149"/>
<area shape="rect" href="nested_8h.html#a60e2a92b3bcd5271ef711e48d7f38773" title=" " alt="" coords="219,173,425,200"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="539,5,610,32"/>
<area shape="rect" href="kvm__main_8c.html#ac4b56de4919be80c9cd4289f20437c64" title=" " alt="" coords="473,60,676,87"/>
<area shape="rect" href="kvm__main_8c.html#ae4806d9a69b751639c175cb98e468f15" title=" " alt="" coords="483,111,666,137"/>
<area shape="rect" href="dirty__ring_8c.html#ac1878b63f1f337e93cf186ebd4fffcc4" title=" " alt="" coords="725,45,897,86"/>
<area shape="rect" href="dirty__ring_8c.html#a81ebbf462440ed5392d6d3412a859ae7" title=" " alt="" coords="731,111,890,137"/>
<area shape="rect" href="kvm__main_8c.html#ac5a3afd8e2d8d1139dc7711c4b9e07e3" title=" " alt="" coords="724,161,897,188"/>
<area shape="rect" href="dirty__ring_8c.html#ad6e626257c739b2ac3d397119a7cf798" title=" " alt="" coords="945,60,1137,87"/>
<area shape="rect" href="dirty__ring_8c.html#a6fe5cd75b9bac6497e1ae7340f2a5f7b" title=" " alt="" coords="967,111,1115,137"/>
<area shape="rect" href="dirty__ring_8c.html#a22c9a239acf3463a8599a21c0a756538" title=" " alt="" coords="952,161,1131,188"/>
<area shape="rect" href="dirty__ring_8c.html#acd0a1e586324b4c49b429c7a392db73f" title=" " alt="" coords="1185,136,1344,163"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a119e2b19d11ad1028ba6b72f7ad3cacd_icgraph.png" border="0" usemap="#anested_8h_a119e2b19d11ad1028ba6b72f7ad3cacd_icgraph" alt=""/></div>
<map name="anested_8h_a119e2b19d11ad1028ba6b72f7ad3cacd_icgraph" id="anested_8h_a119e2b19d11ad1028ba6b72f7ad3cacd_icgraph">
<area shape="rect" title=" " alt="" coords="471,27,636,69"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="263,5,411,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a1202b81c0b68f0555ec94d77f1243029" title=" " alt="" coords="252,57,423,98"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="37,5,172,32"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="5,64,204,91"/>
</map>
</div>

</div>
</div>
<a id="a83fe83dc420969ce3e3ae42bcb41cab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83fe83dc420969ce3e3ae42bcb41cab4">&#9670;&nbsp;</a></span>nested_read_cr0()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nested_read_cr0 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00088">88</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">return</span> (fields-&gt;<a class="code" href="structvmcs12.html#a5c522f550a45528bea60a55bf4c00750">guest_cr0</a> &amp; ~fields-&gt;<a class="code" href="structvmcs12.html#ab4db3ed295ac90c7f8a7c5c1b743a61d">cr0_guest_host_mask</a>) |</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        (fields-&gt;<a class="code" href="structvmcs12.html#a26fa93fb21ee1abdf5199f507861bb79">cr0_read_shadow</a> &amp; fields-&gt;<a class="code" href="structvmcs12.html#ab4db3ed295ac90c7f8a7c5c1b743a61d">cr0_guest_host_mask</a>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
<div class="ttc" id="astructvmcs12_html_a26fa93fb21ee1abdf5199f507861bb79"><div class="ttname"><a href="structvmcs12.html#a26fa93fb21ee1abdf5199f507861bb79">vmcs12::cr0_read_shadow</a></div><div class="ttdeci">natural_width cr0_read_shadow</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00083">vmcs12.h:83</a></div></div>
<div class="ttc" id="astructvmcs12_html_a5c522f550a45528bea60a55bf4c00750"><div class="ttname"><a href="structvmcs12.html#a5c522f550a45528bea60a55bf4c00750">vmcs12::guest_cr0</a></div><div class="ttdeci">natural_width guest_cr0</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00088">vmcs12.h:88</a></div></div>
<div class="ttc" id="astructvmcs12_html_ab4db3ed295ac90c7f8a7c5c1b743a61d"><div class="ttname"><a href="structvmcs12.html#ab4db3ed295ac90c7f8a7c5c1b743a61d">vmcs12::cr0_guest_host_mask</a></div><div class="ttdeci">natural_width cr0_guest_host_mask</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00081">vmcs12.h:81</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a83fe83dc420969ce3e3ae42bcb41cab4_icgraph.png" border="0" usemap="#anested_8h_a83fe83dc420969ce3e3ae42bcb41cab4_icgraph" alt=""/></div>
<map name="anested_8h_a83fe83dc420969ce3e3ae42bcb41cab4_icgraph" id="anested_8h_a83fe83dc420969ce3e3ae42bcb41cab4_icgraph">
<area shape="rect" title=" " alt="" coords="184,5,313,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="5,5,136,32"/>
</map>
</div>

</div>
</div>
<a id="a627521a68de013e10f90bbd47444f2bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a627521a68de013e10f90bbd47444f2bf">&#9670;&nbsp;</a></span>nested_read_cr4()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nested_read_cr4 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs12.html">vmcs12</a> *&#160;</td>
          <td class="paramname"><em>fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00093">93</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">return</span> (fields-&gt;<a class="code" href="structvmcs12.html#a19fcfb8d0acd050a2efd8f12d184f23a">guest_cr4</a> &amp; ~fields-&gt;<a class="code" href="structvmcs12.html#ace2f595e50717b4f5d11b6310f87167f">cr4_guest_host_mask</a>) |</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        (fields-&gt;<a class="code" href="structvmcs12.html#af209cbe01fc121df9a7f6167fae472fe">cr4_read_shadow</a> &amp; fields-&gt;<a class="code" href="structvmcs12.html#ace2f595e50717b4f5d11b6310f87167f">cr4_guest_host_mask</a>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="ttc" id="astructvmcs12_html_a19fcfb8d0acd050a2efd8f12d184f23a"><div class="ttname"><a href="structvmcs12.html#a19fcfb8d0acd050a2efd8f12d184f23a">vmcs12::guest_cr4</a></div><div class="ttdeci">natural_width guest_cr4</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00090">vmcs12.h:90</a></div></div>
<div class="ttc" id="astructvmcs12_html_ace2f595e50717b4f5d11b6310f87167f"><div class="ttname"><a href="structvmcs12.html#ace2f595e50717b4f5d11b6310f87167f">vmcs12::cr4_guest_host_mask</a></div><div class="ttdeci">natural_width cr4_guest_host_mask</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00082">vmcs12.h:82</a></div></div>
<div class="ttc" id="astructvmcs12_html_af209cbe01fc121df9a7f6167fae472fe"><div class="ttname"><a href="structvmcs12.html#af209cbe01fc121df9a7f6167fae472fe">vmcs12::cr4_read_shadow</a></div><div class="ttdeci">natural_width cr4_read_shadow</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00084">vmcs12.h:84</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a627521a68de013e10f90bbd47444f2bf_icgraph.png" border="0" usemap="#anested_8h_a627521a68de013e10f90bbd47444f2bf_icgraph" alt=""/></div>
<map name="anested_8h_a627521a68de013e10f90bbd47444f2bf_icgraph" id="anested_8h_a627521a68de013e10f90bbd47444f2bf_icgraph">
<area shape="rect" title=" " alt="" coords="184,5,313,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="5,5,136,32"/>
</map>
</div>

</div>
</div>
<a id="aafc435d13c9681dd613719dc3c209e02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafc435d13c9681dd613719dc3c209e02">&#9670;&nbsp;</a></span>nested_sync_vmcs12_to_shadow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nested_sync_vmcs12_to_shadow </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l02124">2124</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;{</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvcpu__vmx.html">vcpu_vmx</a> *vmx = <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(<a class="code" href="structvcpu__vmx.html#a8a60fad06a6c03c5cc25e80d9a5b0203">vcpu</a>);</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160; </div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vmx_2hyperv_8h.html#a806f1554b2846e31ad5a2e3bfbb272a0">nested_vmx_is_evmptr12_valid</a>(vmx))</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        <a class="code" href="vmx_2nested_8c.html#a79f91c211f10383b59afbc22986f82f4">copy_vmcs12_to_enlightened</a>(vmx);</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;        <a class="code" href="vmx_2nested_8c.html#a6913302cb499706580c7efc3f9e8be40">copy_vmcs12_to_shadow</a>(vmx);</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160; </div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#abce6aeda58a1627a5f0c29cf5815343e">need_vmcs12_to_shadow_sync</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;}</div>
<div class="ttc" id="astructnested__vmx_html_abce6aeda58a1627a5f0c29cf5815343e"><div class="ttname"><a href="structnested__vmx.html#abce6aeda58a1627a5f0c29cf5815343e">nested_vmx::need_vmcs12_to_shadow_sync</a></div><div class="ttdeci">bool need_vmcs12_to_shadow_sync</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00151">vmx.h:151</a></div></div>
<div class="ttc" id="avmx_2hyperv_8h_html_a806f1554b2846e31ad5a2e3bfbb272a0"><div class="ttname"><a href="vmx_2hyperv_8h.html#a806f1554b2846e31ad5a2e3bfbb272a0">nested_vmx_is_evmptr12_valid</a></div><div class="ttdeci">static bool nested_vmx_is_evmptr12_valid(struct vcpu_vmx *vmx)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2hyperv_8h_source.html#l00069">hyperv.h:69</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a6913302cb499706580c7efc3f9e8be40"><div class="ttname"><a href="vmx_2nested_8c.html#a6913302cb499706580c7efc3f9e8be40">copy_vmcs12_to_shadow</a></div><div class="ttdeci">static void copy_vmcs12_to_shadow(struct vcpu_vmx *vmx)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l01570">nested.c:1570</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a79f91c211f10383b59afbc22986f82f4"><div class="ttname"><a href="vmx_2nested_8c.html#a79f91c211f10383b59afbc22986f82f4">copy_vmcs12_to_enlightened</a></div><div class="ttdeci">static void copy_vmcs12_to_enlightened(struct vcpu_vmx *vmx)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l01852">nested.c:1852</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_aafc435d13c9681dd613719dc3c209e02_cgraph.png" border="0" usemap="#anested_8h_aafc435d13c9681dd613719dc3c209e02_cgraph" alt=""/></div>
<map name="anested_8h_aafc435d13c9681dd613719dc3c209e02_cgraph" id="anested_8h_aafc435d13c9681dd613719dc3c209e02_cgraph">
<area shape="rect" title=" " alt="" coords="5,251,167,293"/>
<area shape="rect" href="vmx_2nested_8c.html#a79f91c211f10383b59afbc22986f82f4" title=" " alt="" coords="215,56,429,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a6913302cb499706580c7efc3f9e8be40" title=" " alt="" coords="228,183,416,209"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="723,259,793,285"/>
<area shape="rect" href="vmx_2hyperv_8h.html#a806f1554b2846e31ad5a2e3bfbb272a0" title=" " alt="" coords="227,361,417,402"/>
<area shape="rect" href="vmx_2hyperv_8h.html#ab8cd0308e0d8ff8bcc08af1e192790c4" title=" " alt="" coords="477,5,629,32"/>
<area shape="rect" href="vmx__ops_8h.html#abd38efcacf0b873c6e9ca1f940f39008" title=" " alt="" coords="496,157,611,184"/>
<area shape="rect" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497" title=" " alt="" coords="503,208,604,235"/>
<area shape="rect" href="vmcs12_8h.html#ac28c20c69d1b722359c36df6651d40ec" title=" " alt="" coords="483,259,623,285"/>
<area shape="rect" href="vmx__ops_8h.html#adefc7dc8e1885fe973b3e8d58e23e0aa" title=" " alt="" coords="505,56,601,83"/>
<area shape="rect" href="vmx__ops_8h.html#a33ef2cd0708406b39123ddd368eeb996" title=" " alt="" coords="507,107,599,133"/>
<area shape="rect" href="vmx__onhyperv_8h.html#ae52cbc37c9ad5d2d3ce269912ae976da" title=" " alt="" coords="708,132,808,159"/>
<area shape="rect" href="vmx__onhyperv_8h.html#ab35d8d7479c3c62d461012dcabc04b11" title=" " alt="" coords="677,81,839,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_aafc435d13c9681dd613719dc3c209e02_icgraph.png" border="0" usemap="#anested_8h_aafc435d13c9681dd613719dc3c209e02_icgraph" alt=""/></div>
<map name="anested_8h_aafc435d13c9681dd613719dc3c209e02_icgraph" id="anested_8h_aafc435d13c9681dd613719dc3c209e02_icgraph">
<area shape="rect" title=" " alt="" coords="493,5,655,47"/>
<area shape="rect" href="vmx_8c.html#a85334c5190ac8bc72072279809aee495" title=" " alt="" coords="288,5,445,47"/>
<area shape="rect" href="vmx_2nested_8c.html#a9ceb985086e9efc0f1d85362d8d65d64" title=" " alt="" coords="5,13,240,39"/>
</map>
</div>

</div>
</div>
<a id="a92342f18ec8ac72f6cad41943f8c4b3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92342f18ec8ac72f6cad41943f8c4b3b">&#9670;&nbsp;</a></span>nested_vmx_check_io_bitmaps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nested_vmx_check_io_bitmaps </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l05963">5963</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;{</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvmcs12.html">vmcs12</a> *<a class="code" href="structvmcs12.html">vmcs12</a> = <a class="code" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497">get_vmcs12</a>(vcpu);</div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;    gpa_t bitmap, last_bitmap;</div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;    u8 b;</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160; </div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;    last_bitmap = INVALID_GPA;</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;    b = -1;</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160; </div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;    <span class="keywordflow">while</span> (size &gt; 0) {</div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;        <span class="keywordflow">if</span> (port &lt; 0x8000)</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;            bitmap = <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a37195a678e0666af9e5a2769d2abae84">io_bitmap_a</a>;</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (port &lt; 0x10000)</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;            bitmap = <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a93a4cad60c467d91066aebd3b1a7f38d">io_bitmap_b</a>;</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;        bitmap += (port &amp; 0x7fff) / 8;</div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160; </div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;        <span class="keywordflow">if</span> (last_bitmap != bitmap)</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="kvm__main_8c.html#ae63a6f386d39aff5ffc5645780018b7a">kvm_vcpu_read_guest</a>(vcpu, bitmap, &amp;b, 1))</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;        <span class="keywordflow">if</span> (b &amp; (1 &lt;&lt; (port &amp; 7)))</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160; </div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;        port++;</div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;        size--;</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;        last_bitmap = bitmap;</div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;    }</div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160; </div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;}</div>
<div class="ttc" id="akvm__main_8c_html_ae63a6f386d39aff5ffc5645780018b7a"><div class="ttname"><a href="kvm__main_8c.html#ae63a6f386d39aff5ffc5645780018b7a">kvm_vcpu_read_guest</a></div><div class="ttdeci">int kvm_vcpu_read_guest(struct kvm_vcpu *vcpu, gpa_t gpa, void *data, unsigned long len)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__main_8c_source.html#l03366">kvm_main.c:3366</a></div></div>
<div class="ttc" id="astructvmcs12_html_a37195a678e0666af9e5a2769d2abae84"><div class="ttname"><a href="structvmcs12.html#a37195a678e0666af9e5a2769d2abae84">vmcs12::io_bitmap_a</a></div><div class="ttdeci">u64 io_bitmap_a</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00037">vmcs12.h:37</a></div></div>
<div class="ttc" id="astructvmcs12_html_a93a4cad60c467d91066aebd3b1a7f38d"><div class="ttname"><a href="structvmcs12.html#a93a4cad60c467d91066aebd3b1a7f38d">vmcs12::io_bitmap_b</a></div><div class="ttdeci">u64 io_bitmap_b</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00038">vmcs12.h:38</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a92342f18ec8ac72f6cad41943f8c4b3b_cgraph.png" border="0" usemap="#anested_8h_a92342f18ec8ac72f6cad41943f8c4b3b_cgraph" alt=""/></div>
<map name="anested_8h_a92342f18ec8ac72f6cad41943f8c4b3b_cgraph" id="anested_8h_a92342f18ec8ac72f6cad41943f8c4b3b_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,172,65"/>
<area shape="rect" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497" title=" " alt="" coords="253,5,355,32"/>
<area shape="rect" href="kvm__main_8c.html#ae63a6f386d39aff5ffc5645780018b7a" title=" " alt="" coords="220,56,388,83"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="504,5,575,32"/>
<area shape="rect" href="kvm__main_8c.html#adfef9b2c2d6359fd443d98f51be19605" title=" " alt="" coords="436,56,643,83"/>
<area shape="rect" href="kvm__main_8c.html#a03aae88de564edba8a3a2d10bc5e7b20" title=" " alt="" coords="482,107,597,133"/>
<area shape="rect" href="kvm__main_8c.html#acc4698e3f076cdbbd5d8ca788a94decf" title=" " alt="" coords="701,31,883,57"/>
<area shape="rect" href="kvm__main_8c.html#ac4b56de4919be80c9cd4289f20437c64" title=" " alt="" coords="691,81,893,108"/>
<area shape="rect" href="kvm__main_8c.html#adb8a0a4f675ca16ea81acd3b88089f13" title=" " alt="" coords="941,31,1133,57"/>
<area shape="rect" href="kvm__main_8c.html#ab58025ccc253a102c64561fa61c2a514" title=" " alt="" coords="1181,5,1333,32"/>
<area shape="rect" href="kvm__main_8c.html#a77ec4b9140d69a05f3b4e7836cc03a96" title=" " alt="" coords="1381,31,1544,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a92342f18ec8ac72f6cad41943f8c4b3b_icgraph.png" border="0" usemap="#anested_8h_a92342f18ec8ac72f6cad41943f8c4b3b_icgraph" alt=""/></div>
<map name="anested_8h_a92342f18ec8ac72f6cad41943f8c4b3b_icgraph" id="anested_8h_a92342f18ec8ac72f6cad41943f8c4b3b_icgraph">
<area shape="rect" title=" " alt="" coords="1089,31,1256,72"/>
<area shape="rect" href="vmx_2nested_8c.html#aa737b0ad266ca0532ad72b956726ad7c" title=" " alt="" coords="829,13,1041,39"/>
<area shape="rect" href="vmx_8c.html#a2d5f406e95b5e1b64759e08f3a63952a" title=" " alt="" coords="845,63,1025,90"/>
<area shape="rect" href="vmx_2nested_8c.html#a877b148ab3be256ff208a4d0c0136809" title=" " alt="" coords="583,13,781,39"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="384,5,535,47"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="188,13,336,39"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="5,13,140,39"/>
<area shape="rect" href="vmx_8c.html#a3f986bbfd4a5aac58f65d35dbef8119d" title=" " alt="" coords="601,63,763,90"/>
</map>
</div>

</div>
</div>
<a id="a37fe15bb3aec9734fe49107b75a927d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37fe15bb3aec9734fe49107b75a927d1">&#9670;&nbsp;</a></span>nested_vmx_enter_non_root_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25">nvmx_vmentry_status</a> nested_vmx_enter_non_root_mode </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>from_vmentry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l03414">3414</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;{</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvcpu__vmx.html">vcpu_vmx</a> *vmx = <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(<a class="code" href="structvcpu__vmx.html#a8a60fad06a6c03c5cc25e80d9a5b0203">vcpu</a>);</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvmcs12.html">vmcs12</a> *<a class="code" href="structvmcs12.html">vmcs12</a> = <a class="code" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497">get_vmcs12</a>(vcpu);</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    <span class="keyword">enum</span> vm_entry_failure_code entry_failure_code;</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    <span class="keywordtype">bool</span> evaluate_pending_interrupts;</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;    <span class="keyword">union </span><a class="code" href="unionvmx__exit__reason.html">vmx_exit_reason</a> exit_reason = {</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;        .<a class="code" href="unionvmx__exit__reason.html#abbff4cad4c62320ed152a87d9f18a650">basic</a> = EXIT_REASON_INVALID_STATE,</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;        .failed_vmentry = 1,</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    };</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;    u32 failed_index;</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160; </div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    trace_kvm_nested_vmenter(<a class="code" href="kvm__cache__regs_8h.html#ad97ff6b975b461b815e6749d29c65446">kvm_rip_read</a>(vcpu),</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;                 vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a2f5150d1c51bff8490be3d1904bc68bc">current_vmptr</a>,</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;                 <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a2dee62883fbcfa191fea467f97dcb466">guest_rip</a>,</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;                 <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#ae20221d732ad3fb5cf00d7ddc410adc5">guest_intr_status</a>,</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;                 <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a61cf0c1ce41649e6d08913919c7bf284">vm_entry_intr_info_field</a>,</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;                 <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a4c500465a30847ff26ee9e192d865177">secondary_vm_exec_control</a> &amp; SECONDARY_EXEC_ENABLE_EPT,</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;                 <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#af21a8887fc44958d26b417281f4c36d0">ept_pointer</a>,</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;                 <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#ab21d1b8c76ea012cd62384cb39d494a8">guest_cr3</a>,</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;                 <a class="code" href="trace_8h.html#ab2d357fa4b87c9574d328ca03052a1d8">KVM_ISA_VMX</a>);</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160; </div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;    <a class="code" href="x86_8c.html#abf28742eaf88f469f322233afeb66b59">kvm_service_local_tlb_flush_requests</a>(vcpu);</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160; </div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;    evaluate_pending_interrupts = exec_controls_get(vmx) &amp;</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;        (CPU_BASED_INTR_WINDOW_EXITING | CPU_BASED_NMI_WINDOW_EXITING);</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    <span class="keywordflow">if</span> (likely(!evaluate_pending_interrupts) &amp;&amp; <a class="code" href="lapic_8h.html#a3af346d02eebff16886d49d3810b5358">kvm_vcpu_apicv_active</a>(vcpu))</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;        evaluate_pending_interrupts |= <a class="code" href="vmx_2nested_8c.html#ace6032a8bf541cd49984bb572529dd68">vmx_has_apicv_interrupt</a>(vcpu);</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;    <span class="keywordflow">if</span> (!evaluate_pending_interrupts)</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;        evaluate_pending_interrupts |= <a class="code" href="lapic_8h.html#a106127db5f69d94e5ea9d6d2982c23fd">kvm_apic_has_pending_init_or_sipi</a>(vcpu);</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160; </div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;    <span class="keywordflow">if</span> (!vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3d5c4bbf21743b3209afcd2eed7fe143">nested_run_pending</a> ||</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;        !(<a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a205b61c233db3764d7112ac7530674c8">vm_entry_controls</a> &amp; VM_ENTRY_LOAD_DEBUG_CONTROLS))</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;        vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#abd1278d8d6bc5a5ceca0965a138aa1f9">pre_vmenter_debugctl</a> = <a class="code" href="vmx__ops_8h.html#a2088262a71496c55f21ddab30c364663">vmcs_read64</a>(GUEST_IA32_DEBUGCTL);</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="x86_8h.html#a5523aac5838b664e939f6560ae882d9e">kvm_mpx_supported</a>() &amp;&amp;</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;        (!vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3d5c4bbf21743b3209afcd2eed7fe143">nested_run_pending</a> ||</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;         !(<a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a205b61c233db3764d7112ac7530674c8">vm_entry_controls</a> &amp; VM_ENTRY_LOAD_BNDCFGS)))</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;        vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#acf46a718c923407d786fc17023301011">pre_vmenter_bndcfgs</a> = <a class="code" href="vmx__ops_8h.html#a2088262a71496c55f21ddab30c364663">vmcs_read64</a>(GUEST_BNDCFGS);</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160; </div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;<span class="comment">     * Overwrite vmcs01.GUEST_CR3 with L1&#39;s CR3 if EPT is disabled *and*</span></div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;<span class="comment">     * nested early checks are disabled.  In the event of a &quot;late&quot; VM-Fail,</span></div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;<span class="comment">     * i.e. a VM-Fail detected by hardware but not KVM, KVM must unwind its</span></div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;<span class="comment">     * software model to the pre-VMEntry host state.  When EPT is disabled,</span></div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;<span class="comment">     * GUEST_CR3 holds KVM&#39;s shadow CR3, not L1&#39;s &quot;real&quot; CR3, which causes</span></div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;<span class="comment">     * nested_vmx_restore_host_state() to corrupt vcpu-&gt;arch.cr3.  Stuffing</span></div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;<span class="comment">     * vmcs01.GUEST_CR3 results in the unwind naturally setting arch.cr3 to</span></div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;<span class="comment">     * the correct value.  Smashing vmcs01.GUEST_CR3 is safe because nested</span></div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;<span class="comment">     * VM-Exits, and the unwind, reset KVM&#39;s MMU, i.e. vmcs01.GUEST_CR3 is</span></div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;<span class="comment">     * guaranteed to be overwritten with a shadow CR3 prior to re-entering</span></div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;<span class="comment">     * L1.  Don&#39;t stuff vmcs01.GUEST_CR3 when using nested early checks as</span></div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;<span class="comment">     * KVM modifies vcpu-&gt;arch.cr3 if and only if the early hardware checks</span></div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;<span class="comment">     * pass, and early VM-Fails do not reset KVM&#39;s MMU, i.e. the VM-Fail</span></div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;<span class="comment">     * path would need to manually save/restore vmcs01.GUEST_CR3.</span></div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="capabilities_8h.html#abf08136dbf993f207b5536a18082c6ed">enable_ept</a> &amp;&amp; !<a class="code" href="vmx_2nested_8c.html#ac3538e200438357b24ad3f4a979e8045">nested_early_check</a>)</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;        <a class="code" href="vmx__ops_8h.html#a053ad90862efca58007aa2827f072fe8">vmcs_writel</a>(GUEST_CR3, vcpu-&gt;arch.cr3);</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160; </div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;    <a class="code" href="vmx_2nested_8c.html#a5b55a1eda2dc47d6d1a238d483e6ce36">vmx_switch_vmcs</a>(vcpu, &amp;vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#afa1bfebb7adfdf3599b6fdf65170e48b">vmcs02</a>);</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160; </div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    <a class="code" href="vmx_2nested_8c.html#a4e4432d8f2321361c7b0b88e7237511c">prepare_vmcs02_early</a>(vmx, &amp;vmx-&gt;<a class="code" href="structvcpu__vmx.html#a5696a2167411da0ab4c04f1300baf285">vmcs01</a>, <a class="code" href="structvmcs12.html">vmcs12</a>);</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160; </div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    <span class="keywordflow">if</span> (from_vmentry) {</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;        <span class="keywordflow">if</span> (unlikely(!<a class="code" href="vmx_2nested_8c.html#a562e6893d0703c98635cab943cc58fed">nested_get_vmcs12_pages</a>(vcpu))) {</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;            <a class="code" href="vmx_2nested_8c.html#a5b55a1eda2dc47d6d1a238d483e6ce36">vmx_switch_vmcs</a>(vcpu, &amp;vmx-&gt;<a class="code" href="structvcpu__vmx.html#a5696a2167411da0ab4c04f1300baf285">vmcs01</a>);</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25a654b8744860c1d9dd259fff093507330">NVMX_VMENTRY_KVM_INTERNAL_ERROR</a>;</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;        }</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160; </div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vmx_2nested_8c.html#a9ceb985086e9efc0f1d85362d8d65d64">nested_vmx_check_vmentry_hw</a>(vcpu)) {</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;            <a class="code" href="vmx_2nested_8c.html#a5b55a1eda2dc47d6d1a238d483e6ce36">vmx_switch_vmcs</a>(vcpu, &amp;vmx-&gt;<a class="code" href="structvcpu__vmx.html#a5696a2167411da0ab4c04f1300baf285">vmcs01</a>);</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25a174ea26820ced9526288db9a7343b1f9">NVMX_VMENTRY_VMFAIL</a>;</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;        }</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160; </div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vmx_2nested_8c.html#a926c867f33af4ad620f2cbeaa310a7eb">nested_vmx_check_guest_state</a>(vcpu, <a class="code" href="structvmcs12.html">vmcs12</a>,</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;                         &amp;entry_failure_code)) {</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;            exit_reason.<a class="code" href="unionvmx__exit__reason.html#abbff4cad4c62320ed152a87d9f18a650">basic</a> = EXIT_REASON_INVALID_STATE;</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;            <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a8d834830910993fafc464ee7e35de77c">exit_qualification</a> = entry_failure_code;</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;            <span class="keywordflow">goto</span> vmentry_fail_vmexit;</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;        }</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;    }</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160; </div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;    <a class="code" href="kvm__cache__regs_8h.html#abebe2fb4cff5a92a299e6d242bbe8f4d">enter_guest_mode</a>(vcpu);</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160; </div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5">prepare_vmcs02</a>(vcpu, <a class="code" href="structvmcs12.html">vmcs12</a>, from_vmentry, &amp;entry_failure_code)) {</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;        exit_reason.<a class="code" href="unionvmx__exit__reason.html#abbff4cad4c62320ed152a87d9f18a650">basic</a> = EXIT_REASON_INVALID_STATE;</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;        <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a8d834830910993fafc464ee7e35de77c">exit_qualification</a> = entry_failure_code;</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;        <span class="keywordflow">goto</span> vmentry_fail_vmexit_guest_mode;</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;    }</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160; </div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    <span class="keywordflow">if</span> (from_vmentry) {</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;        failed_index = <a class="code" href="vmx_2nested_8c.html#a5a5102b2750562a4df0ba6cda379293c">nested_vmx_load_msr</a>(vcpu,</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;                           <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#ac065c15826cebcfd71e16848dc3aa43e">vm_entry_msr_load_addr</a>,</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;                           <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a1a3098dccad56299e93c91a90ae04633">vm_entry_msr_load_count</a>);</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;        <span class="keywordflow">if</span> (failed_index) {</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;            exit_reason.<a class="code" href="unionvmx__exit__reason.html#abbff4cad4c62320ed152a87d9f18a650">basic</a> = EXIT_REASON_MSR_LOAD_FAIL;</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;            <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a8d834830910993fafc464ee7e35de77c">exit_qualification</a> = failed_index;</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;            <span class="keywordflow">goto</span> vmentry_fail_vmexit_guest_mode;</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;        }</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;<span class="comment">         * The MMU is not initialized to point at the right entities yet and</span></div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;<span class="comment">         * &quot;get pages&quot; would need to read data from the guest (i.e. we will</span></div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;<span class="comment">         * need to perform gpa to hpa translation). Request a call</span></div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;<span class="comment">         * to nested_get_vmcs12_pages before the next VM-entry.  The MSRs</span></div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;<span class="comment">         * have already been set at vmentry time and should not be reset.</span></div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;        kvm_make_request(KVM_REQ_GET_NESTED_STATE_PAGES, vcpu);</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;    }</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160; </div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;<span class="comment">     * Re-evaluate pending events if L1 had a pending IRQ/NMI/INIT/SIPI</span></div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;<span class="comment">     * when it executed VMLAUNCH/VMRESUME, as entering non-root mode can</span></div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;<span class="comment">     * effectively unblock various events, e.g. INIT/SIPI cause VM-Exit</span></div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;<span class="comment">     * unconditionally.</span></div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;    <span class="keywordflow">if</span> (unlikely(evaluate_pending_interrupts))</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;        kvm_make_request(KVM_REQ_EVENT, vcpu);</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160; </div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;<span class="comment">     * Do not start the preemption timer hrtimer until after we know</span></div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;<span class="comment">     * we are successful, so that only nested_vmx_vmexit needs to cancel</span></div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;<span class="comment">     * the timer.</span></div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a900c2bd2ac9201cea682bf68407e2b5e">preemption_timer_expired</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nested_8h.html#a0a93ea0427140487cadef64529af0104">nested_cpu_has_preemption_timer</a>(<a class="code" href="structvmcs12.html">vmcs12</a>)) {</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;        u64 timer_value = <a class="code" href="vmx_2nested_8c.html#ad2cf8f413b130e4d32fcf63c1eb23333">vmx_calc_preemption_timer_value</a>(vcpu);</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;        <a class="code" href="vmx_2nested_8c.html#ade51fb9eae0a746b161b6633557dd118">vmx_start_preemption_timer</a>(vcpu, timer_value);</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;    }</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160; </div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;<span class="comment">     * Note no nested_vmx_succeed or nested_vmx_fail here. At this point</span></div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;<span class="comment">     * we are no longer running L1, and VMLAUNCH/VMRESUME has not yet</span></div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;<span class="comment">     * returned as far as L1 is concerned. It will only return (and set</span></div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;<span class="comment">     * the success flag) when L2 exits (see nested_vmx_vmexit()).</span></div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25ade93879865cb05ae5cf787179af39f9f">NVMX_VMENTRY_SUCCESS</a>;</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160; </div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;<span class="comment">     * A failed consistency check that leads to a VMExit during L1&#39;s</span></div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;<span class="comment">     * VMEnter to L2 is a variation of a normal VMexit, as explained in</span></div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;<span class="comment">     * 26.7 &quot;VM-entry failures during or after loading guest state&quot;.</span></div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;vmentry_fail_vmexit_guest_mode:</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a34631a3acec2f8e1db398bc77e12b3c3">cpu_based_vm_exec_control</a> &amp; CPU_BASED_USE_TSC_OFFSETTING)</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;        vcpu-&gt;arch.tsc_offset -= <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#aebe12e3e33936512baab6ff0b6606eb7">tsc_offset</a>;</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;    <a class="code" href="kvm__cache__regs_8h.html#aeca9aaff776c6158999d08d88e93e9a3">leave_guest_mode</a>(vcpu);</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160; </div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;vmentry_fail_vmexit:</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;    <a class="code" href="vmx_2nested_8c.html#a5b55a1eda2dc47d6d1a238d483e6ce36">vmx_switch_vmcs</a>(vcpu, &amp;vmx-&gt;<a class="code" href="structvcpu__vmx.html#a5696a2167411da0ab4c04f1300baf285">vmcs01</a>);</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160; </div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;    <span class="keywordflow">if</span> (!from_vmentry)</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25aa6893ac85d8ede32eb482aa9d9a487aa">NVMX_VMENTRY_VMEXIT</a>;</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160; </div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;    <a class="code" href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0">load_vmcs12_host_state</a>(vcpu, <a class="code" href="structvmcs12.html">vmcs12</a>);</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;    <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a0ca808110747eb652aa6ae6319bd4c70">vm_exit_reason</a> = exit_reason.<a class="code" href="unionvmx__exit__reason.html#a27f9241018ddb0d77731a3b35e964f96">full</a>;</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vmx_2nested_8c.html#aa94292b1409d2f52c40d8c49add2a71f">enable_shadow_vmcs</a> || <a class="code" href="vmx_2hyperv_8h.html#a806f1554b2846e31ad5a2e3bfbb272a0">nested_vmx_is_evmptr12_valid</a>(vmx))</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;        vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#abce6aeda58a1627a5f0c29cf5815343e">need_vmcs12_to_shadow_sync</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nested_8h.html#af07e2d530a354cfa27514213db4eee25aa6893ac85d8ede32eb482aa9d9a487aa">NVMX_VMENTRY_VMEXIT</a>;</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;}</div>
<div class="ttc" id="acapabilities_8h_html_abf08136dbf993f207b5536a18082c6ed"><div class="ttname"><a href="capabilities_8h.html#abf08136dbf993f207b5536a18082c6ed">enable_ept</a></div><div class="ttdeci">bool __read_mostly enable_ept</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8c_source.html#l00091">vmx.c:91</a></div></div>
<div class="ttc" id="akvm__cache__regs_8h_html_abebe2fb4cff5a92a299e6d242bbe8f4d"><div class="ttname"><a href="kvm__cache__regs_8h.html#abebe2fb4cff5a92a299e6d242bbe8f4d">enter_guest_mode</a></div><div class="ttdeci">static void enter_guest_mode(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__cache__regs_8h_source.html#l00208">kvm_cache_regs.h:208</a></div></div>
<div class="ttc" id="akvm__cache__regs_8h_html_ad97ff6b975b461b815e6749d29c65446"><div class="ttname"><a href="kvm__cache__regs_8h.html#ad97ff6b975b461b815e6749d29c65446">kvm_rip_read</a></div><div class="ttdeci">static unsigned long kvm_rip_read(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__cache__regs_8h_source.html#l00116">kvm_cache_regs.h:116</a></div></div>
<div class="ttc" id="akvm__cache__regs_8h_html_aeca9aaff776c6158999d08d88e93e9a3"><div class="ttname"><a href="kvm__cache__regs_8h.html#aeca9aaff776c6158999d08d88e93e9a3">leave_guest_mode</a></div><div class="ttdeci">static void leave_guest_mode(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__cache__regs_8h_source.html#l00214">kvm_cache_regs.h:214</a></div></div>
<div class="ttc" id="alapic_8h_html_a106127db5f69d94e5ea9d6d2982c23fd"><div class="ttname"><a href="lapic_8h.html#a106127db5f69d94e5ea9d6d2982c23fd">kvm_apic_has_pending_init_or_sipi</a></div><div class="ttdeci">static bool kvm_apic_has_pending_init_or_sipi(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00231">lapic.h:231</a></div></div>
<div class="ttc" id="alapic_8h_html_a3af346d02eebff16886d49d3810b5358"><div class="ttname"><a href="lapic_8h.html#a3af346d02eebff16886d49d3810b5358">kvm_vcpu_apicv_active</a></div><div class="ttdeci">static bool kvm_vcpu_apicv_active(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8h_source.html#l00226">lapic.h:226</a></div></div>
<div class="ttc" id="anested_8h_html_a0a93ea0427140487cadef64529af0104"><div class="ttname"><a href="nested_8h.html#a0a93ea0427140487cadef64529af0104">nested_cpu_has_preemption_timer</a></div><div class="ttdeci">static bool nested_cpu_has_preemption_timer(struct vmcs12 *vmcs12)</div><div class="ttdef"><b>Definition:</b> <a href="nested_8h_source.html#l00144">nested.h:144</a></div></div>
<div class="ttc" id="astructnested__vmx_html_a2f5150d1c51bff8490be3d1904bc68bc"><div class="ttname"><a href="structnested__vmx.html#a2f5150d1c51bff8490be3d1904bc68bc">nested_vmx::current_vmptr</a></div><div class="ttdeci">gpa_t current_vmptr</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00123">vmx.h:123</a></div></div>
<div class="ttc" id="astructnested__vmx_html_a3d5c4bbf21743b3209afcd2eed7fe143"><div class="ttname"><a href="structnested__vmx.html#a3d5c4bbf21743b3209afcd2eed7fe143">nested_vmx::nested_run_pending</a></div><div class="ttdeci">bool nested_run_pending</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00189">vmx.h:189</a></div></div>
<div class="ttc" id="astructnested__vmx_html_a900c2bd2ac9201cea682bf68407e2b5e"><div class="ttname"><a href="structnested__vmx.html#a900c2bd2ac9201cea682bf68407e2b5e">nested_vmx::preemption_timer_expired</a></div><div class="ttdeci">bool preemption_timer_expired</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00213">vmx.h:213</a></div></div>
<div class="ttc" id="astructnested__vmx_html_abd1278d8d6bc5a5ceca0965a138aa1f9"><div class="ttname"><a href="structnested__vmx.html#abd1278d8d6bc5a5ceca0965a138aa1f9">nested_vmx::pre_vmenter_debugctl</a></div><div class="ttdeci">u64 pre_vmenter_debugctl</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00225">vmx.h:225</a></div></div>
<div class="ttc" id="astructnested__vmx_html_acf46a718c923407d786fc17023301011"><div class="ttname"><a href="structnested__vmx.html#acf46a718c923407d786fc17023301011">nested_vmx::pre_vmenter_bndcfgs</a></div><div class="ttdeci">u64 pre_vmenter_bndcfgs</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00226">vmx.h:226</a></div></div>
<div class="ttc" id="astructnested__vmx_html_afa1bfebb7adfdf3599b6fdf65170e48b"><div class="ttname"><a href="structnested__vmx.html#afa1bfebb7adfdf3599b6fdf65170e48b">nested_vmx::vmcs02</a></div><div class="ttdeci">struct loaded_vmcs vmcs02</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00192">vmx.h:194</a></div></div>
<div class="ttc" id="astructvcpu__vmx_html_a5696a2167411da0ab4c04f1300baf285"><div class="ttname"><a href="structvcpu__vmx.html#a5696a2167411da0ab4c04f1300baf285">vcpu_vmx::vmcs01</a></div><div class="ttdeci">struct loaded_vmcs vmcs01</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00284">vmx.h:291</a></div></div>
<div class="ttc" id="astructvmcs12_html_a0ca808110747eb652aa6ae6319bd4c70"><div class="ttname"><a href="structvmcs12.html#a0ca808110747eb652aa6ae6319bd4c70">vmcs12::vm_exit_reason</a></div><div class="ttdeci">u32 vm_exit_reason</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00138">vmcs12.h:138</a></div></div>
<div class="ttc" id="astructvmcs12_html_a1a3098dccad56299e93c91a90ae04633"><div class="ttname"><a href="structvmcs12.html#a1a3098dccad56299e93c91a90ae04633">vmcs12::vm_entry_msr_load_count</a></div><div class="ttdeci">u32 vm_entry_msr_load_count</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00131">vmcs12.h:131</a></div></div>
<div class="ttc" id="astructvmcs12_html_a205b61c233db3764d7112ac7530674c8"><div class="ttname"><a href="structvmcs12.html#a205b61c233db3764d7112ac7530674c8">vmcs12::vm_entry_controls</a></div><div class="ttdeci">u32 vm_entry_controls</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00130">vmcs12.h:130</a></div></div>
<div class="ttc" id="astructvmcs12_html_a2dee62883fbcfa191fea467f97dcb466"><div class="ttname"><a href="structvmcs12.html#a2dee62883fbcfa191fea467f97dcb466">vmcs12::guest_rip</a></div><div class="ttdeci">natural_width guest_rip</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00103">vmcs12.h:103</a></div></div>
<div class="ttc" id="astructvmcs12_html_a61cf0c1ce41649e6d08913919c7bf284"><div class="ttname"><a href="structvmcs12.html#a61cf0c1ce41649e6d08913919c7bf284">vmcs12::vm_entry_intr_info_field</a></div><div class="ttdeci">u32 vm_entry_intr_info_field</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00132">vmcs12.h:132</a></div></div>
<div class="ttc" id="astructvmcs12_html_a8d834830910993fafc464ee7e35de77c"><div class="ttname"><a href="structvmcs12.html#a8d834830910993fafc464ee7e35de77c">vmcs12::exit_qualification</a></div><div class="ttdeci">natural_width exit_qualification</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00086">vmcs12.h:86</a></div></div>
<div class="ttc" id="astructvmcs12_html_ab21d1b8c76ea012cd62384cb39d494a8"><div class="ttname"><a href="structvmcs12.html#ab21d1b8c76ea012cd62384cb39d494a8">vmcs12::guest_cr3</a></div><div class="ttdeci">natural_width guest_cr3</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00089">vmcs12.h:89</a></div></div>
<div class="ttc" id="astructvmcs12_html_ac065c15826cebcfd71e16848dc3aa43e"><div class="ttname"><a href="structvmcs12.html#ac065c15826cebcfd71e16848dc3aa43e">vmcs12::vm_entry_msr_load_addr</a></div><div class="ttdeci">u64 vm_entry_msr_load_addr</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00042">vmcs12.h:42</a></div></div>
<div class="ttc" id="astructvmcs12_html_ae20221d732ad3fb5cf00d7ddc410adc5"><div class="ttname"><a href="structvmcs12.html#ae20221d732ad3fb5cf00d7ddc410adc5">vmcs12::guest_intr_status</a></div><div class="ttdeci">u16 guest_intr_status</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00179">vmcs12.h:179</a></div></div>
<div class="ttc" id="astructvmcs12_html_aebe12e3e33936512baab6ff0b6606eb7"><div class="ttname"><a href="structvmcs12.html#aebe12e3e33936512baab6ff0b6606eb7">vmcs12::tsc_offset</a></div><div class="ttdeci">u64 tsc_offset</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00043">vmcs12.h:43</a></div></div>
<div class="ttc" id="atrace_8h_html_ab2d357fa4b87c9574d328ca03052a1d8"><div class="ttname"><a href="trace_8h.html#ab2d357fa4b87c9574d328ca03052a1d8">KVM_ISA_VMX</a></div><div class="ttdeci">#define KVM_ISA_VMX</div><div class="ttdef"><b>Definition:</b> <a href="trace_8h_source.html#l00283">trace.h:283</a></div></div>
<div class="ttc" id="aunionvmx__exit__reason_html"><div class="ttname"><a href="unionvmx__exit__reason.html">vmx_exit_reason</a></div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00073">vmx.h:73</a></div></div>
<div class="ttc" id="aunionvmx__exit__reason_html_a27f9241018ddb0d77731a3b35e964f96"><div class="ttname"><a href="unionvmx__exit__reason.html#a27f9241018ddb0d77731a3b35e964f96">vmx_exit_reason::full</a></div><div class="ttdeci">u32 full</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00093">vmx.h:93</a></div></div>
<div class="ttc" id="aunionvmx__exit__reason_html_abbff4cad4c62320ed152a87d9f18a650"><div class="ttname"><a href="unionvmx__exit__reason.html#abbff4cad4c62320ed152a87d9f18a650">vmx_exit_reason::basic</a></div><div class="ttdeci">u32 basic</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00075">vmx.h:75</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a06a397c328d1656bb4d3ab073878e6f0"><div class="ttname"><a href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0">load_vmcs12_host_state</a></div><div class="ttdeci">static void load_vmcs12_host_state(struct kvm_vcpu *vcpu, struct vmcs12 *vmcs12)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l04509">nested.c:4509</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a27bdf4f6bbd476189cb0198a634394f5"><div class="ttname"><a href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5">prepare_vmcs02</a></div><div class="ttdeci">static int prepare_vmcs02(struct kvm_vcpu *vcpu, struct vmcs12 *vmcs12, bool from_vmentry, enum vm_entry_failure_code *entry_failure_code)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l02570">nested.c:2570</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a4e4432d8f2321361c7b0b88e7237511c"><div class="ttname"><a href="vmx_2nested_8c.html#a4e4432d8f2321361c7b0b88e7237511c">prepare_vmcs02_early</a></div><div class="ttdeci">static void prepare_vmcs02_early(struct vcpu_vmx *vmx, struct loaded_vmcs *vmcs01, struct vmcs12 *vmcs12)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l02276">nested.c:2276</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a562e6893d0703c98635cab943cc58fed"><div class="ttname"><a href="vmx_2nested_8c.html#a562e6893d0703c98635cab943cc58fed">nested_get_vmcs12_pages</a></div><div class="ttdeci">static bool nested_get_vmcs12_pages(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l03232">nested.c:3232</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a5a5102b2750562a4df0ba6cda379293c"><div class="ttname"><a href="vmx_2nested_8c.html#a5a5102b2750562a4df0ba6cda379293c">nested_vmx_load_msr</a></div><div class="ttdeci">static u32 nested_vmx_load_msr(struct kvm_vcpu *vcpu, u64 gpa, u32 count)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l00938">nested.c:938</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a5b55a1eda2dc47d6d1a238d483e6ce36"><div class="ttname"><a href="vmx_2nested_8c.html#a5b55a1eda2dc47d6d1a238d483e6ce36">vmx_switch_vmcs</a></div><div class="ttdeci">static void vmx_switch_vmcs(struct kvm_vcpu *vcpu, struct loaded_vmcs *vmcs)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l00294">nested.c:294</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a926c867f33af4ad620f2cbeaa310a7eb"><div class="ttname"><a href="vmx_2nested_8c.html#a926c867f33af4ad620f2cbeaa310a7eb">nested_vmx_check_guest_state</a></div><div class="ttdeci">static int nested_vmx_check_guest_state(struct kvm_vcpu *vcpu, struct vmcs12 *vmcs12, enum vm_entry_failure_code *entry_failure_code)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l03058">nested.c:3058</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a9ceb985086e9efc0f1d85362d8d65d64"><div class="ttname"><a href="vmx_2nested_8c.html#a9ceb985086e9efc0f1d85362d8d65d64">nested_vmx_check_vmentry_hw</a></div><div class="ttdeci">static int nested_vmx_check_vmentry_hw(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l03124">nested.c:3124</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_aa94292b1409d2f52c40d8c49add2a71f"><div class="ttname"><a href="vmx_2nested_8c.html#aa94292b1409d2f52c40d8c49add2a71f">enable_shadow_vmcs</a></div><div class="ttdeci">static bool __read_mostly enable_shadow_vmcs</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l00021">nested.c:21</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_ac3538e200438357b24ad3f4a979e8045"><div class="ttname"><a href="vmx_2nested_8c.html#ac3538e200438357b24ad3f4a979e8045">nested_early_check</a></div><div class="ttdeci">static bool __read_mostly nested_early_check</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l00024">nested.c:24</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_ace6032a8bf541cd49984bb572529dd68"><div class="ttname"><a href="vmx_2nested_8c.html#ace6032a8bf541cd49984bb572529dd68">vmx_has_apicv_interrupt</a></div><div class="ttdeci">static u8 vmx_has_apicv_interrupt(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l03406">nested.c:3406</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_ad2cf8f413b130e4d32fcf63c1eb23333"><div class="ttname"><a href="vmx_2nested_8c.html#ad2cf8f413b130e4d32fcf63c1eb23333">vmx_calc_preemption_timer_value</a></div><div class="ttdeci">static u64 vmx_calc_preemption_timer_value(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l02148">nested.c:2148</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_ade51fb9eae0a746b161b6633557dd118"><div class="ttname"><a href="vmx_2nested_8c.html#ade51fb9eae0a746b161b6633557dd118">vmx_start_preemption_timer</a></div><div class="ttdeci">static void vmx_start_preemption_timer(struct kvm_vcpu *vcpu, u64 preemption_timeout)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l02164">nested.c:2164</a></div></div>
<div class="ttc" id="avmx__ops_8h_html_a053ad90862efca58007aa2827f072fe8"><div class="ttname"><a href="vmx__ops_8h.html#a053ad90862efca58007aa2827f072fe8">vmcs_writel</a></div><div class="ttdeci">static __always_inline void vmcs_writel(unsigned long field, unsigned long value)</div><div class="ttdef"><b>Definition:</b> <a href="vmx__ops_8h_source.html#l00258">vmx_ops.h:258</a></div></div>
<div class="ttc" id="avmx__ops_8h_html_a2088262a71496c55f21ddab30c364663"><div class="ttname"><a href="vmx__ops_8h.html#a2088262a71496c55f21ddab30c364663">vmcs_read64</a></div><div class="ttdeci">static __always_inline u64 vmcs_read64(unsigned long field)</div><div class="ttdef"><b>Definition:</b> <a href="vmx__ops_8h_source.html#l00169">vmx_ops.h:169</a></div></div>
<div class="ttc" id="ax86_8c_html_abf28742eaf88f469f322233afeb66b59"><div class="ttname"><a href="x86_8c.html#abf28742eaf88f469f322233afeb66b59">kvm_service_local_tlb_flush_requests</a></div><div class="ttdeci">void kvm_service_local_tlb_flush_requests(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8c_source.html#l03617">x86.c:3617</a></div></div>
<div class="ttc" id="ax86_8h_html_a5523aac5838b664e939f6560ae882d9e"><div class="ttname"><a href="x86_8h.html#a5523aac5838b664e939f6560ae882d9e">kvm_mpx_supported</a></div><div class="ttdeci">static bool kvm_mpx_supported(void)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8h_source.html#l00361">x86.h:361</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a37fe15bb3aec9734fe49107b75a927d1_icgraph.png" border="0" usemap="#anested_8h_a37fe15bb3aec9734fe49107b75a927d1_icgraph" alt=""/></div>
<map name="anested_8h_a37fe15bb3aec9734fe49107b75a927d1_icgraph" id="anested_8h_a37fe15bb3aec9734fe49107b75a927d1_icgraph">
<area shape="rect" title=" " alt="" coords="807,49,981,90"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="609,31,739,57"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="589,81,759,108"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="401,5,539,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="399,56,541,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="180,23,351,65"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,31,132,57"/>
</map>
</div>

</div>
</div>
<a id="a2c53f6d5cd8133df2c8e67ab90b9aa5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c53f6d5cd8133df2c8e67ab90b9aa5f">&#9670;&nbsp;</a></span>nested_vmx_free_vcpu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nested_vmx_free_vcpu </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l00372">372</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;{</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="kvm__main_8c.html#a5dde35c5b74ce68a7dbb2f2006ce3e9e">vcpu_load</a>(vcpu);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95">vmx_leave_nested</a>(vcpu);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="kvm__main_8c.html#a16e0f63dd5f0d556ed1c9c9999256f85">vcpu_put</a>(vcpu);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}</div>
<div class="ttc" id="akvm__main_8c_html_a16e0f63dd5f0d556ed1c9c9999256f85"><div class="ttname"><a href="kvm__main_8c.html#a16e0f63dd5f0d556ed1c9c9999256f85">vcpu_put</a></div><div class="ttdeci">void vcpu_put(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__main_8c_source.html#l00219">kvm_main.c:219</a></div></div>
<div class="ttc" id="akvm__main_8c_html_a5dde35c5b74ce68a7dbb2f2006ce3e9e"><div class="ttname"><a href="kvm__main_8c.html#a5dde35c5b74ce68a7dbb2f2006ce3e9e">vcpu_load</a></div><div class="ttdeci">void vcpu_load(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__main_8c_source.html#l00208">kvm_main.c:208</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a64e6550fab681b40c832fe4e2d5e3b95"><div class="ttname"><a href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95">vmx_leave_nested</a></div><div class="ttdeci">void vmx_leave_nested(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l06568">nested.c:6568</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a2c53f6d5cd8133df2c8e67ab90b9aa5f_cgraph.png" border="0" usemap="#anested_8h_a2c53f6d5cd8133df2c8e67ab90b9aa5f_cgraph" alt=""/></div>
<map name="anested_8h_a2c53f6d5cd8133df2c8e67ab90b9aa5f_cgraph" id="anested_8h_a2c53f6d5cd8133df2c8e67ab90b9aa5f_cgraph">
<area shape="rect" title=" " alt="" coords="5,1439,179,1465"/>
<area shape="rect" href="kvm__main_8c.html#a5dde35c5b74ce68a7dbb2f2006ce3e9e" title=" " alt="" coords="255,679,343,705"/>
<area shape="rect" href="kvm__main_8c.html#a16e0f63dd5f0d556ed1c9c9999256f85" title=" " alt="" coords="259,1747,340,1773"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="227,1439,372,1465"/>
<area shape="rect" href="x86_8c.html#aaa51abf3d06fdaa95794b27f273278fb" title=" " alt="" coords="420,231,579,257"/>
<area shape="rect" href="x86_8c.html#a0c9dab9b636523857087b20e07eab23b" title=" " alt="" coords="645,56,812,83"/>
<area shape="rect" href="x86_8c.html#abe7489cc3771df9264f3f412ef452594" title=" " alt="" coords="636,107,821,133"/>
<area shape="rect" href="x86_8c.html#a37404aa00211466502dd27a08460271b" title=" " alt="" coords="649,158,809,199"/>
<area shape="rect" href="lapic_8c.html#a054dd145c5435c8bfe1dea1adf2ed1e1" title=" " alt="" coords="651,223,806,265"/>
<area shape="rect" href="lapic_8c.html#ab785e74943a17874760f3d4b6b5359d0" title=" " alt="" coords="647,289,810,330"/>
<area shape="rect" href="x86_8c.html#a7c9ec3443e88bcdbc3befa436fdea079" title=" " alt="" coords="651,406,806,447"/>
<area shape="rect" href="x86_8c.html#aeb9a8081faba5e3fde01100b514c31c6" title=" " alt="" coords="644,355,813,381"/>
<area shape="rect" href="x86_8c.html#a58b091ff3f3eebb9f9e5e0a0a281080c" title=" " alt="" coords="683,5,775,32"/>
<area shape="rect" href="kvm__cache__regs_8h.html#afbcfc413ceedb460734eb5fd7c5c4fbc" title=" " alt="" coords="923,443,1043,469"/>
<area shape="rect" href="x86_8c.html#a9235365ce64f215b1e024f26d96537cc" title=" " alt="" coords="423,2295,575,2321"/>
<area shape="rect" href="x86_8c.html#a7cbbeecc94112a98780c6fec0c01516e" title=" " alt="" coords="651,2258,806,2299"/>
<area shape="rect" href="xen_8h.html#ac0591bab3ec68dc53bba67f12bbf141e" title=" " alt="" coords="643,2324,815,2351"/>
<area shape="rect" href="xen_8h.html#a2a87d72d866eb3429f991cbb5c61ba13" title=" " alt="" coords="644,2375,813,2417"/>
<area shape="rect" href="vmx_2nested_8c.html#ad9920ec1586ae352fbc272ed93cf7b38" title=" " alt="" coords="450,1953,549,1980"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="1135,1507,1205,1533"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="422,1148,577,1175"/>
<area shape="rect" href="vmx_8c.html#af92910217dcc55da03421a552d174080" title=" " alt="" coords="658,2156,799,2183"/>
<area shape="rect" href="vmx_8c.html#a171771cf05868f64b6e6491889a842e1" title=" " alt="" coords="937,2181,1028,2208"/>
<area shape="rect" href="vmx_8c.html#af37bc0d4747f28913c3ba1da2468a563" title=" " alt="" coords="687,1953,770,1980"/>
<area shape="rect" href="mmu_8c.html#ab7d4e418cb85a72507e384df5027293e" title=" " alt="" coords="646,2004,811,2031"/>
<area shape="rect" href="kvm__main_8c.html#af9a24e7d30a38de04326c683ebc6a155" title=" " alt="" coords="912,1801,1053,1828"/>
<area shape="rect" href="vmx_2nested_8c.html#a9738a86a0c00083ec285a0e684ca3d9b" title=" " alt="" coords="643,1751,814,1777"/>
<area shape="rect" href="vmx__ops_8h.html#adefc7dc8e1885fe973b3e8d58e23e0aa" title=" " alt="" coords="681,1903,777,1929"/>
<area shape="rect" href="vmx_2nested_8c.html#a55d2c8a54f2efa9bca7b0f3050ff7f26" title=" " alt="" coords="627,2105,831,2132"/>
<area shape="rect" href="vmx_2nested_8c.html#a5b55a1eda2dc47d6d1a238d483e6ce36" title=" " alt="" coords="657,1649,800,1676"/>
<area shape="rect" href="vmx_2hyperv_8h.html#a806f1554b2846e31ad5a2e3bfbb272a0" title=" " alt="" coords="887,1415,1078,1457"/>
<area shape="rect" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497" title=" " alt="" coords="932,656,1033,683"/>
<area shape="rect" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9" title=" " alt="" coords="663,995,794,1021"/>
<area shape="rect" href="x86_8h.html#aaa36cdb43bbf6ed6af3b10deed46a436" title=" " alt="" coords="925,788,1040,815"/>
<area shape="rect" href="x86_8h.html#acdc826b0cd2ce8b958a826c8faa306b4" title=" " alt="" coords="648,1046,809,1087"/>
<area shape="rect" href="x86_8h.html#a9dbf3d5bc7a0735443e0e21e00802160" title=" " alt="" coords="652,1111,805,1153"/>
<area shape="rect" href="irq_8c.html#ac65804fee79f17331667abfe171088f2" title=" " alt="" coords="643,1177,815,1204"/>
<area shape="rect" href="x86_8c.html#abf28742eaf88f469f322233afeb66b59" title=" " alt="" coords="645,1229,812,1270"/>
<area shape="rect" href="kvm__cache__regs_8h.html#aeca9aaff776c6158999d08d88e93e9a3" title=" " alt="" coords="656,1295,801,1321"/>
<area shape="rect" href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0" title=" " alt="" coords="891,1532,1074,1559"/>
<area shape="rect" href="nested_8h.html#ae8f95597e49047619366cbf8f1a63449" title=" " alt="" coords="665,1345,792,1372"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="661,741,796,768"/>
<area shape="rect" href="nested_8h.html#a0a93ea0427140487cadef64529af0104" title=" " alt="" coords="879,839,1087,881"/>
<area shape="rect" href="vmx_2nested_8c.html#ae1abbe29ce23f3cf0b25b346ca87c72e" title=" " alt="" coords="637,624,821,651"/>
<area shape="rect" href="vmx_2nested_8c.html#a084d1079969b182e5a997cae6326c36d" title=" " alt="" coords="904,1583,1061,1625"/>
<area shape="rect" href="vmx_2nested_8c.html#a4d1da86d40e5c09521979006a05a35e4" title=" " alt="" coords="663,1497,794,1524"/>
<area shape="rect" href="vmx_2nested_8c.html#a001f930db9a867e828cf01b48d3e4e25" title=" " alt="" coords="651,675,806,717"/>
<area shape="rect" href="vmx_2nested_8c.html#a89a2a8ba1ff927d83a706469ef8e7214" title=" " alt="" coords="663,1396,794,1423"/>
<area shape="rect" href="vmx__ops_8h.html#a8e451d9fa742dfde330958372b978485" title=" " alt="" coords="928,956,1037,983"/>
<area shape="rect" href="vmx_2nested_8c.html#a44872272f3dd900f9252e772c59e8d16" title=" " alt="" coords="635,893,823,920"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a2c53f6d5cd8133df2c8e67ab90b9aa5f_icgraph.png" border="0" usemap="#anested_8h_a2c53f6d5cd8133df2c8e67ab90b9aa5f_icgraph" alt=""/></div>
<map name="anested_8h_a2c53f6d5cd8133df2c8e67ab90b9aa5f_icgraph" id="anested_8h_a2c53f6d5cd8133df2c8e67ab90b9aa5f_icgraph">
<area shape="rect" title=" " alt="" coords="176,5,349,32"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="5,5,128,32"/>
</map>
</div>

</div>
</div>
<a id="a77ca924cd23ac875ea48b1f181f33000"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77ca924cd23ac875ea48b1f181f33000">&#9670;&nbsp;</a></span>nested_vmx_hardware_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__init int nested_vmx_hardware_setup </td>
          <td>(</td>
          <td class="paramtype">int(*[])(struct kvm_vcpu *)&#160;</td>
          <td class="paramname"><em>exit_handlers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l07092">7092</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160;{</div>
<div class="line"><a name="l07094"></a><span class="lineno"> 7094</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l07095"></a><span class="lineno"> 7095</span>&#160; </div>
<div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="capabilities_8h.html#a549b116c6ca07678051ebc59e437515e">cpu_has_vmx_shadow_vmcs</a>())</div>
<div class="line"><a name="l07097"></a><span class="lineno"> 7097</span>&#160;        <a class="code" href="vmx_2nested_8c.html#aa94292b1409d2f52c40d8c49add2a71f">enable_shadow_vmcs</a> = 0;</div>
<div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vmx_2nested_8c.html#aa94292b1409d2f52c40d8c49add2a71f">enable_shadow_vmcs</a>) {</div>
<div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vmx_2nested_8c.html#af715e26dfffd1f8de1c18449e2770cffa9a2d55aff0588a394d75afdc0bd73111">VMX_BITMAP_NR</a>; i++) {</div>
<div class="line"><a name="l07100"></a><span class="lineno"> 7100</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160;<span class="comment">             * The vmx_bitmap is not tied to a VM and so should</span></div>
<div class="line"><a name="l07102"></a><span class="lineno"> 7102</span>&#160;<span class="comment">             * not be charged to a memcg.</span></div>
<div class="line"><a name="l07103"></a><span class="lineno"> 7103</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;            <a class="code" href="vmx_2nested_8c.html#acad8c4d53e3049d4e4a357235b26b450">vmx_bitmap</a>[i] = (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *)</div>
<div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160;                __get_free_page(GFP_KERNEL);</div>
<div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="vmx_2nested_8c.html#acad8c4d53e3049d4e4a357235b26b450">vmx_bitmap</a>[i]) {</div>
<div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160;                <a class="code" href="vmx_2nested_8c.html#a62fbfd6161f8cce5e24e1e6ecc75e1e6">nested_vmx_hardware_unsetup</a>();</div>
<div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;                <span class="keywordflow">return</span> -ENOMEM;</div>
<div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160;            }</div>
<div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;        }</div>
<div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160; </div>
<div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160;        <a class="code" href="vmx_2nested_8c.html#afe541b1fbc587989551bcc2c5ad115f0">init_vmcs_shadow_fields</a>();</div>
<div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;    }</div>
<div class="line"><a name="l07114"></a><span class="lineno"> 7114</span>&#160; </div>
<div class="line"><a name="l07115"></a><span class="lineno"> 7115</span>&#160;    exit_handlers[EXIT_REASON_VMCLEAR]  = <a class="code" href="vmx_2nested_8c.html#ad3473bc074c4b59fe28597bd275c7668">handle_vmclear</a>;</div>
<div class="line"><a name="l07116"></a><span class="lineno"> 7116</span>&#160;    exit_handlers[EXIT_REASON_VMLAUNCH] = <a class="code" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6">handle_vmlaunch</a>;</div>
<div class="line"><a name="l07117"></a><span class="lineno"> 7117</span>&#160;    exit_handlers[EXIT_REASON_VMPTRLD]  = <a class="code" href="vmx_2nested_8c.html#a0d98c8746dea3af0e50611aa851e01d9">handle_vmptrld</a>;</div>
<div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160;    exit_handlers[EXIT_REASON_VMPTRST]  = <a class="code" href="vmx_2nested_8c.html#a0597b7f483c8cc06841f463e5dd3203d">handle_vmptrst</a>;</div>
<div class="line"><a name="l07119"></a><span class="lineno"> 7119</span>&#160;    exit_handlers[EXIT_REASON_VMREAD]   = <a class="code" href="vmx_2nested_8c.html#a3fe22c3468a281d231b3554bdc8ab9d2">handle_vmread</a>;</div>
<div class="line"><a name="l07120"></a><span class="lineno"> 7120</span>&#160;    exit_handlers[EXIT_REASON_VMRESUME] = <a class="code" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154">handle_vmresume</a>;</div>
<div class="line"><a name="l07121"></a><span class="lineno"> 7121</span>&#160;    exit_handlers[EXIT_REASON_VMWRITE]  = <a class="code" href="vmx_2nested_8c.html#a012c9b2d00b8a098ebc34d5693eb2f2b">handle_vmwrite</a>;</div>
<div class="line"><a name="l07122"></a><span class="lineno"> 7122</span>&#160;    exit_handlers[EXIT_REASON_VMOFF]    = <a class="code" href="vmx_2nested_8c.html#a4c26f7246065bb8952f345af22487b9c">handle_vmxoff</a>;</div>
<div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160;    exit_handlers[EXIT_REASON_VMON]     = <a class="code" href="vmx_2nested_8c.html#acfc614b787620aa3ea5f48ed247cfe30">handle_vmxon</a>;</div>
<div class="line"><a name="l07124"></a><span class="lineno"> 7124</span>&#160;    exit_handlers[EXIT_REASON_INVEPT]   = <a class="code" href="vmx_2nested_8c.html#a54e70f407596ed5f029a4e4a9855d76c">handle_invept</a>;</div>
<div class="line"><a name="l07125"></a><span class="lineno"> 7125</span>&#160;    exit_handlers[EXIT_REASON_INVVPID]  = <a class="code" href="vmx_2nested_8c.html#a82fdee7a11d269320b0b30e836910587">handle_invvpid</a>;</div>
<div class="line"><a name="l07126"></a><span class="lineno"> 7126</span>&#160;    exit_handlers[EXIT_REASON_VMFUNC]   = <a class="code" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6">handle_vmfunc</a>;</div>
<div class="line"><a name="l07127"></a><span class="lineno"> 7127</span>&#160; </div>
<div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l07129"></a><span class="lineno"> 7129</span>&#160;}</div>
<div class="ttc" id="acapabilities_8h_html_a549b116c6ca07678051ebc59e437515e"><div class="ttname"><a href="capabilities_8h.html#a549b116c6ca07678051ebc59e437515e">cpu_has_vmx_shadow_vmcs</a></div><div class="ttdeci">static bool cpu_has_vmx_shadow_vmcs(void)</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00225">capabilities.h:225</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a012c9b2d00b8a098ebc34d5693eb2f2b"><div class="ttname"><a href="vmx_2nested_8c.html#a012c9b2d00b8a098ebc34d5693eb2f2b">handle_vmwrite</a></div><div class="ttdeci">static int handle_vmwrite(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l05483">nested.c:5483</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a0597b7f483c8cc06841f463e5dd3203d"><div class="ttname"><a href="vmx_2nested_8c.html#a0597b7f483c8cc06841f463e5dd3203d">handle_vmptrst</a></div><div class="ttdeci">static int handle_vmptrst(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l05674">nested.c:5674</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a0d98c8746dea3af0e50611aa851e01d9"><div class="ttname"><a href="vmx_2nested_8c.html#a0d98c8746dea3af0e50611aa851e01d9">handle_vmptrld</a></div><div class="ttdeci">static int handle_vmptrld(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l05604">nested.c:5604</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a23e3de8c964e87404eea818be6f70154"><div class="ttname"><a href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154">handle_vmresume</a></div><div class="ttdeci">static int handle_vmresume(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l05371">nested.c:5371</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a3fe22c3468a281d231b3554bdc8ab9d2"><div class="ttname"><a href="vmx_2nested_8c.html#a3fe22c3468a281d231b3554bdc8ab9d2">handle_vmread</a></div><div class="ttdeci">static int handle_vmread(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l05377">nested.c:5377</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a48fecee9010894e3a1513a0924e24dd6"><div class="ttname"><a href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6">handle_vmlaunch</a></div><div class="ttdeci">static int handle_vmlaunch(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l05365">nested.c:5365</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a4c26f7246065bb8952f345af22487b9c"><div class="ttname"><a href="vmx_2nested_8c.html#a4c26f7246065bb8952f345af22487b9c">handle_vmxoff</a></div><div class="ttdeci">static int handle_vmxoff(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l05309">nested.c:5309</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a54e70f407596ed5f029a4e4a9855d76c"><div class="ttname"><a href="vmx_2nested_8c.html#a54e70f407596ed5f029a4e4a9855d76c">handle_invept</a></div><div class="ttdeci">static int handle_invept(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l05702">nested.c:5702</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a62fbfd6161f8cce5e24e1e6ecc75e1e6"><div class="ttname"><a href="vmx_2nested_8c.html#a62fbfd6161f8cce5e24e1e6ecc75e1e6">nested_vmx_hardware_unsetup</a></div><div class="ttdeci">void nested_vmx_hardware_unsetup(void)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l07082">nested.c:7082</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a82fdee7a11d269320b0b30e836910587"><div class="ttname"><a href="vmx_2nested_8c.html#a82fdee7a11d269320b0b30e836910587">handle_invvpid</a></div><div class="ttdeci">static int handle_invvpid(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l05782">nested.c:5782</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_acad8c4d53e3049d4e4a357235b26b450"><div class="ttname"><a href="vmx_2nested_8c.html#acad8c4d53e3049d4e4a357235b26b450">vmx_bitmap</a></div><div class="ttdeci">static unsigned long * vmx_bitmap[VMX_BITMAP_NR]</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l00046">nested.c:46</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_acfc614b787620aa3ea5f48ed247cfe30"><div class="ttname"><a href="vmx_2nested_8c.html#acfc614b787620aa3ea5f48ed247cfe30">handle_vmxon</a></div><div class="ttdeci">static int handle_vmxon(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l05190">nested.c:5190</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_ad3473bc074c4b59fe28597bd275c7668"><div class="ttname"><a href="vmx_2nested_8c.html#ad3473bc074c4b59fe28597bd275c7668">handle_vmclear</a></div><div class="ttdeci">static int handle_vmclear(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l05323">nested.c:5323</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_af5978d4465f6d84a878163540b6f9ae6"><div class="ttname"><a href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6">handle_vmfunc</a></div><div class="ttdeci">static int handle_vmfunc(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l05908">nested.c:5908</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_af715e26dfffd1f8de1c18449e2770cffa9a2d55aff0588a394d75afdc0bd73111"><div class="ttname"><a href="vmx_2nested_8c.html#af715e26dfffd1f8de1c18449e2770cffa9a2d55aff0588a394d75afdc0bd73111">VMX_BITMAP_NR</a></div><div class="ttdeci">@ VMX_BITMAP_NR</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l00045">nested.c:44</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_afe541b1fbc587989551bcc2c5ad115f0"><div class="ttname"><a href="vmx_2nested_8c.html#afe541b1fbc587989551bcc2c5ad115f0">init_vmcs_shadow_fields</a></div><div class="ttdeci">static void init_vmcs_shadow_fields(void)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l00069">nested.c:69</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a77ca924cd23ac875ea48b1f181f33000_cgraph.png" border="0" usemap="#anested_8h_a77ca924cd23ac875ea48b1f181f33000_cgraph" alt=""/></div>
<map name="anested_8h_a77ca924cd23ac875ea48b1f181f33000_cgraph" id="anested_8h_a77ca924cd23ac875ea48b1f181f33000_cgraph">
<area shape="rect" title=" " alt="" coords="5,1230,176,1271"/>
<area shape="rect" href="capabilities_8h.html#a549b116c6ca07678051ebc59e437515e" title=" " alt="" coords="224,806,435,833"/>
<area shape="rect" href="vmx_2nested_8c.html#a54e70f407596ed5f029a4e4a9855d76c" title=" " alt="" coords="529,882,643,909"/>
<area shape="rect" href="vmx_2nested_8c.html#a82fdee7a11d269320b0b30e836910587" title=" " alt="" coords="525,578,647,605"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3473bc074c4b59fe28597bd275c7668" title=" " alt="" coords="266,1382,393,1409"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="268,1845,391,1872"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fecee9010894e3a1513a0924e24dd6" title=" " alt="" coords="261,1749,398,1776"/>
<area shape="rect" href="vmx_2nested_8c.html#a0d98c8746dea3af0e50611aa851e01d9" title=" " alt="" coords="267,1085,391,1112"/>
<area shape="rect" href="vmx_2nested_8c.html#a0597b7f483c8cc06841f463e5dd3203d" title=" " alt="" coords="524,1136,648,1162"/>
<area shape="rect" href="vmx_2nested_8c.html#a3fe22c3468a281d231b3554bdc8ab9d2" title=" " alt="" coords="525,1288,647,1314"/>
<area shape="rect" href="vmx_2nested_8c.html#a23e3de8c964e87404eea818be6f70154" title=" " alt="" coords="258,1521,401,1548"/>
<area shape="rect" href="vmx_2nested_8c.html#a012c9b2d00b8a098ebc34d5693eb2f2b" title=" " alt="" coords="523,1237,649,1264"/>
<area shape="rect" href="vmx_2nested_8c.html#a4c26f7246065bb8952f345af22487b9c" title=" " alt="" coords="527,781,645,808"/>
<area shape="rect" href="vmx_2nested_8c.html#acfc614b787620aa3ea5f48ed247cfe30" title=" " alt="" coords="271,1009,388,1036"/>
<area shape="rect" href="vmx_2nested_8c.html#afe541b1fbc587989551bcc2c5ad115f0" title=" " alt="" coords="237,1896,421,1922"/>
<area shape="rect" href="vmx_2nested_8c.html#a62fbfd6161f8cce5e24e1e6ecc75e1e6" title=" " alt="" coords="244,1947,415,1988"/>
<area shape="rect" href="vmx_2nested_8c.html#a8f92d0cdc8257a39a1360af576ff3b1a" title=" " alt="" coords="761,1034,940,1061"/>
<area shape="rect" href="x86_8c.html#ac9502ee8f018301047c80e19ab79f7e2" title=" " alt="" coords="1043,1060,1212,1086"/>
<area shape="rect" href="x86_8h.html#a9f7e7cd8d352da04de3bf53cbb3b4e57" title=" " alt="" coords="1055,1009,1199,1036"/>
<area shape="rect" href="x86_8c.html#a918fccc2a3b0a8c2fe80ed713b144e36" title=" " alt="" coords="744,984,957,1010"/>
<area shape="rect" href="mmu_8c.html#ab7d4e418cb85a72507e384df5027293e" title=" " alt="" coords="1045,680,1210,706"/>
<area shape="rect" href="x86_8c.html#a7064cd8944dd550352cef83c72612045" title=" " alt="" coords="771,933,930,960"/>
<area shape="rect" href="vmx_2nested_8c.html#a51dc5a9e8a96ce9867bbefa40640cc16" title=" " alt="" coords="755,781,946,808"/>
<area shape="rect" href="vmx_2nested_8c.html#a9908339c87e1a2aae4172d5785104e32" title=" " alt="" coords="759,2048,942,2074"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="1092,1668,1163,1694"/>
<area shape="rect" href="vmx_2nested_8c.html#ae5fd7276beb55126f84dc95b178a6bb0" title=" " alt="" coords="737,1085,964,1112"/>
<area shape="rect" href="vmx_2nested_8c.html#a4d1da86d40e5c09521979006a05a35e4" title=" " alt="" coords="785,1642,916,1669"/>
<area shape="rect" href="vmx_2nested_8c.html#a3c80ece98832af9587ecff9947817449" title=" " alt="" coords="769,629,932,656"/>
<area shape="rect" href="vmx__ops_8h.html#a8e451d9fa742dfde330958372b978485" title=" " alt="" coords="796,1237,905,1264"/>
<area shape="rect" href="vmx_8h.html#a400cebafa368592c80e344bb3f18eaa2" title=" " alt="" coords="777,1136,924,1162"/>
<area shape="rect" href="vmx_8h.html#a70be8e9321dc97600b63443befb6641a" title=" " alt="" coords="759,578,942,605"/>
<area shape="rect" href="x86_8h.html#af9a5d53e18d888ed043578916e51cc55" title=" " alt="" coords="1035,444,1219,470"/>
<area shape="rect" href="x86_8c.html#aba69f77338abd9dcd861fd8921d5011a" title=" " alt="" coords="1012,208,1243,234"/>
<area shape="rect" href="mmu_8c.html#aed9206081417b11ad2654d347022bb05" title=" " alt="" coords="767,310,935,351"/>
<area shape="rect" href="nested_8h.html#a9ef52cbdde487ef61fd78bd3b2c68642" title=" " alt="" coords="778,528,923,554"/>
<area shape="rect" href="vmx__ops_8h.html#a633dfeedd30f0bb1e5246981be0f0b1f" title=" " alt="" coords="1056,81,1199,108"/>
<area shape="rect" href="vmx__ops_8h.html#a051e82ff3b9bda098b30ed26fac8cec0" title=" " alt="" coords="770,56,931,82"/>
<area shape="rect" href="kvm__main_8c.html#aff9f069d82daf13f02f262eaf6a23ca5" title=" " alt="" coords="500,1592,672,1618"/>
<area shape="rect" href="vmx_2nested_8c.html#a75838e6f81ab4f3c9c57c9fe1c150c2f" title=" " alt="" coords="767,2200,934,2242"/>
<area shape="rect" href="vmx_2nested_8c.html#a5a5df09c88b5fad9a716109f9917e9a5" title=" " alt="" coords="497,1541,675,1568"/>
<area shape="rect" href="vmx_2nested_8c.html#a6777a6616a2ebdcc07f60286e276d841" title=" " alt="" coords="498,984,674,1010"/>
<area shape="rect" href="cpuid_8h.html#a324c2cf2152bc998a4e85165ee805f83" title=" " alt="" coords="511,933,661,960"/>
<area shape="rect" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497" title=" " alt="" coords="800,1845,901,1872"/>
<area shape="rect" href="kvm__cache__regs_8h.html#afbcfc413ceedb460734eb5fd7c5c4fbc" title=" " alt="" coords="791,1541,911,1568"/>
<area shape="rect" href="nested_8h.html#a1e5ea3e2f109135becdc57c21e263db0" title=" " alt="" coords="495,2157,677,2184"/>
<area shape="rect" href="vmx_2nested_8c.html#ad874dd59254c34b16ae48fffb4ebbf1f" title=" " alt="" coords="483,2208,689,2234"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="509,1896,663,1922"/>
<area shape="rect" href="vmx_8h.html#af7e940dce21b0a53e1eadac452b8ddf1" title=" " alt="" coords="516,1845,656,1872"/>
<area shape="rect" href="vmx_2nested_8c.html#add1e82c32385142c0fca04a1db8cbc3a" title=" " alt="" coords="521,1794,651,1821"/>
<area shape="rect" href="kvm__main_8c.html#ac6c49245c7b6995e95ebe7128b7d1c80" title=" " alt="" coords="485,1034,687,1061"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a77ca924cd23ac875ea48b1f181f33000_icgraph.png" border="0" usemap="#anested_8h_a77ca924cd23ac875ea48b1f181f33000_icgraph" alt=""/></div>
<map name="anested_8h_a77ca924cd23ac875ea48b1f181f33000_icgraph" id="anested_8h_a77ca924cd23ac875ea48b1f181f33000_icgraph">
<area shape="rect" title=" " alt="" coords="180,5,351,47"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,13,132,39"/>
</map>
</div>

</div>
</div>
<a id="a62fbfd6161f8cce5e24e1e6ecc75e1e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62fbfd6161f8cce5e24e1e6ecc75e1e6">&#9670;&nbsp;</a></span>nested_vmx_hardware_unsetup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nested_vmx_hardware_unsetup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l07082">7082</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160;{</div>
<div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160; </div>
<div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vmx_2nested_8c.html#aa94292b1409d2f52c40d8c49add2a71f">enable_shadow_vmcs</a>) {</div>
<div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vmx_2nested_8c.html#af715e26dfffd1f8de1c18449e2770cffa9a2d55aff0588a394d75afdc0bd73111">VMX_BITMAP_NR</a>; i++)</div>
<div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160;            free_page((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)<a class="code" href="vmx_2nested_8c.html#acad8c4d53e3049d4e4a357235b26b450">vmx_bitmap</a>[i]);</div>
<div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160;    }</div>
<div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a62fbfd6161f8cce5e24e1e6ecc75e1e6_icgraph.png" border="0" usemap="#anested_8h_a62fbfd6161f8cce5e24e1e6ecc75e1e6_icgraph" alt=""/></div>
<map name="anested_8h_a62fbfd6161f8cce5e24e1e6ecc75e1e6_icgraph" id="anested_8h_a62fbfd6161f8cce5e24e1e6ecc75e1e6_icgraph">
<area shape="rect" title=" " alt="" coords="407,27,577,69"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="5,5,132,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="184,27,355,69"/>
<area shape="rect" href="vmx_8c.html#ac5d3e368f1f75567ecc165bd39159199" title=" " alt="" coords="180,93,359,120"/>
</map>
</div>

</div>
</div>
<a id="a48fcc88ceee4f57a3dbf23fedb46a5cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48fcc88ceee4f57a3dbf23fedb46a5cb">&#9670;&nbsp;</a></span>nested_vmx_reflect_vmexit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nested_vmx_reflect_vmexit </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l06393">6393</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;{</div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvcpu__vmx.html">vcpu_vmx</a> *vmx = <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(<a class="code" href="structvcpu__vmx.html#a8a60fad06a6c03c5cc25e80d9a5b0203">vcpu</a>);</div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;    <span class="keyword">union </span><a class="code" href="unionvmx__exit__reason.html">vmx_exit_reason</a> exit_reason = vmx-&gt;<a class="code" href="structvcpu__vmx.html#af2a84d7a5ddfed79b8fde11f18e8a5a6">exit_reason</a>;</div>
<div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> exit_qual;</div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;    u32 exit_intr_info;</div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160; </div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;    WARN_ON_ONCE(vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3d5c4bbf21743b3209afcd2eed7fe143">nested_run_pending</a>);</div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160; </div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;<span class="comment">     * Late nested VM-Fail shares the same flow as nested VM-Exit since KVM</span></div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;<span class="comment">     * has already loaded L2&#39;s state.</span></div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;    <span class="keywordflow">if</span> (unlikely(vmx-&gt;<a class="code" href="structvcpu__vmx.html#a96b507a66cca25f47e84c160403c9225">fail</a>)) {</div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;        trace_kvm_nested_vmenter_failed(</div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;            <span class="stringliteral">&quot;hardware VM-instruction error: &quot;</span>,</div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;            <a class="code" href="vmx__ops_8h.html#a8e451d9fa742dfde330958372b978485">vmcs_read32</a>(VM_INSTRUCTION_ERROR));</div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;        exit_intr_info = 0;</div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;        exit_qual = 0;</div>
<div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;        <span class="keywordflow">goto</span> reflect_vmexit;</div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;    }</div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160; </div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;    trace_kvm_nested_vmexit(vcpu, <a class="code" href="trace_8h.html#ab2d357fa4b87c9574d328ca03052a1d8">KVM_ISA_VMX</a>);</div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160; </div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;    <span class="comment">/* If L0 (KVM) wants the exit, it trumps L1&#39;s desires. */</span></div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vmx_2nested_8c.html#ad83a41b6ce947fa24f8accde49c38aa0">nested_vmx_l0_wants_exit</a>(vcpu, exit_reason))</div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160; </div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;    <span class="comment">/* If L1 doesn&#39;t want the exit, handle it in L0. */</span></div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="vmx_2nested_8c.html#a877b148ab3be256ff208a4d0c0136809">nested_vmx_l1_wants_exit</a>(vcpu, exit_reason))</div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160; </div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;<span class="comment">     * vmcs.VM_EXIT_INTR_INFO is only valid for EXCEPTION_NMI exits.  For</span></div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;<span class="comment">     * EXTERNAL_INTERRUPT, the value for vmcs12-&gt;vm_exit_intr_info would</span></div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;<span class="comment">     * need to be synthesized by querying the in-kernel LAPIC, but external</span></div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;<span class="comment">     * interrupts are never reflected to L1 so it&#39;s a non-issue.</span></div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;    exit_intr_info = <a class="code" href="vmx_8h.html#af7e940dce21b0a53e1eadac452b8ddf1">vmx_get_intr_info</a>(vcpu);</div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vmcs_8h.html#a82b694e4b157b69d58819f32d9c9525c">is_exception_with_error_code</a>(exit_intr_info)) {</div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;        <span class="keyword">struct </span><a class="code" href="structvmcs12.html">vmcs12</a> *<a class="code" href="structvmcs12.html">vmcs12</a> = <a class="code" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497">get_vmcs12</a>(vcpu);</div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160; </div>
<div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;        <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#aa343661578210893d5f495bc08f830a0">vm_exit_intr_error_code</a> =</div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;            <a class="code" href="vmx__ops_8h.html#a8e451d9fa742dfde330958372b978485">vmcs_read32</a>(VM_EXIT_INTR_ERROR_CODE);</div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;    }</div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;    exit_qual = <a class="code" href="vmx_8h.html#a400cebafa368592c80e344bb3f18eaa2">vmx_get_exit_qual</a>(vcpu);</div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160; </div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;reflect_vmexit:</div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;    <a class="code" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1">nested_vmx_vmexit</a>(vcpu, exit_reason.<a class="code" href="unionvmx__exit__reason.html#a27f9241018ddb0d77731a3b35e964f96">full</a>, exit_intr_info, exit_qual);</div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;}</div>
<div class="ttc" id="astructvcpu__vmx_html_a96b507a66cca25f47e84c160403c9225"><div class="ttname"><a href="structvcpu__vmx.html#a96b507a66cca25f47e84c160403c9225">vcpu_vmx::fail</a></div><div class="ttdeci">u8 fail</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00253">vmx.h:253</a></div></div>
<div class="ttc" id="astructvcpu__vmx_html_af2a84d7a5ddfed79b8fde11f18e8a5a6"><div class="ttname"><a href="structvcpu__vmx.html#af2a84d7a5ddfed79b8fde11f18e8a5a6">vcpu_vmx::exit_reason</a></div><div class="ttdeci">union vmx_exit_reason exit_reason</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00318">vmx.h:320</a></div></div>
<div class="ttc" id="astructvmcs12_html_aa343661578210893d5f495bc08f830a0"><div class="ttname"><a href="structvmcs12.html#aa343661578210893d5f495bc08f830a0">vmcs12::vm_exit_intr_error_code</a></div><div class="ttdeci">u32 vm_exit_intr_error_code</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00140">vmcs12.h:140</a></div></div>
<div class="ttc" id="avmcs_8h_html_a82b694e4b157b69d58819f32d9c9525c"><div class="ttname"><a href="vmcs_8h.html#a82b694e4b157b69d58819f32d9c9525c">is_exception_with_error_code</a></div><div class="ttdeci">static bool is_exception_with_error_code(u32 intr_info)</div><div class="ttdef"><b>Definition:</b> <a href="vmcs_8h_source.html#l00159">vmcs.h:159</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a877b148ab3be256ff208a4d0c0136809"><div class="ttname"><a href="vmx_2nested_8c.html#a877b148ab3be256ff208a4d0c0136809">nested_vmx_l1_wants_exit</a></div><div class="ttdeci">static bool nested_vmx_l1_wants_exit(struct kvm_vcpu *vcpu, union vmx_exit_reason exit_reason)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l06266">nested.c:6266</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_ad680a323fa0378a55e97821505ba74b1"><div class="ttname"><a href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1">nested_vmx_vmexit</a></div><div class="ttdeci">void nested_vmx_vmexit(struct kvm_vcpu *vcpu, u32 vm_exit_reason, u32 exit_intr_info, unsigned long exit_qualification)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l04767">nested.c:4767</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_ad83a41b6ce947fa24f8accde49c38aa0"><div class="ttname"><a href="vmx_2nested_8c.html#ad83a41b6ce947fa24f8accde49c38aa0">nested_vmx_l0_wants_exit</a></div><div class="ttdeci">static bool nested_vmx_l0_wants_exit(struct kvm_vcpu *vcpu, union vmx_exit_reason exit_reason)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l06188">nested.c:6188</a></div></div>
<div class="ttc" id="avmx_8h_html_a400cebafa368592c80e344bb3f18eaa2"><div class="ttname"><a href="vmx_8h.html#a400cebafa368592c80e344bb3f18eaa2">vmx_get_exit_qual</a></div><div class="ttdeci">static __always_inline unsigned long vmx_get_exit_qual(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00681">vmx.h:681</a></div></div>
<div class="ttc" id="avmx_8h_html_af7e940dce21b0a53e1eadac452b8ddf1"><div class="ttname"><a href="vmx_8h.html#af7e940dce21b0a53e1eadac452b8ddf1">vmx_get_intr_info</a></div><div class="ttdeci">static __always_inline u32 vmx_get_intr_info(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00691">vmx.h:691</a></div></div>
<div class="ttc" id="avmx__ops_8h_html_a8e451d9fa742dfde330958372b978485"><div class="ttname"><a href="vmx__ops_8h.html#a8e451d9fa742dfde330958372b978485">vmcs_read32</a></div><div class="ttdeci">static __always_inline u32 vmcs_read32(unsigned long field)</div><div class="ttdef"><b>Definition:</b> <a href="vmx__ops_8h_source.html#l00161">vmx_ops.h:161</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a48fcc88ceee4f57a3dbf23fedb46a5cb_cgraph.png" border="0" usemap="#anested_8h_a48fcc88ceee4f57a3dbf23fedb46a5cb_cgraph" alt=""/></div>
<map name="anested_8h_a48fcc88ceee4f57a3dbf23fedb46a5cb_cgraph" id="anested_8h_a48fcc88ceee4f57a3dbf23fedb46a5cb_cgraph">
<area shape="rect" title=" " alt="" coords="5,1126,156,1167"/>
<area shape="rect" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497" title=" " alt="" coords="793,1615,895,1641"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="996,1691,1067,1717"/>
<area shape="rect" href="vmcs_8h.html#a82b694e4b157b69d58819f32d9c9525c" title=" " alt="" coords="204,747,419,773"/>
<area shape="rect" href="vmx_2nested_8c.html#ad83a41b6ce947fa24f8accde49c38aa0" title=" " alt="" coords="212,316,411,343"/>
<area shape="rect" href="vmx_8h.html#af7e940dce21b0a53e1eadac452b8ddf1" title=" " alt="" coords="509,493,649,520"/>
<area shape="rect" href="vmx__ops_8h.html#a8e451d9fa742dfde330958372b978485" title=" " alt="" coords="789,1311,899,1337"/>
<area shape="rect" href="vmx_2nested_8c.html#a877b148ab3be256ff208a4d0c0136809" title=" " alt="" coords="212,797,411,824"/>
<area shape="rect" href="vmx_8h.html#a400cebafa368592c80e344bb3f18eaa2" title=" " alt="" coords="771,1117,917,1144"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="234,1932,389,1959"/>
<area shape="rect" href="hyperv_8h.html#a902f3e7ce9ea9015898912540b132bd9" title=" " alt="" coords="503,225,656,266"/>
<area shape="rect" href="vmcs_8h.html#a5fe8290e466cc5ee16b1d99698c03965" title=" " alt="" coords="504,291,655,317"/>
<area shape="rect" href="vmcs_8h.html#a77e01563f5fba4c6131c6fa844126ed4" title=" " alt="" coords="524,341,635,368"/>
<area shape="rect" href="vmcs_8h.html#a7d78054a427a42aa58007d1a92c56838" title=" " alt="" coords="539,5,619,32"/>
<area shape="rect" href="vmcs_8h.html#a07050669b8f9e2542c935bb353c4d5db" title=" " alt="" coords="547,443,612,469"/>
<area shape="rect" href="vmcs_8h.html#a30ddddbc66017b43063ff203360ac86e" title=" " alt="" coords="525,544,634,571"/>
<area shape="rect" href="hyperv_8h.html#a1d303f485b6e5e724a2fecb90fa8534b" title=" " alt="" coords="502,57,657,98"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a37b98de3eb7f9c78a502481f9c917a32" title=" " alt="" coords="765,482,923,523"/>
<area shape="rect" href="vmx_8c.html#ab47d0d344e1a78767df9a1521c52f3e7" title=" " alt="" coords="500,123,659,149"/>
<area shape="rect" href="vmx_8h.html#a046cd100cd1f1b77bfa5ba028dcd52ff" title=" " alt="" coords="492,173,667,200"/>
<area shape="rect" href="nested_8h.html#ae8f95597e49047619366cbf8f1a63449" title=" " alt="" coords="781,965,907,992"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="777,848,911,875"/>
<area shape="rect" href="svm_8h.html#a13cbed806a9638fcaab4d01cb926d141" title=" " alt="" coords="504,696,655,723"/>
<area shape="rect" href="vmx_2nested_8c.html#a05813a3b9f1f5f947997a81267e52389" title=" " alt="" coords="473,1016,685,1043"/>
<area shape="rect" href="vmx_2nested_8c.html#ab3fc0bd0d4a8fd0ee69e1b766c2d20aa" title=" " alt="" coords="483,899,676,941"/>
<area shape="rect" href="vmx_2nested_8c.html#aa737b0ad266ca0532ad72b956726ad7c" title=" " alt="" coords="473,965,685,992"/>
<area shape="rect" href="vmx_2nested_8c.html#a9ea44f660f1ab70ff1f2ee831d1a5f39" title=" " alt="" coords="467,797,692,824"/>
<area shape="rect" href="vmx_2nested_8c.html#adf474554d9eaba211d513053a6ad8876" title=" " alt="" coords="468,747,691,773"/>
<area shape="rect" href="vmx_2nested_8c.html#ae2a1571a5502da9fe9d0434c61bbde7e" title=" " alt="" coords="483,1067,676,1109"/>
<area shape="rect" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9" title=" " alt="" coords="779,1049,909,1076"/>
<area shape="rect" href="x86_8h.html#aaa36cdb43bbf6ed6af3b10deed46a436" title=" " alt="" coords="787,2164,901,2191"/>
<area shape="rect" href="x86_8h.html#acdc826b0cd2ce8b958a826c8faa306b4" title=" " alt="" coords="499,1859,660,1901"/>
<area shape="rect" href="x86_8h.html#a9dbf3d5bc7a0735443e0e21e00802160" title=" " alt="" coords="503,1925,656,1966"/>
<area shape="rect" href="irq_8c.html#ac65804fee79f17331667abfe171088f2" title=" " alt="" coords="493,1991,665,2017"/>
<area shape="rect" href="x86_8c.html#abf28742eaf88f469f322233afeb66b59" title=" " alt="" coords="496,2042,663,2083"/>
<area shape="rect" href="kvm__main_8c.html#af9a24e7d30a38de04326c683ebc6a155" title=" " alt="" coords="509,2108,650,2135"/>
<area shape="rect" href="kvm__cache__regs_8h.html#aeca9aaff776c6158999d08d88e93e9a3" title=" " alt="" coords="507,2159,652,2185"/>
<area shape="rect" href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0" title=" " alt="" coords="488,2564,671,2591"/>
<area shape="rect" href="vmx__ops_8h.html#a2a7e7c5e8ee913ae1811b078174df0c9" title=" " alt="" coords="787,2615,901,2641"/>
<area shape="rect" href="vmx__ops_8h.html#adaa0eecfb8c7ab44b2f50999c3f65bd3" title=" " alt="" coords="787,2513,901,2540"/>
<area shape="rect" href="nested_8h.html#a0a93ea0427140487cadef64529af0104" title=" " alt="" coords="740,1939,948,1981"/>
<area shape="rect" href="vmx_2nested_8c.html#ae1abbe29ce23f3cf0b25b346ca87c72e" title=" " alt="" coords="487,1640,671,1667"/>
<area shape="rect" href="vmx_2nested_8c.html#a084d1079969b182e5a997cae6326c36d" title=" " alt="" coords="765,1742,923,1783"/>
<area shape="rect" href="vmx_2nested_8c.html#a4d1da86d40e5c09521979006a05a35e4" title=" " alt="" coords="514,2361,645,2388"/>
<area shape="rect" href="vmx_2hyperv_8h.html#a806f1554b2846e31ad5a2e3bfbb272a0" title=" " alt="" coords="749,2295,939,2337"/>
<area shape="rect" href="vmx_2nested_8c.html#a001f930db9a867e828cf01b48d3e4e25" title=" " alt="" coords="502,1691,657,1733"/>
<area shape="rect" href="vmx_2nested_8c.html#a89a2a8ba1ff927d83a706469ef8e7214" title=" " alt="" coords="514,1387,645,1413"/>
<area shape="rect" href="vmx_2nested_8c.html#a44872272f3dd900f9252e772c59e8d16" title=" " alt="" coords="485,1808,673,1835"/>
<area shape="rect" href="vmx_8c.html#a930d1b832fa3d556aafacb4fea12e0a8" title=" " alt="" coords="498,2463,661,2489"/>
<area shape="rect" href="vmx_8c.html#a3f6e91eedb4d7eefd8f4007389aaac7b" title=" " alt="" coords="741,2412,947,2439"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a48fcc88ceee4f57a3dbf23fedb46a5cb_icgraph.png" border="0" usemap="#anested_8h_a48fcc88ceee4f57a3dbf23fedb46a5cb_icgraph" alt=""/></div>
<map name="anested_8h_a48fcc88ceee4f57a3dbf23fedb46a5cb_icgraph" id="anested_8h_a48fcc88ceee4f57a3dbf23fedb46a5cb_icgraph">
<area shape="rect" title=" " alt="" coords="384,5,535,47"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="188,13,336,39"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="5,13,140,39"/>
</map>
</div>

</div>
</div>
<a id="ad7f66d44ea73592c4363687638d05d79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7f66d44ea73592c4363687638d05d79">&#9670;&nbsp;</a></span>nested_vmx_set_vmcs_shadowing_bitmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nested_vmx_set_vmcs_shadowing_bitmap </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l06764">6764</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;{</div>
<div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vmx_2nested_8c.html#aa94292b1409d2f52c40d8c49add2a71f">enable_shadow_vmcs</a>) {</div>
<div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;        <a class="code" href="vmx__ops_8h.html#adaa0eecfb8c7ab44b2f50999c3f65bd3">vmcs_write64</a>(VMREAD_BITMAP, __pa(<a class="code" href="vmx_2nested_8c.html#acb2ad45a648782fa62671a63d0e7c0e1">vmx_vmread_bitmap</a>));</div>
<div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;        <a class="code" href="vmx__ops_8h.html#adaa0eecfb8c7ab44b2f50999c3f65bd3">vmcs_write64</a>(VMWRITE_BITMAP, __pa(<a class="code" href="vmx_2nested_8c.html#a80d15edeeab9928f4c2a0a51f2823c5e">vmx_vmwrite_bitmap</a>));</div>
<div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;    }</div>
<div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;}</div>
<div class="ttc" id="avmx_2nested_8c_html_a80d15edeeab9928f4c2a0a51f2823c5e"><div class="ttname"><a href="vmx_2nested_8c.html#a80d15edeeab9928f4c2a0a51f2823c5e">vmx_vmwrite_bitmap</a></div><div class="ttdeci">#define vmx_vmwrite_bitmap</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l00049">nested.c:49</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_acb2ad45a648782fa62671a63d0e7c0e1"><div class="ttname"><a href="vmx_2nested_8c.html#acb2ad45a648782fa62671a63d0e7c0e1">vmx_vmread_bitmap</a></div><div class="ttdeci">#define vmx_vmread_bitmap</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l00048">nested.c:48</a></div></div>
<div class="ttc" id="avmx__ops_8h_html_adaa0eecfb8c7ab44b2f50999c3f65bd3"><div class="ttname"><a href="vmx__ops_8h.html#adaa0eecfb8c7ab44b2f50999c3f65bd3">vmcs_write64</a></div><div class="ttdeci">static __always_inline void vmcs_write64(unsigned long field, u64 value)</div><div class="ttdef"><b>Definition:</b> <a href="vmx__ops_8h_source.html#l00246">vmx_ops.h:246</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ad7f66d44ea73592c4363687638d05d79_cgraph.png" border="0" usemap="#anested_8h_ad7f66d44ea73592c4363687638d05d79_cgraph" alt=""/></div>
<map name="anested_8h_ad7f66d44ea73592c4363687638d05d79_cgraph" id="anested_8h_ad7f66d44ea73592c4363687638d05d79_cgraph">
<area shape="rect" title=" " alt="" coords="5,74,176,115"/>
<area shape="rect" href="vmx__ops_8h.html#adaa0eecfb8c7ab44b2f50999c3f65bd3" title=" " alt="" coords="224,81,337,108"/>
<area shape="rect" href="vmx__ops_8h.html#abd38efcacf0b873c6e9ca1f940f39008" title=" " alt="" coords="409,5,523,32"/>
<area shape="rect" href="vmx__onhyperv_8h.html#ab8d4fdb2c9a0ae33024dd8b9ecf14961" title=" " alt="" coords="405,56,527,83"/>
<area shape="rect" href="vmx__onhyperv_8h.html#ab35d8d7479c3c62d461012dcabc04b11" title=" " alt="" coords="385,107,547,133"/>
<area shape="rect" href="vmx__ops_8h.html#a482358473ceab579ad9c93b46e13fe25" title=" " alt="" coords="407,157,525,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ad7f66d44ea73592c4363687638d05d79_icgraph.png" border="0" usemap="#anested_8h_ad7f66d44ea73592c4363687638d05d79_icgraph" alt=""/></div>
<map name="anested_8h_ad7f66d44ea73592c4363687638d05d79_icgraph" id="anested_8h_ad7f66d44ea73592c4363687638d05d79_icgraph">
<area shape="rect" title=" " alt="" coords="507,5,677,47"/>
<area shape="rect" href="vmx_8c.html#ad9c0f9053e0fe647a367166a4b6a0c6f" title=" " alt="" coords="373,13,459,39"/>
<area shape="rect" href="vmx_8c.html#abd63cf398d1b18c9be4e9c4eae17c64c" title=" " alt="" coords="183,13,325,39"/>
<area shape="rect" href="vmx_8c.html#a8d0fa5e317cbd0eb67ebdc9fa5ec70ce" title=" " alt="" coords="5,13,135,39"/>
</map>
</div>

</div>
</div>
<a id="a9a29ab2fcf72f604e749dc4dfefa91aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a29ab2fcf72f604e749dc4dfefa91aa">&#9670;&nbsp;</a></span>nested_vmx_setup_ctls_msrs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nested_vmx_setup_ctls_msrs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcs__config.html">vmcs_config</a> *&#160;</td>
          <td class="paramname"><em>vmcs_conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>ept_caps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l07045">7045</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;{</div>
<div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;    <span class="keyword">struct </span><a class="code" href="structnested__vmx__msrs.html">nested_vmx_msrs</a> *msrs = &amp;vmcs_conf-&gt;<a class="code" href="structvmcs__config.html#afd0032cd41d4f6c4cf7b2ccc805b5687">nested</a>;</div>
<div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160; </div>
<div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;<span class="comment">     * Note that as a general rule, the high half of the MSRs (bits in</span></div>
<div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;<span class="comment">     * the control fields which may be 1) should be initialized by the</span></div>
<div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;<span class="comment">     * intersection of the underlying hardware&#39;s MSR (i.e., features which</span></div>
<div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;<span class="comment">     * can be supported) and the list of features we want to expose -</span></div>
<div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;<span class="comment">     * because they are known to be properly supported in our code.</span></div>
<div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;<span class="comment">     * Also, usually, the low half of the MSRs (bits which must be 1) can</span></div>
<div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160;<span class="comment">     * be set to 0, meaning that L1 may turn off any of these bits. The</span></div>
<div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;<span class="comment">     * reason is that if one of these bits is necessary, it will appear</span></div>
<div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160;<span class="comment">     * in vmcs01 and prepare_vmcs02, when it bitwise-or&#39;s the control</span></div>
<div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;<span class="comment">     * fields of vmcs01 and vmcs02, will turn these bits off - and</span></div>
<div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;<span class="comment">     * nested_vmx_l1_wants_exit() will not pass related exits to L1.</span></div>
<div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160;<span class="comment">     * These rules have exceptions below.</span></div>
<div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160;    <a class="code" href="vmx_2nested_8c.html#a293ce144722e6cb569987f1eb0bd8beb">nested_vmx_setup_pinbased_ctls</a>(vmcs_conf, msrs);</div>
<div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160; </div>
<div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160;    <a class="code" href="vmx_2nested_8c.html#a64c4cc99b5daeae94674731b5ba26fb5">nested_vmx_setup_exit_ctls</a>(vmcs_conf, msrs);</div>
<div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160; </div>
<div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160;    <a class="code" href="vmx_2nested_8c.html#a4d1a0e3461f3c98e239ee05d131ef6f2">nested_vmx_setup_entry_ctls</a>(vmcs_conf, msrs);</div>
<div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160; </div>
<div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;    <a class="code" href="vmx_2nested_8c.html#a4f824a79c6e85b7d233802f10712eb27">nested_vmx_setup_cpubased_ctls</a>(vmcs_conf, msrs);</div>
<div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160; </div>
<div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160;    <a class="code" href="vmx_2nested_8c.html#afb047a183024df412e8c9e0e23bb607b">nested_vmx_setup_secondary_ctls</a>(<a class="code" href="structnested__vmx__msrs.html#a0d7e3bc387c9d5d6adff47ee079ea5dc">ept_caps</a>, vmcs_conf, msrs);</div>
<div class="line"><a name="l07072"></a><span class="lineno"> 7072</span>&#160; </div>
<div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;    <a class="code" href="vmx_2nested_8c.html#ab57372d0cc86b1f6a0224747b5162e0d">nested_vmx_setup_misc_data</a>(vmcs_conf, msrs);</div>
<div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160; </div>
<div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;    <a class="code" href="vmx_2nested_8c.html#a31c542dacfafdaa2f867267b4e918e74">nested_vmx_setup_basic</a>(msrs);</div>
<div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160; </div>
<div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;    <a class="code" href="vmx_2nested_8c.html#a8a9545ff968c1ac36b5999f8f702df84">nested_vmx_setup_cr_fixed</a>(msrs);</div>
<div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160; </div>
<div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;    msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#ad437951bb180680b4a9caa6197202823">vmcs_enum</a> = <a class="code" href="vmx_2nested_8c.html#a8643056054713fdfb7bd1edd5dfeb596">nested_vmx_calc_vmcs_enum_msr</a>();</div>
<div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160;}</div>
<div class="ttc" id="astructnested__vmx__msrs_html"><div class="ttname"><a href="structnested__vmx__msrs.html">nested_vmx_msrs</a></div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00027">capabilities.h:27</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_a0d7e3bc387c9d5d6adff47ee079ea5dc"><div class="ttname"><a href="structnested__vmx__msrs.html#a0d7e3bc387c9d5d6adff47ee079ea5dc">nested_vmx_msrs::ept_caps</a></div><div class="ttdeci">u32 ept_caps</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00045">capabilities.h:45</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_ad437951bb180680b4a9caa6197202823"><div class="ttname"><a href="structnested__vmx__msrs.html#ad437951bb180680b4a9caa6197202823">nested_vmx_msrs::vmcs_enum</a></div><div class="ttdeci">u64 vmcs_enum</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00052">capabilities.h:52</a></div></div>
<div class="ttc" id="astructvmcs__config_html_afd0032cd41d4f6c4cf7b2ccc805b5687"><div class="ttname"><a href="structvmcs__config.html#afd0032cd41d4f6c4cf7b2ccc805b5687">vmcs_config::nested</a></div><div class="ttdeci">struct nested_vmx_msrs nested</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00066">capabilities.h:67</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a293ce144722e6cb569987f1eb0bd8beb"><div class="ttname"><a href="vmx_2nested_8c.html#a293ce144722e6cb569987f1eb0bd8beb">nested_vmx_setup_pinbased_ctls</a></div><div class="ttdeci">static void nested_vmx_setup_pinbased_ctls(struct vmcs_config *vmcs_conf, struct nested_vmx_msrs *msrs)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l06806">nested.c:6806</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a31c542dacfafdaa2f867267b4e918e74"><div class="ttname"><a href="vmx_2nested_8c.html#a31c542dacfafdaa2f867267b4e918e74">nested_vmx_setup_basic</a></div><div class="ttdeci">static void nested_vmx_setup_basic(struct nested_vmx_msrs *msrs)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l06997">nested.c:6997</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a4d1a0e3461f3c98e239ee05d131ef6f2"><div class="ttname"><a href="vmx_2nested_8c.html#a4d1a0e3461f3c98e239ee05d131ef6f2">nested_vmx_setup_entry_ctls</a></div><div class="ttdeci">static void nested_vmx_setup_entry_ctls(struct vmcs_config *vmcs_conf, struct nested_vmx_msrs *msrs)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l06846">nested.c:6846</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a4f824a79c6e85b7d233802f10712eb27"><div class="ttname"><a href="vmx_2nested_8c.html#a4f824a79c6e85b7d233802f10712eb27">nested_vmx_setup_cpubased_ctls</a></div><div class="ttdeci">static void nested_vmx_setup_cpubased_ctls(struct vmcs_config *vmcs_conf, struct nested_vmx_msrs *msrs)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l06866">nested.c:6866</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a64c4cc99b5daeae94674731b5ba26fb5"><div class="ttname"><a href="vmx_2nested_8c.html#a64c4cc99b5daeae94674731b5ba26fb5">nested_vmx_setup_exit_ctls</a></div><div class="ttdeci">static void nested_vmx_setup_exit_ctls(struct vmcs_config *vmcs_conf, struct nested_vmx_msrs *msrs)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l06823">nested.c:6823</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a8643056054713fdfb7bd1edd5dfeb596"><div class="ttname"><a href="vmx_2nested_8c.html#a8643056054713fdfb7bd1edd5dfeb596">nested_vmx_calc_vmcs_enum_msr</a></div><div class="ttdeci">static u64 nested_vmx_calc_vmcs_enum_msr(void)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l06778">nested.c:6778</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a8a9545ff968c1ac36b5999f8f702df84"><div class="ttname"><a href="vmx_2nested_8c.html#a8a9545ff968c1ac36b5999f8f702df84">nested_vmx_setup_cr_fixed</a></div><div class="ttdeci">static void nested_vmx_setup_cr_fixed(struct nested_vmx_msrs *msrs)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l07015">nested.c:7015</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_ab57372d0cc86b1f6a0224747b5162e0d"><div class="ttname"><a href="vmx_2nested_8c.html#ab57372d0cc86b1f6a0224747b5162e0d">nested_vmx_setup_misc_data</a></div><div class="ttdeci">static void nested_vmx_setup_misc_data(struct vmcs_config *vmcs_conf, struct nested_vmx_msrs *msrs)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l06985">nested.c:6985</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_afb047a183024df412e8c9e0e23bb607b"><div class="ttname"><a href="vmx_2nested_8c.html#afb047a183024df412e8c9e0e23bb607b">nested_vmx_setup_secondary_ctls</a></div><div class="ttdeci">static void nested_vmx_setup_secondary_ctls(u32 ept_caps, struct vmcs_config *vmcs_conf, struct nested_vmx_msrs *msrs)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l06902">nested.c:6902</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a9a29ab2fcf72f604e749dc4dfefa91aa_cgraph.png" border="0" usemap="#anested_8h_a9a29ab2fcf72f604e749dc4dfefa91aa_cgraph" alt=""/></div>
<map name="anested_8h_a9a29ab2fcf72f604e749dc4dfefa91aa_cgraph" id="anested_8h_a9a29ab2fcf72f604e749dc4dfefa91aa_cgraph">
<area shape="rect" title=" " alt="" coords="5,239,220,266"/>
<area shape="rect" href="vmx_2nested_8c.html#a8643056054713fdfb7bd1edd5dfeb596" title=" " alt="" coords="304,5,481,47"/>
<area shape="rect" href="vmx_2nested_8c.html#a31c542dacfafdaa2f867267b4e918e74" title=" " alt="" coords="299,71,486,98"/>
<area shape="rect" href="vmx_2nested_8c.html#a4f824a79c6e85b7d233802f10712eb27" title=" " alt="" coords="271,122,515,149"/>
<area shape="rect" href="vmx_2nested_8c.html#a8a9545ff968c1ac36b5999f8f702df84" title=" " alt="" coords="311,173,475,215"/>
<area shape="rect" href="vmx_2nested_8c.html#a4d1a0e3461f3c98e239ee05d131ef6f2" title=" " alt="" coords="285,239,501,266"/>
<area shape="rect" href="vmx_2nested_8c.html#a64c4cc99b5daeae94674731b5ba26fb5" title=" " alt="" coords="289,290,496,317"/>
<area shape="rect" href="vmx_2nested_8c.html#ab57372d0cc86b1f6a0224747b5162e0d" title=" " alt="" coords="283,341,502,367"/>
<area shape="rect" href="vmx_2nested_8c.html#a293ce144722e6cb569987f1eb0bd8beb" title=" " alt="" coords="272,391,513,418"/>
<area shape="rect" href="vmx_2nested_8c.html#afb047a183024df412e8c9e0e23bb607b" title=" " alt="" coords="268,442,517,469"/>
<area shape="rect" href="vmcs_8h.html#a97ecf4ffb29102d2d3143f64a76219ab" title=" " alt="" coords="594,13,729,39"/>
<area shape="rect" href="capabilities_8h.html#aa2343901711fbf7e99017ddcdc9bc659" title=" " alt="" coords="565,71,757,98"/>
<area shape="rect" href="capabilities_8h.html#a81362ab692cae81056c187075fe34c10" title=" " alt="" coords="581,181,741,207"/>
<area shape="rect" href="capabilities_8h.html#a1314b5ba2def6f8b6c412c4b7cdd85e9" title=" " alt="" coords="578,442,745,469"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a9a29ab2fcf72f604e749dc4dfefa91aa_icgraph.png" border="0" usemap="#anested_8h_a9a29ab2fcf72f604e749dc4dfefa91aa_icgraph" alt=""/></div>
<map name="anested_8h_a9a29ab2fcf72f604e749dc4dfefa91aa_icgraph" id="anested_8h_a9a29ab2fcf72f604e749dc4dfefa91aa_icgraph">
<area shape="rect" title=" " alt="" coords="220,35,435,61"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="25,5,152,32"/>
<area shape="rect" href="vmx_8c.html#a4f80491d1bb705ea447e21ad9541dd80" title=" " alt="" coords="5,57,172,98"/>
</map>
</div>

</div>
</div>
<a id="ad680a323fa0378a55e97821505ba74b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad680a323fa0378a55e97821505ba74b1">&#9670;&nbsp;</a></span>nested_vmx_vmexit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nested_vmx_vmexit </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>vm_exit_reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>exit_intr_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>exit_qualification</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l04767">4767</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;{</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvcpu__vmx.html">vcpu_vmx</a> *vmx = <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(<a class="code" href="structvcpu__vmx.html#a8a60fad06a6c03c5cc25e80d9a5b0203">vcpu</a>);</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvmcs12.html">vmcs12</a> *<a class="code" href="structvmcs12.html">vmcs12</a> = <a class="code" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497">get_vmcs12</a>(vcpu);</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160; </div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;    <span class="comment">/* Pending MTF traps are discarded on VM-Exit. */</span></div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;    vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#aa6c807f387fff6948d4c6a9205103abf">mtf_pending</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160; </div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;    <span class="comment">/* trying to cancel vmlaunch/vmresume is a bug */</span></div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;    WARN_ON_ONCE(vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3d5c4bbf21743b3209afcd2eed7fe143">nested_run_pending</a>);</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160; </div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;<span class="preprocessor">#ifdef CONFIG_KVM_HYPERV</span></div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;    <span class="keywordflow">if</span> (kvm_check_request(KVM_REQ_GET_NESTED_STATE_PAGES, vcpu)) {</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;<span class="comment">         * KVM_REQ_GET_NESTED_STATE_PAGES is also used to map</span></div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;<span class="comment">         * Enlightened VMCS after migration and we still need to</span></div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;<span class="comment">         * do that when something is forcing L2-&gt;L1 exit prior to</span></div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;<span class="comment">         * the first L2 run.</span></div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;        (void)nested_get_evmcs_page(vcpu);</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;    }</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160; </div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;    <span class="comment">/* Service pending TLB flush requests for L2 before switching to L1. */</span></div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;    <a class="code" href="x86_8c.html#abf28742eaf88f469f322233afeb66b59">kvm_service_local_tlb_flush_requests</a>(vcpu);</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160; </div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;<span class="comment">     * VCPU_EXREG_PDPTR will be clobbered in arch/x86/kvm/vmx/vmx.h between</span></div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;<span class="comment">     * now and the new vmentry.  Ensure that the VMCS02 PDPTR fields are</span></div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;<span class="comment">     * up-to-date before switching to L1.</span></div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="capabilities_8h.html#abf08136dbf993f207b5536a18082c6ed">enable_ept</a> &amp;&amp; <a class="code" href="x86_8h.html#aaa36cdb43bbf6ed6af3b10deed46a436">is_pae_paging</a>(vcpu))</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;        <a class="code" href="vmx_8c.html#a930d1b832fa3d556aafacb4fea12e0a8">vmx_ept_load_pdptrs</a>(vcpu);</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160; </div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;    <a class="code" href="kvm__cache__regs_8h.html#aeca9aaff776c6158999d08d88e93e9a3">leave_guest_mode</a>(vcpu);</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160; </div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nested_8h.html#a0a93ea0427140487cadef64529af0104">nested_cpu_has_preemption_timer</a>(<a class="code" href="structvmcs12.html">vmcs12</a>))</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;        hrtimer_cancel(&amp;<a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="svm_8c.html#abe2e85eb9e667809ab7e5dd3ad442b26">nested</a>.preemption_timer);</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160; </div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nested_8h.html#ae8f95597e49047619366cbf8f1a63449">nested_cpu_has</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, CPU_BASED_USE_TSC_OFFSETTING)) {</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;        vcpu-&gt;arch.tsc_offset = vcpu-&gt;arch.l1_tsc_offset;</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e">nested_cpu_has2</a>(<a class="code" href="structvmcs12.html">vmcs12</a>, SECONDARY_EXEC_TSC_SCALING))</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;            vcpu-&gt;arch.tsc_scaling_ratio = vcpu-&gt;arch.l1_tsc_scaling_ratio;</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;    }</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160; </div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;    <span class="keywordflow">if</span> (likely(!vmx-&gt;<a class="code" href="structvcpu__vmx.html#a96b507a66cca25f47e84c160403c9225">fail</a>)) {</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;        <a class="code" href="vmx_2nested_8c.html#a44872272f3dd900f9252e772c59e8d16">sync_vmcs02_to_vmcs12</a>(vcpu, <a class="code" href="structvmcs12.html">vmcs12</a>);</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160; </div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structvmcs12.html#a0ca808110747eb652aa6ae6319bd4c70">vm_exit_reason</a> != -1)</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;            <a class="code" href="vmx_2nested_8c.html#a89a2a8ba1ff927d83a706469ef8e7214">prepare_vmcs12</a>(vcpu, <a class="code" href="structvmcs12.html">vmcs12</a>, <a class="code" href="structvmcs12.html#a0ca808110747eb652aa6ae6319bd4c70">vm_exit_reason</a>,</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;                       exit_intr_info, <a class="code" href="structvmcs12.html#a8d834830910993fafc464ee7e35de77c">exit_qualification</a>);</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160; </div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;<span class="comment">         * Must happen outside of sync_vmcs02_to_vmcs12() as it will</span></div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;<span class="comment">         * also be used to capture vmcs12 cache as part of</span></div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;<span class="comment">         * capturing nVMX state for snapshot (migration).</span></div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;<span class="comment">         * Otherwise, this flush will dirty guest memory at a</span></div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;<span class="comment">         * point it is already assumed by user-space to be</span></div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;<span class="comment">         * immutable.</span></div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;        <a class="code" href="vmx_2nested_8c.html#a084d1079969b182e5a997cae6326c36d">nested_flush_cached_shadow_vmcs12</a>(vcpu, <a class="code" href="structvmcs12.html">vmcs12</a>);</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;<span class="comment">         * The only expected VM-instruction error is &quot;VM entry with</span></div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;<span class="comment">         * invalid control field(s).&quot; Anything else indicates a</span></div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;<span class="comment">         * problem with L0.  And we should never get here with a</span></div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;<span class="comment">         * VMFail of any type if early consistency checks are enabled.</span></div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;        WARN_ON_ONCE(<a class="code" href="vmx__ops_8h.html#a8e451d9fa742dfde330958372b978485">vmcs_read32</a>(VM_INSTRUCTION_ERROR) !=</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;                 VMXERR_ENTRY_INVALID_CONTROL_FIELD);</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;        WARN_ON_ONCE(<a class="code" href="vmx_2nested_8c.html#ac3538e200438357b24ad3f4a979e8045">nested_early_check</a>);</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;    }</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160; </div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;<span class="comment">     * Drop events/exceptions that were queued for re-injection to L2</span></div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;<span class="comment">     * (picked up via vmx_complete_interrupts()), as well as exceptions</span></div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;<span class="comment">     * that were pending for L2.  Note, this must NOT be hoisted above</span></div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;<span class="comment">     * prepare_vmcs12(), events/exceptions queued for re-injection need to</span></div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;<span class="comment">     * be captured in vmcs12 (see vmcs12_save_pending_event()).</span></div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;    vcpu-&gt;arch.nmi_injected = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;    <a class="code" href="x86_8h.html#acdc826b0cd2ce8b958a826c8faa306b4">kvm_clear_exception_queue</a>(vcpu);</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;    <a class="code" href="x86_8h.html#a9dbf3d5bc7a0735443e0e21e00802160">kvm_clear_interrupt_queue</a>(vcpu);</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160; </div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;    <a class="code" href="vmx_2nested_8c.html#a5b55a1eda2dc47d6d1a238d483e6ce36">vmx_switch_vmcs</a>(vcpu, &amp;vmx-&gt;<a class="code" href="structvcpu__vmx.html#a5696a2167411da0ab4c04f1300baf285">vmcs01</a>);</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160; </div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;<span class="comment">     * If IBRS is advertised to the vCPU, KVM must flush the indirect</span></div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;<span class="comment">     * branch predictors when transitioning from L2 to L1, as L1 expects</span></div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;<span class="comment">     * hardware (KVM in this case) to provide separate predictor modes.</span></div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;<span class="comment">     * Bare metal isolates VMX root (host) from VMX non-root (guest), but</span></div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;<span class="comment">     * doesn&#39;t isolate different VMCSs, i.e. in this case, doesn&#39;t provide</span></div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;<span class="comment">     * separate modes for L2 vs L1.</span></div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9">guest_cpuid_has</a>(vcpu, X86_FEATURE_SPEC_CTRL))</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;        indirect_branch_prediction_barrier();</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160; </div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;    <span class="comment">/* Update any VMCS fields that might have changed while L2 ran */</span></div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;    <a class="code" href="vmx__ops_8h.html#a2a7e7c5e8ee913ae1811b078174df0c9">vmcs_write32</a>(VM_EXIT_MSR_LOAD_COUNT, vmx-&gt;<a class="code" href="structvcpu__vmx.html#aa2342c4a9744bc32d82ac6297fb9327c">msr_autoload</a>.<a class="code" href="structvcpu__vmx_1_1msr__autoload.html#a19dc6f076638fe7c99fcd85b0306872e">host</a>.<a class="code" href="structvmx__msrs.html#a342e6ba12c924601827052beab0afcff">nr</a>);</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;    <a class="code" href="vmx__ops_8h.html#a2a7e7c5e8ee913ae1811b078174df0c9">vmcs_write32</a>(VM_ENTRY_MSR_LOAD_COUNT, vmx-&gt;<a class="code" href="structvcpu__vmx.html#aa2342c4a9744bc32d82ac6297fb9327c">msr_autoload</a>.<a class="code" href="structvcpu__vmx_1_1msr__autoload.html#aa85a2800d89b05867169870c50c33665">guest</a>.<a class="code" href="structvmx__msrs.html#a342e6ba12c924601827052beab0afcff">nr</a>);</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;    <a class="code" href="vmx__ops_8h.html#adaa0eecfb8c7ab44b2f50999c3f65bd3">vmcs_write64</a>(TSC_OFFSET, vcpu-&gt;arch.tsc_offset);</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structkvm__caps.html">kvm_caps</a>.<a class="code" href="structkvm__caps.html#abcc6bf2008df1844dba6d861c15712a7">has_tsc_control</a>)</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;        <a class="code" href="vmx__ops_8h.html#adaa0eecfb8c7ab44b2f50999c3f65bd3">vmcs_write64</a>(TSC_MULTIPLIER, vcpu-&gt;arch.tsc_scaling_ratio);</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160; </div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;    <span class="keywordflow">if</span> (vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a63a75ce4104ef48dcd546517902ec339">l1_tpr_threshold</a> != -1)</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;        <a class="code" href="vmx__ops_8h.html#a2a7e7c5e8ee913ae1811b078174df0c9">vmcs_write32</a>(TPR_THRESHOLD, vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a63a75ce4104ef48dcd546517902ec339">l1_tpr_threshold</a>);</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160; </div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;    <span class="keywordflow">if</span> (vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#ae2614c41bfc1b399f4b3642318e36d31">change_vmcs01_virtual_apic_mode</a>) {</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;        vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#ae2614c41bfc1b399f4b3642318e36d31">change_vmcs01_virtual_apic_mode</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;        <a class="code" href="vmx_8c.html#a3f6e91eedb4d7eefd8f4007389aaac7b">vmx_set_virtual_apic_mode</a>(vcpu);</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;    }</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160; </div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;    <span class="keywordflow">if</span> (vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#adf0f60d93abc261ef32d07b7f1d195a5">update_vmcs01_cpu_dirty_logging</a>) {</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;        vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#adf0f60d93abc261ef32d07b7f1d195a5">update_vmcs01_cpu_dirty_logging</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;        <a class="code" href="vmx_8c.html#ab423eb4ed8f021a4985f4f471c891ba3">vmx_update_cpu_dirty_logging</a>(vcpu);</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;    }</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160; </div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;    <span class="comment">/* Unpin physical memory we referred to in vmcs02 */</span></div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;    <a class="code" href="kvm__main_8c.html#af9a24e7d30a38de04326c683ebc6a155">kvm_vcpu_unmap</a>(vcpu, &amp;vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#ad0f2ab36937326be594bbfcc20a52117">apic_access_page_map</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;    <a class="code" href="kvm__main_8c.html#af9a24e7d30a38de04326c683ebc6a155">kvm_vcpu_unmap</a>(vcpu, &amp;vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a1a9eb2945c90f4724dd8bfc80bb65825">virtual_apic_map</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;    <a class="code" href="kvm__main_8c.html#af9a24e7d30a38de04326c683ebc6a155">kvm_vcpu_unmap</a>(vcpu, &amp;vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#aaa7260481e59f296bb8613c8afec4d9b">pi_desc_map</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;    vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#abaee048a42e78f4e962998dc01884549">pi_desc</a> = NULL;</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160; </div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;    <span class="keywordflow">if</span> (vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a4f463129615f367a729ea41673b61c97">reload_vmcs01_apic_access_page</a>) {</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;        vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a4f463129615f367a729ea41673b61c97">reload_vmcs01_apic_access_page</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;        kvm_make_request(KVM_REQ_APIC_PAGE_RELOAD, vcpu);</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;    }</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160; </div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;    <span class="keywordflow">if</span> (vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#ac2bec5e33778a6ed433aa01d41072162">update_vmcs01_apicv_status</a>) {</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;        vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#ac2bec5e33778a6ed433aa01d41072162">update_vmcs01_apicv_status</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;        kvm_make_request(KVM_REQ_APICV_UPDATE, vcpu);</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;    }</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160; </div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="structvmcs12.html#a0ca808110747eb652aa6ae6319bd4c70">vm_exit_reason</a> != -1) &amp;&amp;</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;        (<a class="code" href="vmx_2nested_8c.html#aa94292b1409d2f52c40d8c49add2a71f">enable_shadow_vmcs</a> || <a class="code" href="vmx_2hyperv_8h.html#a806f1554b2846e31ad5a2e3bfbb272a0">nested_vmx_is_evmptr12_valid</a>(vmx)))</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;        vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#abce6aeda58a1627a5f0c29cf5815343e">need_vmcs12_to_shadow_sync</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160; </div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;    <span class="comment">/* in case we halted in L2 */</span></div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;    vcpu-&gt;arch.mp_state = KVM_MP_STATE_RUNNABLE;</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160; </div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;    <span class="keywordflow">if</span> (likely(!vmx-&gt;<a class="code" href="structvcpu__vmx.html#a96b507a66cca25f47e84c160403c9225">fail</a>)) {</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;        <span class="keywordflow">if</span> ((u16)<a class="code" href="structvmcs12.html#a0ca808110747eb652aa6ae6319bd4c70">vm_exit_reason</a> == EXIT_REASON_EXTERNAL_INTERRUPT &amp;&amp;</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;            <a class="code" href="vmx_2nested_8c.html#ae1abbe29ce23f3cf0b25b346ca87c72e">nested_exit_intr_ack_set</a>(vcpu)) {</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;            <span class="keywordtype">int</span> irq = <a class="code" href="irq_8c.html#ac65804fee79f17331667abfe171088f2">kvm_cpu_get_interrupt</a>(vcpu);</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;            WARN_ON(irq &lt; 0);</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;            <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a24209d060d7cb4ad3d514711453cb31e">vm_exit_intr_info</a> = irq |</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;                INTR_INFO_VALID_MASK | INTR_TYPE_EXT_INTR;</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;        }</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160; </div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structvmcs12.html#a0ca808110747eb652aa6ae6319bd4c70">vm_exit_reason</a> != -1)</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;            trace_kvm_nested_vmexit_inject(<a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a0ca808110747eb652aa6ae6319bd4c70">vm_exit_reason</a>,</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;                               <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a8d834830910993fafc464ee7e35de77c">exit_qualification</a>,</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;                               <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a6641a2fc51d9772e6f5cea67c1bd7ae0">idt_vectoring_info_field</a>,</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;                               <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#a24209d060d7cb4ad3d514711453cb31e">vm_exit_intr_info</a>,</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;                               <a class="code" href="structvmcs12.html">vmcs12</a>-&gt;<a class="code" href="structvmcs12.html#aa343661578210893d5f495bc08f830a0">vm_exit_intr_error_code</a>,</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;                               <a class="code" href="trace_8h.html#ab2d357fa4b87c9574d328ca03052a1d8">KVM_ISA_VMX</a>);</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160; </div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;        <a class="code" href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0">load_vmcs12_host_state</a>(vcpu, <a class="code" href="structvmcs12.html">vmcs12</a>);</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160; </div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;    }</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160; </div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;<span class="comment">     * After an early L2 VM-entry failure, we&#39;re now back</span></div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;<span class="comment">     * in L1 which thinks it just finished a VMLAUNCH or</span></div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;<span class="comment">     * VMRESUME instruction, so we need to set the failure</span></div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;<span class="comment">     * flag and the VM-instruction error field of the VMCS</span></div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;<span class="comment">     * accordingly, and skip the emulated instruction.</span></div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;    (void)<a class="code" href="vmx_2nested_8c.html#a4d1da86d40e5c09521979006a05a35e4">nested_vmx_fail</a>(vcpu, VMXERR_ENTRY_INVALID_CONTROL_FIELD);</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160; </div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;<span class="comment">     * Restore L1&#39;s host state to KVM&#39;s software model.  We&#39;re here</span></div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;<span class="comment">     * because a consistency check was caught by hardware, which</span></div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;<span class="comment">     * means some amount of guest state has been propagated to KVM&#39;s</span></div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;<span class="comment">     * model and needs to be unwound to the host&#39;s state.</span></div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;    <a class="code" href="vmx_2nested_8c.html#a001f930db9a867e828cf01b48d3e4e25">nested_vmx_restore_host_state</a>(vcpu);</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160; </div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;    vmx-&gt;<a class="code" href="structvcpu__vmx.html#a96b507a66cca25f47e84c160403c9225">fail</a> = 0;</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;}</div>
<div class="ttc" id="acpuid_8h_html_ad8c2a90f2f099af1d7ca23750d9d2eb9"><div class="ttname"><a href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9">guest_cpuid_has</a></div><div class="ttdeci">static __always_inline bool guest_cpuid_has(struct kvm_vcpu *vcpu, unsigned int x86_feature)</div><div class="ttdef"><b>Definition:</b> <a href="cpuid_8h_source.html#l00083">cpuid.h:83</a></div></div>
<div class="ttc" id="airq_8c_html_ac65804fee79f17331667abfe171088f2"><div class="ttname"><a href="irq_8c.html#ac65804fee79f17331667abfe171088f2">kvm_cpu_get_interrupt</a></div><div class="ttdeci">int kvm_cpu_get_interrupt(struct kvm_vcpu *v)</div><div class="ttdef"><b>Definition:</b> <a href="irq_8c_source.html#l00138">irq.c:138</a></div></div>
<div class="ttc" id="akvm__main_8c_html_af9a24e7d30a38de04326c683ebc6a155"><div class="ttname"><a href="kvm__main_8c.html#af9a24e7d30a38de04326c683ebc6a155">kvm_vcpu_unmap</a></div><div class="ttdeci">void kvm_vcpu_unmap(struct kvm_vcpu *vcpu, struct kvm_host_map *map, bool dirty)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__main_8c_source.html#l03186">kvm_main.c:3186</a></div></div>
<div class="ttc" id="astructkvm__caps_html"><div class="ttname"><a href="structkvm__caps.html">kvm_caps</a></div><div class="ttdef"><b>Definition:</b> <a href="x86_8h_source.html#l00012">x86.h:12</a></div></div>
<div class="ttc" id="astructkvm__caps_html_abcc6bf2008df1844dba6d861c15712a7"><div class="ttname"><a href="structkvm__caps.html#abcc6bf2008df1844dba6d861c15712a7">kvm_caps::has_tsc_control</a></div><div class="ttdeci">bool has_tsc_control</div><div class="ttdef"><b>Definition:</b> <a href="x86_8h_source.html#l00014">x86.h:14</a></div></div>
<div class="ttc" id="astructnested__vmx_html_a1a9eb2945c90f4724dd8bfc80bb65825"><div class="ttname"><a href="structnested__vmx.html#a1a9eb2945c90f4724dd8bfc80bb65825">nested_vmx::virtual_apic_map</a></div><div class="ttdeci">struct kvm_host_map virtual_apic_map</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00192">vmx.h:201</a></div></div>
<div class="ttc" id="astructnested__vmx_html_a4f463129615f367a729ea41673b61c97"><div class="ttname"><a href="structnested__vmx.html#a4f463129615f367a729ea41673b61c97">nested_vmx::reload_vmcs01_apic_access_page</a></div><div class="ttdeci">bool reload_vmcs01_apic_access_page</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00177">vmx.h:177</a></div></div>
<div class="ttc" id="astructnested__vmx_html_a63a75ce4104ef48dcd546517902ec339"><div class="ttname"><a href="structnested__vmx.html#a63a75ce4104ef48dcd546517902ec339">nested_vmx::l1_tpr_threshold</a></div><div class="ttdeci">int l1_tpr_threshold</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00229">vmx.h:229</a></div></div>
<div class="ttc" id="astructnested__vmx_html_aa6c807f387fff6948d4c6a9205103abf"><div class="ttname"><a href="structnested__vmx.html#aa6c807f387fff6948d4c6a9205103abf">nested_vmx::mtf_pending</a></div><div class="ttdeci">bool mtf_pending</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00192">vmx.h:192</a></div></div>
<div class="ttc" id="astructnested__vmx_html_aaa7260481e59f296bb8613c8afec4d9b"><div class="ttname"><a href="structnested__vmx.html#aaa7260481e59f296bb8613c8afec4d9b">nested_vmx::pi_desc_map</a></div><div class="ttdeci">struct kvm_host_map pi_desc_map</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00192">vmx.h:202</a></div></div>
<div class="ttc" id="astructnested__vmx_html_abaee048a42e78f4e962998dc01884549"><div class="ttname"><a href="structnested__vmx.html#abaee048a42e78f4e962998dc01884549">nested_vmx::pi_desc</a></div><div class="ttdeci">struct pi_desc * pi_desc</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00206">vmx.h:206</a></div></div>
<div class="ttc" id="astructnested__vmx_html_ac2bec5e33778a6ed433aa01d41072162"><div class="ttname"><a href="structnested__vmx.html#ac2bec5e33778a6ed433aa01d41072162">nested_vmx::update_vmcs01_apicv_status</a></div><div class="ttdeci">bool update_vmcs01_apicv_status</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00179">vmx.h:179</a></div></div>
<div class="ttc" id="astructnested__vmx_html_ad0f2ab36937326be594bbfcc20a52117"><div class="ttname"><a href="structnested__vmx.html#ad0f2ab36937326be594bbfcc20a52117">nested_vmx::apic_access_page_map</a></div><div class="ttdeci">struct kvm_host_map apic_access_page_map</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00192">vmx.h:200</a></div></div>
<div class="ttc" id="astructnested__vmx_html_adf0f60d93abc261ef32d07b7f1d195a5"><div class="ttname"><a href="structnested__vmx.html#adf0f60d93abc261ef32d07b7f1d195a5">nested_vmx::update_vmcs01_cpu_dirty_logging</a></div><div class="ttdeci">bool update_vmcs01_cpu_dirty_logging</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00178">vmx.h:178</a></div></div>
<div class="ttc" id="astructnested__vmx_html_ae2614c41bfc1b399f4b3642318e36d31"><div class="ttname"><a href="structnested__vmx.html#ae2614c41bfc1b399f4b3642318e36d31">nested_vmx::change_vmcs01_virtual_apic_mode</a></div><div class="ttdeci">bool change_vmcs01_virtual_apic_mode</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00176">vmx.h:176</a></div></div>
<div class="ttc" id="astructvcpu__vmx_1_1msr__autoload_html_a19dc6f076638fe7c99fcd85b0306872e"><div class="ttname"><a href="structvcpu__vmx_1_1msr__autoload.html#a19dc6f076638fe7c99fcd85b0306872e">vcpu_vmx::msr_autoload::host</a></div><div class="ttdeci">struct vmx_msrs host</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00356">vmx.h:296</a></div></div>
<div class="ttc" id="astructvcpu__vmx_1_1msr__autoload_html_aa85a2800d89b05867169870c50c33665"><div class="ttname"><a href="structvcpu__vmx_1_1msr__autoload.html#aa85a2800d89b05867169870c50c33665">vcpu_vmx::msr_autoload::guest</a></div><div class="ttdeci">struct vmx_msrs guest</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00356">vmx.h:295</a></div></div>
<div class="ttc" id="astructvcpu__vmx_html_aa2342c4a9744bc32d82ac6297fb9327c"><div class="ttname"><a href="structvcpu__vmx.html#aa2342c4a9744bc32d82ac6297fb9327c">vcpu_vmx::msr_autoload</a></div><div class="ttdeci">struct vcpu_vmx::msr_autoload msr_autoload</div></div>
<div class="ttc" id="astructvmcs12_html_a24209d060d7cb4ad3d514711453cb31e"><div class="ttname"><a href="structvmcs12.html#a24209d060d7cb4ad3d514711453cb31e">vmcs12::vm_exit_intr_info</a></div><div class="ttdeci">u32 vm_exit_intr_info</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00139">vmcs12.h:139</a></div></div>
<div class="ttc" id="astructvmcs12_html_a6641a2fc51d9772e6f5cea67c1bd7ae0"><div class="ttname"><a href="structvmcs12.html#a6641a2fc51d9772e6f5cea67c1bd7ae0">vmcs12::idt_vectoring_info_field</a></div><div class="ttdeci">u32 idt_vectoring_info_field</div><div class="ttdef"><b>Definition:</b> <a href="vmcs12_8h_source.html#l00141">vmcs12.h:141</a></div></div>
<div class="ttc" id="astructvmx__msrs_html_a342e6ba12c924601827052beab0afcff"><div class="ttname"><a href="structvmx__msrs.html#a342e6ba12c924601827052beab0afcff">vmx_msrs::nr</a></div><div class="ttdeci">unsigned int nr</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00034">vmx.h:34</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a001f930db9a867e828cf01b48d3e4e25"><div class="ttname"><a href="vmx_2nested_8c.html#a001f930db9a867e828cf01b48d3e4e25">nested_vmx_restore_host_state</a></div><div class="ttdeci">static void nested_vmx_restore_host_state(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l04657">nested.c:4657</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a084d1079969b182e5a997cae6326c36d"><div class="ttname"><a href="vmx_2nested_8c.html#a084d1079969b182e5a997cae6326c36d">nested_flush_cached_shadow_vmcs12</a></div><div class="ttdeci">static void nested_flush_cached_shadow_vmcs12(struct kvm_vcpu *vcpu, struct vmcs12 *vmcs12)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l00720">nested.c:720</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a44872272f3dd900f9252e772c59e8d16"><div class="ttname"><a href="vmx_2nested_8c.html#a44872272f3dd900f9252e772c59e8d16">sync_vmcs02_to_vmcs12</a></div><div class="ttdeci">static void sync_vmcs02_to_vmcs12(struct kvm_vcpu *vcpu, struct vmcs12 *vmcs12)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l04372">nested.c:4372</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a4d1da86d40e5c09521979006a05a35e4"><div class="ttname"><a href="vmx_2nested_8c.html#a4d1da86d40e5c09521979006a05a35e4">nested_vmx_fail</a></div><div class="ttdeci">static int nested_vmx_fail(struct kvm_vcpu *vcpu, u32 vm_instruction_error)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l00188">nested.c:188</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a89a2a8ba1ff927d83a706469ef8e7214"><div class="ttname"><a href="vmx_2nested_8c.html#a89a2a8ba1ff927d83a706469ef8e7214">prepare_vmcs12</a></div><div class="ttdeci">static void prepare_vmcs12(struct kvm_vcpu *vcpu, struct vmcs12 *vmcs12, u32 vm_exit_reason, u32 exit_intr_info, unsigned long exit_qualification)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l04453">nested.c:4453</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_ae1abbe29ce23f3cf0b25b346ca87c72e"><div class="ttname"><a href="vmx_2nested_8c.html#ae1abbe29ce23f3cf0b25b346ca87c72e">nested_exit_intr_ack_set</a></div><div class="ttdeci">static bool nested_exit_intr_ack_set(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l00743">nested.c:743</a></div></div>
<div class="ttc" id="avmx_8c_html_a3f6e91eedb4d7eefd8f4007389aaac7b"><div class="ttname"><a href="vmx_8c.html#a3f6e91eedb4d7eefd8f4007389aaac7b">vmx_set_virtual_apic_mode</a></div><div class="ttdeci">void vmx_set_virtual_apic_mode(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8c_source.html#l06694">vmx.c:6694</a></div></div>
<div class="ttc" id="avmx_8c_html_a930d1b832fa3d556aafacb4fea12e0a8"><div class="ttname"><a href="vmx_8c.html#a930d1b832fa3d556aafacb4fea12e0a8">vmx_ept_load_pdptrs</a></div><div class="ttdeci">void vmx_ept_load_pdptrs(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8c_source.html#l03231">vmx.c:3231</a></div></div>
<div class="ttc" id="avmx_8c_html_ab423eb4ed8f021a4985f4f471c891ba3"><div class="ttname"><a href="vmx_8c.html#ab423eb4ed8f021a4985f4f471c891ba3">vmx_update_cpu_dirty_logging</a></div><div class="ttdeci">void vmx_update_cpu_dirty_logging(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8c_source.html#l08110">vmx.c:8110</a></div></div>
<div class="ttc" id="avmx__ops_8h_html_a2a7e7c5e8ee913ae1811b078174df0c9"><div class="ttname"><a href="vmx__ops_8h.html#a2a7e7c5e8ee913ae1811b078174df0c9">vmcs_write32</a></div><div class="ttdeci">static __always_inline void vmcs_write32(unsigned long field, u32 value)</div><div class="ttdef"><b>Definition:</b> <a href="vmx__ops_8h_source.html#l00237">vmx_ops.h:237</a></div></div>
<div class="ttc" id="ax86_8h_html_a9dbf3d5bc7a0735443e0e21e00802160"><div class="ttname"><a href="x86_8h.html#a9dbf3d5bc7a0735443e0e21e00802160">kvm_clear_interrupt_queue</a></div><div class="ttdeci">static void kvm_clear_interrupt_queue(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8h_source.html#l00122">x86.h:122</a></div></div>
<div class="ttc" id="ax86_8h_html_aaa36cdb43bbf6ed6af3b10deed46a436"><div class="ttname"><a href="x86_8h.html#aaa36cdb43bbf6ed6af3b10deed46a436">is_pae_paging</a></div><div class="ttdeci">static bool is_pae_paging(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8h_source.html#l00203">x86.h:203</a></div></div>
<div class="ttc" id="ax86_8h_html_acdc826b0cd2ce8b958a826c8faa306b4"><div class="ttname"><a href="x86_8h.html#acdc826b0cd2ce8b958a826c8faa306b4">kvm_clear_exception_queue</a></div><div class="ttdeci">static void kvm_clear_exception_queue(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="x86_8h_source.html#l00107">x86.h:107</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ad680a323fa0378a55e97821505ba74b1_cgraph.png" border="0" usemap="#anested_8h_ad680a323fa0378a55e97821505ba74b1_cgraph" alt=""/></div>
<map name="anested_8h_ad680a323fa0378a55e97821505ba74b1_cgraph" id="anested_8h_ad680a323fa0378a55e97821505ba74b1_cgraph">
<area shape="rect" title=" " alt="" coords="5,1317,160,1344"/>
<area shape="rect" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497" title=" " alt="" coords="523,1436,625,1463"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="757,1639,827,1665"/>
<area shape="rect" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9" title=" " alt="" coords="245,56,376,83"/>
<area shape="rect" href="x86_8h.html#aaa36cdb43bbf6ed6af3b10deed46a436" title=" " alt="" coords="735,1233,849,1260"/>
<area shape="rect" href="x86_8h.html#acdc826b0cd2ce8b958a826c8faa306b4" title=" " alt="" coords="230,391,391,433"/>
<area shape="rect" href="x86_8h.html#a9dbf3d5bc7a0735443e0e21e00802160" title=" " alt="" coords="234,457,387,498"/>
<area shape="rect" href="irq_8c.html#ac65804fee79f17331667abfe171088f2" title=" " alt="" coords="225,157,397,184"/>
<area shape="rect" href="x86_8c.html#abf28742eaf88f469f322233afeb66b59" title=" " alt="" coords="227,274,394,315"/>
<area shape="rect" href="kvm__main_8c.html#af9a24e7d30a38de04326c683ebc6a155" title=" " alt="" coords="240,340,381,367"/>
<area shape="rect" href="kvm__cache__regs_8h.html#aeca9aaff776c6158999d08d88e93e9a3" title=" " alt="" coords="238,863,383,889"/>
<area shape="rect" href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0" title=" " alt="" coords="219,913,402,940"/>
<area shape="rect" href="vmx__ops_8h.html#a2a7e7c5e8ee913ae1811b078174df0c9" title=" " alt="" coords="735,711,849,737"/>
<area shape="rect" href="vmx__ops_8h.html#adaa0eecfb8c7ab44b2f50999c3f65bd3" title=" " alt="" coords="517,559,631,585"/>
<area shape="rect" href="nested_8h.html#ae8f95597e49047619366cbf8f1a63449" title=" " alt="" coords="247,1292,374,1319"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="243,1343,378,1369"/>
<area shape="rect" href="nested_8h.html#a0a93ea0427140487cadef64529af0104" title=" " alt="" coords="470,1741,678,1782"/>
<area shape="rect" href="vmx_2nested_8c.html#ae1abbe29ce23f3cf0b25b346ca87c72e" title=" " alt="" coords="219,1444,403,1471"/>
<area shape="rect" href="vmx_2nested_8c.html#a084d1079969b182e5a997cae6326c36d" title=" " alt="" coords="232,2067,389,2109"/>
<area shape="rect" href="vmx_2nested_8c.html#a4d1da86d40e5c09521979006a05a35e4" title=" " alt="" coords="245,1908,376,1935"/>
<area shape="rect" href="vmx_2hyperv_8h.html#a806f1554b2846e31ad5a2e3bfbb272a0" title=" " alt="" coords="479,1858,669,1899"/>
<area shape="rect" href="vmx_2nested_8c.html#a001f930db9a867e828cf01b48d3e4e25" title=" " alt="" coords="233,1175,388,1217"/>
<area shape="rect" href="vmx_2nested_8c.html#a89a2a8ba1ff927d83a706469ef8e7214" title=" " alt="" coords="245,1495,376,1521"/>
<area shape="rect" href="vmx__ops_8h.html#a8e451d9fa742dfde330958372b978485" title=" " alt="" coords="519,1537,629,1564"/>
<area shape="rect" href="vmx_2nested_8c.html#a44872272f3dd900f9252e772c59e8d16" title=" " alt="" coords="217,1671,405,1697"/>
<area shape="rect" href="vmx_8c.html#a930d1b832fa3d556aafacb4fea12e0a8" title=" " alt="" coords="229,573,392,600"/>
<area shape="rect" href="vmx_8c.html#a3f6e91eedb4d7eefd8f4007389aaac7b" title=" " alt="" coords="208,1960,413,1987"/>
<area shape="rect" href="vmx_2nested_8c.html#a5b55a1eda2dc47d6d1a238d483e6ce36" title=" " alt="" coords="239,2012,382,2039"/>
<area shape="rect" href="vmx_8c.html#ab423eb4ed8f021a4985f4f471c891ba3" title=" " alt="" coords="225,1597,396,1638"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="521,5,627,32"/>
<area shape="rect" href="cpuid_8h.html#af2af2645f203b5d9bad2088af0da5c1e" title=" " alt="" coords="481,56,667,83"/>
<area shape="rect" href="x86_8h.html#aad3ee550e50892e0e340061479bb284d" title=" " alt="" coords="897,1183,1009,1209"/>
<area shape="rect" href="x86_8h.html#abc2ffd79aced13c24f0c4143465d3d51" title=" " alt="" coords="921,1233,985,1260"/>
<area shape="rect" href="x86_8h.html#a716c9d1b6fc76fd454097cf39d640878" title=" " alt="" coords="911,1284,995,1311"/>
<area shape="rect" href="irq_8c.html#a0fe12d1697f3fa0b54c4a62c7be020e9" title=" " alt="" coords="497,107,651,133"/>
<area shape="rect" href="lapic_8c.html#ac6d5ae412d8199fc4aceeae42cb80024" title=" " alt="" coords="486,157,662,184"/>
<area shape="rect" href="x86_8c.html#a22cd42ca74885126586b917822876bd2" title=" " alt="" coords="499,209,649,250"/>
<area shape="rect" href="x86_8c.html#a334f9c72dae5c0a2867b04acbc2beb6e" title=" " alt="" coords="499,274,649,315"/>
<area shape="rect" href="kvm__main_8c.html#a6f9056f6dc868b557b2a2c8e1c548762" title=" " alt="" coords="507,340,641,367"/>
<area shape="rect" href="kvm__main_8c.html#ab3f118170e5a0cf30913bc0cd0a79cfd" title=" " alt="" coords="489,391,659,433"/>
<area shape="rect" href="vmx_8c.html#a02a5a7a2c625e52874076332ecc41ace" title=" " alt="" coords="496,1015,652,1041"/>
<area shape="rect" href="pmu_8h.html#ad8246d56b5d561e26e120ebcc9f2c2e7" title=" " alt="" coords="461,964,687,991"/>
<area shape="rect" href="kvm__cache__regs_8h.html#aa70071fd3a98f236b0b57a30cbec124f" title=" " alt="" coords="517,660,631,687"/>
<area shape="rect" href="kvm__cache__regs_8h.html#ac3d05504b537edf79951e929f6d76633" title=" " alt="" coords="515,913,633,940"/>
<area shape="rect" href="x86_8c.html#a0df3660fa575d077f3dd97de063e5215" title=" " alt="" coords="525,1132,623,1159"/>
<area shape="rect" href="x86_8c.html#af472ca24da6c9cd65800b5fe67e4c506" title=" " alt="" coords="737,761,847,788"/>
<area shape="rect" href="vmx_2nested_8c.html#a95cfbec68791c85884279c2fd37b8947" title=" " alt="" coords="485,1066,663,1107"/>
<area shape="rect" href="vmx_2nested_8c.html#a6af2513f1e15ee36829eb0a77016ef5a" title=" " alt="" coords="503,1335,645,1361"/>
<area shape="rect" href="vmx_2nested_8c.html#a6541b63ab236a1d9732c8ffc3c604ee9" title=" " alt="" coords="492,812,656,839"/>
<area shape="rect" href="vmx_2nested_8c.html#a5a5102b2750562a4df0ba6cda379293c" title=" " alt="" coords="489,609,659,636"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ad680a323fa0378a55e97821505ba74b1_icgraph.png" border="0" usemap="#anested_8h_ad680a323fa0378a55e97821505ba74b1_icgraph" alt=""/></div>
<map name="anested_8h_ad680a323fa0378a55e97821505ba74b1_icgraph" id="anested_8h_ad680a323fa0378a55e97821505ba74b1_icgraph">
<area shape="rect" title=" " alt="" coords="699,244,853,270"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="213,29,361,56"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="481,120,604,146"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="455,171,631,212"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="435,236,651,278"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="188,273,387,300"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="467,54,618,95"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="453,353,633,380"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="451,404,635,446"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="470,470,615,497"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="5,29,140,56"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="202,110,373,151"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="9,117,136,144"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="206,175,369,216"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="7,182,138,209"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="201,420,374,446"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="232,470,343,497"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="203,521,372,548"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="11,420,134,446"/>
</map>
</div>

</div>
</div>
<a id="ad2f904fb4c8a3a4df9428ba9db3d2af4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2f904fb4c8a3a4df9428ba9db3d2af4">&#9670;&nbsp;</a></span>vmx_get_vmx_msr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vmx_get_vmx_msr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnested__vmx__msrs.html">nested_vmx_msrs</a> *&#160;</td>
          <td class="paramname"><em>msrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>msr_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>pdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l01458">1458</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;{</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="keywordflow">switch</span> (msr_index) {</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_BASIC:</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        *pdata = msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#ae194e0ec950903068e3eef569c095453">basic</a>;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_TRUE_PINBASED_CTLS:</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_PINBASED_CTLS:</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        *pdata = <a class="code" href="vmx_2nested_8c.html#a632ecc3d2e7a195bc05a76c9f60dd009">vmx_control_msr</a>(</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;            msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#a7fe8e4e1cbb568048b8f3021a5e3adb3">pinbased_ctls_low</a>,</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#a4082714a48ddbd5ba664966cf36b33f1">pinbased_ctls_high</a>);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        <span class="keywordflow">if</span> (msr_index == MSR_IA32_VMX_PINBASED_CTLS)</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;            *pdata |= PIN_BASED_ALWAYSON_WITHOUT_TRUE_MSR;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_TRUE_PROCBASED_CTLS:</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_PROCBASED_CTLS:</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        *pdata = <a class="code" href="vmx_2nested_8c.html#a632ecc3d2e7a195bc05a76c9f60dd009">vmx_control_msr</a>(</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;            msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#aa9ecf30ab20e48d8c865a248575ffd67">procbased_ctls_low</a>,</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#a307d0af838806b667d2fbb026472140a">procbased_ctls_high</a>);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        <span class="keywordflow">if</span> (msr_index == MSR_IA32_VMX_PROCBASED_CTLS)</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;            *pdata |= CPU_BASED_ALWAYSON_WITHOUT_TRUE_MSR;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_TRUE_EXIT_CTLS:</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_EXIT_CTLS:</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        *pdata = <a class="code" href="vmx_2nested_8c.html#a632ecc3d2e7a195bc05a76c9f60dd009">vmx_control_msr</a>(</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;            msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#a8e24e8d7cd65c7046eabde9eab659051">exit_ctls_low</a>,</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#ac12892bfc664f04f882fe0fa497149a3">exit_ctls_high</a>);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <span class="keywordflow">if</span> (msr_index == MSR_IA32_VMX_EXIT_CTLS)</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            *pdata |= VM_EXIT_ALWAYSON_WITHOUT_TRUE_MSR;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_TRUE_ENTRY_CTLS:</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_ENTRY_CTLS:</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        *pdata = <a class="code" href="vmx_2nested_8c.html#a632ecc3d2e7a195bc05a76c9f60dd009">vmx_control_msr</a>(</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#add501bda2b42bb8e88ff6f1971b62ce0">entry_ctls_low</a>,</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;            msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#ae6d8bfcb9e63d880ce06ca31eb6680db">entry_ctls_high</a>);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;        <span class="keywordflow">if</span> (msr_index == MSR_IA32_VMX_ENTRY_CTLS)</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;            *pdata |= VM_ENTRY_ALWAYSON_WITHOUT_TRUE_MSR;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_MISC:</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        *pdata = <a class="code" href="vmx_2nested_8c.html#a632ecc3d2e7a195bc05a76c9f60dd009">vmx_control_msr</a>(</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;            msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#a56ab95dcf341b098f0ad1cf0362311d5">misc_low</a>,</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;            msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#a95a1731c49192c7cd53e9d24937e6f1a">misc_high</a>);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_CR0_FIXED0:</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        *pdata = msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#a3f7229b058bcdee14af00acb7f9d12a3">cr0_fixed0</a>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_CR0_FIXED1:</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        *pdata = msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#acdec6f6e21267b1bb06a64cbdda7ae98">cr0_fixed1</a>;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_CR4_FIXED0:</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        *pdata = msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#a7f803444ee9a17d4959e261ccb14496b">cr4_fixed0</a>;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_CR4_FIXED1:</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        *pdata = msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#a2f35fe8e0643fc601a68956a24f46ddb">cr4_fixed1</a>;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_VMCS_ENUM:</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        *pdata = msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#ad437951bb180680b4a9caa6197202823">vmcs_enum</a>;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_PROCBASED_CTLS2:</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        *pdata = <a class="code" href="vmx_2nested_8c.html#a632ecc3d2e7a195bc05a76c9f60dd009">vmx_control_msr</a>(</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;            msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#a951d3cb869b7a43369a012575f79e6aa">secondary_ctls_low</a>,</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#a724cd6e0744dabcb55fb05a077a33d95">secondary_ctls_high</a>);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_EPT_VPID_CAP:</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        *pdata = msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#a0d7e3bc387c9d5d6adff47ee079ea5dc">ept_caps</a> |</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;            ((u64)msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#aee498d42debe23036c941fbb7de79a41">vpid_caps</a> &lt;&lt; 32);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_VMFUNC:</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        *pdata = msrs-&gt;<a class="code" href="structnested__vmx__msrs.html#acfb8aba2176c906aff76c003f8702b41">vmfunc_controls</a>;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    }</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160; </div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;}</div>
<div class="ttc" id="astructnested__vmx__msrs_html_a4082714a48ddbd5ba664966cf36b33f1"><div class="ttname"><a href="structnested__vmx__msrs.html#a4082714a48ddbd5ba664966cf36b33f1">nested_vmx_msrs::pinbased_ctls_high</a></div><div class="ttdeci">u32 pinbased_ctls_high</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00038">capabilities.h:38</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_a7fe8e4e1cbb568048b8f3021a5e3adb3"><div class="ttname"><a href="structnested__vmx__msrs.html#a7fe8e4e1cbb568048b8f3021a5e3adb3">nested_vmx_msrs::pinbased_ctls_low</a></div><div class="ttdeci">u32 pinbased_ctls_low</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00037">capabilities.h:37</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_a8e24e8d7cd65c7046eabde9eab659051"><div class="ttname"><a href="structnested__vmx__msrs.html#a8e24e8d7cd65c7046eabde9eab659051">nested_vmx_msrs::exit_ctls_low</a></div><div class="ttdeci">u32 exit_ctls_low</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00039">capabilities.h:39</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_a951d3cb869b7a43369a012575f79e6aa"><div class="ttname"><a href="structnested__vmx__msrs.html#a951d3cb869b7a43369a012575f79e6aa">nested_vmx_msrs::secondary_ctls_low</a></div><div class="ttdeci">u32 secondary_ctls_low</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00035">capabilities.h:35</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_a95a1731c49192c7cd53e9d24937e6f1a"><div class="ttname"><a href="structnested__vmx__msrs.html#a95a1731c49192c7cd53e9d24937e6f1a">nested_vmx_msrs::misc_high</a></div><div class="ttdeci">u32 misc_high</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00044">capabilities.h:44</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_aa9ecf30ab20e48d8c865a248575ffd67"><div class="ttname"><a href="structnested__vmx__msrs.html#aa9ecf30ab20e48d8c865a248575ffd67">nested_vmx_msrs::procbased_ctls_low</a></div><div class="ttdeci">u32 procbased_ctls_low</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00033">capabilities.h:33</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_ac12892bfc664f04f882fe0fa497149a3"><div class="ttname"><a href="structnested__vmx__msrs.html#ac12892bfc664f04f882fe0fa497149a3">nested_vmx_msrs::exit_ctls_high</a></div><div class="ttdeci">u32 exit_ctls_high</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00040">capabilities.h:40</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_acfb8aba2176c906aff76c003f8702b41"><div class="ttname"><a href="structnested__vmx__msrs.html#acfb8aba2176c906aff76c003f8702b41">nested_vmx_msrs::vmfunc_controls</a></div><div class="ttdeci">u64 vmfunc_controls</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00053">capabilities.h:53</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_add501bda2b42bb8e88ff6f1971b62ce0"><div class="ttname"><a href="structnested__vmx__msrs.html#add501bda2b42bb8e88ff6f1971b62ce0">nested_vmx_msrs::entry_ctls_low</a></div><div class="ttdeci">u32 entry_ctls_low</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00041">capabilities.h:41</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_ae194e0ec950903068e3eef569c095453"><div class="ttname"><a href="structnested__vmx__msrs.html#ae194e0ec950903068e3eef569c095453">nested_vmx_msrs::basic</a></div><div class="ttdeci">u64 basic</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00047">capabilities.h:47</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_ae6d8bfcb9e63d880ce06ca31eb6680db"><div class="ttname"><a href="structnested__vmx__msrs.html#ae6d8bfcb9e63d880ce06ca31eb6680db">nested_vmx_msrs::entry_ctls_high</a></div><div class="ttdeci">u32 entry_ctls_high</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00042">capabilities.h:42</a></div></div>
<div class="ttc" id="astructnested__vmx__msrs_html_aee498d42debe23036c941fbb7de79a41"><div class="ttname"><a href="structnested__vmx__msrs.html#aee498d42debe23036c941fbb7de79a41">nested_vmx_msrs::vpid_caps</a></div><div class="ttdeci">u32 vpid_caps</div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00046">capabilities.h:46</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a632ecc3d2e7a195bc05a76c9f60dd009"><div class="ttname"><a href="vmx_2nested_8c.html#a632ecc3d2e7a195bc05a76c9f60dd009">vmx_control_msr</a></div><div class="ttdeci">static u64 vmx_control_msr(u32 low, u32 high)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l00215">nested.c:215</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ad2f904fb4c8a3a4df9428ba9db3d2af4_cgraph.png" border="0" usemap="#anested_8h_ad2f904fb4c8a3a4df9428ba9db3d2af4_cgraph" alt=""/></div>
<map name="anested_8h_ad2f904fb4c8a3a4df9428ba9db3d2af4_cgraph" id="anested_8h_ad2f904fb4c8a3a4df9428ba9db3d2af4_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,152,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a632ecc3d2e7a195bc05a76c9f60dd009" title=" " alt="" coords="200,5,335,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_ad2f904fb4c8a3a4df9428ba9db3d2af4_icgraph.png" border="0" usemap="#anested_8h_ad2f904fb4c8a3a4df9428ba9db3d2af4_icgraph" alt=""/></div>
<map name="anested_8h_ad2f904fb4c8a3a4df9428ba9db3d2af4_icgraph" id="anested_8h_ad2f904fb4c8a3a4df9428ba9db3d2af4_icgraph">
<area shape="rect" title=" " alt="" coords="219,31,365,57"/>
<area shape="rect" href="vmx_8c.html#ab6b2c94ee2868acf5be3ac9b3e02e441" title=" " alt="" coords="33,5,143,32"/>
<area shape="rect" href="vmx_8c.html#acbf8b4f8d1265bb3a9c489059d30b3e1" title=" " alt="" coords="5,56,171,83"/>
</map>
</div>

</div>
</div>
<a id="a5b993e102c382b87b77d7570fb36b3e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b993e102c382b87b77d7570fb36b3e7">&#9670;&nbsp;</a></span>vmx_has_valid_vmcs12()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int vmx_has_valid_vmcs12 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nested_8h_source.html#l00055">55</a> of file <a class="el" href="nested_8h_source.html">nested.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvcpu__vmx.html">vcpu_vmx</a> *vmx = <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(<a class="code" href="structvcpu__vmx.html#a8a60fad06a6c03c5cc25e80d9a5b0203">vcpu</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">/* &#39;hv_evmcs_vmptr&#39; can also be EVMPTR_MAP_PENDING here */</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">return</span> vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a2f5150d1c51bff8490be3d1904bc68bc">current_vmptr</a> != -1ull ||</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <a class="code" href="vmx_2hyperv_8h.html#ab6b1d4b86ad2c13f77144a0d81a8e5cb">nested_vmx_is_evmptr12_set</a>(vmx);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="ttc" id="avmx_2hyperv_8h_html_ab6b1d4b86ad2c13f77144a0d81a8e5cb"><div class="ttname"><a href="vmx_2hyperv_8h.html#ab6b1d4b86ad2c13f77144a0d81a8e5cb">nested_vmx_is_evmptr12_set</a></div><div class="ttdeci">static bool nested_vmx_is_evmptr12_set(struct vcpu_vmx *vmx)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2hyperv_8h_source.html#l00079">hyperv.h:79</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a5b993e102c382b87b77d7570fb36b3e7_cgraph.png" border="0" usemap="#anested_8h_a5b993e102c382b87b77d7570fb36b3e7_cgraph" alt=""/></div>
<map name="anested_8h_a5b993e102c382b87b77d7570fb36b3e7_cgraph" id="anested_8h_a5b993e102c382b87b77d7570fb36b3e7_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,184,57"/>
<area shape="rect" href="vmx_2hyperv_8h.html#ab6b1d4b86ad2c13f77144a0d81a8e5cb" title=" " alt="" coords="232,5,449,32"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="305,56,376,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a5b993e102c382b87b77d7570fb36b3e7_icgraph.png" border="0" usemap="#anested_8h_a5b993e102c382b87b77d7570fb36b3e7_icgraph" alt=""/></div>
<map name="anested_8h_a5b993e102c382b87b77d7570fb36b3e7_icgraph" id="anested_8h_a5b993e102c382b87b77d7570fb36b3e7_icgraph">
<area shape="rect" title=" " alt="" coords="224,5,403,32"/>
<area shape="rect" href="vmx_2nested_8c.html#ac436bd43f9cd48511bdf54c6e36fd31d" title=" " alt="" coords="5,5,176,32"/>
</map>
</div>

</div>
</div>
<a id="a64e6550fab681b40c832fe4e2d5e3b95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e6550fab681b40c832fe4e2d5e3b95">&#9670;&nbsp;</a></span>vmx_leave_nested()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vmx_leave_nested </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l06568">6568</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;{</div>
<div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="kvm__cache__regs_8h.html#afbcfc413ceedb460734eb5fd7c5c4fbc">is_guest_mode</a>(vcpu)) {</div>
<div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;        <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(vcpu)-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3d5c4bbf21743b3209afcd2eed7fe143">nested_run_pending</a> = 0;</div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;        <a class="code" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1">nested_vmx_vmexit</a>(vcpu, -1, 0, 0);</div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;    }</div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;    <a class="code" href="vmx_2nested_8c.html#ad9920ec1586ae352fbc272ed93cf7b38">free_nested</a>(vcpu);</div>
<div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;}</div>
<div class="ttc" id="akvm__cache__regs_8h_html_afbcfc413ceedb460734eb5fd7c5c4fbc"><div class="ttname"><a href="kvm__cache__regs_8h.html#afbcfc413ceedb460734eb5fd7c5c4fbc">is_guest_mode</a></div><div class="ttdeci">static bool is_guest_mode(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__cache__regs_8h_source.html#l00226">kvm_cache_regs.h:226</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_ad9920ec1586ae352fbc272ed93cf7b38"><div class="ttname"><a href="vmx_2nested_8c.html#ad9920ec1586ae352fbc272ed93cf7b38">free_nested</a></div><div class="ttdeci">static void free_nested(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l00323">nested.c:323</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a64e6550fab681b40c832fe4e2d5e3b95_cgraph.png" border="0" usemap="#anested_8h_a64e6550fab681b40c832fe4e2d5e3b95_cgraph" alt=""/></div>
<map name="anested_8h_a64e6550fab681b40c832fe4e2d5e3b95_cgraph" id="anested_8h_a64e6550fab681b40c832fe4e2d5e3b95_cgraph">
<area shape="rect" title=" " alt="" coords="5,1715,151,1741"/>
<area shape="rect" href="vmx_2nested_8c.html#ad9920ec1586ae352fbc272ed93cf7b38" title=" " alt="" coords="227,411,325,437"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="971,1276,1041,1303"/>
<area shape="rect" href="kvm__cache__regs_8h.html#afbcfc413ceedb460734eb5fd7c5c4fbc" title=" " alt="" coords="704,1849,824,1876"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="199,1319,353,1345"/>
<area shape="rect" href="vmx_8c.html#af92910217dcc55da03421a552d174080" title=" " alt="" coords="433,259,575,285"/>
<area shape="rect" href="vmx_8c.html#a171771cf05868f64b6e6491889a842e1" title=" " alt="" coords="719,309,809,336"/>
<area shape="rect" href="vmx_8c.html#af37bc0d4747f28913c3ba1da2468a563" title=" " alt="" coords="463,208,545,235"/>
<area shape="rect" href="mmu_8c.html#ab7d4e418cb85a72507e384df5027293e" title=" " alt="" coords="421,132,587,159"/>
<area shape="rect" href="kvm__main_8c.html#af9a24e7d30a38de04326c683ebc6a155" title=" " alt="" coords="693,461,835,488"/>
<area shape="rect" href="vmx_2nested_8c.html#a9738a86a0c00083ec285a0e684ca3d9b" title=" " alt="" coords="419,563,589,589"/>
<area shape="rect" href="vmx__ops_8h.html#adefc7dc8e1885fe973b3e8d58e23e0aa" title=" " alt="" coords="456,360,552,387"/>
<area shape="rect" href="vmx_2nested_8c.html#a55d2c8a54f2efa9bca7b0f3050ff7f26" title=" " alt="" coords="402,1639,606,1665"/>
<area shape="rect" href="vmx_2nested_8c.html#a5b55a1eda2dc47d6d1a238d483e6ce36" title=" " alt="" coords="433,613,575,640"/>
<area shape="rect" href="vmx_8c.html#acffc6d01ff543c9abee613b5fe1b1bd4" title=" " alt="" coords="933,592,1079,619"/>
<area shape="rect" href="mmu_8c.html#ab8e14476297a48107341bc44a29b6af9" title=" " alt="" coords="655,157,873,184"/>
<area shape="rect" href="mmu__internal_8h.html#a6491934fd3538f608b4b91245943b6fc" title=" " alt="" coords="1139,132,1339,159"/>
<area shape="rect" href="kvm__main_8c.html#aa8688eb80c9acaf8b0aa783b6ac68c16" title=" " alt="" coords="717,107,811,133"/>
<area shape="rect" href="mmu_8c.html#a5b648a843c7267d204fe81facbc9f84f" title=" " alt="" coords="683,5,845,32"/>
<area shape="rect" href="spte_8h.html#ab169c1872e98b9731a05121e0439f244" title=" " alt="" coords="961,56,1051,83"/>
<area shape="rect" href="kvm__main_8c.html#a6f9056f6dc868b557b2a2c8e1c548762" title=" " alt="" coords="939,491,1073,517"/>
<area shape="rect" href="kvm__main_8c.html#ab3f118170e5a0cf30913bc0cd0a79cfd" title=" " alt="" coords="921,425,1091,466"/>
<area shape="rect" href="vmx_2hyperv_8h.html#a806f1554b2846e31ad5a2e3bfbb272a0" title=" " alt="" coords="669,1210,859,1251"/>
<area shape="rect" href="vmx__ops_8h.html#adaa0eecfb8c7ab44b2f50999c3f65bd3" title=" " alt="" coords="707,1691,821,1717"/>
<area shape="rect" href="vmx_2nested_8c.html#a502237213cfe23fdbe2ec0468f6b06de" title=" " alt="" coords="681,665,847,706"/>
<area shape="rect" href="vmx_8c.html#a7b282a828cac2d1ae55bb522a0c42c1f" title=" " alt="" coords="681,613,847,640"/>
<area shape="rect" href="nested_8h.html#a65c62b59f6be374d9da24feaef363497" title=" " alt="" coords="713,1331,815,1357"/>
<area shape="rect" href="cpuid_8h.html#ad8c2a90f2f099af1d7ca23750d9d2eb9" title=" " alt="" coords="439,664,569,691"/>
<area shape="rect" href="x86_8h.html#aaa36cdb43bbf6ed6af3b10deed46a436" title=" " alt="" coords="707,1559,821,1585"/>
<area shape="rect" href="x86_8h.html#acdc826b0cd2ce8b958a826c8faa306b4" title=" " alt="" coords="423,918,585,959"/>
<area shape="rect" href="x86_8h.html#a9dbf3d5bc7a0735443e0e21e00802160" title=" " alt="" coords="427,983,581,1025"/>
<area shape="rect" href="irq_8c.html#ac65804fee79f17331667abfe171088f2" title=" " alt="" coords="418,1049,590,1076"/>
<area shape="rect" href="x86_8c.html#abf28742eaf88f469f322233afeb66b59" title=" " alt="" coords="421,1101,587,1142"/>
<area shape="rect" href="kvm__cache__regs_8h.html#aeca9aaff776c6158999d08d88e93e9a3" title=" " alt="" coords="431,1420,577,1447"/>
<area shape="rect" href="vmx_2nested_8c.html#a06a397c328d1656bb4d3ab073878e6f0" title=" " alt="" coords="413,2009,595,2036"/>
<area shape="rect" href="vmx__ops_8h.html#a2a7e7c5e8ee913ae1811b078174df0c9" title=" " alt="" coords="707,2035,821,2061"/>
<area shape="rect" href="nested_8h.html#ae8f95597e49047619366cbf8f1a63449" title=" " alt="" coords="441,1908,567,1935"/>
<area shape="rect" href="nested_8h.html#aa997cf53b86844ddc4f230369935239e" title=" " alt="" coords="437,1959,571,1985"/>
<area shape="rect" href="nested_8h.html#a0a93ea0427140487cadef64529af0104" title=" " alt="" coords="660,1038,868,1079"/>
<area shape="rect" href="vmx_2nested_8c.html#ae1abbe29ce23f3cf0b25b346ca87c72e" title=" " alt="" coords="412,1319,596,1345"/>
<area shape="rect" href="vmx_2nested_8c.html#a084d1079969b182e5a997cae6326c36d" title=" " alt="" coords="685,1390,843,1431"/>
<area shape="rect" href="vmx_2nested_8c.html#a4d1da86d40e5c09521979006a05a35e4" title=" " alt="" coords="439,1268,569,1295"/>
<area shape="rect" href="vmx_2nested_8c.html#a001f930db9a867e828cf01b48d3e4e25" title=" " alt="" coords="427,1522,581,1563"/>
<area shape="rect" href="vmx_2nested_8c.html#a89a2a8ba1ff927d83a706469ef8e7214" title=" " alt="" coords="439,765,569,792"/>
<area shape="rect" href="vmx__ops_8h.html#a8e451d9fa742dfde330958372b978485" title=" " alt="" coords="709,933,819,960"/>
<area shape="rect" href="vmx_2nested_8c.html#a44872272f3dd900f9252e772c59e8d16" title=" " alt="" coords="410,1167,598,1193"/>
<area shape="rect" href="vmx_8c.html#a930d1b832fa3d556aafacb4fea12e0a8" title=" " alt="" coords="423,1689,585,1716"/>
<area shape="rect" href="vmx_8c.html#a3f6e91eedb4d7eefd8f4007389aaac7b" title=" " alt="" coords="401,1791,607,1817"/>
<area shape="rect" href="vmx_8c.html#ab423eb4ed8f021a4985f4f471c891ba3" title=" " alt="" coords="419,1842,589,1883"/>
<area shape="rect" href="reverse__cpuid_8h.html#aeac4cdaa1c8b53f46ea791f355b1d08c" title=" " alt="" coords="711,781,817,808"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_a64e6550fab681b40c832fe4e2d5e3b95_icgraph.png" border="0" usemap="#anested_8h_a64e6550fab681b40c832fe4e2d5e3b95_icgraph" alt=""/></div>
<map name="anested_8h_a64e6550fab681b40c832fe4e2d5e3b95_icgraph" id="anested_8h_a64e6550fab681b40c832fe4e2d5e3b95_icgraph">
<area shape="rect" title=" " alt="" coords="397,56,543,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="176,5,349,32"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="207,56,318,83"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="178,107,347,133"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="5,5,128,32"/>
</map>
</div>

</div>
</div>
<a id="adadb0a6ac35df97508835dab926cf82c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adadb0a6ac35df97508835dab926cf82c">&#9670;&nbsp;</a></span>vmx_set_vmx_msr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vmx_set_vmx_msr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>msr_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l01393">1393</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;{</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvcpu__vmx.html">vcpu_vmx</a> *vmx = <a class="code" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4">to_vmx</a>(<a class="code" href="structvcpu__vmx.html#a8a60fad06a6c03c5cc25e80d9a5b0203">vcpu</a>);</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;<span class="comment">     * Don&#39;t allow changes to the VMX capability MSRs while the vCPU</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="comment">     * is in VMX operation.</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="keywordflow">if</span> (vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a18414c29c4cd89f92c5725e44b4064bf">vmxon</a>)</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <span class="keywordflow">return</span> -EBUSY;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">switch</span> (msr_index) {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_BASIC:</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vmx_2nested_8c.html#a84fcd5b698ded35f33b72ee5df08d91b">vmx_restore_vmx_basic</a>(vmx, data);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_PINBASED_CTLS:</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_PROCBASED_CTLS:</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_EXIT_CTLS:</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_ENTRY_CTLS:</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="comment">         * The &quot;non-true&quot; VMX capability MSRs are generated from the</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="comment">         * &quot;true&quot; MSRs, so we do not support restoring them directly.</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="comment">         * If userspace wants to emulate VMX_BASIC[55]=0, userspace</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;<span class="comment">         * should restore the &quot;true&quot; MSRs with the must-be-1 bits</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="comment">         * set according to the SDM Vol 3. A.2 &quot;RESERVED CONTROLS AND</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="comment">         * DEFAULT SETTINGS&quot;.</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_TRUE_PINBASED_CTLS:</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_TRUE_PROCBASED_CTLS:</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_TRUE_EXIT_CTLS:</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_TRUE_ENTRY_CTLS:</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_PROCBASED_CTLS2:</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vmx_2nested_8c.html#a3a6b288713b091b4e4912cc36dead3d6">vmx_restore_control_msr</a>(vmx, msr_index, data);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_MISC:</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vmx_2nested_8c.html#af055c918e823daf2608dfdb8970597cf">vmx_restore_vmx_misc</a>(vmx, data);</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_CR0_FIXED0:</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_CR4_FIXED0:</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vmx_2nested_8c.html#a98862ef6f97aa218182c89a582d0b253">vmx_restore_fixed0_msr</a>(vmx, msr_index, data);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_CR0_FIXED1:</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_CR4_FIXED1:</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;<span class="comment">         * These MSRs are generated based on the vCPU&#39;s CPUID, so we</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="comment">         * do not support restoring them directly.</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_EPT_VPID_CAP:</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vmx_2nested_8c.html#a45108f77b5248eeb85f6009dac843a7e">vmx_restore_vmx_ept_vpid_cap</a>(vmx, data);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_VMCS_ENUM:</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3c74c9a54bf9a345d79f43fb57df3589">msrs</a>.<a class="code" href="structnested__vmx__msrs.html#ad437951bb180680b4a9caa6197202823">vmcs_enum</a> = data;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">case</span> MSR_IA32_VMX_VMFUNC:</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        <span class="keywordflow">if</span> (data &amp; ~<a class="code" href="structvmcs__config.html">vmcs_config</a>.<a class="code" href="structvmcs__config.html#afd0032cd41d4f6c4cf7b2ccc805b5687">nested</a>.<a class="code" href="structnested__vmx__msrs.html#acfb8aba2176c906aff76c003f8702b41">vmfunc_controls</a>)</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        vmx-&gt;<a class="code" href="structvcpu__vmx.html#a8c239bf06e666ec62b7ff19f1e2966bf">nested</a>.<a class="code" href="structnested__vmx.html#a3c74c9a54bf9a345d79f43fb57df3589">msrs</a>.<a class="code" href="structnested__vmx__msrs.html#acfb8aba2176c906aff76c003f8702b41">vmfunc_controls</a> = data;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;<span class="comment">         * The rest of the VMX capability MSRs do not support restore.</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;}</div>
<div class="ttc" id="astructnested__vmx_html_a18414c29c4cd89f92c5725e44b4064bf"><div class="ttname"><a href="structnested__vmx.html#a18414c29c4cd89f92c5725e44b4064bf">nested_vmx::vmxon</a></div><div class="ttdeci">bool vmxon</div><div class="ttdef"><b>Definition:</b> <a href="vmx_8h_source.html#l00118">vmx.h:118</a></div></div>
<div class="ttc" id="astructvmcs__config_html"><div class="ttname"><a href="structvmcs__config.html">vmcs_config</a></div><div class="ttdef"><b>Definition:</b> <a href="capabilities_8h_source.html#l00056">capabilities.h:56</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a3a6b288713b091b4e4912cc36dead3d6"><div class="ttname"><a href="vmx_2nested_8c.html#a3a6b288713b091b4e4912cc36dead3d6">vmx_restore_control_msr</a></div><div class="ttdeci">static int vmx_restore_control_msr(struct vcpu_vmx *vmx, u32 msr_index, u64 data)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l01289">nested.c:1289</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a45108f77b5248eeb85f6009dac843a7e"><div class="ttname"><a href="vmx_2nested_8c.html#a45108f77b5248eeb85f6009dac843a7e">vmx_restore_vmx_ept_vpid_cap</a></div><div class="ttdeci">static int vmx_restore_vmx_ept_vpid_cap(struct vcpu_vmx *vmx, u64 data)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l01347">nested.c:1347</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a84fcd5b698ded35f33b72ee5df08d91b"><div class="ttname"><a href="vmx_2nested_8c.html#a84fcd5b698ded35f33b72ee5df08d91b">vmx_restore_vmx_basic</a></div><div class="ttdeci">static int vmx_restore_vmx_basic(struct vcpu_vmx *vmx, u64 data)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l01229">nested.c:1229</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_a98862ef6f97aa218182c89a582d0b253"><div class="ttname"><a href="vmx_2nested_8c.html#a98862ef6f97aa218182c89a582d0b253">vmx_restore_fixed0_msr</a></div><div class="ttdeci">static int vmx_restore_fixed0_msr(struct vcpu_vmx *vmx, u32 msr_index, u64 data)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l01373">nested.c:1373</a></div></div>
<div class="ttc" id="avmx_2nested_8c_html_af055c918e823daf2608dfdb8970597cf"><div class="ttname"><a href="vmx_2nested_8c.html#af055c918e823daf2608dfdb8970597cf">vmx_restore_vmx_misc</a></div><div class="ttdeci">static int vmx_restore_vmx_misc(struct vcpu_vmx *vmx, u64 data)</div><div class="ttdef"><b>Definition:</b> <a href="vmx_2nested_8c_source.html#l01312">nested.c:1312</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_adadb0a6ac35df97508835dab926cf82c_cgraph.png" border="0" usemap="#anested_8h_adadb0a6ac35df97508835dab926cf82c_cgraph" alt=""/></div>
<map name="anested_8h_adadb0a6ac35df97508835dab926cf82c_cgraph" id="anested_8h_adadb0a6ac35df97508835dab926cf82c_cgraph">
<area shape="rect" title=" " alt="" coords="5,136,152,163"/>
<area shape="rect" href="vmx_8h.html#a6e0cb34c77519a9be4432b4dd4ec11b4" title=" " alt="" coords="259,5,329,32"/>
<area shape="rect" href="vmx_2nested_8c.html#a3a6b288713b091b4e4912cc36dead3d6" title=" " alt="" coords="200,56,388,83"/>
<area shape="rect" href="vmx_2nested_8c.html#a98862ef6f97aa218182c89a582d0b253" title=" " alt="" coords="203,275,385,301"/>
<area shape="rect" href="vmx_2nested_8c.html#a84fcd5b698ded35f33b72ee5df08d91b" title=" " alt="" coords="203,224,385,251"/>
<area shape="rect" href="vmx_2nested_8c.html#a45108f77b5248eeb85f6009dac843a7e" title=" " alt="" coords="210,158,378,199"/>
<area shape="rect" href="vmx_2nested_8c.html#af055c918e823daf2608dfdb8970597cf" title=" " alt="" coords="205,107,383,133"/>
<area shape="rect" href="vmx_2nested_8c.html#a68e6b5254a77dfaab76d4cf12c33ace6" title=" " alt="" coords="449,165,586,192"/>
<area shape="rect" href="vmx_2nested_8c.html#a632ecc3d2e7a195bc05a76c9f60dd009" title=" " alt="" coords="450,107,585,133"/>
<area shape="rect" href="vmx_2nested_8c.html#af203ddbd9c70bdee8b504e13bf3f9904" title=" " alt="" coords="436,56,599,83"/>
<area shape="rect" href="vmx_2nested_8c.html#ad28694fe191938712a347cd40f09a219" title=" " alt="" coords="439,275,596,301"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nested_8h_adadb0a6ac35df97508835dab926cf82c_icgraph.png" border="0" usemap="#anested_8h_adadb0a6ac35df97508835dab926cf82c_icgraph" alt=""/></div>
<map name="anested_8h_adadb0a6ac35df97508835dab926cf82c_icgraph" id="anested_8h_adadb0a6ac35df97508835dab926cf82c_icgraph">
<area shape="rect" title=" " alt="" coords="164,5,311,32"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="5,5,116,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6729479f193f8edbe2215b4d439cb421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6729479f193f8edbe2215b4d439cb421">&#9670;&nbsp;</a></span>vmx_nested_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct kvm_x86_nested_ops vmx_nested_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vmx_2nested_8c_source.html#l07092">7092</a> of file <a class="el" href="vmx_2nested_8c_source.html">nested.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
