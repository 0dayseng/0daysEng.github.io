<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KVM: arch/x86/kvm/i8259.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ea9599923402ca8ab47fc3e495999dea.html">arch</a></li><li class="navelem"><a class="el" href="dir_c21774f8bc9f0de15163573e5f5fa2b5.html">x86</a></li><li class="navelem"><a class="el" href="dir_fde450fd4b58e2560c53a1e73bfa4d6d.html">kvm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">i8259.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/mm.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/bitops.h&gt;</code><br />
<code>#include &quot;<a class="el" href="irq_8h_source.html">irq.h</a>&quot;</code><br />
<code>#include &lt;linux/kvm_host.h&gt;</code><br />
<code>#include &quot;<a class="el" href="trace_8h_source.html">trace.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for i8259.c:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c__incl.png" border="0" usemap="#aarch_2x86_2kvm_2i8259_8c" alt=""/></div>
<map name="aarch_2x86_2kvm_2i8259_8c" id="aarch_2x86_2kvm_2i8259_8c">
<area shape="rect" title=" " alt="" coords="268,5,431,32"/>
<area shape="rect" title=" " alt="" coords="5,80,101,107"/>
<area shape="rect" title=" " alt="" coords="126,80,223,107"/>
<area shape="rect" title=" " alt="" coords="247,80,358,107"/>
<area shape="rect" href="irq_8h.html" title=" " alt="" coords="717,80,768,107"/>
<area shape="rect" title=" " alt="" coords="781,453,915,480"/>
<area shape="rect" href="trace_8h.html" title=" " alt="" coords="1840,80,1907,107"/>
<area shape="rect" title=" " alt="" coords="948,155,1087,181"/>
<area shape="rect" title=" " alt="" coords="517,155,635,181"/>
<area shape="rect" title=" " alt="" coords="799,155,923,181"/>
<area shape="rect" href="iodev_8h.html" title=" " alt="" coords="602,229,705,256"/>
<area shape="rect" href="lapic_8h.html" title=" " alt="" coords="710,155,775,181"/>
<area shape="rect" title=" " alt="" coords="434,304,577,331"/>
<area shape="rect" title=" " alt="" coords="601,304,705,331"/>
<area shape="rect" href="hyperv_8h.html" title=" " alt="" coords="781,229,859,256"/>
<area shape="rect" href="smm_8h.html" title=" " alt="" coords="992,229,1059,256"/>
<area shape="rect" href="x86_8h.html" title=" " alt="" coords="1035,304,1093,331"/>
<area shape="rect" title=" " alt="" coords="1050,379,1182,405"/>
<area shape="rect" title=" " alt="" coords="1206,379,1301,405"/>
<area shape="rect" title=" " alt="" coords="1325,379,1441,405"/>
<area shape="rect" href="kvm__cache__regs_8h.html" title=" " alt="" coords="831,379,974,405"/>
<area shape="rect" href="kvm__emulate_8h.html" title=" " alt="" coords="1517,379,1641,405"/>
<area shape="rect" title=" " alt="" coords="1572,453,1703,480"/>
<area shape="rect" href="fpu_8h.html" title=" " alt="" coords="1493,453,1547,480"/>
<area shape="rect" title=" " alt="" coords="1465,528,1575,555"/>
<area shape="rect" title=" " alt="" coords="1117,304,1251,331"/>
<area shape="rect" title=" " alt="" coords="2144,155,2280,181"/>
<area shape="rect" title=" " alt="" coords="2305,155,2399,181"/>
<area shape="rect" title=" " alt="" coords="1517,155,1611,181"/>
<area shape="rect" title=" " alt="" coords="1635,155,1778,181"/>
<area shape="rect" title=" " alt="" coords="1803,155,1944,181"/>
<area shape="rect" title=" " alt="" coords="1969,155,2119,181"/>
</map>
</div>
</div>
<p><a href="i8259_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1f8c165bf4196327bc3abff648276d92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a1f8c165bf4196327bc3abff648276d92">pr_fmt</a>(fmt)&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td></tr>
<tr class="separator:a1f8c165bf4196327bc3abff648276d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26d6f8eb3f3ff70449034ff9a86f0370"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a26d6f8eb3f3ff70449034ff9a86f0370">pr_pic_unimpl</a>(fmt, ...)&#160;&#160;&#160;	pr_err_ratelimited(&quot;pic: &quot; fmt, ## __VA_ARGS__)</td></tr>
<tr class="separator:a26d6f8eb3f3ff70449034ff9a86f0370"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a75c69cdd42cc8bd25d43754650df665a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a">pic_irq_request</a> (struct kvm *kvm, int level)</td></tr>
<tr class="separator:a75c69cdd42cc8bd25d43754650df665a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4af2817e73f33914b0f546581363266"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266">pic_lock</a> (struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *s) __acquires(&amp;s -&gt; lock)</td></tr>
<tr class="separator:ac4af2817e73f33914b0f546581363266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f534b69587aeb30f8853f3eb4a35071"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071">pic_unlock</a> (struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *s) __releases(&amp;s -&gt; lock)</td></tr>
<tr class="separator:a1f534b69587aeb30f8853f3eb4a35071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72eab34ac8b4a80698a92f06b8afe71e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e">pic_clear_isr</a> (struct <a class="el" href="structkvm__kpic__state.html">kvm_kpic_state</a> *s, int irq)</td></tr>
<tr class="separator:a72eab34ac8b4a80698a92f06b8afe71e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a825dac14ef02aee4e475b5c433277680"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680">pic_set_irq1</a> (struct <a class="el" href="structkvm__kpic__state.html">kvm_kpic_state</a> *s, int irq, int level)</td></tr>
<tr class="separator:a825dac14ef02aee4e475b5c433277680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae449c0799bbeb905e44e84d601abbfc8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8">get_priority</a> (struct <a class="el" href="structkvm__kpic__state.html">kvm_kpic_state</a> *s, int mask)</td></tr>
<tr class="separator:ae449c0799bbeb905e44e84d601abbfc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fc7730f00dd8150c255c8aa3c8d5c5c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c">pic_get_irq</a> (struct <a class="el" href="structkvm__kpic__state.html">kvm_kpic_state</a> *s)</td></tr>
<tr class="separator:a3fc7730f00dd8150c255c8aa3c8d5c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2a1af170975b4e108adc2574cd2fcc8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8">pic_update_irq</a> (struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *s)</td></tr>
<tr class="separator:af2a1af170975b4e108adc2574cd2fcc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6620b725f8a47ecc7341e68ca3660df5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a6620b725f8a47ecc7341e68ca3660df5">kvm_pic_update_irq</a> (struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *s)</td></tr>
<tr class="separator:a6620b725f8a47ecc7341e68ca3660df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1488ed2670af0e636f7384f69e1894a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a1488ed2670af0e636f7384f69e1894a9">kvm_pic_set_irq</a> (struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *s, int irq, int irq_source_id, int level)</td></tr>
<tr class="separator:a1488ed2670af0e636f7384f69e1894a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fef735273cc243ab0c60985526cf753"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a4fef735273cc243ab0c60985526cf753">kvm_pic_clear_all</a> (struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *s, int irq_source_id)</td></tr>
<tr class="separator:a4fef735273cc243ab0c60985526cf753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ba411d40431f30cb5876e8a911e65a0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a1ba411d40431f30cb5876e8a911e65a0">pic_intack</a> (struct <a class="el" href="structkvm__kpic__state.html">kvm_kpic_state</a> *s, int irq)</td></tr>
<tr class="separator:a1ba411d40431f30cb5876e8a911e65a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f84274a6b9f1ae6381e9e5f413dd481"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a6f84274a6b9f1ae6381e9e5f413dd481">kvm_pic_read_irq</a> (struct kvm *kvm)</td></tr>
<tr class="separator:a6f84274a6b9f1ae6381e9e5f413dd481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f0eb17c76875b81e91fd32b0badc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a20f0eb17c76875b81e91fd32b0badc04">kvm_pic_reset</a> (struct <a class="el" href="structkvm__kpic__state.html">kvm_kpic_state</a> *s)</td></tr>
<tr class="separator:a20f0eb17c76875b81e91fd32b0badc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23bf40906f1f0a0a84ce4af0956a8b2a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a">pic_ioport_write</a> (void *opaque, u32 addr, u32 val)</td></tr>
<tr class="separator:a23bf40906f1f0a0a84ce4af0956a8b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf97ac474f6610c461ba9cfad24f315a"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a">pic_poll_read</a> (struct <a class="el" href="structkvm__kpic__state.html">kvm_kpic_state</a> *s, u32 addr1)</td></tr>
<tr class="separator:adf97ac474f6610c461ba9cfad24f315a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa289ef7e53d6785652798eb8f1208990"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990">pic_ioport_read</a> (void *opaque, u32 addr)</td></tr>
<tr class="separator:aa289ef7e53d6785652798eb8f1208990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2398bfd60e7fca98a4aac0300fefed1f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a2398bfd60e7fca98a4aac0300fefed1f">elcr_ioport_write</a> (void *opaque, u32 val)</td></tr>
<tr class="separator:a2398bfd60e7fca98a4aac0300fefed1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af79afa82cfe2d741396263e452bea90f"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#af79afa82cfe2d741396263e452bea90f">elcr_ioport_read</a> (void *opaque)</td></tr>
<tr class="separator:af79afa82cfe2d741396263e452bea90f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3cc418e9d82e9cca43e01425f76b366"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366">picdev_write</a> (struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *s, gpa_t addr, int len, const void *val)</td></tr>
<tr class="separator:ad3cc418e9d82e9cca43e01425f76b366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1484dfc37fa586b115d6645c7dcc88b2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2">picdev_read</a> (struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *s, gpa_t addr, int len, void *val)</td></tr>
<tr class="separator:a1484dfc37fa586b115d6645c7dcc88b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af278e56bd6082ee3f6573cf2e4f23543"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543">picdev_master_write</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structkvm__io__device.html">kvm_io_device</a> *dev, gpa_t addr, int len, const void *val)</td></tr>
<tr class="separator:af278e56bd6082ee3f6573cf2e4f23543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8a7faf6a5b5c72ce0ecf20f7beda6ba"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba">picdev_master_read</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structkvm__io__device.html">kvm_io_device</a> *dev, gpa_t addr, int len, void *val)</td></tr>
<tr class="separator:ac8a7faf6a5b5c72ce0ecf20f7beda6ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64b171826283830f6a0b3ed866b7931c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c">picdev_slave_write</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structkvm__io__device.html">kvm_io_device</a> *dev, gpa_t addr, int len, const void *val)</td></tr>
<tr class="separator:a64b171826283830f6a0b3ed866b7931c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dcc0815ffa7a5cc6aa28327488d8f82"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82">picdev_slave_read</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structkvm__io__device.html">kvm_io_device</a> *dev, gpa_t addr, int len, void *val)</td></tr>
<tr class="separator:a6dcc0815ffa7a5cc6aa28327488d8f82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dc9bd64afa719e7b8253ee3db6fa85b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b">picdev_elcr_write</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structkvm__io__device.html">kvm_io_device</a> *dev, gpa_t addr, int len, const void *val)</td></tr>
<tr class="separator:a1dc9bd64afa719e7b8253ee3db6fa85b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90b8b13ef894f381c91ad0a92ef4b2c9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9">picdev_elcr_read</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structkvm__io__device.html">kvm_io_device</a> *dev, gpa_t addr, int len, void *val)</td></tr>
<tr class="separator:a90b8b13ef894f381c91ad0a92ef4b2c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5080582d1831f8ec6bf2b3264e6c3e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#ac5080582d1831f8ec6bf2b3264e6c3e0">kvm_pic_init</a> (struct kvm *kvm)</td></tr>
<tr class="separator:ac5080582d1831f8ec6bf2b3264e6c3e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48d54ace62d2b40899cadfddf0b70781"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a48d54ace62d2b40899cadfddf0b70781">kvm_pic_destroy</a> (struct kvm *kvm)</td></tr>
<tr class="separator:a48d54ace62d2b40899cadfddf0b70781"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa35cc43aa9c63a40093c425bba59c1c5"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structkvm__io__device__ops.html">kvm_io_device_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#aa35cc43aa9c63a40093c425bba59c1c5">picdev_master_ops</a></td></tr>
<tr class="separator:aa35cc43aa9c63a40093c425bba59c1c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f4d85fe684c66dc6ddf104baa1d9c9"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structkvm__io__device__ops.html">kvm_io_device_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#af7f4d85fe684c66dc6ddf104baa1d9c9">picdev_slave_ops</a></td></tr>
<tr class="separator:af7f4d85fe684c66dc6ddf104baa1d9c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8404f46dab645805283ac1cdbf2d37aa"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structkvm__io__device__ops.html">kvm_io_device_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="i8259_8c.html#a8404f46dab645805283ac1cdbf2d37aa">picdev_elcr_ops</a></td></tr>
<tr class="separator:a8404f46dab645805283ac1cdbf2d37aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1f8c165bf4196327bc3abff648276d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8c165bf4196327bc3abff648276d92">&#9670;&nbsp;</a></span>pr_fmt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pr_fmt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt</td><td>)</td>
          <td>&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00029">29</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>

</div>
</div>
<a id="a26d6f8eb3f3ff70449034ff9a86f0370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26d6f8eb3f3ff70449034ff9a86f0370">&#9670;&nbsp;</a></span>pr_pic_unimpl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pr_pic_unimpl</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;	pr_err_ratelimited(&quot;pic: &quot; fmt, ## __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00039">39</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af79afa82cfe2d741396263e452bea90f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af79afa82cfe2d741396263e452bea90f">&#9670;&nbsp;</a></span>elcr_ioport_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u32 elcr_ioport_read </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opaque</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00450">450</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keyword">struct </span><a class="code" href="structkvm__kpic__state.html">kvm_kpic_state</a> *s = opaque;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">return</span> s-&gt;<a class="code" href="structkvm__kpic__state.html#a4ceb2d2133d4dd2ebf7d411f8ae881d8">elcr</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div>
<div class="ttc" id="astructkvm__kpic__state_html"><div class="ttname"><a href="structkvm__kpic__state.html">kvm_kpic_state</a></div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00028">irq.h:28</a></div></div>
<div class="ttc" id="astructkvm__kpic__state_html_a4ceb2d2133d4dd2ebf7d411f8ae881d8"><div class="ttname"><a href="structkvm__kpic__state.html#a4ceb2d2133d4dd2ebf7d411f8ae881d8">kvm_kpic_state::elcr</a></div><div class="ttdeci">u8 elcr</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00043">irq.h:43</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_af79afa82cfe2d741396263e452bea90f_icgraph.png" border="0" usemap="#ai8259_8c_af79afa82cfe2d741396263e452bea90f_icgraph" alt=""/></div>
<map name="ai8259_8c_af79afa82cfe2d741396263e452bea90f_icgraph" id="ai8259_8c_af79afa82cfe2d741396263e452bea90f_icgraph">
<area shape="rect" title=" " alt="" coords="357,56,484,83"/>
<area shape="rect" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2" title=" " alt="" coords="208,56,309,83"/>
<area shape="rect" href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9" title=" " alt="" coords="17,5,149,32"/>
<area shape="rect" href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba" title=" " alt="" coords="5,56,160,83"/>
<area shape="rect" href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82" title=" " alt="" coords="11,107,154,133"/>
</map>
</div>

</div>
</div>
<a id="a2398bfd60e7fca98a4aac0300fefed1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2398bfd60e7fca98a4aac0300fefed1f">&#9670;&nbsp;</a></span>elcr_ioport_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void elcr_ioport_write </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opaque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00444">444</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;{</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keyword">struct </span><a class="code" href="structkvm__kpic__state.html">kvm_kpic_state</a> *s = opaque;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    s-&gt;<a class="code" href="structkvm__kpic__state.html#a4ceb2d2133d4dd2ebf7d411f8ae881d8">elcr</a> = val &amp; s-&gt;<a class="code" href="structkvm__kpic__state.html#a466643da659a37d9128600a9a4f34346">elcr_mask</a>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div>
<div class="ttc" id="astructkvm__kpic__state_html_a466643da659a37d9128600a9a4f34346"><div class="ttname"><a href="structkvm__kpic__state.html#a466643da659a37d9128600a9a4f34346">kvm_kpic_state::elcr_mask</a></div><div class="ttdeci">u8 elcr_mask</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00044">irq.h:44</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a2398bfd60e7fca98a4aac0300fefed1f_icgraph.png" border="0" usemap="#ai8259_8c_a2398bfd60e7fca98a4aac0300fefed1f_icgraph" alt=""/></div>
<map name="ai8259_8c_a2398bfd60e7fca98a4aac0300fefed1f_icgraph" id="ai8259_8c_a2398bfd60e7fca98a4aac0300fefed1f_icgraph">
<area shape="rect" title=" " alt="" coords="365,56,496,83"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="212,56,317,83"/>
<area shape="rect" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b" title=" " alt="" coords="17,5,153,32"/>
<area shape="rect" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543" title=" " alt="" coords="5,56,164,83"/>
<area shape="rect" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c" title=" " alt="" coords="11,107,158,133"/>
</map>
</div>

</div>
</div>
<a id="ae449c0799bbeb905e44e84d601abbfc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae449c0799bbeb905e44e84d601abbfc8">&#9670;&nbsp;</a></span>get_priority()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_priority </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__kpic__state.html">kvm_kpic_state</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00121">121</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordtype">int</span> priority;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span> (mask == 0)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">return</span> 8;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    priority = 0;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">while</span> ((mask &amp; (1 &lt;&lt; ((priority + s-&gt;<a class="code" href="structkvm__kpic__state.html#a41ba129ecb66f4fa7645b619f6c145ae">priority_add</a>) &amp; 7))) == 0)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        priority++;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">return</span> priority;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
<div class="ttc" id="astructkvm__kpic__state_html_a41ba129ecb66f4fa7645b619f6c145ae"><div class="ttname"><a href="structkvm__kpic__state.html#a41ba129ecb66f4fa7645b619f6c145ae">kvm_kpic_state::priority_add</a></div><div class="ttdeci">u8 priority_add</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00033">irq.h:33</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_ae449c0799bbeb905e44e84d601abbfc8_icgraph.png" border="0" usemap="#ai8259_8c_ae449c0799bbeb905e44e84d601abbfc8_icgraph" alt=""/></div>
<map name="ai8259_8c_ae449c0799bbeb905e44e84d601abbfc8_icgraph" id="ai8259_8c_ae449c0799bbeb905e44e84d601abbfc8_icgraph">
<area shape="rect" title=" " alt="" coords="2109,239,2207,265"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="1968,188,2061,215"/>
<area shape="rect" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a" title=" " alt="" coords="1615,264,1741,291"/>
<area shape="rect" href="i8259_8c.html#a6f84274a6b9f1ae6381e9e5f413dd481" title=" " alt="" coords="1609,213,1747,240"/>
<area shape="rect" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a" title=" " alt="" coords="1624,61,1732,88"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="1803,163,1920,189"/>
<area shape="rect" href="irq_8c.html#a0fe12d1697f3fa0b54c4a62c7be020e9" title=" " alt="" coords="1380,215,1535,241"/>
<area shape="rect" href="irq_8c.html#ac65804fee79f17331667abfe171088f2" title=" " alt="" coords="1141,216,1313,243"/>
<area shape="rect" href="x86_8c.html#a2b372d06c72b7d8c25e9004bb3a3fd3b" title=" " alt="" coords="923,209,1093,250"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="931,472,1085,499"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="698,216,835,243"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="471,216,552,243"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="177,216,364,243"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,216,129,243"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="437,435,585,461"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="705,501,828,528"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="679,553,855,594"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="659,670,875,711"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="412,648,611,675"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="691,435,842,477"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="677,736,857,763"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="675,267,859,309"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="694,333,839,360"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="203,435,338,461"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="426,487,597,529"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="207,495,334,521"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="430,553,593,594"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="205,560,336,587"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="425,333,598,360"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="456,384,567,411"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="427,283,596,309"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="209,333,332,360"/>
<area shape="rect" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990" title=" " alt="" coords="1396,57,1519,84"/>
<area shape="rect" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2" title=" " alt="" coords="1177,57,1278,84"/>
<area shape="rect" href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9" title=" " alt="" coords="942,107,1074,133"/>
<area shape="rect" href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba" title=" " alt="" coords="931,5,1085,32"/>
<area shape="rect" href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82" title=" " alt="" coords="937,56,1079,83"/>
<area shape="rect" href="i8259_8c.html#a1488ed2670af0e636f7384f69e1894a9" title=" " alt="" coords="1614,163,1742,189"/>
<area shape="rect" href="i8259_8c.html#a6620b725f8a47ecc7341e68ca3660df5" title=" " alt="" coords="1601,112,1755,139"/>
<area shape="rect" href="irq__comm_8c.html#a1a4786be0e9713da805fb63743a7f340" title=" " alt="" coords="1393,163,1521,189"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="1141,163,1313,189"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="932,157,1084,184"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="689,157,844,184"/>
<area shape="rect" href="irq_8h.html#aaf23e09ccf4b445556e56ea8598e1311" title=" " alt="" coords="428,150,595,191"/>
<area shape="rect" href="x86_8c.html#a9c81b1b4617fffe8115b748bf5f13860" title=" " alt="" coords="1361,112,1553,139"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="1153,112,1302,139"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="1405,292,1510,319"/>
<area shape="rect" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b" title=" " alt="" coords="1159,368,1295,395"/>
<area shape="rect" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543" title=" " alt="" coords="1148,267,1307,293"/>
<area shape="rect" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c" title=" " alt="" coords="1154,317,1301,344"/>
</map>
</div>

</div>
</div>
<a id="a4fef735273cc243ab0c60985526cf753"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fef735273cc243ab0c60985526cf753">&#9670;&nbsp;</a></span>kvm_pic_clear_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_pic_clear_all </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq_source_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00206">206</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266">pic_lock</a>(s);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="irq_8h.html#a80ce9c55d9566830e9ce89ef1cf4f91f">PIC_NUM_PINS</a>; i++)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        __clear_bit(irq_source_id, &amp;s-&gt;<a class="code" href="structkvm__pic.html#adc47ed8138813a259460bbb6cb1407b0">irq_states</a>[i]);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071">pic_unlock</a>(s);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_a1f534b69587aeb30f8853f3eb4a35071"><div class="ttname"><a href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071">pic_unlock</a></div><div class="ttdeci">static void pic_unlock(struct kvm_pic *s) __releases(&amp;s -&gt; lock)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00050">i8259.c:50</a></div></div>
<div class="ttc" id="ai8259_8c_html_ac4af2817e73f33914b0f546581363266"><div class="ttname"><a href="i8259_8c.html#ac4af2817e73f33914b0f546581363266">pic_lock</a></div><div class="ttdeci">static void pic_lock(struct kvm_pic *s) __acquires(&amp;s -&gt; lock)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00044">i8259.c:44</a></div></div>
<div class="ttc" id="airq_8h_html_a80ce9c55d9566830e9ce89ef1cf4f91f"><div class="ttname"><a href="irq_8h.html#a80ce9c55d9566830e9ce89ef1cf4f91f">PIC_NUM_PINS</a></div><div class="ttdeci">#define PIC_NUM_PINS</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00021">irq.h:21</a></div></div>
<div class="ttc" id="astructkvm__pic_html_adc47ed8138813a259460bbb6cb1407b0"><div class="ttname"><a href="structkvm__pic.html#adc47ed8138813a259460bbb6cb1407b0">kvm_pic::irq_states</a></div><div class="ttdeci">unsigned long irq_states[PIC_NUM_PINS]</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00059">irq.h:59</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a4fef735273cc243ab0c60985526cf753_cgraph.png" border="0" usemap="#ai8259_8c_a4fef735273cc243ab0c60985526cf753_cgraph" alt=""/></div>
<map name="ai8259_8c_a4fef735273cc243ab0c60985526cf753_cgraph" id="ai8259_8c_a4fef735273cc243ab0c60985526cf753_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,144,83"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="200,31,275,57"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="192,81,283,108"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="331,56,521,83"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="365,107,487,133"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="588,5,759,32"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="601,56,746,83"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="825,56,984,83"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="569,107,777,133"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="597,157,750,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a4fef735273cc243ab0c60985526cf753_icgraph.png" border="0" usemap="#ai8259_8c_a4fef735273cc243ab0c60985526cf753_icgraph" alt=""/></div>
<map name="ai8259_8c_a4fef735273cc243ab0c60985526cf753_icgraph" id="ai8259_8c_a4fef735273cc243ab0c60985526cf753_icgraph">
<area shape="rect" title=" " alt="" coords="1517,183,1656,209"/>
<area shape="rect" href="irq__comm_8c.html#affd624d06afb4fc277fb7a08e06bd942" title=" " alt="" coords="1292,183,1469,209"/>
<area shape="rect" href="i8254_8c.html#a13a38debbd4e494ffd488ef8abb5406c" title=" " alt="" coords="1121,157,1244,184"/>
<area shape="rect" href="i8254_8c.html#a2a7ca7f5194b378ba7f0ae7a38cc26ba" title=" " alt="" coords="1129,208,1237,235"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="911,157,1061,184"/>
<area shape="rect" href="x86_8c.html#a6f324dc73c5f97fe0b9dfa35f303d5f9" title=" " alt="" coords="899,208,1073,235"/>
<area shape="rect" href="kvm__main_8c.html#afd922c538c448ab1248cdb9dccae9410" title=" " alt="" coords="716,208,851,235"/>
<area shape="rect" href="kvm__main_8c.html#a013962010b954d8597e5987fd27c8241" title=" " alt="" coords="553,208,668,235"/>
<area shape="rect" href="kvm__main_8c.html#a37fa7805021941c56fe174eae4c8c377" title=" " alt="" coords="325,5,475,32"/>
<area shape="rect" href="kvm__main_8c.html#af19040bdcea372f13eab66499d99201c" title=" " alt="" coords="317,56,483,83"/>
<area shape="rect" href="kvm__main_8c.html#a955de4f2a1b3371438636eccab732b27" title=" " alt="" coords="303,107,497,133"/>
<area shape="rect" href="guest__memfd_8c.html#ad8912fbda61cdcb6d9e5a3c0f839e001" title=" " alt="" coords="323,157,477,184"/>
<area shape="rect" href="debugfs_8c.html#ae48a8d31368e51cbe5f950df129f5285" title=" " alt="" coords="295,208,505,235"/>
<area shape="rect" href="debugfs_8c.html#af0427db3ec1a8c38ea51591abbefde57" title=" " alt="" coords="314,259,486,301"/>
<area shape="rect" href="kvm__main_8c.html#af67afbdcee89641f21573ac643d8e693" title=" " alt="" coords="333,325,467,352"/>
<area shape="rect" href="sev_8c.html#ad28fd793149997c912b52490f6ca139a" title=" " alt="" coords="329,376,471,403"/>
<area shape="rect" href="sev_8c.html#af1eb77eac84f085b0a943b87f783e30d" title=" " alt="" coords="335,427,465,453"/>
<area shape="rect" href="kvm__main_8c.html#a87bcafdc42ee32aedb84df5e564f9872" title=" " alt="" coords="47,5,205,32"/>
<area shape="rect" href="sev_8c.html#abe3c569b297da3b78824074b8c08f9a7" title=" " alt="" coords="5,376,247,403"/>
<area shape="rect" href="svm_8c.html#a0e69cefce46e7b11e1e8e056ea5b6561" title=" " alt="" coords="59,427,193,453"/>
</map>
</div>

</div>
</div>
<a id="a48d54ace62d2b40899cadfddf0b70781"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48d54ace62d2b40899cadfddf0b70781">&#9670;&nbsp;</a></span>kvm_pic_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_pic_destroy </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00645">645</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;{</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keyword">struct </span><a class="code" href="structkvm__pic.html">kvm_pic</a> *vpic = <a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>-&gt;arch.vpic;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">if</span> (!vpic)</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    mutex_lock(&amp;<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>-&gt;slots_lock);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <a class="code" href="kvm__main_8c.html#a103c02eb7ca545106f3130776c2a8897">kvm_io_bus_unregister_dev</a>(vpic-&gt;<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>, KVM_PIO_BUS, &amp;vpic-&gt;<a class="code" href="structkvm__pic.html#a192628551372bf9be962e8d6e931f135">dev_master</a>);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <a class="code" href="kvm__main_8c.html#a103c02eb7ca545106f3130776c2a8897">kvm_io_bus_unregister_dev</a>(vpic-&gt;<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>, KVM_PIO_BUS, &amp;vpic-&gt;<a class="code" href="structkvm__pic.html#a4e6e3c9bffa5564c4866e3b81f96136f">dev_slave</a>);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="kvm__main_8c.html#a103c02eb7ca545106f3130776c2a8897">kvm_io_bus_unregister_dev</a>(vpic-&gt;<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>, KVM_PIO_BUS, &amp;vpic-&gt;<a class="code" href="structkvm__pic.html#a32ff6b714dcdcdba65eed1f27857ba90">dev_elcr</a>);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    mutex_unlock(&amp;<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>-&gt;slots_lock);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>-&gt;arch.vpic = NULL;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    kfree(vpic);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;}</div>
<div class="ttc" id="akvm__main_8c_html_a103c02eb7ca545106f3130776c2a8897"><div class="ttname"><a href="kvm__main_8c.html#a103c02eb7ca545106f3130776c2a8897">kvm_io_bus_unregister_dev</a></div><div class="ttdeci">int kvm_io_bus_unregister_dev(struct kvm *kvm, enum kvm_bus bus_idx, struct kvm_io_device *dev)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__main_8c_source.html#l05941">kvm_main.c:5941</a></div></div>
<div class="ttc" id="astructkvm__pic_html"><div class="ttname"><a href="structkvm__pic.html">kvm_pic</a></div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00049">irq.h:49</a></div></div>
<div class="ttc" id="astructkvm__pic_html_a192628551372bf9be962e8d6e931f135"><div class="ttname"><a href="structkvm__pic.html#a192628551372bf9be962e8d6e931f135">kvm_pic::dev_master</a></div><div class="ttdeci">struct kvm_io_device dev_master</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00055">irq.h:56</a></div></div>
<div class="ttc" id="astructkvm__pic_html_a32ff6b714dcdcdba65eed1f27857ba90"><div class="ttname"><a href="structkvm__pic.html#a32ff6b714dcdcdba65eed1f27857ba90">kvm_pic::dev_elcr</a></div><div class="ttdeci">struct kvm_io_device dev_elcr</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00055">irq.h:58</a></div></div>
<div class="ttc" id="astructkvm__pic_html_a4e6e3c9bffa5564c4866e3b81f96136f"><div class="ttname"><a href="structkvm__pic.html#a4e6e3c9bffa5564c4866e3b81f96136f">kvm_pic::dev_slave</a></div><div class="ttdeci">struct kvm_io_device dev_slave</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00055">irq.h:57</a></div></div>
<div class="ttc" id="astructkvm__pic_html_a697ced0835fd6f64e36410164db9db28"><div class="ttname"><a href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm_pic::kvm</a></div><div class="ttdeci">struct kvm * kvm</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00053">irq.h:53</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a48d54ace62d2b40899cadfddf0b70781_cgraph.png" border="0" usemap="#ai8259_8c_a48d54ace62d2b40899cadfddf0b70781_cgraph" alt=""/></div>
<map name="ai8259_8c_a48d54ace62d2b40899cadfddf0b70781_cgraph" id="ai8259_8c_a48d54ace62d2b40899cadfddf0b70781_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,139,57"/>
<area shape="rect" href="kvm__main_8c.html#a103c02eb7ca545106f3130776c2a8897" title=" " alt="" coords="187,31,391,57"/>
<area shape="rect" href="kvm__main_8c.html#a3089edf2c0e5790aab7e8ed723f34b5b" title=" " alt="" coords="439,5,595,32"/>
<area shape="rect" href="kvm__main_8c.html#aa6d7dea09a0b657f29e92f424e5d0633" title=" " alt="" coords="643,31,829,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a48d54ace62d2b40899cadfddf0b70781_icgraph.png" border="0" usemap="#ai8259_8c_a48d54ace62d2b40899cadfddf0b70781_icgraph" alt=""/></div>
<map name="ai8259_8c_a48d54ace62d2b40899cadfddf0b70781_icgraph" id="ai8259_8c_a48d54ace62d2b40899cadfddf0b70781_icgraph">
<area shape="rect" title=" " alt="" coords="1129,95,1263,121"/>
<area shape="rect" href="x86_8c.html#ad84dda268db5d48c48f3ef2f438c62a7" title=" " alt="" coords="911,69,1081,96"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="921,120,1071,147"/>
<area shape="rect" href="kvm__main_8c.html#a54b22e6be98d31db1a83e7993fbcf4bc" title=" " alt="" coords="553,16,680,43"/>
<area shape="rect" href="kvm__main_8c.html#afd922c538c448ab1248cdb9dccae9410" title=" " alt="" coords="728,113,863,140"/>
<area shape="rect" href="kvm__main_8c.html#a955de4f2a1b3371438636eccab732b27" title=" " alt="" coords="303,5,497,32"/>
<area shape="rect" href="kvm__main_8c.html#a013962010b954d8597e5987fd27c8241" title=" " alt="" coords="559,189,674,216"/>
<area shape="rect" href="kvm__main_8c.html#a37fa7805021941c56fe174eae4c8c377" title=" " alt="" coords="325,56,475,83"/>
<area shape="rect" href="kvm__main_8c.html#af19040bdcea372f13eab66499d99201c" title=" " alt="" coords="317,107,483,133"/>
<area shape="rect" href="guest__memfd_8c.html#ad8912fbda61cdcb6d9e5a3c0f839e001" title=" " alt="" coords="323,157,477,184"/>
<area shape="rect" href="debugfs_8c.html#ae48a8d31368e51cbe5f950df129f5285" title=" " alt="" coords="295,208,505,235"/>
<area shape="rect" href="debugfs_8c.html#af0427db3ec1a8c38ea51591abbefde57" title=" " alt="" coords="314,259,486,301"/>
<area shape="rect" href="kvm__main_8c.html#af67afbdcee89641f21573ac643d8e693" title=" " alt="" coords="333,325,467,352"/>
<area shape="rect" href="sev_8c.html#ad28fd793149997c912b52490f6ca139a" title=" " alt="" coords="329,376,471,403"/>
<area shape="rect" href="sev_8c.html#af1eb77eac84f085b0a943b87f783e30d" title=" " alt="" coords="335,427,465,453"/>
<area shape="rect" href="kvm__main_8c.html#a87bcafdc42ee32aedb84df5e564f9872" title=" " alt="" coords="47,56,205,83"/>
<area shape="rect" href="sev_8c.html#abe3c569b297da3b78824074b8c08f9a7" title=" " alt="" coords="5,376,247,403"/>
<area shape="rect" href="svm_8c.html#a0e69cefce46e7b11e1e8e056ea5b6561" title=" " alt="" coords="59,427,193,453"/>
</map>
</div>

</div>
</div>
<a id="ac5080582d1831f8ec6bf2b3264e6c3e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5080582d1831f8ec6bf2b3264e6c3e0">&#9670;&nbsp;</a></span>kvm_pic_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_pic_init </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00590">590</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;{</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keyword">struct </span><a class="code" href="structkvm__pic.html">kvm_pic</a> *s;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    s = kzalloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structkvm__pic.html">kvm_pic</a>), GFP_KERNEL_ACCOUNT);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">if</span> (!s)</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keywordflow">return</span> -ENOMEM;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    spin_lock_init(&amp;s-&gt;<a class="code" href="structkvm__pic.html#ad6d8f9ea85060cdf2879e1af2b69d4bd">lock</a>);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    s-&gt;<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a> = <a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0].<a class="code" href="structkvm__kpic__state.html#a466643da659a37d9128600a9a4f34346">elcr_mask</a> = 0xf8;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[1].<a class="code" href="structkvm__kpic__state.html#a466643da659a37d9128600a9a4f34346">elcr_mask</a> = 0xde;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0].<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a> = s;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[1].<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a> = s;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">     * Initialize PIO device</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <a class="code" href="iodev_8h.html#a8999defe529eb3e3870197ef8e39fad5">kvm_iodevice_init</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a192628551372bf9be962e8d6e931f135">dev_master</a>, &amp;<a class="code" href="i8259_8c.html#aa35cc43aa9c63a40093c425bba59c1c5">picdev_master_ops</a>);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <a class="code" href="iodev_8h.html#a8999defe529eb3e3870197ef8e39fad5">kvm_iodevice_init</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a4e6e3c9bffa5564c4866e3b81f96136f">dev_slave</a>, &amp;<a class="code" href="i8259_8c.html#af7f4d85fe684c66dc6ddf104baa1d9c9">picdev_slave_ops</a>);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="iodev_8h.html#a8999defe529eb3e3870197ef8e39fad5">kvm_iodevice_init</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a32ff6b714dcdcdba65eed1f27857ba90">dev_elcr</a>, &amp;<a class="code" href="i8259_8c.html#a8404f46dab645805283ac1cdbf2d37aa">picdev_elcr_ops</a>);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    mutex_lock(&amp;<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>-&gt;slots_lock);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    ret = <a class="code" href="kvm__main_8c.html#a0afe5ce3e9ff1105328b06ec985e3374">kvm_io_bus_register_dev</a>(<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>, KVM_PIO_BUS, 0x20, 2,</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                      &amp;s-&gt;<a class="code" href="structkvm__pic.html#a192628551372bf9be962e8d6e931f135">dev_master</a>);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordflow">goto</span> fail_unlock;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    ret = <a class="code" href="kvm__main_8c.html#a0afe5ce3e9ff1105328b06ec985e3374">kvm_io_bus_register_dev</a>(<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>, KVM_PIO_BUS, 0xa0, 2, &amp;s-&gt;<a class="code" href="structkvm__pic.html#a4e6e3c9bffa5564c4866e3b81f96136f">dev_slave</a>);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keywordflow">goto</span> fail_unreg_2;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    ret = <a class="code" href="kvm__main_8c.html#a0afe5ce3e9ff1105328b06ec985e3374">kvm_io_bus_register_dev</a>(<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>, KVM_PIO_BUS, 0x4d0, 2, &amp;s-&gt;<a class="code" href="structkvm__pic.html#a32ff6b714dcdcdba65eed1f27857ba90">dev_elcr</a>);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keywordflow">goto</span> fail_unreg_1;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    mutex_unlock(&amp;<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>-&gt;slots_lock);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>-&gt;arch.vpic = s;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;fail_unreg_1:</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="kvm__main_8c.html#a103c02eb7ca545106f3130776c2a8897">kvm_io_bus_unregister_dev</a>(<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>, KVM_PIO_BUS, &amp;s-&gt;<a class="code" href="structkvm__pic.html#a4e6e3c9bffa5564c4866e3b81f96136f">dev_slave</a>);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;fail_unreg_2:</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <a class="code" href="kvm__main_8c.html#a103c02eb7ca545106f3130776c2a8897">kvm_io_bus_unregister_dev</a>(<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>, KVM_PIO_BUS, &amp;s-&gt;<a class="code" href="structkvm__pic.html#a192628551372bf9be962e8d6e931f135">dev_master</a>);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;fail_unlock:</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    mutex_unlock(&amp;<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>-&gt;slots_lock);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    kfree(s);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_a8404f46dab645805283ac1cdbf2d37aa"><div class="ttname"><a href="i8259_8c.html#a8404f46dab645805283ac1cdbf2d37aa">picdev_elcr_ops</a></div><div class="ttdeci">static const struct kvm_io_device_ops picdev_elcr_ops</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00566">i8259.c:585</a></div></div>
<div class="ttc" id="ai8259_8c_html_aa35cc43aa9c63a40093c425bba59c1c5"><div class="ttname"><a href="i8259_8c.html#aa35cc43aa9c63a40093c425bba59c1c5">picdev_master_ops</a></div><div class="ttdeci">static const struct kvm_io_device_ops picdev_master_ops</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00566">i8259.c:575</a></div></div>
<div class="ttc" id="ai8259_8c_html_af7f4d85fe684c66dc6ddf104baa1d9c9"><div class="ttname"><a href="i8259_8c.html#af7f4d85fe684c66dc6ddf104baa1d9c9">picdev_slave_ops</a></div><div class="ttdeci">static const struct kvm_io_device_ops picdev_slave_ops</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00566">i8259.c:580</a></div></div>
<div class="ttc" id="aiodev_8h_html_a8999defe529eb3e3870197ef8e39fad5"><div class="ttname"><a href="iodev_8h.html#a8999defe529eb3e3870197ef8e39fad5">kvm_iodevice_init</a></div><div class="ttdeci">static void kvm_iodevice_init(struct kvm_io_device *dev, const struct kvm_io_device_ops *ops)</div><div class="ttdef"><b>Definition:</b> <a href="iodev_8h_source.html#l00036">iodev.h:36</a></div></div>
<div class="ttc" id="akvm__main_8c_html_a0afe5ce3e9ff1105328b06ec985e3374"><div class="ttname"><a href="kvm__main_8c.html#a0afe5ce3e9ff1105328b06ec985e3374">kvm_io_bus_register_dev</a></div><div class="ttdeci">int kvm_io_bus_register_dev(struct kvm *kvm, enum kvm_bus bus_idx, gpa_t addr, int len, struct kvm_io_device *dev)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__main_8c_source.html#l05897">kvm_main.c:5897</a></div></div>
<div class="ttc" id="astructkvm__kpic__state_html_a1931404cd9d16f15239bf4517009a800"><div class="ttname"><a href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">kvm_kpic_state::pics_state</a></div><div class="ttdeci">struct kvm_pic * pics_state</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00046">irq.h:46</a></div></div>
<div class="ttc" id="astructkvm__pic_html_a02a4c44326718fd7525588d5223f90c6"><div class="ttname"><a href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">kvm_pic::pics</a></div><div class="ttdeci">struct kvm_kpic_state pics[2]</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00053">irq.h:54</a></div></div>
<div class="ttc" id="astructkvm__pic_html_ad6d8f9ea85060cdf2879e1af2b69d4bd"><div class="ttname"><a href="structkvm__pic.html#ad6d8f9ea85060cdf2879e1af2b69d4bd">kvm_pic::lock</a></div><div class="ttdeci">spinlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00050">irq.h:50</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_ac5080582d1831f8ec6bf2b3264e6c3e0_cgraph.png" border="0" usemap="#ai8259_8c_ac5080582d1831f8ec6bf2b3264e6c3e0_cgraph" alt=""/></div>
<map name="ai8259_8c_ac5080582d1831f8ec6bf2b3264e6c3e0_cgraph" id="ai8259_8c_ac5080582d1831f8ec6bf2b3264e6c3e0_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,111,83"/>
<area shape="rect" href="kvm__main_8c.html#a0afe5ce3e9ff1105328b06ec985e3374" title=" " alt="" coords="167,5,355,32"/>
<area shape="rect" href="kvm__main_8c.html#a103c02eb7ca545106f3130776c2a8897" title=" " alt="" coords="159,56,363,83"/>
<area shape="rect" href="iodev_8h.html#a8999defe529eb3e3870197ef8e39fad5" title=" " alt="" coords="190,107,331,133"/>
<area shape="rect" href="kvm__main_8c.html#a75ccec7a81fef145fb3c3a3b5479a86f" title=" " alt="" coords="421,5,556,32"/>
<area shape="rect" href="kvm__main_8c.html#a3089edf2c0e5790aab7e8ed723f34b5b" title=" " alt="" coords="411,56,567,83"/>
<area shape="rect" href="kvm__main_8c.html#aa6d7dea09a0b657f29e92f424e5d0633" title=" " alt="" coords="615,81,801,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_ac5080582d1831f8ec6bf2b3264e6c3e0_icgraph.png" border="0" usemap="#ai8259_8c_ac5080582d1831f8ec6bf2b3264e6c3e0_icgraph" alt=""/></div>
<map name="ai8259_8c_ac5080582d1831f8ec6bf2b3264e6c3e0_icgraph" id="ai8259_8c_ac5080582d1831f8ec6bf2b3264e6c3e0_icgraph">
<area shape="rect" title=" " alt="" coords="203,5,308,32"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="5,5,155,32"/>
</map>
</div>

</div>
</div>
<a id="a6f84274a6b9f1ae6381e9e5f413dd481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f84274a6b9f1ae6381e9e5f413dd481">&#9670;&nbsp;</a></span>kvm_pic_read_irq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_pic_read_irq </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00236">236</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;{</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordtype">int</span> irq, irq2, intno;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keyword">struct </span><a class="code" href="structkvm__pic.html">kvm_pic</a> *s = <a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>-&gt;arch.vpic;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    s-&gt;<a class="code" href="structkvm__pic.html#a7983474ab21ffba30a1687d3451d6c35">output</a> = 0;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266">pic_lock</a>(s);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    irq = <a class="code" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c">pic_get_irq</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0]);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">if</span> (irq &gt;= 0) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <a class="code" href="i8259_8c.html#a1ba411d40431f30cb5876e8a911e65a0">pic_intack</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0], irq);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">if</span> (irq == 2) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            irq2 = <a class="code" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c">pic_get_irq</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[1]);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keywordflow">if</span> (irq2 &gt;= 0)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                <a class="code" href="i8259_8c.html#a1ba411d40431f30cb5876e8a911e65a0">pic_intack</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[1], irq2);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                <span class="comment">/*</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">                 * spurious IRQ on slave controller</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                irq2 = 7;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            intno = s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[1].<a class="code" href="structkvm__kpic__state.html#a0cc4fbf2338495ddd0206950140f98e4">irq_base</a> + irq2;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            intno = s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0].<a class="code" href="structkvm__kpic__state.html#a0cc4fbf2338495ddd0206950140f98e4">irq_base</a> + irq;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">         * spurious IRQ on host controller</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        irq = 7;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        intno = s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0].<a class="code" href="structkvm__kpic__state.html#a0cc4fbf2338495ddd0206950140f98e4">irq_base</a> + irq;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8">pic_update_irq</a>(s);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071">pic_unlock</a>(s);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">return</span> intno;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_a1ba411d40431f30cb5876e8a911e65a0"><div class="ttname"><a href="i8259_8c.html#a1ba411d40431f30cb5876e8a911e65a0">pic_intack</a></div><div class="ttdeci">static void pic_intack(struct kvm_kpic_state *s, int irq)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00219">i8259.c:219</a></div></div>
<div class="ttc" id="ai8259_8c_html_a3fc7730f00dd8150c255c8aa3c8d5c5c"><div class="ttname"><a href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c">pic_get_irq</a></div><div class="ttdeci">static int pic_get_irq(struct kvm_kpic_state *s)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00135">i8259.c:135</a></div></div>
<div class="ttc" id="ai8259_8c_html_af2a1af170975b4e108adc2574cd2fcc8"><div class="ttname"><a href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8">pic_update_irq</a></div><div class="ttdeci">static void pic_update_irq(struct kvm_pic *s)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00165">i8259.c:165</a></div></div>
<div class="ttc" id="astructkvm__kpic__state_html_a0cc4fbf2338495ddd0206950140f98e4"><div class="ttname"><a href="structkvm__kpic__state.html#a0cc4fbf2338495ddd0206950140f98e4">kvm_kpic_state::irq_base</a></div><div class="ttdeci">u8 irq_base</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00034">irq.h:34</a></div></div>
<div class="ttc" id="astructkvm__pic_html_a7983474ab21ffba30a1687d3451d6c35"><div class="ttname"><a href="structkvm__pic.html#a7983474ab21ffba30a1687d3451d6c35">kvm_pic::output</a></div><div class="ttdeci">int output</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00055">irq.h:55</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a6f84274a6b9f1ae6381e9e5f413dd481_cgraph.png" border="0" usemap="#ai8259_8c_a6f84274a6b9f1ae6381e9e5f413dd481_cgraph" alt=""/></div>
<map name="ai8259_8c_a6f84274a6b9f1ae6381e9e5f413dd481_cgraph" id="ai8259_8c_a6f84274a6b9f1ae6381e9e5f413dd481_cgraph">
<area shape="rect" title=" " alt="" coords="5,107,143,133"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="370,157,463,184"/>
<area shape="rect" href="i8259_8c.html#a1ba411d40431f30cb5876e8a911e65a0" title=" " alt="" coords="205,56,293,83"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="537,19,611,45"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="529,81,619,108"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="191,208,308,235"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="525,157,623,184"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="365,56,468,83"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="671,56,861,83"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="705,107,827,133"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="928,5,1099,32"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="941,56,1086,83"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1165,56,1324,83"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="909,107,1117,133"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="937,157,1090,184"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="356,208,477,235"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="367,259,467,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a6f84274a6b9f1ae6381e9e5f413dd481_icgraph.png" border="0" usemap="#ai8259_8c_a6f84274a6b9f1ae6381e9e5f413dd481_icgraph" alt=""/></div>
<map name="ai8259_8c_a6f84274a6b9f1ae6381e9e5f413dd481_icgraph" id="ai8259_8c_a6f84274a6b9f1ae6381e9e5f413dd481_icgraph">
<area shape="rect" title=" " alt="" coords="1564,236,1701,263"/>
<area shape="rect" href="irq_8c.html#a0fe12d1697f3fa0b54c4a62c7be020e9" title=" " alt="" coords="1361,236,1516,263"/>
<area shape="rect" href="irq_8c.html#ac65804fee79f17331667abfe171088f2" title=" " alt="" coords="1141,236,1313,263"/>
<area shape="rect" href="x86_8c.html#a2b372d06c72b7d8c25e9004bb3a3fd3b" title=" " alt="" coords="923,99,1093,141"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="931,265,1085,292"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="698,5,835,32"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="471,5,552,32"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="177,5,364,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="437,83,585,109"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="705,173,828,200"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="679,225,855,266"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="659,290,875,331"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="412,327,611,353"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="691,107,842,149"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="677,407,857,433"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="675,458,859,499"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="694,524,839,551"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="203,83,338,109"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="426,163,597,205"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="207,171,334,197"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="430,229,593,270"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="205,236,336,263"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="425,473,598,500"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="456,524,567,551"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="427,575,596,601"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="209,473,332,500"/>
</map>
</div>

</div>
</div>
<a id="a20f0eb17c76875b81e91fd32b0badc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20f0eb17c76875b81e91fd32b0badc04">&#9670;&nbsp;</a></span>kvm_pic_reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kvm_pic_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__kpic__state.html">kvm_kpic_state</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00272">272</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;{</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordtype">int</span> irq;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keyword">struct </span>kvm_vcpu *vcpu;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    u8 edge_irr = s-&gt;<a class="code" href="structkvm__kpic__state.html#a246a10d960328384c3313e80190b835f">irr</a> &amp; ~s-&gt;<a class="code" href="structkvm__kpic__state.html#a4ceb2d2133d4dd2ebf7d411f8ae881d8">elcr</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    s-&gt;<a class="code" href="structkvm__kpic__state.html#a5cfca03891f6b4e6a8cd609a2332ef41">last_irr</a> = 0;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    s-&gt;<a class="code" href="structkvm__kpic__state.html#a246a10d960328384c3313e80190b835f">irr</a> &amp;= s-&gt;<a class="code" href="structkvm__kpic__state.html#a4ceb2d2133d4dd2ebf7d411f8ae881d8">elcr</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    s-&gt;<a class="code" href="structkvm__kpic__state.html#ae242649da8cb1d99a3366453472c4413">imr</a> = 0;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    s-&gt;<a class="code" href="structkvm__kpic__state.html#a41ba129ecb66f4fa7645b619f6c145ae">priority_add</a> = 0;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    s-&gt;<a class="code" href="structkvm__kpic__state.html#a467bdf58b434070e49cba31323c27d0e">special_mask</a> = 0;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    s-&gt;<a class="code" href="structkvm__kpic__state.html#a35b7e8eefa62793d2b6057418fc1e3ca">read_reg_select</a> = 0;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span> (!s-&gt;<a class="code" href="structkvm__kpic__state.html#a494907b1b9b7d26ba62ed9aff53a2ea7">init4</a>) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        s-&gt;<a class="code" href="structkvm__kpic__state.html#aa62f4884861caf9c4584bc72bb5e3ef7">special_fully_nested_mode</a> = 0;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        s-&gt;<a class="code" href="structkvm__kpic__state.html#a27979e5135f3605e137627040da866d7">auto_eoi</a> = 0;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    s-&gt;<a class="code" href="structkvm__kpic__state.html#a68f67161ad510259f0c64d9e2b6d8067">init_state</a> = 1;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    kvm_for_each_vcpu(i, vcpu, s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>-&gt;<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        if (<a class="code" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4">kvm_apic_accept_pic_intr</a>(vcpu)) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span> (!found)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">for</span> (irq = 0; irq &lt; <a class="code" href="irq_8h.html#a80ce9c55d9566830e9ce89ef1cf4f91f">PIC_NUM_PINS</a>/2; irq++)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">if</span> (edge_irr &amp; (1 &lt;&lt; irq))</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <a class="code" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e">pic_clear_isr</a>(s, irq);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_a72eab34ac8b4a80698a92f06b8afe71e"><div class="ttname"><a href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e">pic_clear_isr</a></div><div class="ttdeci">static void pic_clear_isr(struct kvm_kpic_state *s, int irq)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00072">i8259.c:72</a></div></div>
<div class="ttc" id="alapic_8c_html_a1f4df169625f9c4c2cb06f7443698af4"><div class="ttname"><a href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4">kvm_apic_accept_pic_intr</a></div><div class="ttdeci">int kvm_apic_accept_pic_intr(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="lapic_8c_source.html#l02872">lapic.c:2872</a></div></div>
<div class="ttc" id="astructkvm__kpic__state_html_a246a10d960328384c3313e80190b835f"><div class="ttname"><a href="structkvm__kpic__state.html#a246a10d960328384c3313e80190b835f">kvm_kpic_state::irr</a></div><div class="ttdeci">u8 irr</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00030">irq.h:30</a></div></div>
<div class="ttc" id="astructkvm__kpic__state_html_a27979e5135f3605e137627040da866d7"><div class="ttname"><a href="structkvm__kpic__state.html#a27979e5135f3605e137627040da866d7">kvm_kpic_state::auto_eoi</a></div><div class="ttdeci">u8 auto_eoi</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00039">irq.h:39</a></div></div>
<div class="ttc" id="astructkvm__kpic__state_html_a35b7e8eefa62793d2b6057418fc1e3ca"><div class="ttname"><a href="structkvm__kpic__state.html#a35b7e8eefa62793d2b6057418fc1e3ca">kvm_kpic_state::read_reg_select</a></div><div class="ttdeci">u8 read_reg_select</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00035">irq.h:35</a></div></div>
<div class="ttc" id="astructkvm__kpic__state_html_a467bdf58b434070e49cba31323c27d0e"><div class="ttname"><a href="structkvm__kpic__state.html#a467bdf58b434070e49cba31323c27d0e">kvm_kpic_state::special_mask</a></div><div class="ttdeci">u8 special_mask</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00037">irq.h:37</a></div></div>
<div class="ttc" id="astructkvm__kpic__state_html_a494907b1b9b7d26ba62ed9aff53a2ea7"><div class="ttname"><a href="structkvm__kpic__state.html#a494907b1b9b7d26ba62ed9aff53a2ea7">kvm_kpic_state::init4</a></div><div class="ttdeci">u8 init4</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00042">irq.h:42</a></div></div>
<div class="ttc" id="astructkvm__kpic__state_html_a5cfca03891f6b4e6a8cd609a2332ef41"><div class="ttname"><a href="structkvm__kpic__state.html#a5cfca03891f6b4e6a8cd609a2332ef41">kvm_kpic_state::last_irr</a></div><div class="ttdeci">u8 last_irr</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00029">irq.h:29</a></div></div>
<div class="ttc" id="astructkvm__kpic__state_html_a68f67161ad510259f0c64d9e2b6d8067"><div class="ttname"><a href="structkvm__kpic__state.html#a68f67161ad510259f0c64d9e2b6d8067">kvm_kpic_state::init_state</a></div><div class="ttdeci">u8 init_state</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00038">irq.h:38</a></div></div>
<div class="ttc" id="astructkvm__kpic__state_html_aa62f4884861caf9c4584bc72bb5e3ef7"><div class="ttname"><a href="structkvm__kpic__state.html#aa62f4884861caf9c4584bc72bb5e3ef7">kvm_kpic_state::special_fully_nested_mode</a></div><div class="ttdeci">u8 special_fully_nested_mode</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00041">irq.h:41</a></div></div>
<div class="ttc" id="astructkvm__kpic__state_html_ae242649da8cb1d99a3366453472c4413"><div class="ttname"><a href="structkvm__kpic__state.html#ae242649da8cb1d99a3366453472c4413">kvm_kpic_state::imr</a></div><div class="ttdeci">u8 imr</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00031">irq.h:31</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a20f0eb17c76875b81e91fd32b0badc04_cgraph.png" border="0" usemap="#ai8259_8c_a20f0eb17c76875b81e91fd32b0badc04_cgraph" alt=""/></div>
<map name="ai8259_8c_a20f0eb17c76875b81e91fd32b0badc04_cgraph" id="ai8259_8c_a20f0eb17c76875b81e91fd32b0badc04_cgraph">
<area shape="rect" title=" " alt="" coords="5,68,123,95"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="460,49,651,76"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="171,93,273,120"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="717,5,888,32"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="730,56,875,83"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="955,56,1113,83"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="329,93,404,120"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="321,144,412,171"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="494,144,617,171"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="699,119,907,145"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="726,169,879,196"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a20f0eb17c76875b81e91fd32b0badc04_icgraph.png" border="0" usemap="#ai8259_8c_a20f0eb17c76875b81e91fd32b0badc04_icgraph" alt=""/></div>
<map name="ai8259_8c_a20f0eb17c76875b81e91fd32b0badc04_icgraph" id="ai8259_8c_a20f0eb17c76875b81e91fd32b0badc04_icgraph">
<area shape="rect" title=" " alt="" coords="540,56,657,83"/>
<area shape="rect" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a" title=" " alt="" coords="365,56,492,83"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="212,56,317,83"/>
<area shape="rect" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b" title=" " alt="" coords="17,5,153,32"/>
<area shape="rect" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543" title=" " alt="" coords="5,56,164,83"/>
<area shape="rect" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c" title=" " alt="" coords="11,107,158,133"/>
</map>
</div>

</div>
</div>
<a id="a1488ed2670af0e636f7384f69e1894a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1488ed2670af0e636f7384f69e1894a9">&#9670;&nbsp;</a></span>kvm_pic_set_irq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_pic_set_irq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq_source_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00188">188</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordtype">int</span> ret, irq_level;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    BUG_ON(irq &lt; 0 || irq &gt;= <a class="code" href="irq_8h.html#a80ce9c55d9566830e9ce89ef1cf4f91f">PIC_NUM_PINS</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266">pic_lock</a>(s);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    irq_level = __kvm_irq_line_state(&amp;s-&gt;<a class="code" href="structkvm__pic.html#adc47ed8138813a259460bbb6cb1407b0">irq_states</a>[irq],</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                     irq_source_id, level);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    ret = <a class="code" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680">pic_set_irq1</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[irq &gt;&gt; 3], irq &amp; 7, irq_level);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8">pic_update_irq</a>(s);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    trace_kvm_pic_set_irq(irq &gt;&gt; 3, irq &amp; 7, s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[irq &gt;&gt; 3].<a class="code" href="structkvm__kpic__state.html#a4ceb2d2133d4dd2ebf7d411f8ae881d8">elcr</a>,</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                  s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[irq &gt;&gt; 3].<a class="code" href="structkvm__kpic__state.html#ae242649da8cb1d99a3366453472c4413">imr</a>, ret == 0);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071">pic_unlock</a>(s);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_a825dac14ef02aee4e475b5c433277680"><div class="ttname"><a href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680">pic_set_irq1</a></div><div class="ttdeci">static int pic_set_irq1(struct kvm_kpic_state *s, int irq, int level)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00091">i8259.c:91</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a1488ed2670af0e636f7384f69e1894a9_cgraph.png" border="0" usemap="#ai8259_8c_a1488ed2670af0e636f7384f69e1894a9_cgraph" alt=""/></div>
<map name="ai8259_8c_a1488ed2670af0e636f7384f69e1894a9_cgraph" id="ai8259_8c_a1488ed2670af0e636f7384f69e1894a9_cgraph">
<area shape="rect" title=" " alt="" coords="5,132,133,159"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="203,56,277,83"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="392,157,492,184"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="195,107,285,133"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="181,208,299,235"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="347,56,537,83"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="381,107,503,133"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="604,56,775,83"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="617,5,762,32"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="841,5,1000,32"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="585,157,793,184"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="613,107,766,133"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="395,259,489,285"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="381,208,503,235"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="641,259,738,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a1488ed2670af0e636f7384f69e1894a9_icgraph.png" border="0" usemap="#ai8259_8c_a1488ed2670af0e636f7384f69e1894a9_icgraph" alt=""/></div>
<map name="ai8259_8c_a1488ed2670af0e636f7384f69e1894a9_icgraph" id="ai8259_8c_a1488ed2670af0e636f7384f69e1894a9_icgraph">
<area shape="rect" title=" " alt="" coords="1475,13,1603,39"/>
<area shape="rect" href="irq__comm_8c.html#a1a4786be0e9713da805fb63743a7f340" title=" " alt="" coords="1299,13,1427,39"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="1079,13,1251,39"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="879,13,1031,39"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="676,13,831,39"/>
<area shape="rect" href="irq_8h.html#aaf23e09ccf4b445556e56ea8598e1311" title=" " alt="" coords="461,5,628,47"/>
<area shape="rect" href="x86_8c.html#aaf3dbbe842e06195f2e46694ea837380" title=" " alt="" coords="219,13,413,39"/>
<area shape="rect" href="kvm__main_8c.html#aaeec02d207c8ce5ca12b1ef2ac36fae0" title=" " alt="" coords="5,5,171,47"/>
</map>
</div>

</div>
</div>
<a id="a6620b725f8a47ecc7341e68ca3660df5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6620b725f8a47ecc7341e68ca3660df5">&#9670;&nbsp;</a></span>kvm_pic_update_irq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_pic_update_irq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00181">181</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266">pic_lock</a>(s);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8">pic_update_irq</a>(s);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071">pic_unlock</a>(s);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a6620b725f8a47ecc7341e68ca3660df5_cgraph.png" border="0" usemap="#ai8259_8c_a6620b725f8a47ecc7341e68ca3660df5_cgraph" alt=""/></div>
<map name="ai8259_8c_a6620b725f8a47ecc7341e68ca3660df5_cgraph" id="ai8259_8c_a6620b725f8a47ecc7341e68ca3660df5_cgraph">
<area shape="rect" title=" " alt="" coords="5,132,159,159"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="228,81,303,108"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="220,132,311,159"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="207,208,324,235"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="372,56,563,83"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="406,132,529,159"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="629,5,800,32"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="642,56,787,83"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="867,56,1025,83"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="611,107,819,133"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="638,157,791,184"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="421,183,514,209"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="407,233,528,260"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="417,284,517,311"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="666,208,763,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a6620b725f8a47ecc7341e68ca3660df5_icgraph.png" border="0" usemap="#ai8259_8c_a6620b725f8a47ecc7341e68ca3660df5_icgraph" alt=""/></div>
<map name="ai8259_8c_a6620b725f8a47ecc7341e68ca3660df5_icgraph" id="ai8259_8c_a6620b725f8a47ecc7341e68ca3660df5_icgraph">
<area shape="rect" title=" " alt="" coords="443,5,596,32"/>
<area shape="rect" href="x86_8c.html#a9c81b1b4617fffe8115b748bf5f13860" title=" " alt="" coords="203,5,395,32"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="5,5,155,32"/>
</map>
</div>

</div>
</div>
<a id="a72eab34ac8b4a80698a92f06b8afe71e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72eab34ac8b4a80698a92f06b8afe71e">&#9670;&nbsp;</a></span>pic_clear_isr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pic_clear_isr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__kpic__state.html">kvm_kpic_state</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00072">72</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    s-&gt;<a class="code" href="structkvm__kpic__state.html#a2bdafbbf3a2f4eec1c9bdf208fc7fc08">isr</a> &amp;= ~(1 &lt;&lt; irq);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> (s != &amp;s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0])</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        irq += 8;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">     * We are dropping lock while calling ack notifiers since ack</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">     * notifier callbacks for assigned devices call into PIC recursively.</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">     * Other interrupt may be delivered to PIC while lock is dropped but</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">     * it should be safe since PIC state is already updated at this stage.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071">pic_unlock</a>(s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    kvm_notify_acked_irq(s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>-&gt;<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>, <a class="code" href="irq_8h.html#ab8ec760fe0029ffa50f9de448c946a1c">SELECT_PIC</a>(irq), irq);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266">pic_lock</a>(s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="ttc" id="airq_8h_html_ab8ec760fe0029ffa50f9de448c946a1c"><div class="ttname"><a href="irq_8h.html#ab8ec760fe0029ffa50f9de448c946a1c">SELECT_PIC</a></div><div class="ttdeci">#define SELECT_PIC(irq)</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00022">irq.h:22</a></div></div>
<div class="ttc" id="astructkvm__kpic__state_html_a2bdafbbf3a2f4eec1c9bdf208fc7fc08"><div class="ttname"><a href="structkvm__kpic__state.html#a2bdafbbf3a2f4eec1c9bdf208fc7fc08">kvm_kpic_state::isr</a></div><div class="ttdeci">u8 isr</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00032">irq.h:32</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a72eab34ac8b4a80698a92f06b8afe71e_cgraph.png" border="0" usemap="#ai8259_8c_a72eab34ac8b4a80698a92f06b8afe71e_cgraph" alt=""/></div>
<map name="ai8259_8c_a72eab34ac8b4a80698a92f06b8afe71e_cgraph" id="ai8259_8c_a72eab34ac8b4a80698a92f06b8afe71e_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,108,83"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="164,31,239,57"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="156,81,247,108"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="295,56,485,83"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="329,107,451,133"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="552,5,723,32"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="565,56,710,83"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="789,56,948,83"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="533,107,741,133"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="561,157,714,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a72eab34ac8b4a80698a92f06b8afe71e_icgraph.png" border="0" usemap="#ai8259_8c_a72eab34ac8b4a80698a92f06b8afe71e_icgraph" alt=""/></div>
<map name="ai8259_8c_a72eab34ac8b4a80698a92f06b8afe71e_icgraph" id="ai8259_8c_a72eab34ac8b4a80698a92f06b8afe71e_icgraph">
<area shape="rect" title=" " alt="" coords="1915,161,2017,188"/>
<area shape="rect" href="i8259_8c.html#a20f0eb17c76875b81e91fd32b0badc04" title=" " alt="" coords="1749,85,1867,112"/>
<area shape="rect" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a" title=" " alt="" coords="1569,85,1696,112"/>
<area shape="rect" href="i8259_8c.html#a1ba411d40431f30cb5876e8a911e65a0" title=" " alt="" coords="1764,187,1852,213"/>
<area shape="rect" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a" title=" " alt="" coords="1754,237,1862,264"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="1386,85,1491,112"/>
<area shape="rect" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b" title=" " alt="" coords="1159,35,1295,61"/>
<area shape="rect" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543" title=" " alt="" coords="1148,85,1307,112"/>
<area shape="rect" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c" title=" " alt="" coords="1154,136,1301,163"/>
<area shape="rect" href="i8259_8c.html#a6f84274a6b9f1ae6381e9e5f413dd481" title=" " alt="" coords="1564,187,1701,213"/>
<area shape="rect" href="irq_8c.html#a0fe12d1697f3fa0b54c4a62c7be020e9" title=" " alt="" coords="1361,187,1516,213"/>
<area shape="rect" href="irq_8c.html#ac65804fee79f17331667abfe171088f2" title=" " alt="" coords="1141,187,1313,213"/>
<area shape="rect" href="x86_8c.html#a2b372d06c72b7d8c25e9004bb3a3fd3b" title=" " alt="" coords="923,99,1093,141"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="931,265,1085,292"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="698,5,835,32"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="471,5,552,32"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="177,5,364,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="437,83,585,109"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="705,173,828,200"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="679,225,855,266"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="659,290,875,331"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="412,327,611,353"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="691,107,842,149"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="677,407,857,433"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="675,458,859,499"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="694,524,839,551"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="203,83,338,109"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="426,163,597,205"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="207,171,334,197"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="430,229,593,270"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="205,236,336,263"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="425,473,598,500"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="456,524,567,551"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="427,575,596,601"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="209,473,332,500"/>
<area shape="rect" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990" title=" " alt="" coords="1571,237,1694,264"/>
<area shape="rect" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2" title=" " alt="" coords="1388,263,1489,289"/>
<area shape="rect" href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9" title=" " alt="" coords="1161,237,1293,264"/>
<area shape="rect" href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba" title=" " alt="" coords="1150,288,1305,315"/>
<area shape="rect" href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82" title=" " alt="" coords="1156,339,1299,365"/>
</map>
</div>

</div>
</div>
<a id="a3fc7730f00dd8150c255c8aa3c8d5c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fc7730f00dd8150c255c8aa3c8d5c5c">&#9670;&nbsp;</a></span>pic_get_irq()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pic_get_irq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__kpic__state.html">kvm_kpic_state</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00135">135</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordtype">int</span> mask, cur_priority, priority;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    mask = s-&gt;<a class="code" href="structkvm__kpic__state.html#a246a10d960328384c3313e80190b835f">irr</a> &amp; ~s-&gt;<a class="code" href="structkvm__kpic__state.html#ae242649da8cb1d99a3366453472c4413">imr</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    priority = <a class="code" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8">get_priority</a>(s, mask);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span> (priority == 8)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">     * compute current priority. If special fully nested mode on the</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">     * master, the IRQ coming from the slave is not taken into account</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">     * for the priority computation.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    mask = s-&gt;<a class="code" href="structkvm__kpic__state.html#a2bdafbbf3a2f4eec1c9bdf208fc7fc08">isr</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structkvm__kpic__state.html#aa62f4884861caf9c4584bc72bb5e3ef7">special_fully_nested_mode</a> &amp;&amp; s == &amp;s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0])</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        mask &amp;= ~(1 &lt;&lt; 2);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    cur_priority = <a class="code" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8">get_priority</a>(s, mask);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">if</span> (priority &lt; cur_priority)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">         * higher priority found: an irq should be generated</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">return</span> (priority + s-&gt;<a class="code" href="structkvm__kpic__state.html#a41ba129ecb66f4fa7645b619f6c145ae">priority_add</a>) &amp; 7;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_ae449c0799bbeb905e44e84d601abbfc8"><div class="ttname"><a href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8">get_priority</a></div><div class="ttdeci">static int get_priority(struct kvm_kpic_state *s, int mask)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00121">i8259.c:121</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a3fc7730f00dd8150c255c8aa3c8d5c5c_cgraph.png" border="0" usemap="#ai8259_8c_a3fc7730f00dd8150c255c8aa3c8d5c5c_cgraph" alt=""/></div>
<map name="ai8259_8c_a3fc7730f00dd8150c255c8aa3c8d5c5c_cgraph" id="ai8259_8c_a3fc7730f00dd8150c255c8aa3c8d5c5c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,99,32"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="147,5,244,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a3fc7730f00dd8150c255c8aa3c8d5c5c_icgraph.png" border="0" usemap="#ai8259_8c_a3fc7730f00dd8150c255c8aa3c8d5c5c_icgraph" alt=""/></div>
<map name="ai8259_8c_a3fc7730f00dd8150c255c8aa3c8d5c5c_icgraph" id="ai8259_8c_a3fc7730f00dd8150c255c8aa3c8d5c5c_icgraph">
<area shape="rect" title=" " alt="" coords="1976,436,2069,463"/>
<area shape="rect" href="i8259_8c.html#a6f84274a6b9f1ae6381e9e5f413dd481" title=" " alt="" coords="1617,385,1755,412"/>
<area shape="rect" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a" title=" " alt="" coords="1632,436,1740,463"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="1811,487,1928,513"/>
<area shape="rect" href="irq_8c.html#a0fe12d1697f3fa0b54c4a62c7be020e9" title=" " alt="" coords="1388,316,1543,343"/>
<area shape="rect" href="irq_8c.html#ac65804fee79f17331667abfe171088f2" title=" " alt="" coords="1149,297,1321,324"/>
<area shape="rect" href="x86_8c.html#a2b372d06c72b7d8c25e9004bb3a3fd3b" title=" " alt="" coords="931,115,1101,157"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="939,297,1093,324"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="706,9,843,36"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="479,5,560,32"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="181,5,368,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="445,505,593,532"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="713,67,836,93"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="687,122,863,163"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="667,355,883,397"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="420,392,619,419"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="699,473,850,514"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="685,239,865,265"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="683,290,867,331"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="702,188,847,215"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="207,505,342,532"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="434,57,605,98"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="211,64,338,91"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="438,122,601,163"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="209,129,340,156"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="433,239,606,265"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="464,289,575,316"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="435,188,604,215"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="213,239,336,265"/>
<area shape="rect" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990" title=" " alt="" coords="1404,436,1527,463"/>
<area shape="rect" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2" title=" " alt="" coords="1185,436,1286,463"/>
<area shape="rect" href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9" title=" " alt="" coords="950,385,1082,412"/>
<area shape="rect" href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba" title=" " alt="" coords="939,436,1093,463"/>
<area shape="rect" href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82" title=" " alt="" coords="945,487,1087,513"/>
<area shape="rect" href="i8259_8c.html#a1488ed2670af0e636f7384f69e1894a9" title=" " alt="" coords="1622,487,1750,513"/>
<area shape="rect" href="i8259_8c.html#a6620b725f8a47ecc7341e68ca3660df5" title=" " alt="" coords="1609,537,1763,564"/>
<area shape="rect" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a" title=" " alt="" coords="1623,588,1749,615"/>
<area shape="rect" href="irq__comm_8c.html#a1a4786be0e9713da805fb63743a7f340" title=" " alt="" coords="1401,487,1529,513"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="1149,487,1321,513"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="940,555,1092,581"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="697,589,852,616"/>
<area shape="rect" href="irq_8h.html#aaf23e09ccf4b445556e56ea8598e1311" title=" " alt="" coords="436,582,603,623"/>
<area shape="rect" href="x86_8c.html#aaf3dbbe842e06195f2e46694ea837380" title=" " alt="" coords="177,589,372,616"/>
<area shape="rect" href="x86_8c.html#a9c81b1b4617fffe8115b748bf5f13860" title=" " alt="" coords="1369,537,1561,564"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="1161,537,1310,564"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="1413,613,1518,640"/>
<area shape="rect" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b" title=" " alt="" coords="1167,639,1303,665"/>
<area shape="rect" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543" title=" " alt="" coords="1156,689,1315,716"/>
<area shape="rect" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c" title=" " alt="" coords="1162,588,1309,615"/>
</map>
</div>

</div>
</div>
<a id="a1ba411d40431f30cb5876e8a911e65a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ba411d40431f30cb5876e8a911e65a0">&#9670;&nbsp;</a></span>pic_intack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pic_intack </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__kpic__state.html">kvm_kpic_state</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00219">219</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;{</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    s-&gt;<a class="code" href="structkvm__kpic__state.html#a2bdafbbf3a2f4eec1c9bdf208fc7fc08">isr</a> |= 1 &lt;&lt; irq;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">     * We don&#39;t clear a level sensitive interrupt here</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (!(s-&gt;<a class="code" href="structkvm__kpic__state.html#a4ceb2d2133d4dd2ebf7d411f8ae881d8">elcr</a> &amp; (1 &lt;&lt; irq)))</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        s-&gt;<a class="code" href="structkvm__kpic__state.html#a246a10d960328384c3313e80190b835f">irr</a> &amp;= ~(1 &lt;&lt; irq);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structkvm__kpic__state.html#a27979e5135f3605e137627040da866d7">auto_eoi</a>) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structkvm__kpic__state.html#aa8515ab17d92c26870d637b82f890cb6">rotate_on_auto_eoi</a>)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#a41ba129ecb66f4fa7645b619f6c145ae">priority_add</a> = (irq + 1) &amp; 7;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <a class="code" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e">pic_clear_isr</a>(s, irq);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div>
<div class="ttc" id="astructkvm__kpic__state_html_aa8515ab17d92c26870d637b82f890cb6"><div class="ttname"><a href="structkvm__kpic__state.html#aa8515ab17d92c26870d637b82f890cb6">kvm_kpic_state::rotate_on_auto_eoi</a></div><div class="ttdeci">u8 rotate_on_auto_eoi</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00040">irq.h:40</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a1ba411d40431f30cb5876e8a911e65a0_cgraph.png" border="0" usemap="#ai8259_8c_a1ba411d40431f30cb5876e8a911e65a0_cgraph" alt=""/></div>
<map name="ai8259_8c_a1ba411d40431f30cb5876e8a911e65a0_cgraph" id="ai8259_8c_a1ba411d40431f30cb5876e8a911e65a0_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,93,83"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="141,56,244,83"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="300,31,375,57"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="292,81,383,108"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="431,56,621,83"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="465,107,587,133"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="688,5,859,32"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="701,56,846,83"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="925,56,1084,83"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="669,107,877,133"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="697,157,850,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a1ba411d40431f30cb5876e8a911e65a0_icgraph.png" border="0" usemap="#ai8259_8c_a1ba411d40431f30cb5876e8a911e65a0_icgraph" alt=""/></div>
<map name="ai8259_8c_a1ba411d40431f30cb5876e8a911e65a0_icgraph" id="ai8259_8c_a1ba411d40431f30cb5876e8a911e65a0_icgraph">
<area shape="rect" title=" " alt="" coords="1749,236,1837,263"/>
<area shape="rect" href="i8259_8c.html#a6f84274a6b9f1ae6381e9e5f413dd481" title=" " alt="" coords="1564,236,1701,263"/>
<area shape="rect" href="irq_8c.html#a0fe12d1697f3fa0b54c4a62c7be020e9" title=" " alt="" coords="1361,236,1516,263"/>
<area shape="rect" href="irq_8c.html#ac65804fee79f17331667abfe171088f2" title=" " alt="" coords="1141,236,1313,263"/>
<area shape="rect" href="x86_8c.html#a2b372d06c72b7d8c25e9004bb3a3fd3b" title=" " alt="" coords="923,99,1093,141"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="931,265,1085,292"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="698,5,835,32"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="471,5,552,32"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="177,5,364,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="437,83,585,109"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="705,173,828,200"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="679,225,855,266"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="659,290,875,331"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="412,327,611,353"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="691,107,842,149"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="677,407,857,433"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="675,458,859,499"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="694,524,839,551"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="203,83,338,109"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="426,163,597,205"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="207,171,334,197"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="430,229,593,270"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="205,236,336,263"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="425,473,598,500"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="456,524,567,551"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="427,575,596,601"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="209,473,332,500"/>
</map>
</div>

</div>
</div>
<a id="aa289ef7e53d6785652798eb8f1208990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa289ef7e53d6785652798eb8f1208990">&#9670;&nbsp;</a></span>pic_ioport_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u32 pic_ioport_read </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opaque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00425">425</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keyword">struct </span><a class="code" href="structkvm__kpic__state.html">kvm_kpic_state</a> *s = opaque;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structkvm__kpic__state.html#a1794334ffbe40fbccd6970eb65832409">poll</a>) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        ret = <a class="code" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a">pic_poll_read</a>(s, addr);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        s-&gt;<a class="code" href="structkvm__kpic__state.html#a1794334ffbe40fbccd6970eb65832409">poll</a> = 0;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">if</span> ((addr &amp; 1) == 0)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structkvm__kpic__state.html#a35b7e8eefa62793d2b6057418fc1e3ca">read_reg_select</a>)</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                ret = s-&gt;<a class="code" href="structkvm__kpic__state.html#a2bdafbbf3a2f4eec1c9bdf208fc7fc08">isr</a>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                ret = s-&gt;<a class="code" href="structkvm__kpic__state.html#a246a10d960328384c3313e80190b835f">irr</a>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            ret = s-&gt;<a class="code" href="structkvm__kpic__state.html#ae242649da8cb1d99a3366453472c4413">imr</a>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_adf97ac474f6610c461ba9cfad24f315a"><div class="ttname"><a href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a">pic_poll_read</a></div><div class="ttdeci">static u32 pic_poll_read(struct kvm_kpic_state *s, u32 addr1)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00400">i8259.c:400</a></div></div>
<div class="ttc" id="astructkvm__kpic__state_html_a1794334ffbe40fbccd6970eb65832409"><div class="ttname"><a href="structkvm__kpic__state.html#a1794334ffbe40fbccd6970eb65832409">kvm_kpic_state::poll</a></div><div class="ttdeci">u8 poll</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00036">irq.h:36</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_aa289ef7e53d6785652798eb8f1208990_cgraph.png" border="0" usemap="#ai8259_8c_aa289ef7e53d6785652798eb8f1208990_cgraph" alt=""/></div>
<map name="ai8259_8c_aa289ef7e53d6785652798eb8f1208990_cgraph" id="ai8259_8c_aa289ef7e53d6785652798eb8f1208990_cgraph">
<area shape="rect" title=" " alt="" coords="5,157,128,184"/>
<area shape="rect" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a" title=" " alt="" coords="176,157,284,184"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="339,107,442,133"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="511,157,605,184"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="332,208,449,235"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="521,56,595,83"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="513,107,603,133"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="667,56,857,83"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="701,107,823,133"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="924,5,1095,32"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="937,56,1082,83"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1161,56,1320,83"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="905,107,1113,133"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="933,157,1086,184"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="713,157,811,184"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="497,208,619,235"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="508,259,608,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_aa289ef7e53d6785652798eb8f1208990_icgraph.png" border="0" usemap="#ai8259_8c_aa289ef7e53d6785652798eb8f1208990_icgraph" alt=""/></div>
<map name="ai8259_8c_aa289ef7e53d6785652798eb8f1208990_icgraph" id="ai8259_8c_aa289ef7e53d6785652798eb8f1208990_icgraph">
<area shape="rect" title=" " alt="" coords="357,56,480,83"/>
<area shape="rect" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2" title=" " alt="" coords="208,56,309,83"/>
<area shape="rect" href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9" title=" " alt="" coords="17,5,149,32"/>
<area shape="rect" href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba" title=" " alt="" coords="5,56,160,83"/>
<area shape="rect" href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82" title=" " alt="" coords="11,107,154,133"/>
</map>
</div>

</div>
</div>
<a id="a23bf40906f1f0a0a84ce4af0956a8b2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23bf40906f1f0a0a84ce4af0956a8b2a">&#9670;&nbsp;</a></span>pic_ioport_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pic_ioport_write </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opaque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00307">307</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;{</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keyword">struct </span><a class="code" href="structkvm__kpic__state.html">kvm_kpic_state</a> *s = opaque;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordtype">int</span> priority, cmd, irq;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    addr &amp;= 1;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (addr == 0) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">if</span> (val &amp; 0x10) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#a494907b1b9b7d26ba62ed9aff53a2ea7">init4</a> = val &amp; 1;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">if</span> (val &amp; 0x02)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <a class="code" href="i8259_8c.html#a26d6f8eb3f3ff70449034ff9a86f0370">pr_pic_unimpl</a>(<span class="stringliteral">&quot;single mode not supported&quot;</span>);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordflow">if</span> (val &amp; 0x08)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <a class="code" href="i8259_8c.html#a26d6f8eb3f3ff70449034ff9a86f0370">pr_pic_unimpl</a>(</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                        <span class="stringliteral">&quot;level sensitive irq not supported&quot;</span>);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <a class="code" href="i8259_8c.html#a20f0eb17c76875b81e91fd32b0badc04">kvm_pic_reset</a>(s);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (val &amp; 0x08) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">if</span> (val &amp; 0x04)</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                s-&gt;<a class="code" href="structkvm__kpic__state.html#a1794334ffbe40fbccd6970eb65832409">poll</a> = 1;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">if</span> (val &amp; 0x02)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                s-&gt;<a class="code" href="structkvm__kpic__state.html#a35b7e8eefa62793d2b6057418fc1e3ca">read_reg_select</a> = val &amp; 1;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordflow">if</span> (val &amp; 0x40)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                s-&gt;<a class="code" href="structkvm__kpic__state.html#a467bdf58b434070e49cba31323c27d0e">special_mask</a> = (val &gt;&gt; 5) &amp; 1;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            cmd = val &gt;&gt; 5;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">switch</span> (cmd) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                s-&gt;<a class="code" href="structkvm__kpic__state.html#aa8515ab17d92c26870d637b82f890cb6">rotate_on_auto_eoi</a> = cmd &gt;&gt; 2;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keywordflow">case</span> 1: <span class="comment">/* end of interrupt */</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="keywordflow">case</span> 5:</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                priority = <a class="code" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8">get_priority</a>(s, s-&gt;<a class="code" href="structkvm__kpic__state.html#a2bdafbbf3a2f4eec1c9bdf208fc7fc08">isr</a>);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                <span class="keywordflow">if</span> (priority != 8) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    irq = (priority + s-&gt;<a class="code" href="structkvm__kpic__state.html#a41ba129ecb66f4fa7645b619f6c145ae">priority_add</a>) &amp; 7;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                    <span class="keywordflow">if</span> (cmd == 5)</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                        s-&gt;<a class="code" href="structkvm__kpic__state.html#a41ba129ecb66f4fa7645b619f6c145ae">priority_add</a> = (irq + 1) &amp; 7;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    <a class="code" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e">pic_clear_isr</a>(s, irq);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                    <a class="code" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8">pic_update_irq</a>(s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                irq = val &amp; 7;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                <a class="code" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e">pic_clear_isr</a>(s, irq);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <a class="code" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8">pic_update_irq</a>(s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keywordflow">case</span> 6:</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                s-&gt;<a class="code" href="structkvm__kpic__state.html#a41ba129ecb66f4fa7645b619f6c145ae">priority_add</a> = (val + 1) &amp; 7;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <a class="code" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8">pic_update_irq</a>(s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">case</span> 7:</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                irq = val &amp; 7;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                s-&gt;<a class="code" href="structkvm__kpic__state.html#a41ba129ecb66f4fa7645b619f6c145ae">priority_add</a> = (irq + 1) &amp; 7;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                <a class="code" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e">pic_clear_isr</a>(s, irq);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <a class="code" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8">pic_update_irq</a>(s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <span class="keywordflow">break</span>;  <span class="comment">/* no operation */</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">switch</span> (s-&gt;<a class="code" href="structkvm__kpic__state.html#a68f67161ad510259f0c64d9e2b6d8067">init_state</a>) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">case</span> 0: { <span class="comment">/* normal mode */</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            u8 imr_diff = s-&gt;<a class="code" href="structkvm__kpic__state.html#ae242649da8cb1d99a3366453472c4413">imr</a> ^ val,</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                off = (s == &amp;s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0]) ? 0 : 8;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#ae242649da8cb1d99a3366453472c4413">imr</a> = val;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">for</span> (irq = 0; irq &lt; <a class="code" href="irq_8h.html#a80ce9c55d9566830e9ce89ef1cf4f91f">PIC_NUM_PINS</a>/2; irq++)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                <span class="keywordflow">if</span> (imr_diff &amp; (1 &lt;&lt; irq))</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    <a class="code" href="irq__comm_8c.html#a99beb5255d7cb8ee3604817b893f903a">kvm_fire_mask_notifiers</a>(</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                        s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>-&gt;<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>,</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                        <a class="code" href="irq_8h.html#ab8ec760fe0029ffa50f9de448c946a1c">SELECT_PIC</a>(irq + off),</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                        irq + off,</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                        !!(s-&gt;<a class="code" href="structkvm__kpic__state.html#ae242649da8cb1d99a3366453472c4413">imr</a> &amp; (1 &lt;&lt; irq)));</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <a class="code" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8">pic_update_irq</a>(s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#a0cc4fbf2338495ddd0206950140f98e4">irq_base</a> = val &amp; 0xf8;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#a68f67161ad510259f0c64d9e2b6d8067">init_state</a> = 2;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structkvm__kpic__state.html#a494907b1b9b7d26ba62ed9aff53a2ea7">init4</a>)</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                s-&gt;<a class="code" href="structkvm__kpic__state.html#a68f67161ad510259f0c64d9e2b6d8067">init_state</a> = 3;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                s-&gt;<a class="code" href="structkvm__kpic__state.html#a68f67161ad510259f0c64d9e2b6d8067">init_state</a> = 0;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#aa62f4884861caf9c4584bc72bb5e3ef7">special_fully_nested_mode</a> = (val &gt;&gt; 4) &amp; 1;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#a27979e5135f3605e137627040da866d7">auto_eoi</a> = (val &gt;&gt; 1) &amp; 1;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#a68f67161ad510259f0c64d9e2b6d8067">init_state</a> = 0;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_a20f0eb17c76875b81e91fd32b0badc04"><div class="ttname"><a href="i8259_8c.html#a20f0eb17c76875b81e91fd32b0badc04">kvm_pic_reset</a></div><div class="ttdeci">static void kvm_pic_reset(struct kvm_kpic_state *s)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00272">i8259.c:272</a></div></div>
<div class="ttc" id="ai8259_8c_html_a26d6f8eb3f3ff70449034ff9a86f0370"><div class="ttname"><a href="i8259_8c.html#a26d6f8eb3f3ff70449034ff9a86f0370">pr_pic_unimpl</a></div><div class="ttdeci">#define pr_pic_unimpl(fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00039">i8259.c:39</a></div></div>
<div class="ttc" id="airq__comm_8c_html_a99beb5255d7cb8ee3604817b893f903a"><div class="ttname"><a href="irq__comm_8c.html#a99beb5255d7cb8ee3604817b893f903a">kvm_fire_mask_notifiers</a></div><div class="ttdeci">void kvm_fire_mask_notifiers(struct kvm *kvm, unsigned irqchip, unsigned pin, bool mask)</div><div class="ttdef"><b>Definition:</b> <a href="irq__comm_8c_source.html#l00259">irq_comm.c:259</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a23bf40906f1f0a0a84ce4af0956a8b2a_cgraph.png" border="0" usemap="#ai8259_8c_a23bf40906f1f0a0a84ce4af0956a8b2a_cgraph" alt=""/></div>
<map name="ai8259_8c_a23bf40906f1f0a0a84ce4af0956a8b2a_cgraph" id="ai8259_8c_a23bf40906f1f0a0a84ce4af0956a8b2a_cgraph">
<area shape="rect" title=" " alt="" coords="5,183,132,209"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="631,5,728,32"/>
<area shape="rect" href="irq__comm_8c.html#a99beb5255d7cb8ee3604817b893f903a" title=" " alt="" coords="180,183,363,209"/>
<area shape="rect" href="i8259_8c.html#a20f0eb17c76875b81e91fd32b0badc04" title=" " alt="" coords="213,233,330,260"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="445,284,548,311"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="213,107,330,133"/>
<area shape="rect" href="irqchip_8c.html#ae3e1d4af97f7a2b64ce2fd941200e3da" title=" " alt="" coords="411,183,583,209"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="776,233,967,260"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="1033,183,1204,209"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="1046,233,1191,260"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1271,233,1429,260"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="642,335,717,361"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="634,284,725,311"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="810,284,933,311"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1015,284,1223,311"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1042,335,1195,361"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="450,31,543,57"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="436,81,557,108"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="447,132,547,159"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a23bf40906f1f0a0a84ce4af0956a8b2a_icgraph.png" border="0" usemap="#ai8259_8c_a23bf40906f1f0a0a84ce4af0956a8b2a_icgraph" alt=""/></div>
<map name="ai8259_8c_a23bf40906f1f0a0a84ce4af0956a8b2a_icgraph" id="ai8259_8c_a23bf40906f1f0a0a84ce4af0956a8b2a_icgraph">
<area shape="rect" title=" " alt="" coords="365,56,492,83"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="212,56,317,83"/>
<area shape="rect" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b" title=" " alt="" coords="17,5,153,32"/>
<area shape="rect" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543" title=" " alt="" coords="5,56,164,83"/>
<area shape="rect" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c" title=" " alt="" coords="11,107,158,133"/>
</map>
</div>

</div>
</div>
<a id="a75c69cdd42cc8bd25d43754650df665a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75c69cdd42cc8bd25d43754650df665a">&#9670;&nbsp;</a></span>pic_irq_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pic_irq_request </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00566">566</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;{</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keyword">struct </span><a class="code" href="structkvm__pic.html">kvm_pic</a> *s = <a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>-&gt;arch.vpic;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">if</span> (!s-&gt;<a class="code" href="structkvm__pic.html#a7983474ab21ffba30a1687d3451d6c35">output</a>)</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        s-&gt;<a class="code" href="structkvm__pic.html#a1398ef008df8360147a563c16a262c34">wakeup_needed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    s-&gt;<a class="code" href="structkvm__pic.html#a7983474ab21ffba30a1687d3451d6c35">output</a> = level;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div>
<div class="ttc" id="astructkvm__pic_html_a1398ef008df8360147a563c16a262c34"><div class="ttname"><a href="structkvm__pic.html#a1398ef008df8360147a563c16a262c34">kvm_pic::wakeup_needed</a></div><div class="ttdeci">bool wakeup_needed</div><div class="ttdef"><b>Definition:</b> <a href="irq_8h_source.html#l00051">irq.h:51</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a75c69cdd42cc8bd25d43754650df665a_icgraph.png" border="0" usemap="#ai8259_8c_a75c69cdd42cc8bd25d43754650df665a_icgraph" alt=""/></div>
<map name="ai8259_8c_a75c69cdd42cc8bd25d43754650df665a_icgraph" id="ai8259_8c_a75c69cdd42cc8bd25d43754650df665a_icgraph">
<area shape="rect" title=" " alt="" coords="1976,596,2097,623"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="1811,596,1928,623"/>
<area shape="rect" href="i8259_8c.html#a6f84274a6b9f1ae6381e9e5f413dd481" title=" " alt="" coords="1617,439,1755,465"/>
<area shape="rect" href="i8259_8c.html#a1488ed2670af0e636f7384f69e1894a9" title=" " alt="" coords="1622,545,1750,572"/>
<area shape="rect" href="i8259_8c.html#a6620b725f8a47ecc7341e68ca3660df5" title=" " alt="" coords="1609,596,1763,623"/>
<area shape="rect" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a" title=" " alt="" coords="1623,660,1749,687"/>
<area shape="rect" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a" title=" " alt="" coords="1632,711,1740,737"/>
<area shape="rect" href="irq_8c.html#a0fe12d1697f3fa0b54c4a62c7be020e9" title=" " alt="" coords="1388,325,1543,352"/>
<area shape="rect" href="irq_8c.html#ac65804fee79f17331667abfe171088f2" title=" " alt="" coords="1149,297,1321,324"/>
<area shape="rect" href="x86_8c.html#a2b372d06c72b7d8c25e9004bb3a3fd3b" title=" " alt="" coords="931,115,1101,157"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="939,297,1093,324"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="706,5,843,32"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="479,5,560,32"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="181,5,368,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="445,85,593,112"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="713,173,836,200"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="687,225,863,266"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="667,290,883,331"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="420,327,619,353"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="699,107,850,149"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="685,407,865,433"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="683,458,867,499"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="702,524,847,551"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="207,85,342,112"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="434,163,605,205"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="211,171,338,197"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="438,229,601,270"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="209,236,340,263"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="433,448,606,475"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="464,499,575,525"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="435,549,604,576"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="213,448,336,475"/>
<area shape="rect" href="irq__comm_8c.html#a1a4786be0e9713da805fb63743a7f340" title=" " alt="" coords="1401,545,1529,572"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="1149,545,1321,572"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="940,561,1092,588"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="697,579,852,605"/>
<area shape="rect" href="irq_8h.html#aaf23e09ccf4b445556e56ea8598e1311" title=" " alt="" coords="436,601,603,642"/>
<area shape="rect" href="x86_8c.html#aaf3dbbe842e06195f2e46694ea837380" title=" " alt="" coords="177,608,372,635"/>
<area shape="rect" href="x86_8c.html#a9c81b1b4617fffe8115b748bf5f13860" title=" " alt="" coords="1369,596,1561,623"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="1161,596,1310,623"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="1413,672,1518,699"/>
<area shape="rect" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b" title=" " alt="" coords="1167,647,1303,673"/>
<area shape="rect" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543" title=" " alt="" coords="1156,697,1315,724"/>
<area shape="rect" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c" title=" " alt="" coords="1162,748,1309,775"/>
<area shape="rect" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990" title=" " alt="" coords="1404,748,1527,775"/>
<area shape="rect" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2" title=" " alt="" coords="1185,799,1286,825"/>
<area shape="rect" href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9" title=" " alt="" coords="950,748,1082,775"/>
<area shape="rect" href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba" title=" " alt="" coords="939,799,1093,825"/>
<area shape="rect" href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82" title=" " alt="" coords="945,849,1087,876"/>
</map>
</div>

</div>
</div>
<a id="ac4af2817e73f33914b0f546581363266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4af2817e73f33914b0f546581363266">&#9670;&nbsp;</a></span>pic_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pic_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> &amp; -&gt; lock)
</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00044">44</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;{</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    spin_lock(&amp;s-&gt;<a class="code" href="structkvm__pic.html#ad6d8f9ea85060cdf2879e1af2b69d4bd">lock</a>);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_ac4af2817e73f33914b0f546581363266_icgraph.png" border="0" usemap="#ai8259_8c_ac4af2817e73f33914b0f546581363266_icgraph" alt=""/></div>
<map name="ai8259_8c_ac4af2817e73f33914b0f546581363266_icgraph" id="ai8259_8c_ac4af2817e73f33914b0f546581363266_icgraph">
<area shape="rect" title=" " alt="" coords="2021,434,2096,461"/>
<area shape="rect" href="i8259_8c.html#a4fef735273cc243ab0c60985526cf753" title=" " alt="" coords="1827,206,1966,233"/>
<area shape="rect" href="i8259_8c.html#a6f84274a6b9f1ae6381e9e5f413dd481" title=" " alt="" coords="1377,330,1515,357"/>
<area shape="rect" href="i8259_8c.html#a1488ed2670af0e636f7384f69e1894a9" title=" " alt="" coords="1833,662,1961,689"/>
<area shape="rect" href="i8259_8c.html#a6620b725f8a47ecc7341e68ca3660df5" title=" " alt="" coords="1820,257,1973,283"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="1845,434,1948,461"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="1172,455,1277,482"/>
<area shape="rect" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2" title=" " alt="" coords="1174,605,1275,631"/>
<area shape="rect" href="irq__comm_8c.html#affd624d06afb4fc277fb7a08e06bd942" title=" " alt="" coords="1587,206,1765,233"/>
<area shape="rect" href="i8254_8c.html#a13a38debbd4e494ffd488ef8abb5406c" title=" " alt="" coords="1385,206,1507,233"/>
<area shape="rect" href="i8254_8c.html#a2a7ca7f5194b378ba7f0ae7a38cc26ba" title=" " alt="" coords="1392,155,1500,182"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="1150,231,1299,258"/>
<area shape="rect" href="x86_8c.html#a6f324dc73c5f97fe0b9dfa35f303d5f9" title=" " alt="" coords="1137,155,1312,182"/>
<area shape="rect" href="kvm__main_8c.html#afd922c538c448ab1248cdb9dccae9410" title=" " alt="" coords="936,155,1071,182"/>
<area shape="rect" href="kvm__main_8c.html#a013962010b954d8597e5987fd27c8241" title=" " alt="" coords="727,155,841,182"/>
<area shape="rect" href="irq_8c.html#a0fe12d1697f3fa0b54c4a62c7be020e9" title=" " alt="" coords="1147,330,1302,357"/>
<area shape="rect" href="irq_8c.html#ac65804fee79f17331667abfe171088f2" title=" " alt="" coords="917,330,1089,357"/>
<area shape="rect" href="x86_8c.html#a2b372d06c72b7d8c25e9004bb3a3fd3b" title=" " alt="" coords="699,404,869,445"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="707,269,861,295"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="474,525,611,551"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="247,525,328,551"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="213,151,361,178"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="481,239,604,266"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="455,291,631,332"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="435,408,651,449"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="188,390,387,417"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="467,173,618,215"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="453,474,633,501"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="451,5,635,47"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="470,71,615,98"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="5,151,140,178"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="202,229,373,271"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="206,295,369,336"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="201,71,374,98"/>
<area shape="rect" href="irq__comm_8c.html#a1a4786be0e9713da805fb63743a7f340" title=" " alt="" coords="1612,662,1740,689"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="1360,669,1532,695"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="1149,681,1301,707"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="926,706,1081,733"/>
<area shape="rect" href="x86_8c.html#a9c81b1b4617fffe8115b748bf5f13860" title=" " alt="" coords="1580,257,1772,283"/>
<area shape="rect" href="i8259_8c.html#a20f0eb17c76875b81e91fd32b0badc04" title=" " alt="" coords="1617,459,1735,486"/>
<area shape="rect" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a" title=" " alt="" coords="1383,455,1509,482"/>
<area shape="rect" href="i8259_8c.html#a1ba411d40431f30cb5876e8a911e65a0" title=" " alt="" coords="1632,358,1720,385"/>
<area shape="rect" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a" title=" " alt="" coords="1622,510,1730,537"/>
<area shape="rect" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b" title=" " alt="" coords="935,402,1071,429"/>
<area shape="rect" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543" title=" " alt="" coords="924,453,1083,479"/>
<area shape="rect" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c" title=" " alt="" coords="930,503,1077,530"/>
<area shape="rect" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990" title=" " alt="" coords="1385,510,1507,537"/>
<area shape="rect" href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9" title=" " alt="" coords="937,554,1069,581"/>
<area shape="rect" href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba" title=" " alt="" coords="926,605,1081,631"/>
<area shape="rect" href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82" title=" " alt="" coords="932,655,1075,682"/>
</map>
</div>

</div>
</div>
<a id="adf97ac474f6610c461ba9cfad24f315a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf97ac474f6610c461ba9cfad24f315a">&#9670;&nbsp;</a></span>pic_poll_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u32 pic_poll_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__kpic__state.html">kvm_kpic_state</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>addr1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00400">400</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;{</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    ret = <a class="code" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c">pic_get_irq</a>(s);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> (ret &gt;= 0) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">if</span> (addr1 &gt;&gt; 7) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0].<a class="code" href="structkvm__kpic__state.html#a2bdafbbf3a2f4eec1c9bdf208fc7fc08">isr</a> &amp;= ~(1 &lt;&lt; 2);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0].<a class="code" href="structkvm__kpic__state.html#a246a10d960328384c3313e80190b835f">irr</a> &amp;= ~(1 &lt;&lt; 2);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        s-&gt;<a class="code" href="structkvm__kpic__state.html#a246a10d960328384c3313e80190b835f">irr</a> &amp;= ~(1 &lt;&lt; ret);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e">pic_clear_isr</a>(s, ret);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keywordflow">if</span> (addr1 &gt;&gt; 7 || ret != 2)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <a class="code" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8">pic_update_irq</a>(s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="comment">/* Bit 7 is 1, means there&#39;s an interrupt */</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        ret |= 0x80;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="comment">/* Bit 7 is 0, means there&#39;s no interrupt */</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        ret = 0x07;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8">pic_update_irq</a>(s-&gt;<a class="code" href="structkvm__kpic__state.html#a1931404cd9d16f15239bf4517009a800">pics_state</a>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_adf97ac474f6610c461ba9cfad24f315a_cgraph.png" border="0" usemap="#ai8259_8c_adf97ac474f6610c461ba9cfad24f315a_cgraph" alt=""/></div>
<map name="ai8259_8c_adf97ac474f6610c461ba9cfad24f315a_cgraph" id="ai8259_8c_adf97ac474f6610c461ba9cfad24f315a_cgraph">
<area shape="rect" title=" " alt="" coords="5,157,113,184"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="169,107,271,133"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="341,157,434,184"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="161,208,279,235"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="350,56,425,83"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="342,107,433,133"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="496,56,687,83"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="530,107,653,133"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="753,5,924,32"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="766,56,911,83"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="991,56,1149,83"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="735,107,943,133"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="762,157,915,184"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="543,157,640,184"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="327,208,448,235"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="337,259,437,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_adf97ac474f6610c461ba9cfad24f315a_icgraph.png" border="0" usemap="#ai8259_8c_adf97ac474f6610c461ba9cfad24f315a_icgraph" alt=""/></div>
<map name="ai8259_8c_adf97ac474f6610c461ba9cfad24f315a_icgraph" id="ai8259_8c_adf97ac474f6610c461ba9cfad24f315a_icgraph">
<area shape="rect" title=" " alt="" coords="528,56,636,83"/>
<area shape="rect" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990" title=" " alt="" coords="357,56,480,83"/>
<area shape="rect" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2" title=" " alt="" coords="208,56,309,83"/>
<area shape="rect" href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9" title=" " alt="" coords="17,5,149,32"/>
<area shape="rect" href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba" title=" " alt="" coords="5,56,160,83"/>
<area shape="rect" href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82" title=" " alt="" coords="11,107,154,133"/>
</map>
</div>

</div>
</div>
<a id="a825dac14ef02aee4e475b5c433277680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a825dac14ef02aee4e475b5c433277680">&#9670;&nbsp;</a></span>pic_set_irq1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pic_set_irq1 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__kpic__state.html">kvm_kpic_state</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00091">91</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;{</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordtype">int</span> mask, ret = 1;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    mask = 1 &lt;&lt; irq;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structkvm__kpic__state.html#a4ceb2d2133d4dd2ebf7d411f8ae881d8">elcr</a> &amp; mask) <span class="comment">/* level triggered */</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">if</span> (level) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            ret = !(s-&gt;<a class="code" href="structkvm__kpic__state.html#a246a10d960328384c3313e80190b835f">irr</a> &amp; mask);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#a246a10d960328384c3313e80190b835f">irr</a> |= mask;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#a5cfca03891f6b4e6a8cd609a2332ef41">last_irr</a> |= mask;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#a246a10d960328384c3313e80190b835f">irr</a> &amp;= ~mask;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#a5cfca03891f6b4e6a8cd609a2332ef41">last_irr</a> &amp;= ~mask;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">else</span>    <span class="comment">/* edge triggered */</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">if</span> (level) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">if</span> ((s-&gt;<a class="code" href="structkvm__kpic__state.html#a5cfca03891f6b4e6a8cd609a2332ef41">last_irr</a> &amp; mask) == 0) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                ret = !(s-&gt;<a class="code" href="structkvm__kpic__state.html#a246a10d960328384c3313e80190b835f">irr</a> &amp; mask);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                s-&gt;<a class="code" href="structkvm__kpic__state.html#a246a10d960328384c3313e80190b835f">irr</a> |= mask;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#a5cfca03891f6b4e6a8cd609a2332ef41">last_irr</a> |= mask;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            s-&gt;<a class="code" href="structkvm__kpic__state.html#a5cfca03891f6b4e6a8cd609a2332ef41">last_irr</a> &amp;= ~mask;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> (s-&gt;<a class="code" href="structkvm__kpic__state.html#ae242649da8cb1d99a3366453472c4413">imr</a> &amp; mask) ? -1 : ret;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a825dac14ef02aee4e475b5c433277680_icgraph.png" border="0" usemap="#ai8259_8c_a825dac14ef02aee4e475b5c433277680_icgraph" alt=""/></div>
<map name="ai8259_8c_a825dac14ef02aee4e475b5c433277680_icgraph" id="ai8259_8c_a825dac14ef02aee4e475b5c433277680_icgraph">
<area shape="rect" title=" " alt="" coords="2017,98,2117,125"/>
<area shape="rect" href="i8259_8c.html#a1488ed2670af0e636f7384f69e1894a9" title=" " alt="" coords="1663,47,1791,74"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="1852,123,1969,150"/>
<area shape="rect" href="irq__comm_8c.html#a1a4786be0e9713da805fb63743a7f340" title=" " alt="" coords="1443,47,1571,74"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="1191,31,1363,58"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="981,22,1133,49"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="739,14,893,41"/>
<area shape="rect" href="irq_8h.html#aaf23e09ccf4b445556e56ea8598e1311" title=" " alt="" coords="477,5,644,47"/>
<area shape="rect" href="x86_8c.html#aaf3dbbe842e06195f2e46694ea837380" title=" " alt="" coords="219,13,413,39"/>
<area shape="rect" href="kvm__main_8c.html#aaeec02d207c8ce5ca12b1ef2ac36fae0" title=" " alt="" coords="5,5,171,47"/>
<area shape="rect" href="i8259_8c.html#a6f84274a6b9f1ae6381e9e5f413dd481" title=" " alt="" coords="1659,98,1796,125"/>
<area shape="rect" href="i8259_8c.html#a6620b725f8a47ecc7341e68ca3660df5" title=" " alt="" coords="1651,149,1804,175"/>
<area shape="rect" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a" title=" " alt="" coords="1664,213,1791,239"/>
<area shape="rect" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a" title=" " alt="" coords="1673,263,1781,290"/>
<area shape="rect" href="irq_8c.html#a0fe12d1697f3fa0b54c4a62c7be020e9" title=" " alt="" coords="1429,98,1584,125"/>
<area shape="rect" href="irq_8c.html#ac65804fee79f17331667abfe171088f2" title=" " alt="" coords="1191,98,1363,125"/>
<area shape="rect" href="x86_8c.html#a2b372d06c72b7d8c25e9004bb3a3fd3b" title=" " alt="" coords="972,84,1143,125"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="980,295,1135,322"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="747,69,885,95"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="520,71,601,98"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="223,71,409,98"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="487,149,635,175"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="755,237,877,263"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="728,288,904,329"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="708,353,924,395"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="461,390,660,417"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="741,171,891,212"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="726,470,906,497"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="724,521,908,563"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="743,587,889,614"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="249,149,383,175"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="475,227,646,268"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="253,234,379,261"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="479,292,642,333"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="251,299,381,326"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="474,537,647,563"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="505,587,616,614"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="476,638,645,665"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="255,537,377,563"/>
<area shape="rect" href="x86_8c.html#a9c81b1b4617fffe8115b748bf5f13860" title=" " alt="" coords="1411,149,1603,175"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="1202,149,1351,175"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="1454,225,1559,251"/>
<area shape="rect" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b" title=" " alt="" coords="1209,199,1345,226"/>
<area shape="rect" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543" title=" " alt="" coords="1197,250,1356,277"/>
<area shape="rect" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c" title=" " alt="" coords="1203,301,1350,327"/>
<area shape="rect" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990" title=" " alt="" coords="1445,301,1568,327"/>
<area shape="rect" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2" title=" " alt="" coords="1226,371,1327,398"/>
<area shape="rect" href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9" title=" " alt="" coords="991,346,1123,373"/>
<area shape="rect" href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba" title=" " alt="" coords="980,397,1135,423"/>
<area shape="rect" href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82" title=" " alt="" coords="986,447,1129,474"/>
</map>
</div>

</div>
</div>
<a id="a1f534b69587aeb30f8853f3eb4a35071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f534b69587aeb30f8853f3eb4a35071">&#9670;&nbsp;</a></span>pic_unlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pic_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> &amp; -&gt; lock)
</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00050">50</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordtype">bool</span> wakeup = s-&gt;<a class="code" href="structkvm__pic.html#a1398ef008df8360147a563c16a262c34">wakeup_needed</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keyword">struct </span>kvm_vcpu *vcpu;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    s-&gt;<a class="code" href="structkvm__pic.html#a1398ef008df8360147a563c16a262c34">wakeup_needed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    spin_unlock(&amp;s-&gt;<a class="code" href="structkvm__pic.html#ad6d8f9ea85060cdf2879e1af2b69d4bd">lock</a>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">if</span> (wakeup) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        kvm_for_each_vcpu(i, vcpu, s-&gt;<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4">kvm_apic_accept_pic_intr</a>(vcpu)) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                kvm_make_request(KVM_REQ_EVENT, vcpu);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                <a class="code" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44">kvm_vcpu_kick</a>(vcpu);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="ttc" id="akvm__main_8c_html_ac82f28c95da4a0cc137c5a37f08d1f44"><div class="ttname"><a href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44">kvm_vcpu_kick</a></div><div class="ttdeci">void kvm_vcpu_kick(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__main_8c_source.html#l03931">kvm_main.c:3931</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a1f534b69587aeb30f8853f3eb4a35071_cgraph.png" border="0" usemap="#ai8259_8c_a1f534b69587aeb30f8853f3eb4a35071_cgraph" alt=""/></div>
<map name="ai8259_8c_a1f534b69587aeb30f8853f3eb4a35071_cgraph" id="ai8259_8c_a1f534b69587aeb30f8853f3eb4a35071_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,96,108"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="144,56,335,83"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="178,107,301,133"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="401,5,572,32"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="414,56,559,83"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="639,56,797,83"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="383,107,591,133"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="410,157,563,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a1f534b69587aeb30f8853f3eb4a35071_icgraph.png" border="0" usemap="#ai8259_8c_a1f534b69587aeb30f8853f3eb4a35071_icgraph" alt=""/></div>
<map name="ai8259_8c_a1f534b69587aeb30f8853f3eb4a35071_icgraph" id="ai8259_8c_a1f534b69587aeb30f8853f3eb4a35071_icgraph">
<area shape="rect" title=" " alt="" coords="2021,434,2112,461"/>
<area shape="rect" href="i8259_8c.html#a4fef735273cc243ab0c60985526cf753" title=" " alt="" coords="1827,206,1966,233"/>
<area shape="rect" href="i8259_8c.html#a6f84274a6b9f1ae6381e9e5f413dd481" title=" " alt="" coords="1377,330,1515,357"/>
<area shape="rect" href="i8259_8c.html#a1488ed2670af0e636f7384f69e1894a9" title=" " alt="" coords="1833,662,1961,689"/>
<area shape="rect" href="i8259_8c.html#a6620b725f8a47ecc7341e68ca3660df5" title=" " alt="" coords="1820,257,1973,283"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="1845,434,1948,461"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="1172,455,1277,482"/>
<area shape="rect" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2" title=" " alt="" coords="1174,605,1275,631"/>
<area shape="rect" href="irq__comm_8c.html#affd624d06afb4fc277fb7a08e06bd942" title=" " alt="" coords="1587,206,1765,233"/>
<area shape="rect" href="i8254_8c.html#a13a38debbd4e494ffd488ef8abb5406c" title=" " alt="" coords="1385,206,1507,233"/>
<area shape="rect" href="i8254_8c.html#a2a7ca7f5194b378ba7f0ae7a38cc26ba" title=" " alt="" coords="1392,155,1500,182"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="1150,231,1299,258"/>
<area shape="rect" href="x86_8c.html#a6f324dc73c5f97fe0b9dfa35f303d5f9" title=" " alt="" coords="1137,155,1312,182"/>
<area shape="rect" href="kvm__main_8c.html#afd922c538c448ab1248cdb9dccae9410" title=" " alt="" coords="936,155,1071,182"/>
<area shape="rect" href="kvm__main_8c.html#a013962010b954d8597e5987fd27c8241" title=" " alt="" coords="727,155,841,182"/>
<area shape="rect" href="irq_8c.html#a0fe12d1697f3fa0b54c4a62c7be020e9" title=" " alt="" coords="1147,330,1302,357"/>
<area shape="rect" href="irq_8c.html#ac65804fee79f17331667abfe171088f2" title=" " alt="" coords="917,330,1089,357"/>
<area shape="rect" href="x86_8c.html#a2b372d06c72b7d8c25e9004bb3a3fd3b" title=" " alt="" coords="699,404,869,445"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="707,269,861,295"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="474,525,611,551"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="247,525,328,551"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="213,151,361,178"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="481,239,604,266"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="455,291,631,332"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="435,408,651,449"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="188,390,387,417"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="467,173,618,215"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="453,474,633,501"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="451,5,635,47"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="470,71,615,98"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="5,151,140,178"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="202,229,373,271"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="206,295,369,336"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="201,71,374,98"/>
<area shape="rect" href="irq__comm_8c.html#a1a4786be0e9713da805fb63743a7f340" title=" " alt="" coords="1612,662,1740,689"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="1360,669,1532,695"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="1149,681,1301,707"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="926,706,1081,733"/>
<area shape="rect" href="x86_8c.html#a9c81b1b4617fffe8115b748bf5f13860" title=" " alt="" coords="1580,257,1772,283"/>
<area shape="rect" href="i8259_8c.html#a20f0eb17c76875b81e91fd32b0badc04" title=" " alt="" coords="1617,459,1735,486"/>
<area shape="rect" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a" title=" " alt="" coords="1383,455,1509,482"/>
<area shape="rect" href="i8259_8c.html#a1ba411d40431f30cb5876e8a911e65a0" title=" " alt="" coords="1632,358,1720,385"/>
<area shape="rect" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a" title=" " alt="" coords="1622,510,1730,537"/>
<area shape="rect" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b" title=" " alt="" coords="935,402,1071,429"/>
<area shape="rect" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543" title=" " alt="" coords="924,453,1083,479"/>
<area shape="rect" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c" title=" " alt="" coords="930,503,1077,530"/>
<area shape="rect" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990" title=" " alt="" coords="1385,510,1507,537"/>
<area shape="rect" href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9" title=" " alt="" coords="937,554,1069,581"/>
<area shape="rect" href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba" title=" " alt="" coords="926,605,1081,631"/>
<area shape="rect" href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82" title=" " alt="" coords="932,655,1075,682"/>
</map>
</div>

</div>
</div>
<a id="af2a1af170975b4e108adc2574cd2fcc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2a1af170975b4e108adc2574cd2fcc8">&#9670;&nbsp;</a></span>pic_update_irq()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pic_update_irq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00165">165</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordtype">int</span> irq2, irq;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    irq2 = <a class="code" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c">pic_get_irq</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[1]);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (irq2 &gt;= 0) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">         * if irq request by slave pic, signal master PIC</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680">pic_set_irq1</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0], 2, 1);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680">pic_set_irq1</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0], 2, 0);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    irq = <a class="code" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c">pic_get_irq</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0]);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a">pic_irq_request</a>(s-&gt;<a class="code" href="structkvm__pic.html#a697ced0835fd6f64e36410164db9db28">kvm</a>, irq &gt;= 0);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_a75c69cdd42cc8bd25d43754650df665a"><div class="ttname"><a href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a">pic_irq_request</a></div><div class="ttdeci">static void pic_irq_request(struct kvm *kvm, int level)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00566">i8259.c:566</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_af2a1af170975b4e108adc2574cd2fcc8_cgraph.png" border="0" usemap="#ai8259_8c_af2a1af170975b4e108adc2574cd2fcc8_cgraph" alt=""/></div>
<map name="ai8259_8c_af2a1af170975b4e108adc2574cd2fcc8_cgraph" id="ai8259_8c_af2a1af170975b4e108adc2574cd2fcc8_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,123,83"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="185,5,278,32"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="171,56,292,83"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="181,107,281,133"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="340,5,437,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_af2a1af170975b4e108adc2574cd2fcc8_icgraph.png" border="0" usemap="#ai8259_8c_af2a1af170975b4e108adc2574cd2fcc8_icgraph" alt=""/></div>
<map name="ai8259_8c_af2a1af170975b4e108adc2574cd2fcc8_icgraph" id="ai8259_8c_af2a1af170975b4e108adc2574cd2fcc8_icgraph">
<area shape="rect" title=" " alt="" coords="1852,596,1969,623"/>
<area shape="rect" href="i8259_8c.html#a6f84274a6b9f1ae6381e9e5f413dd481" title=" " alt="" coords="1659,439,1796,465"/>
<area shape="rect" href="i8259_8c.html#a1488ed2670af0e636f7384f69e1894a9" title=" " alt="" coords="1663,545,1791,572"/>
<area shape="rect" href="i8259_8c.html#a6620b725f8a47ecc7341e68ca3660df5" title=" " alt="" coords="1651,596,1804,623"/>
<area shape="rect" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a" title=" " alt="" coords="1664,660,1791,687"/>
<area shape="rect" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a" title=" " alt="" coords="1673,711,1781,737"/>
<area shape="rect" href="irq_8c.html#a0fe12d1697f3fa0b54c4a62c7be020e9" title=" " alt="" coords="1429,325,1584,352"/>
<area shape="rect" href="irq_8c.html#ac65804fee79f17331667abfe171088f2" title=" " alt="" coords="1191,297,1363,324"/>
<area shape="rect" href="x86_8c.html#a2b372d06c72b7d8c25e9004bb3a3fd3b" title=" " alt="" coords="972,115,1143,157"/>
<area shape="rect" href="vmx_2nested_8c.html#ad680a323fa0378a55e97821505ba74b1" title=" " alt="" coords="980,297,1135,324"/>
<area shape="rect" href="x86_8c.html#a3361a1b517035bb0595ead223a3cb349" title=" " alt="" coords="747,5,885,32"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="520,5,601,32"/>
<area shape="rect" href="x86_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="223,5,409,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="26,5,150,32"/>
<area shape="rect" href="vmx_8c.html#a23ea2316b60c27a2c00f924b983a46e9" title=" " alt="" coords="487,85,635,112"/>
<area shape="rect" href="vmx_2nested_8c.html#af5978d4465f6d84a878163540b6f9ae6" title=" " alt="" coords="755,173,877,200"/>
<area shape="rect" href="vmx_2nested_8c.html#a4e307e2bcf664c83265b1442e3fc8da2" title=" " alt="" coords="728,225,904,266"/>
<area shape="rect" href="vmx_2nested_8c.html#ad3cab9cf8633364513bd6a24caecf41a" title=" " alt="" coords="708,290,924,331"/>
<area shape="rect" href="vmx_2nested_8c.html#ae8bd3aaa6d3ea61d98732dc54ced8578" title=" " alt="" coords="461,327,660,353"/>
<area shape="rect" href="vmx_2nested_8c.html#a48fcc88ceee4f57a3dbf23fedb46a5cb" title=" " alt="" coords="741,107,891,149"/>
<area shape="rect" href="vmx_2nested_8c.html#aedc5821e9af5c7bd4aac6c06f4ca046f" title=" " alt="" coords="726,407,906,433"/>
<area shape="rect" href="vmx_2hyperv_8c.html#a937e30dece4579b71b17efcd54c1d910" title=" " alt="" coords="724,458,908,499"/>
<area shape="rect" href="vmx_2nested_8c.html#a64e6550fab681b40c832fe4e2d5e3b95" title=" " alt="" coords="743,524,889,551"/>
<area shape="rect" href="vmx_8c.html#a6ee5de3518ff2c2c20b1c1a0e17b2f1e" title=" " alt="" coords="249,85,383,112"/>
<area shape="rect" href="vmx_2nested_8c.html#a77ca924cd23ac875ea48b1f181f33000" title=" " alt="" coords="475,163,646,205"/>
<area shape="rect" href="vmx_8c.html#a7cacd86bbd7f4ae2b8c9e5e8568fa5e4" title=" " alt="" coords="253,171,379,197"/>
<area shape="rect" href="vmx_2nested_8c.html#a6a1c45a52fde9844f4431a9db00dbf9f" title=" " alt="" coords="479,229,642,270"/>
<area shape="rect" href="vmx_2nested_8c.html#a27bdf4f6bbd476189cb0198a634394f5" title=" " alt="" coords="251,236,381,263"/>
<area shape="rect" href="vmx_2nested_8c.html#a2c53f6d5cd8133df2c8e67ab90b9aa5f" title=" " alt="" coords="474,448,647,475"/>
<area shape="rect" href="vmx_8c.html#a0fb610ce041405729e4296dfc871c30e" title=" " alt="" coords="505,499,616,525"/>
<area shape="rect" href="vmx_2nested_8c.html#acee8cb651216e97a9c12b807243ae59a" title=" " alt="" coords="476,549,645,576"/>
<area shape="rect" href="vmx_8c.html#ac1cd58b9f223df9d6b5fe9695c0cbe2b" title=" " alt="" coords="255,448,377,475"/>
<area shape="rect" href="irq__comm_8c.html#a1a4786be0e9713da805fb63743a7f340" title=" " alt="" coords="1443,545,1571,572"/>
<area shape="rect" href="irq__comm_8c.html#aceb0f3f9718caf022b2ff6f982fee020" title=" " alt="" coords="1191,545,1363,572"/>
<area shape="rect" href="irqchip_8c.html#ab06caa34c3a7189a433815036dd3ebb3" title=" " alt="" coords="981,561,1133,588"/>
<area shape="rect" href="irqchip_8c.html#a2c54cf3c324c7d2b9190fffcf4a1f20a" title=" " alt="" coords="739,579,893,605"/>
<area shape="rect" href="irq_8h.html#aaf23e09ccf4b445556e56ea8598e1311" title=" " alt="" coords="477,601,644,642"/>
<area shape="rect" href="x86_8c.html#aaf3dbbe842e06195f2e46694ea837380" title=" " alt="" coords="219,608,413,635"/>
<area shape="rect" href="kvm__main_8c.html#aaeec02d207c8ce5ca12b1ef2ac36fae0" title=" " alt="" coords="5,601,171,642"/>
<area shape="rect" href="x86_8c.html#a9c81b1b4617fffe8115b748bf5f13860" title=" " alt="" coords="1411,596,1603,623"/>
<area shape="rect" href="x86_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="1202,596,1351,623"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="1454,672,1559,699"/>
<area shape="rect" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b" title=" " alt="" coords="1209,647,1345,673"/>
<area shape="rect" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543" title=" " alt="" coords="1197,697,1356,724"/>
<area shape="rect" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c" title=" " alt="" coords="1203,748,1350,775"/>
<area shape="rect" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990" title=" " alt="" coords="1445,748,1568,775"/>
<area shape="rect" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2" title=" " alt="" coords="1226,799,1327,825"/>
<area shape="rect" href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9" title=" " alt="" coords="991,748,1123,775"/>
<area shape="rect" href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba" title=" " alt="" coords="980,799,1135,825"/>
<area shape="rect" href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82" title=" " alt="" coords="986,849,1129,876"/>
</map>
</div>

</div>
</div>
<a id="a90b8b13ef894f381c91ad0a92ef4b2c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90b8b13ef894f381c91ad0a92ef4b2c9">&#9670;&nbsp;</a></span>picdev_elcr_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int picdev_elcr_read </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkvm__io__device.html">kvm_io_device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpa_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00556">556</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;{</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2">picdev_read</a>(container_of(dev, <span class="keyword">struct</span> <a class="code" href="structkvm__pic.html">kvm_pic</a>, dev_elcr),</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                addr, len, val);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_a1484dfc37fa586b115d6645c7dcc88b2"><div class="ttname"><a href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2">picdev_read</a></div><div class="ttdeci">static int picdev_read(struct kvm_pic *s, gpa_t addr, int len, void *val)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00490">i8259.c:490</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a90b8b13ef894f381c91ad0a92ef4b2c9_cgraph.png" border="0" usemap="#ai8259_8c_a90b8b13ef894f381c91ad0a92ef4b2c9_cgraph" alt=""/></div>
<map name="ai8259_8c_a90b8b13ef894f381c91ad0a92ef4b2c9_cgraph" id="ai8259_8c_a90b8b13ef894f381c91ad0a92ef4b2c9_cgraph">
<area shape="rect" title=" " alt="" coords="5,132,137,159"/>
<area shape="rect" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2" title=" " alt="" coords="185,132,287,159"/>
<area shape="rect" href="i8259_8c.html#af79afa82cfe2d741396263e452bea90f" title=" " alt="" coords="335,56,461,83"/>
<area shape="rect" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990" title=" " alt="" coords="337,107,459,133"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="854,157,929,184"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="846,208,937,235"/>
<area shape="rect" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a" title=" " alt="" coords="509,81,617,108"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="673,107,775,133"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="845,5,938,32"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="665,56,783,83"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="1000,183,1191,209"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1034,233,1157,260"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="1257,132,1428,159"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="1270,183,1415,209"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1495,183,1653,209"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1239,233,1447,260"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1266,284,1419,311"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="1047,5,1144,32"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="831,56,952,83"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="841,107,941,133"/>
</map>
</div>

</div>
</div>
<a id="a1dc9bd64afa719e7b8253ee3db6fa85b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dc9bd64afa719e7b8253ee3db6fa85b">&#9670;&nbsp;</a></span>picdev_elcr_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int picdev_elcr_write </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkvm__io__device.html">kvm_io_device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpa_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00549">549</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;{</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366">picdev_write</a>(container_of(dev, <span class="keyword">struct</span> <a class="code" href="structkvm__pic.html">kvm_pic</a>, dev_elcr),</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                addr, len, val);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_ad3cc418e9d82e9cca43e01425f76b366"><div class="ttname"><a href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366">picdev_write</a></div><div class="ttdeci">static int picdev_write(struct kvm_pic *s, gpa_t addr, int len, const void *val)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00456">i8259.c:456</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a1dc9bd64afa719e7b8253ee3db6fa85b_cgraph.png" border="0" usemap="#ai8259_8c_a1dc9bd64afa719e7b8253ee3db6fa85b_cgraph" alt=""/></div>
<map name="ai8259_8c_a1dc9bd64afa719e7b8253ee3db6fa85b_cgraph" id="ai8259_8c_a1dc9bd64afa719e7b8253ee3db6fa85b_cgraph">
<area shape="rect" title=" " alt="" coords="5,291,141,318"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="189,291,295,318"/>
<area shape="rect" href="i8259_8c.html#a2398bfd60e7fca98a4aac0300fefed1f" title=" " alt="" coords="343,190,473,216"/>
<area shape="rect" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a" title=" " alt="" coords="345,240,471,267"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="983,367,1058,394"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="975,291,1066,318"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="972,12,1069,39"/>
<area shape="rect" href="irq__comm_8c.html#a99beb5255d7cb8ee3604817b893f903a" title=" " alt="" coords="521,190,704,216"/>
<area shape="rect" href="i8259_8c.html#a20f0eb17c76875b81e91fd32b0badc04" title=" " alt="" coords="554,240,671,267"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="787,291,889,318"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="554,114,671,140"/>
<area shape="rect" href="irqchip_8c.html#ae3e1d4af97f7a2b64ce2fd941200e3da" title=" " alt="" coords="752,190,924,216"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="1117,240,1308,267"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="1375,190,1545,216"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="1387,240,1533,267"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1612,240,1771,267"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1151,291,1274,318"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1356,291,1564,318"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1383,342,1537,368"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="791,38,885,64"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="777,139,899,166"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="788,88,888,115"/>
</map>
</div>

</div>
</div>
<a id="ac8a7faf6a5b5c72ce0ecf20f7beda6ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8a7faf6a5b5c72ce0ecf20f7beda6ba">&#9670;&nbsp;</a></span>picdev_master_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int picdev_master_read </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkvm__io__device.html">kvm_io_device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpa_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00528">528</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;{</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2">picdev_read</a>(container_of(dev, <span class="keyword">struct</span> <a class="code" href="structkvm__pic.html">kvm_pic</a>, dev_master),</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                addr, len, val);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_ac8a7faf6a5b5c72ce0ecf20f7beda6ba_cgraph.png" border="0" usemap="#ai8259_8c_ac8a7faf6a5b5c72ce0ecf20f7beda6ba_cgraph" alt=""/></div>
<map name="ai8259_8c_ac8a7faf6a5b5c72ce0ecf20f7beda6ba_cgraph" id="ai8259_8c_ac8a7faf6a5b5c72ce0ecf20f7beda6ba_cgraph">
<area shape="rect" title=" " alt="" coords="5,132,160,159"/>
<area shape="rect" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2" title=" " alt="" coords="208,132,309,159"/>
<area shape="rect" href="i8259_8c.html#af79afa82cfe2d741396263e452bea90f" title=" " alt="" coords="357,56,484,83"/>
<area shape="rect" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990" title=" " alt="" coords="359,107,482,133"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="877,157,951,184"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="869,208,959,235"/>
<area shape="rect" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a" title=" " alt="" coords="532,81,640,108"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="695,107,798,133"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="867,5,961,32"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="688,56,805,83"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="1023,183,1213,209"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1057,233,1179,260"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="1280,132,1451,159"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="1293,183,1438,209"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1517,183,1676,209"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1261,233,1469,260"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1289,284,1442,311"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="1069,5,1167,32"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="853,56,975,83"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="864,107,964,133"/>
</map>
</div>

</div>
</div>
<a id="af278e56bd6082ee3f6573cf2e4f23543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af278e56bd6082ee3f6573cf2e4f23543">&#9670;&nbsp;</a></span>picdev_master_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int picdev_master_write </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkvm__io__device.html">kvm_io_device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpa_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00521">521</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;{</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366">picdev_write</a>(container_of(dev, <span class="keyword">struct</span> <a class="code" href="structkvm__pic.html">kvm_pic</a>, dev_master),</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                addr, len, val);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_af278e56bd6082ee3f6573cf2e4f23543_cgraph.png" border="0" usemap="#ai8259_8c_af278e56bd6082ee3f6573cf2e4f23543_cgraph" alt=""/></div>
<map name="ai8259_8c_af278e56bd6082ee3f6573cf2e4f23543_cgraph" id="ai8259_8c_af278e56bd6082ee3f6573cf2e4f23543_cgraph">
<area shape="rect" title=" " alt="" coords="5,291,164,318"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="212,291,317,318"/>
<area shape="rect" href="i8259_8c.html#a2398bfd60e7fca98a4aac0300fefed1f" title=" " alt="" coords="365,190,496,216"/>
<area shape="rect" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a" title=" " alt="" coords="367,240,494,267"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="1006,367,1081,394"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="998,291,1089,318"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="995,12,1092,39"/>
<area shape="rect" href="irq__comm_8c.html#a99beb5255d7cb8ee3604817b893f903a" title=" " alt="" coords="544,190,727,216"/>
<area shape="rect" href="i8259_8c.html#a20f0eb17c76875b81e91fd32b0badc04" title=" " alt="" coords="577,240,694,267"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="809,291,912,318"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="577,114,694,140"/>
<area shape="rect" href="irqchip_8c.html#ae3e1d4af97f7a2b64ce2fd941200e3da" title=" " alt="" coords="775,190,947,216"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="1140,240,1331,267"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="1397,190,1568,216"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="1410,240,1555,267"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1635,240,1793,267"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1174,291,1297,318"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1379,291,1587,318"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1406,342,1559,368"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="814,38,907,64"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="800,139,921,166"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="811,88,911,115"/>
</map>
</div>

</div>
</div>
<a id="a1484dfc37fa586b115d6645c7dcc88b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1484dfc37fa586b115d6645c7dcc88b2">&#9670;&nbsp;</a></span>picdev_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int picdev_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpa_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00490">490</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;{</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *data = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)val;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">if</span> (len != 1) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        memset(val, 0, len);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <a class="code" href="i8259_8c.html#a26d6f8eb3f3ff70449034ff9a86f0370">pr_pic_unimpl</a>(<span class="stringliteral">&quot;non byte read\n&quot;</span>);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">switch</span> (addr) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">case</span> 0x20:</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">case</span> 0x21:</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">case</span> 0xa0:</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">case</span> 0xa1:</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <a class="code" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266">pic_lock</a>(s);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        *data = <a class="code" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990">pic_ioport_read</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[addr &gt;&gt; 7], addr);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <a class="code" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071">pic_unlock</a>(s);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">case</span> 0x4d0:</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">case</span> 0x4d1:</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <a class="code" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266">pic_lock</a>(s);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        *data = <a class="code" href="i8259_8c.html#af79afa82cfe2d741396263e452bea90f">elcr_ioport_read</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[addr &amp; 1]);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <a class="code" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071">pic_unlock</a>(s);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">return</span> -EOPNOTSUPP;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_aa289ef7e53d6785652798eb8f1208990"><div class="ttname"><a href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990">pic_ioport_read</a></div><div class="ttdeci">static u32 pic_ioport_read(void *opaque, u32 addr)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00425">i8259.c:425</a></div></div>
<div class="ttc" id="ai8259_8c_html_af79afa82cfe2d741396263e452bea90f"><div class="ttname"><a href="i8259_8c.html#af79afa82cfe2d741396263e452bea90f">elcr_ioport_read</a></div><div class="ttdeci">static u32 elcr_ioport_read(void *opaque)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00450">i8259.c:450</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a1484dfc37fa586b115d6645c7dcc88b2_cgraph.png" border="0" usemap="#ai8259_8c_a1484dfc37fa586b115d6645c7dcc88b2_cgraph" alt=""/></div>
<map name="ai8259_8c_a1484dfc37fa586b115d6645c7dcc88b2_cgraph" id="ai8259_8c_a1484dfc37fa586b115d6645c7dcc88b2_cgraph">
<area shape="rect" title=" " alt="" coords="5,132,107,159"/>
<area shape="rect" href="i8259_8c.html#af79afa82cfe2d741396263e452bea90f" title=" " alt="" coords="155,56,281,83"/>
<area shape="rect" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990" title=" " alt="" coords="157,107,279,133"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="674,157,749,184"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="666,208,757,235"/>
<area shape="rect" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a" title=" " alt="" coords="329,81,437,108"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="493,107,595,133"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="665,5,758,32"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="485,56,603,83"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="820,183,1011,209"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="854,233,977,260"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="1077,132,1248,159"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="1090,183,1235,209"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1315,183,1473,209"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1059,233,1267,260"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1086,284,1239,311"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="867,5,964,32"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="651,56,772,83"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="661,107,761,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a1484dfc37fa586b115d6645c7dcc88b2_icgraph.png" border="0" usemap="#ai8259_8c_a1484dfc37fa586b115d6645c7dcc88b2_icgraph" alt=""/></div>
<map name="ai8259_8c_a1484dfc37fa586b115d6645c7dcc88b2_icgraph" id="ai8259_8c_a1484dfc37fa586b115d6645c7dcc88b2_icgraph">
<area shape="rect" title=" " alt="" coords="208,56,309,83"/>
<area shape="rect" href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9" title=" " alt="" coords="17,5,149,32"/>
<area shape="rect" href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba" title=" " alt="" coords="5,56,160,83"/>
<area shape="rect" href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82" title=" " alt="" coords="11,107,154,133"/>
</map>
</div>

</div>
</div>
<a id="a6dcc0815ffa7a5cc6aa28327488d8f82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dcc0815ffa7a5cc6aa28327488d8f82">&#9670;&nbsp;</a></span>picdev_slave_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int picdev_slave_read </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkvm__io__device.html">kvm_io_device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpa_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00542">542</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2">picdev_read</a>(container_of(dev, <span class="keyword">struct</span> <a class="code" href="structkvm__pic.html">kvm_pic</a>, dev_slave),</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                addr, len, val);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a6dcc0815ffa7a5cc6aa28327488d8f82_cgraph.png" border="0" usemap="#ai8259_8c_a6dcc0815ffa7a5cc6aa28327488d8f82_cgraph" alt=""/></div>
<map name="ai8259_8c_a6dcc0815ffa7a5cc6aa28327488d8f82_cgraph" id="ai8259_8c_a6dcc0815ffa7a5cc6aa28327488d8f82_cgraph">
<area shape="rect" title=" " alt="" coords="5,132,148,159"/>
<area shape="rect" href="i8259_8c.html#a1484dfc37fa586b115d6645c7dcc88b2" title=" " alt="" coords="196,132,297,159"/>
<area shape="rect" href="i8259_8c.html#af79afa82cfe2d741396263e452bea90f" title=" " alt="" coords="345,56,472,83"/>
<area shape="rect" href="i8259_8c.html#aa289ef7e53d6785652798eb8f1208990" title=" " alt="" coords="347,107,470,133"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="865,157,939,184"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="857,208,947,235"/>
<area shape="rect" href="i8259_8c.html#adf97ac474f6610c461ba9cfad24f315a" title=" " alt="" coords="520,81,628,108"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="683,107,786,133"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="855,5,949,32"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="676,56,793,83"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="1011,183,1201,209"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1045,233,1167,260"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="1268,132,1439,159"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="1281,183,1426,209"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1505,183,1664,209"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1249,233,1457,260"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1277,284,1430,311"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="1057,5,1155,32"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="841,56,963,83"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="852,107,952,133"/>
</map>
</div>

</div>
</div>
<a id="a64b171826283830f6a0b3ed866b7931c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64b171826283830f6a0b3ed866b7931c">&#9670;&nbsp;</a></span>picdev_slave_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int picdev_slave_write </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structkvm__io__device.html">kvm_io_device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpa_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00535">535</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;{</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366">picdev_write</a>(container_of(dev, <span class="keyword">struct</span> <a class="code" href="structkvm__pic.html">kvm_pic</a>, dev_slave),</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                addr, len, val);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_a64b171826283830f6a0b3ed866b7931c_cgraph.png" border="0" usemap="#ai8259_8c_a64b171826283830f6a0b3ed866b7931c_cgraph" alt=""/></div>
<map name="ai8259_8c_a64b171826283830f6a0b3ed866b7931c_cgraph" id="ai8259_8c_a64b171826283830f6a0b3ed866b7931c_cgraph">
<area shape="rect" title=" " alt="" coords="5,291,152,318"/>
<area shape="rect" href="i8259_8c.html#ad3cc418e9d82e9cca43e01425f76b366" title=" " alt="" coords="200,291,305,318"/>
<area shape="rect" href="i8259_8c.html#a2398bfd60e7fca98a4aac0300fefed1f" title=" " alt="" coords="353,190,484,216"/>
<area shape="rect" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a" title=" " alt="" coords="355,240,482,267"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="994,367,1069,394"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="986,291,1077,318"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="983,12,1080,39"/>
<area shape="rect" href="irq__comm_8c.html#a99beb5255d7cb8ee3604817b893f903a" title=" " alt="" coords="532,190,715,216"/>
<area shape="rect" href="i8259_8c.html#a20f0eb17c76875b81e91fd32b0badc04" title=" " alt="" coords="565,240,682,267"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="797,291,900,318"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="565,114,682,140"/>
<area shape="rect" href="irqchip_8c.html#ae3e1d4af97f7a2b64ce2fd941200e3da" title=" " alt="" coords="763,190,935,216"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="1128,240,1319,267"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="1385,190,1556,216"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="1398,240,1543,267"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1623,240,1781,267"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1162,291,1285,318"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1367,291,1575,318"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1394,342,1547,368"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="802,38,895,64"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="788,139,909,166"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="799,88,899,115"/>
</map>
</div>

</div>
</div>
<a id="ad3cc418e9d82e9cca43e01425f76b366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3cc418e9d82e9cca43e01425f76b366">&#9670;&nbsp;</a></span>picdev_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int picdev_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structkvm__pic.html">kvm_pic</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpa_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00456">456</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;{</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> data = *(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)val;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span> (len != 1) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <a class="code" href="i8259_8c.html#a26d6f8eb3f3ff70449034ff9a86f0370">pr_pic_unimpl</a>(<span class="stringliteral">&quot;non byte write\n&quot;</span>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">switch</span> (addr) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">case</span> 0x20:</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">case</span> 0x21:</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <a class="code" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266">pic_lock</a>(s);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <a class="code" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a">pic_ioport_write</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[0], addr, data);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <a class="code" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071">pic_unlock</a>(s);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">case</span> 0xa0:</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">case</span> 0xa1:</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <a class="code" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266">pic_lock</a>(s);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <a class="code" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a">pic_ioport_write</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[1], addr, data);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <a class="code" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071">pic_unlock</a>(s);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">case</span> 0x4d0:</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">case</span> 0x4d1:</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <a class="code" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266">pic_lock</a>(s);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <a class="code" href="i8259_8c.html#a2398bfd60e7fca98a4aac0300fefed1f">elcr_ioport_write</a>(&amp;s-&gt;<a class="code" href="structkvm__pic.html#a02a4c44326718fd7525588d5223f90c6">pics</a>[addr &amp; 1], data);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <a class="code" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071">pic_unlock</a>(s);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">return</span> -EOPNOTSUPP;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="ttc" id="ai8259_8c_html_a2398bfd60e7fca98a4aac0300fefed1f"><div class="ttname"><a href="i8259_8c.html#a2398bfd60e7fca98a4aac0300fefed1f">elcr_ioport_write</a></div><div class="ttdeci">static void elcr_ioport_write(void *opaque, u32 val)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00444">i8259.c:444</a></div></div>
<div class="ttc" id="ai8259_8c_html_a23bf40906f1f0a0a84ce4af0956a8b2a"><div class="ttname"><a href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a">pic_ioport_write</a></div><div class="ttdeci">static void pic_ioport_write(void *opaque, u32 addr, u32 val)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00307">i8259.c:307</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_ad3cc418e9d82e9cca43e01425f76b366_cgraph.png" border="0" usemap="#ai8259_8c_ad3cc418e9d82e9cca43e01425f76b366_cgraph" alt=""/></div>
<map name="ai8259_8c_ad3cc418e9d82e9cca43e01425f76b366_cgraph" id="ai8259_8c_ad3cc418e9d82e9cca43e01425f76b366_cgraph">
<area shape="rect" title=" " alt="" coords="5,291,111,318"/>
<area shape="rect" href="i8259_8c.html#a2398bfd60e7fca98a4aac0300fefed1f" title=" " alt="" coords="159,190,289,216"/>
<area shape="rect" href="i8259_8c.html#a23bf40906f1f0a0a84ce4af0956a8b2a" title=" " alt="" coords="161,240,287,267"/>
<area shape="rect" href="i8259_8c.html#ac4af2817e73f33914b0f546581363266" title=" " alt="" coords="799,367,874,394"/>
<area shape="rect" href="i8259_8c.html#a1f534b69587aeb30f8853f3eb4a35071" title=" " alt="" coords="791,291,882,318"/>
<area shape="rect" href="i8259_8c.html#ae449c0799bbeb905e44e84d601abbfc8" title=" " alt="" coords="788,12,885,39"/>
<area shape="rect" href="irq__comm_8c.html#a99beb5255d7cb8ee3604817b893f903a" title=" " alt="" coords="337,190,520,216"/>
<area shape="rect" href="i8259_8c.html#a20f0eb17c76875b81e91fd32b0badc04" title=" " alt="" coords="370,240,487,267"/>
<area shape="rect" href="i8259_8c.html#a72eab34ac8b4a80698a92f06b8afe71e" title=" " alt="" coords="603,291,705,318"/>
<area shape="rect" href="i8259_8c.html#af2a1af170975b4e108adc2574cd2fcc8" title=" " alt="" coords="370,114,487,140"/>
<area shape="rect" href="irqchip_8c.html#ae3e1d4af97f7a2b64ce2fd941200e3da" title=" " alt="" coords="568,190,740,216"/>
<area shape="rect" href="lapic_8c.html#a1f4df169625f9c4c2cb06f7443698af4" title=" " alt="" coords="933,240,1124,267"/>
<area shape="rect" href="lapic_8h.html#a1d8660ecbda996b11b10b179013e52d4" title=" " alt="" coords="1191,190,1361,216"/>
<area shape="rect" href="lapic_8h.html#a8cd1df8b4c079c23a522d09c964da0ee" title=" " alt="" coords="1203,240,1349,267"/>
<area shape="rect" href="lapic_8h.html#aa28a43e0f54449e2ec4d25e1f8ecb178" title=" " alt="" coords="1428,240,1587,267"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="967,291,1090,318"/>
<area shape="rect" href="x86_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1172,291,1380,318"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1199,342,1353,368"/>
<area shape="rect" href="i8259_8c.html#a3fc7730f00dd8150c255c8aa3c8d5c5c" title=" " alt="" coords="607,38,701,64"/>
<area shape="rect" href="i8259_8c.html#a75c69cdd42cc8bd25d43754650df665a" title=" " alt="" coords="593,139,715,166"/>
<area shape="rect" href="i8259_8c.html#a825dac14ef02aee4e475b5c433277680" title=" " alt="" coords="604,88,704,115"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="i8259_8c_ad3cc418e9d82e9cca43e01425f76b366_icgraph.png" border="0" usemap="#ai8259_8c_ad3cc418e9d82e9cca43e01425f76b366_icgraph" alt=""/></div>
<map name="ai8259_8c_ad3cc418e9d82e9cca43e01425f76b366_icgraph" id="ai8259_8c_ad3cc418e9d82e9cca43e01425f76b366_icgraph">
<area shape="rect" title=" " alt="" coords="212,56,317,83"/>
<area shape="rect" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b" title=" " alt="" coords="17,5,153,32"/>
<area shape="rect" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543" title=" " alt="" coords="5,56,164,83"/>
<area shape="rect" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c" title=" " alt="" coords="11,107,158,133"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8404f46dab645805283ac1cdbf2d37aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8404f46dab645805283ac1cdbf2d37aa">&#9670;&nbsp;</a></span>picdev_elcr_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structkvm__io__device__ops.html">kvm_io_device_ops</a> picdev_elcr_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .read     = <a class="code" href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9">picdev_elcr_read</a>,</div>
<div class="line">    .write    = <a class="code" href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b">picdev_elcr_write</a>,</div>
<div class="line">}</div>
<div class="ttc" id="ai8259_8c_html_a1dc9bd64afa719e7b8253ee3db6fa85b"><div class="ttname"><a href="i8259_8c.html#a1dc9bd64afa719e7b8253ee3db6fa85b">picdev_elcr_write</a></div><div class="ttdeci">static int picdev_elcr_write(struct kvm_vcpu *vcpu, struct kvm_io_device *dev, gpa_t addr, int len, const void *val)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00549">i8259.c:549</a></div></div>
<div class="ttc" id="ai8259_8c_html_a90b8b13ef894f381c91ad0a92ef4b2c9"><div class="ttname"><a href="i8259_8c.html#a90b8b13ef894f381c91ad0a92ef4b2c9">picdev_elcr_read</a></div><div class="ttdeci">static int picdev_elcr_read(struct kvm_vcpu *vcpu, struct kvm_io_device *dev, gpa_t addr, int len, void *val)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00556">i8259.c:556</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00566">566</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>

</div>
</div>
<a id="aa35cc43aa9c63a40093c425bba59c1c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa35cc43aa9c63a40093c425bba59c1c5">&#9670;&nbsp;</a></span>picdev_master_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structkvm__io__device__ops.html">kvm_io_device_ops</a> picdev_master_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .read     = <a class="code" href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba">picdev_master_read</a>,</div>
<div class="line">    .write    = <a class="code" href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543">picdev_master_write</a>,</div>
<div class="line">}</div>
<div class="ttc" id="ai8259_8c_html_ac8a7faf6a5b5c72ce0ecf20f7beda6ba"><div class="ttname"><a href="i8259_8c.html#ac8a7faf6a5b5c72ce0ecf20f7beda6ba">picdev_master_read</a></div><div class="ttdeci">static int picdev_master_read(struct kvm_vcpu *vcpu, struct kvm_io_device *dev, gpa_t addr, int len, void *val)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00528">i8259.c:528</a></div></div>
<div class="ttc" id="ai8259_8c_html_af278e56bd6082ee3f6573cf2e4f23543"><div class="ttname"><a href="i8259_8c.html#af278e56bd6082ee3f6573cf2e4f23543">picdev_master_write</a></div><div class="ttdeci">static int picdev_master_write(struct kvm_vcpu *vcpu, struct kvm_io_device *dev, gpa_t addr, int len, const void *val)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00521">i8259.c:521</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00566">566</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>

</div>
</div>
<a id="af7f4d85fe684c66dc6ddf104baa1d9c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7f4d85fe684c66dc6ddf104baa1d9c9">&#9670;&nbsp;</a></span>picdev_slave_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structkvm__io__device__ops.html">kvm_io_device_ops</a> picdev_slave_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .read     = <a class="code" href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82">picdev_slave_read</a>,</div>
<div class="line">    .write    = <a class="code" href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c">picdev_slave_write</a>,</div>
<div class="line">}</div>
<div class="ttc" id="ai8259_8c_html_a64b171826283830f6a0b3ed866b7931c"><div class="ttname"><a href="i8259_8c.html#a64b171826283830f6a0b3ed866b7931c">picdev_slave_write</a></div><div class="ttdeci">static int picdev_slave_write(struct kvm_vcpu *vcpu, struct kvm_io_device *dev, gpa_t addr, int len, const void *val)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00535">i8259.c:535</a></div></div>
<div class="ttc" id="ai8259_8c_html_a6dcc0815ffa7a5cc6aa28327488d8f82"><div class="ttname"><a href="i8259_8c.html#a6dcc0815ffa7a5cc6aa28327488d8f82">picdev_slave_read</a></div><div class="ttdeci">static int picdev_slave_read(struct kvm_vcpu *vcpu, struct kvm_io_device *dev, gpa_t addr, int len, void *val)</div><div class="ttdef"><b>Definition:</b> <a href="i8259_8c_source.html#l00542">i8259.c:542</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="i8259_8c_source.html#l00566">566</a> of file <a class="el" href="i8259_8c_source.html">i8259.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
