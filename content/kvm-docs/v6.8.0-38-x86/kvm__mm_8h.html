<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KVM: virt/kvm/kvm_mm.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e969f8a948a8958ecb083981bd5c755e.html">virt</a></li><li class="navelem"><a class="el" href="dir_cba9d7c2a3446fadd573e11d9c368f12.html">kvm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">kvm_mm.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="kvm__mm_8h__dep__incl.png" border="0" usemap="#avirt_2kvm_2kvm__mm_8hdep" alt=""/></div>
<map name="avirt_2kvm_2kvm__mm_8hdep" id="avirt_2kvm_2kvm__mm_8hdep">
<area shape="rect" title=" " alt="" coords="293,5,448,32"/>
<area shape="rect" href="dirty__ring_8c.html" title=" " alt="" coords="5,80,160,107"/>
<area shape="rect" href="guest__memfd_8c.html" title=" " alt="" coords="185,80,367,107"/>
<area shape="rect" href="pfncache_8c.html" title=" " alt="" coords="391,80,542,107"/>
<area shape="rect" href="kvm__main_8c.html" title=" " alt="" coords="566,80,727,107"/>
</map>
</div>
</div>
<p><a href="kvm__mm_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:acfb41ce742e1d93c4400570ca7068a59"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kvm__mm_8h.html#acfb41ce742e1d93c4400570ca7068a59">KVM_MMU_LOCK_INIT</a>(kvm)&#160;&#160;&#160;spin_lock_init(&amp;(kvm)-&gt;mmu_lock)</td></tr>
<tr class="separator:acfb41ce742e1d93c4400570ca7068a59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cb6cd330402a64fd6e2d9efa6d78185"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kvm__mm_8h.html#a1cb6cd330402a64fd6e2d9efa6d78185">KVM_MMU_LOCK</a>(kvm)&#160;&#160;&#160;spin_lock(&amp;(kvm)-&gt;mmu_lock)</td></tr>
<tr class="separator:a1cb6cd330402a64fd6e2d9efa6d78185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc3042b41b7a6f00711c804ba0f0ec6c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kvm__mm_8h.html#afc3042b41b7a6f00711c804ba0f0ec6c">KVM_MMU_UNLOCK</a>(kvm)&#160;&#160;&#160;spin_unlock(&amp;(kvm)-&gt;mmu_lock)</td></tr>
<tr class="separator:afc3042b41b7a6f00711c804ba0f0ec6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adfbe9f59cac426f2ff01ab4fcfd631a7"><td class="memItemLeft" align="right" valign="top">kvm_pfn_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kvm__mm_8h.html#adfbe9f59cac426f2ff01ab4fcfd631a7">hva_to_pfn</a> (unsigned long addr, bool atomic, bool interruptible, bool *async, bool write_fault, bool *writable)</td></tr>
<tr class="separator:adfbe9f59cac426f2ff01ab4fcfd631a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a368e92433ca983220d2211360cea7fab"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kvm__mm_8h.html#a368e92433ca983220d2211360cea7fab">gfn_to_pfn_cache_invalidate_start</a> (struct kvm *kvm, unsigned long start, unsigned long end, bool may_block)</td></tr>
<tr class="separator:a368e92433ca983220d2211360cea7fab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae73d3640dfede971e0a6c316e75b9604"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kvm__mm_8h.html#ae73d3640dfede971e0a6c316e75b9604">kvm_gmem_init</a> (struct module *module)</td></tr>
<tr class="separator:ae73d3640dfede971e0a6c316e75b9604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cbf6ca52e4114d326547796ff267999"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kvm__mm_8h.html#a9cbf6ca52e4114d326547796ff267999">kvm_gmem_bind</a> (struct kvm *kvm, struct kvm_memory_slot *slot, unsigned int fd, loff_t offset)</td></tr>
<tr class="separator:a9cbf6ca52e4114d326547796ff267999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2855b0164be917f460a34e096748cba9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kvm__mm_8h.html#a2855b0164be917f460a34e096748cba9">kvm_gmem_unbind</a> (struct kvm_memory_slot *slot)</td></tr>
<tr class="separator:a2855b0164be917f460a34e096748cba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1cb6cd330402a64fd6e2d9efa6d78185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cb6cd330402a64fd6e2d9efa6d78185">&#9670;&nbsp;</a></span>KVM_MMU_LOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KVM_MMU_LOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">kvm</td><td>)</td>
          <td>&#160;&#160;&#160;spin_lock(&amp;(kvm)-&gt;mmu_lock)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kvm__mm_8h_source.html#l00019">19</a> of file <a class="el" href="kvm__mm_8h_source.html">kvm_mm.h</a>.</p>

</div>
</div>
<a id="acfb41ce742e1d93c4400570ca7068a59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfb41ce742e1d93c4400570ca7068a59">&#9670;&nbsp;</a></span>KVM_MMU_LOCK_INIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KVM_MMU_LOCK_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">kvm</td><td>)</td>
          <td>&#160;&#160;&#160;spin_lock_init(&amp;(kvm)-&gt;mmu_lock)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kvm__mm_8h_source.html#l00018">18</a> of file <a class="el" href="kvm__mm_8h_source.html">kvm_mm.h</a>.</p>

</div>
</div>
<a id="afc3042b41b7a6f00711c804ba0f0ec6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc3042b41b7a6f00711c804ba0f0ec6c">&#9670;&nbsp;</a></span>KVM_MMU_UNLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KVM_MMU_UNLOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">kvm</td><td>)</td>
          <td>&#160;&#160;&#160;spin_unlock(&amp;(kvm)-&gt;mmu_lock)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kvm__mm_8h_source.html#l00020">20</a> of file <a class="el" href="kvm__mm_8h_source.html">kvm_mm.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a368e92433ca983220d2211360cea7fab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a368e92433ca983220d2211360cea7fab">&#9670;&nbsp;</a></span>gfn_to_pfn_cache_invalidate_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gfn_to_pfn_cache_invalidate_start </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>may_block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kvm__mm_8h_source.html#l00032">32</a> of file <a class="el" href="kvm__mm_8h_source.html">kvm_mm.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;{</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adfbe9f59cac426f2ff01ab4fcfd631a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfbe9f59cac426f2ff01ab4fcfd631a7">&#9670;&nbsp;</a></span>hva_to_pfn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">kvm_pfn_t hva_to_pfn </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>atomic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>interruptible</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>async</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>write_fault</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>writable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kvm__main_8c_source.html#l02980">2980</a> of file <a class="el" href="kvm__main_8c_source.html">kvm_main.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;{</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;    <span class="keyword">struct </span>vm_area_struct *vma;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;    kvm_pfn_t pfn;</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;    <span class="keywordtype">int</span> npages, r;</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160; </div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;    <span class="comment">/* we can do it either atomically or asynchronously, not both */</span></div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    BUG_ON(atomic &amp;&amp; async);</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160; </div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="kvm__main_8c.html#a9d9d33bb03936e01cce8c52cb72a24ff">hva_to_pfn_fast</a>(addr, write_fault, writable, &amp;pfn))</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;        <span class="keywordflow">return</span> pfn;</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160; </div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;    <span class="keywordflow">if</span> (atomic)</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;        <span class="keywordflow">return</span> KVM_PFN_ERR_FAULT;</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160; </div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    npages = <a class="code" href="kvm__main_8c.html#a52726e260149cdcfe6c5b85b8e83abf6">hva_to_pfn_slow</a>(addr, async, write_fault, interruptible,</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;                 writable, &amp;pfn);</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    <span class="keywordflow">if</span> (npages == 1)</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;        <span class="keywordflow">return</span> pfn;</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <span class="keywordflow">if</span> (npages == -EINTR)</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;        <span class="keywordflow">return</span> KVM_PFN_ERR_SIGPENDING;</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160; </div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    mmap_read_lock(current-&gt;mm);</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    <span class="keywordflow">if</span> (npages == -EHWPOISON ||</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;          (!async &amp;&amp; <a class="code" href="kvm__main_8c.html#a4a59cf5e8fcf022a130b66506ddbdc77">check_user_page_hwpoison</a>(addr))) {</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;        pfn = KVM_PFN_ERR_HWPOISON;</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;        <span class="keywordflow">goto</span> exit;</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;    }</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160; </div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;retry:</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;    vma = vma_lookup(current-&gt;mm, addr);</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160; </div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    <span class="keywordflow">if</span> (vma == NULL)</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;        pfn = KVM_PFN_ERR_FAULT;</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vma-&gt;vm_flags &amp; (VM_IO | VM_PFNMAP)) {</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;        r = <a class="code" href="kvm__main_8c.html#a12a80251ed4dec412b9a26ff6d13081e">hva_to_pfn_remapped</a>(vma, addr, write_fault, writable, &amp;pfn);</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;        <span class="keywordflow">if</span> (r == -EAGAIN)</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;            <span class="keywordflow">goto</span> retry;</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;        <span class="keywordflow">if</span> (r &lt; 0)</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;            pfn = KVM_PFN_ERR_FAULT;</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;        <span class="keywordflow">if</span> (async &amp;&amp; <a class="code" href="kvm__main_8c.html#a362963e36fc694c87cd75cdba59b6f90">vma_is_valid</a>(vma, write_fault))</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;            *async = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;        pfn = KVM_PFN_ERR_FAULT;</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;    }</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;exit:</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    mmap_read_unlock(current-&gt;mm);</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;    <span class="keywordflow">return</span> pfn;</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;}</div>
<div class="ttc" id="akvm__main_8c_html_a12a80251ed4dec412b9a26ff6d13081e"><div class="ttname"><a href="kvm__main_8c.html#a12a80251ed4dec412b9a26ff6d13081e">hva_to_pfn_remapped</a></div><div class="ttdeci">static int hva_to_pfn_remapped(struct vm_area_struct *vma, unsigned long addr, bool write_fault, bool *writable, kvm_pfn_t *p_pfn)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__main_8c_source.html#l02897">kvm_main.c:2897</a></div></div>
<div class="ttc" id="akvm__main_8c_html_a362963e36fc694c87cd75cdba59b6f90"><div class="ttname"><a href="kvm__main_8c.html#a362963e36fc694c87cd75cdba59b6f90">vma_is_valid</a></div><div class="ttdeci">static bool vma_is_valid(struct vm_area_struct *vma, bool write_fault)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__main_8c_source.html#l02876">kvm_main.c:2876</a></div></div>
<div class="ttc" id="akvm__main_8c_html_a4a59cf5e8fcf022a130b66506ddbdc77"><div class="ttname"><a href="kvm__main_8c.html#a4a59cf5e8fcf022a130b66506ddbdc77">check_user_page_hwpoison</a></div><div class="ttdeci">static int check_user_page_hwpoison(unsigned long addr)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__main_8c_source.html#l02787">kvm_main.c:2787</a></div></div>
<div class="ttc" id="akvm__main_8c_html_a52726e260149cdcfe6c5b85b8e83abf6"><div class="ttname"><a href="kvm__main_8c.html#a52726e260149cdcfe6c5b85b8e83abf6">hva_to_pfn_slow</a></div><div class="ttdeci">static int hva_to_pfn_slow(unsigned long addr, bool *async, bool write_fault, bool interruptible, bool *writable, kvm_pfn_t *pfn)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__main_8c_source.html#l02828">kvm_main.c:2828</a></div></div>
<div class="ttc" id="akvm__main_8c_html_a9d9d33bb03936e01cce8c52cb72a24ff"><div class="ttname"><a href="kvm__main_8c.html#a9d9d33bb03936e01cce8c52cb72a24ff">hva_to_pfn_fast</a></div><div class="ttdeci">static bool hva_to_pfn_fast(unsigned long addr, bool write_fault, bool *writable, kvm_pfn_t *pfn)</div><div class="ttdef"><b>Definition:</b> <a href="kvm__main_8c_source.html#l02800">kvm_main.c:2800</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kvm__mm_8h_adfbe9f59cac426f2ff01ab4fcfd631a7_cgraph.png" border="0" usemap="#akvm__mm_8h_adfbe9f59cac426f2ff01ab4fcfd631a7_cgraph" alt=""/></div>
<map name="akvm__mm_8h_adfbe9f59cac426f2ff01ab4fcfd631a7_cgraph" id="akvm__mm_8h_adfbe9f59cac426f2ff01ab4fcfd631a7_cgraph">
<area shape="rect" title=" " alt="" coords="5,107,100,133"/>
<area shape="rect" href="kvm__main_8c.html#a4a59cf5e8fcf022a130b66506ddbdc77" title=" " alt="" coords="148,5,351,32"/>
<area shape="rect" href="kvm__main_8c.html#a9d9d33bb03936e01cce8c52cb72a24ff" title=" " alt="" coords="186,56,313,83"/>
<area shape="rect" href="kvm__main_8c.html#a12a80251ed4dec412b9a26ff6d13081e" title=" " alt="" coords="166,107,333,133"/>
<area shape="rect" href="kvm__main_8c.html#a52726e260149cdcfe6c5b85b8e83abf6" title=" " alt="" coords="184,157,315,184"/>
<area shape="rect" href="kvm__main_8c.html#a362963e36fc694c87cd75cdba59b6f90" title=" " alt="" coords="195,208,303,235"/>
<area shape="rect" href="kvm__main_8c.html#a207e6d9e30c3b05564dfe7cef31934ff" title=" " alt="" coords="399,107,531,133"/>
<area shape="rect" href="kvm__main_8c.html#a99f99281cc81d5cd69f5825ccb8793b4" title=" " alt="" coords="579,107,793,133"/>
<area shape="rect" href="kvm__main_8c.html#a6c7165822622ebbd29159771905bd317" title=" " alt="" coords="841,107,1037,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kvm__mm_8h_adfbe9f59cac426f2ff01ab4fcfd631a7_icgraph.png" border="0" usemap="#akvm__mm_8h_adfbe9f59cac426f2ff01ab4fcfd631a7_icgraph" alt=""/></div>
<map name="akvm__mm_8h_adfbe9f59cac426f2ff01ab4fcfd631a7_icgraph" id="akvm__mm_8h_adfbe9f59cac426f2ff01ab4fcfd631a7_icgraph">
<area shape="rect" title=" " alt="" coords="1600,569,1695,596"/>
<area shape="rect" href="kvm__main_8c.html#a63ec3e18db03a212e6e84391b5025689" title=" " alt="" coords="1381,367,1552,393"/>
<area shape="rect" href="pfncache_8c.html#a3f895e1277e3e92c84724776f73424f5" title=" " alt="" coords="1401,595,1533,621"/>
<area shape="rect" href="mmu_8c.html#a191317a4b6c8acc0a90a33017cfab7f3" title=" " alt="" coords="1184,199,1327,225"/>
<area shape="rect" href="kvm__main_8c.html#aa77d8fc2ee9fe5965c45f1d0989eb266" title=" " alt="" coords="1177,367,1333,393"/>
<area shape="rect" href="kvm__main_8c.html#ac81a52368db29bbb6add14191b2d196a" title=" " alt="" coords="1177,275,1333,317"/>
<area shape="rect" href="kvm__main_8c.html#a59d09a602e660a0fcf2ee2b33867361f" title=" " alt="" coords="1193,417,1317,444"/>
<area shape="rect" href="mmu_8c.html#a62cf3d1ba1f946897f545d9a93db988f" title=" " alt="" coords="983,107,1111,133"/>
<area shape="rect" href="mmu_8c.html#aebe1e577e70e9f77f0bfea48bab7c83d" title=" " alt="" coords="751,56,886,83"/>
<area shape="rect" href="paging__tmpl_8h.html#a58a78a9bd7e3593e2a7cfe13400331aa" title=" " alt="" coords="266,132,357,159"/>
<area shape="rect" href="mmu_8c.html#a4bd7a8fd81e65c4e06e025d92c5787d9" title=" " alt="" coords="489,5,643,32"/>
<area shape="rect" href="mmu_8c.html#a925050134bb3c589bb55b63993ddacb1" title=" " alt="" coords="483,56,649,83"/>
<area shape="rect" href="kvm__main_8c.html#a055190afb6bce32ba87e7fea907ec1ec" title=" " alt="" coords="1001,353,1092,380"/>
<area shape="rect" href="kvm__main_8c.html#aa3c3356fd8fdb6e2b225657af6cbe749" title=" " alt="" coords="964,404,1129,431"/>
<area shape="rect" href="vmx_8c.html#af7758cd4569e8c521d828c8f00a159a1" title=" " alt="" coords="965,455,1128,497"/>
<area shape="rect" href="kvm__main_8c.html#a5132836c5be1763ca353ca2489a7fe23" title=" " alt="" coords="767,267,870,293"/>
<area shape="rect" href="kvm__main_8c.html#a96c7b38454f962b34da813b043f4abe9" title=" " alt="" coords="756,376,881,403"/>
<area shape="rect" href="x86_8c.html#a5559cadc9496d9f62e002e88144d5156" title=" " alt="" coords="737,503,900,529"/>
<area shape="rect" href="lapic_8c.html#a8c6616d2cbae35632aa5debb15b552ec" title=" " alt="" coords="459,208,673,235"/>
<area shape="rect" href="vmx_2nested_8c.html#a562e6893d0703c98635cab943cc58fed" title=" " alt="" coords="212,288,411,315"/>
<area shape="rect" href="svm_2nested_8c.html#a73d1cb9b9fcfa112138681d9080a1c05" title=" " alt="" coords="489,427,643,453"/>
<area shape="rect" href="svm_2nested_8c.html#a4ec7e878f6af209e74dd84285ee0198f" title=" " alt="" coords="236,401,387,428"/>
<area shape="rect" href="vmx_2nested_8c.html#a2ac5647e082b0cfc93b16719577986c1" title=" " alt="" coords="487,310,645,351"/>
<area shape="rect" href="sev_8c.html#aac550422551b71c0afe8efe176e0b55d" title=" " alt="" coords="487,477,645,504"/>
<area shape="rect" href="svm_8c.html#a22d5ad8a3cac7e24cb8438a20eb39348" title=" " alt="" coords="459,528,673,555"/>
<area shape="rect" href="x86_8c.html#a3f6bd8b3f0bc1678451fd28682e7c3b1" title=" " alt="" coords="475,579,657,605"/>
<area shape="rect" href="kvm__main_8c.html#aeeef461001f8cdb6c0e77ee7b0bb59c9" title=" " alt="" coords="964,275,1129,317"/>
<area shape="rect" href="paging__tmpl_8h.html#ac251b8f404f8fa0840ec5f4db44a6480" title=" " alt="" coords="991,180,1103,207"/>
<area shape="rect" href="paging__tmpl_8h.html#a53f0634ff017bc46ff621fdad18cdcd4" title=" " alt="" coords="767,157,871,184"/>
<area shape="rect" href="paging__tmpl_8h.html#ac7154588698b915e973bb8ca63e206e4" title=" " alt="" coords="539,157,593,184"/>
<area shape="rect" href="pfncache_8c.html#ad89a0151985747829394713298d1ff88" title=" " alt="" coords="1181,705,1329,732"/>
<area shape="rect" href="pfncache_8c.html#ae773cab9370378e6751f76cb0abc8559" title=" " alt="" coords="976,705,1117,732"/>
<area shape="rect" href="pfncache_8c.html#a95f177f84574a53b04762338d48238fe" title=" " alt="" coords="979,873,1114,900"/>
<area shape="rect" href="x86_8c.html#ac78db676ecdcad5ee88c478439da75a9" title=" " alt="" coords="727,629,910,656"/>
<area shape="rect" href="xen_8c.html#a302274d0dadb3dc482dbf4efca0c51d0" title=" " alt="" coords="723,680,915,707"/>
<area shape="rect" href="xen_8c.html#ab6eefd0c967fad2f6ef73e77bc0dc50d" title=" " alt="" coords="721,782,916,823"/>
<area shape="rect" href="xen_8c.html#a475f17b008ae9643247453de0018df17" title=" " alt="" coords="223,781,399,808"/>
<area shape="rect" href="x86_8c.html#aec2b7dd73668f030b4e2f8d8815d7299" title=" " alt="" coords="479,629,653,656"/>
<area shape="rect" href="xen_8c.html#a97a02cd2ae7319635c2de6370b82cb1b" title=" " alt="" coords="479,680,653,707"/>
<area shape="rect" href="xen_8c.html#a6acde067fc775eb22a4c49b5ca434963" title=" " alt="" coords="469,832,663,859"/>
<area shape="rect" href="x86_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="5,781,164,808"/>
<area shape="rect" href="xen_8c.html#a02f3f67054c9bb0d9a1bd14c36a2e2df" title=" " alt="" coords="725,848,913,875"/>
<area shape="rect" href="x86_8c.html#a708fde61f1095858c578cbff04c3a01d" title=" " alt="" coords="721,899,916,925"/>
<area shape="rect" href="xen_8c.html#a0fb0356e88890003922daf35627420a8" title=" " alt="" coords="727,950,910,991"/>
<area shape="rect" href="xen_8c.html#a59091fb436633f85ba3e28187f5794d0" title=" " alt="" coords="739,1033,898,1060"/>
<area shape="rect" href="x86_8c.html#a6c4cf532744434dffd1685085eedbaff" title=" " alt="" coords="475,899,657,925"/>
<area shape="rect" href="x86_8c.html#ae90d8433a234fc6ee73cd19322f11ada" title=" " alt="" coords="525,953,607,980"/>
<area shape="rect" href="xen_8c.html#a7432a92fb771aeb9f60ca4d89c10f15b" title=" " alt="" coords="509,1004,623,1031"/>
<area shape="rect" href="xen_8c.html#a42cb09290dc39689baca95686be1ff69" title=" " alt="" coords="462,1055,670,1081"/>
<area shape="rect" href="xen_8c.html#a952a322aa5cce4d0bd3fe372d820de13" title=" " alt="" coords="463,1105,669,1132"/>
</map>
</div>

</div>
</div>
<a id="a9cbf6ca52e4114d326547796ff267999"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cbf6ca52e4114d326547796ff267999">&#9670;&nbsp;</a></span>kvm_gmem_bind()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kvm_gmem_bind </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kvm_memory_slot *&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kvm__mm_8h_source.html#l00052">52</a> of file <a class="el" href="kvm__mm_8h_source.html">kvm_mm.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    WARN_ON_ONCE(1);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae73d3640dfede971e0a6c316e75b9604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae73d3640dfede971e0a6c316e75b9604">&#9670;&nbsp;</a></span>kvm_gmem_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kvm_gmem_init </td>
          <td>(</td>
          <td class="paramtype">struct module *&#160;</td>
          <td class="paramname"><em>module</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kvm__mm_8h_source.html#l00047">47</a> of file <a class="el" href="kvm__mm_8h_source.html">kvm_mm.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2855b0164be917f460a34e096748cba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2855b0164be917f460a34e096748cba9">&#9670;&nbsp;</a></span>kvm_gmem_unbind()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kvm_gmem_unbind </td>
          <td>(</td>
          <td class="paramtype">struct kvm_memory_slot *&#160;</td>
          <td class="paramname"><em>slot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="kvm__mm_8h_source.html#l00060">60</a> of file <a class="el" href="kvm__mm_8h_source.html">kvm_mm.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    WARN_ON_ONCE(1);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
