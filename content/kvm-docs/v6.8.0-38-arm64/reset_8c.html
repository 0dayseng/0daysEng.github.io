<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KVM: arch/arm64/kvm/reset.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ea9599923402ca8ab47fc3e495999dea.html">arch</a></li><li class="navelem"><a class="el" href="dir_67a9e021ce8db5d46236c6154ee454bc.html">arm64</a></li><li class="navelem"><a class="el" href="dir_42f87ef63ac4150166bf7887f68288e2.html">kvm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">reset.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/errno.h&gt;</code><br />
<code>#include &lt;linux/kernel.h&gt;</code><br />
<code>#include &lt;linux/kvm_host.h&gt;</code><br />
<code>#include &lt;linux/kvm.h&gt;</code><br />
<code>#include &lt;linux/hw_breakpoint.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/string.h&gt;</code><br />
<code>#include &lt;linux/types.h&gt;</code><br />
<code>#include &lt;<a class="el" href="arm__arch__timer_8h_source.html">kvm/arm_arch_timer.h</a>&gt;</code><br />
<code>#include &lt;asm/cpufeature.h&gt;</code><br />
<code>#include &lt;asm/cputype.h&gt;</code><br />
<code>#include &lt;asm/fpsimd.h&gt;</code><br />
<code>#include &lt;asm/ptrace.h&gt;</code><br />
<code>#include &lt;asm/kvm_arm.h&gt;</code><br />
<code>#include &lt;asm/kvm_asm.h&gt;</code><br />
<code>#include &lt;asm/kvm_emulate.h&gt;</code><br />
<code>#include &lt;asm/kvm_mmu.h&gt;</code><br />
<code>#include &lt;asm/kvm_nested.h&gt;</code><br />
<code>#include &lt;asm/virt.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for reset.c:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c__incl.png" border="0" usemap="#aarch_2arm64_2kvm_2reset_8c" alt=""/></div>
<map name="aarch_2arm64_2kvm_2reset_8c" id="aarch_2arm64_2kvm_2reset_8c">
<area shape="rect" title=" " alt="" coords="1299,5,1477,32"/>
<area shape="rect" title=" " alt="" coords="5,80,109,107"/>
<area shape="rect" title=" " alt="" coords="134,80,245,107"/>
<area shape="rect" title=" " alt="" coords="269,80,403,107"/>
<area shape="rect" title=" " alt="" coords="428,80,527,107"/>
<area shape="rect" title=" " alt="" coords="551,80,718,107"/>
<area shape="rect" title=" " alt="" coords="742,80,839,107"/>
<area shape="rect" title=" " alt="" coords="864,80,971,107"/>
<area shape="rect" title=" " alt="" coords="995,80,1101,107"/>
<area shape="rect" href="arm__arch__timer_8h.html" title=" " alt="" coords="1126,80,1295,107"/>
<area shape="rect" title=" " alt="" coords="1320,80,1456,107"/>
<area shape="rect" title=" " alt="" coords="1481,80,1599,107"/>
<area shape="rect" title=" " alt="" coords="1623,80,1734,107"/>
<area shape="rect" title=" " alt="" coords="1759,80,1865,107"/>
<area shape="rect" title=" " alt="" coords="1889,80,2017,107"/>
<area shape="rect" title=" " alt="" coords="2041,80,2172,107"/>
<area shape="rect" title=" " alt="" coords="2197,80,2353,107"/>
<area shape="rect" title=" " alt="" coords="2377,80,2513,107"/>
<area shape="rect" title=" " alt="" coords="2537,80,2684,107"/>
<area shape="rect" title=" " alt="" coords="2708,80,2796,107"/>
<area shape="rect" title=" " alt="" coords="1059,155,1205,181"/>
<area shape="rect" title=" " alt="" coords="1229,155,1347,181"/>
</map>
</div>
</div>
<p><a href="reset_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0c03b9a1bc68ff13a33dfd6501b3d66d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#a0c03b9a1bc68ff13a33dfd6501b3d66d">VCPU_RESET_PSTATE_EL1</a></td></tr>
<tr class="separator:a0c03b9a1bc68ff13a33dfd6501b3d66d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ab6890dfe2fcfff76c5ead4efccd0bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#a5ab6890dfe2fcfff76c5ead4efccd0bd">VCPU_RESET_PSTATE_EL2</a></td></tr>
<tr class="separator:a5ab6890dfe2fcfff76c5ead4efccd0bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca358157465efb57be832c225aeedc39"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#aca358157465efb57be832c225aeedc39">VCPU_RESET_PSTATE_SVC</a></td></tr>
<tr class="separator:aca358157465efb57be832c225aeedc39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a12ef511d512c7adb604369d12024c93f"><td class="memItemLeft" align="right" valign="top">int __init&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#a12ef511d512c7adb604369d12024c93f">kvm_arm_init_sve</a> (void)</td></tr>
<tr class="separator:a12ef511d512c7adb604369d12024c93f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab92e3583bde9a8ad7f80e1e93c34669b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#ab92e3583bde9a8ad7f80e1e93c34669b">kvm_vcpu_enable_sve</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:ab92e3583bde9a8ad7f80e1e93c34669b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82e2644a8e182c72a70fa52b0a0acae9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#a82e2644a8e182c72a70fa52b0a0acae9">kvm_vcpu_finalize_sve</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a82e2644a8e182c72a70fa52b0a0acae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae95bc53f52db3e69595fd0a53c8bc8fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#ae95bc53f52db3e69595fd0a53c8bc8fb">kvm_arm_vcpu_finalize</a> (struct kvm_vcpu *vcpu, int feature)</td></tr>
<tr class="separator:ae95bc53f52db3e69595fd0a53c8bc8fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25b38ab811c0662e0d55d9a6e89c3219"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#a25b38ab811c0662e0d55d9a6e89c3219">kvm_arm_vcpu_is_finalized</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a25b38ab811c0662e0d55d9a6e89c3219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae42f979a2e15b7e51c3e3dfc133cb473"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#ae42f979a2e15b7e51c3e3dfc133cb473">kvm_arm_vcpu_destroy</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:ae42f979a2e15b7e51c3e3dfc133cb473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c6653216f3fcf3d0c3bd0fc89c0112a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#a8c6653216f3fcf3d0c3bd0fc89c0112a">kvm_vcpu_reset_sve</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a8c6653216f3fcf3d0c3bd0fc89c0112a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b7075896679e6c153d1168c8cd8e500"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#a1b7075896679e6c153d1168c8cd8e500">kvm_vcpu_enable_ptrauth</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a1b7075896679e6c153d1168c8cd8e500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a124698ccde953ff74d270ddd091fc3a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#a124698ccde953ff74d270ddd091fc3a9">kvm_reset_vcpu</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a124698ccde953ff74d270ddd091fc3a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9412cd91f2536c51d45002e1e398b834"><td class="memItemLeft" align="right" valign="top">u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#a9412cd91f2536c51d45002e1e398b834">get_kvm_ipa_limit</a> (void)</td></tr>
<tr class="separator:a9412cd91f2536c51d45002e1e398b834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69a532b35b4e40a682f5007da006827c"><td class="memItemLeft" align="right" valign="top">int __init&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#a69a532b35b4e40a682f5007da006827c">kvm_set_ipa_limit</a> (void)</td></tr>
<tr class="separator:a69a532b35b4e40a682f5007da006827c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9679fd9a1fc8d425b993f925a7f11e91"><td class="memItemLeft" align="right" valign="top">static u32 <a class="el" href="vgic_8c.html#a025fcc986fe35380110649829fd8b7ea">__ro_after_init</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#a9679fd9a1fc8d425b993f925a7f11e91">kvm_ipa_limit</a></td></tr>
<tr class="separator:a9679fd9a1fc8d425b993f925a7f11e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e1b29e54624225319be71fef740c33"><td class="memItemLeft" align="right" valign="top">unsigned int <a class="el" href="vgic_8c.html#a025fcc986fe35380110649829fd8b7ea">__ro_after_init</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reset_8c.html#ad5e1b29e54624225319be71fef740c33">kvm_sve_max_vl</a></td></tr>
<tr class="separator:ad5e1b29e54624225319be71fef740c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a0c03b9a1bc68ff13a33dfd6501b3d66d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c03b9a1bc68ff13a33dfd6501b3d66d">&#9670;&nbsp;</a></span>VCPU_RESET_PSTATE_EL1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCPU_RESET_PSTATE_EL1</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                 (PSR_MODE_EL1h | PSR_A_BIT | PSR_I_BIT | \</div>
<div class="line">                 PSR_F_BIT | PSR_D_BIT)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00039">39</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>

</div>
</div>
<a id="a5ab6890dfe2fcfff76c5ead4efccd0bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ab6890dfe2fcfff76c5ead4efccd0bd">&#9670;&nbsp;</a></span>VCPU_RESET_PSTATE_EL2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCPU_RESET_PSTATE_EL2</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                 (PSR_MODE_EL2h | PSR_A_BIT | PSR_I_BIT | \</div>
<div class="line">                 PSR_F_BIT | PSR_D_BIT)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00042">42</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>

</div>
</div>
<a id="aca358157465efb57be832c225aeedc39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca358157465efb57be832c225aeedc39">&#9670;&nbsp;</a></span>VCPU_RESET_PSTATE_SVC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCPU_RESET_PSTATE_SVC</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                 (PSR_AA32_MODE_SVC | PSR_AA32_A_BIT | \</div>
<div class="line">                 PSR_AA32_I_BIT | PSR_AA32_F_BIT)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00045">45</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9412cd91f2536c51d45002e1e398b834"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9412cd91f2536c51d45002e1e398b834">&#9670;&nbsp;</a></span>get_kvm_ipa_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32 get_kvm_ipa_limit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00269">269</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;{</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="reset_8c.html#a9679fd9a1fc8d425b993f925a7f11e91">kvm_ipa_limit</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="ttc" id="areset_8c_html_a9679fd9a1fc8d425b993f925a7f11e91"><div class="ttname"><a href="reset_8c.html#a9679fd9a1fc8d425b993f925a7f11e91">kvm_ipa_limit</a></div><div class="ttdeci">static u32 __ro_after_init kvm_ipa_limit</div><div class="ttdef"><b>Definition:</b> <a href="reset_8c_source.html#l00034">reset.c:34</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_a9412cd91f2536c51d45002e1e398b834_icgraph.png" border="0" usemap="#areset_8c_a9412cd91f2536c51d45002e1e398b834_icgraph" alt=""/></div>
<map name="areset_8c_a9412cd91f2536c51d45002e1e398b834_icgraph" id="areset_8c_a9412cd91f2536c51d45002e1e398b834_icgraph">
<area shape="rect" title=" " alt="" coords="901,56,1044,83"/>
<area shape="rect" href="mmu_8c.html#a2c7559bf16232daf5d3187255f1cb70e" title=" " alt="" coords="667,5,853,32"/>
<area shape="rect" href="mmu_8c.html#af680391e7bf182f929f772acd512f336" title=" " alt="" coords="675,56,845,83"/>
<area shape="rect" href="arm_8c.html#a18efe0d4e70bef9cae70344f31f47cff" title=" " alt="" coords="681,107,839,149"/>
<area shape="rect" href="arm_8c.html#a78b266c18dac3b9edbea80941c96e2cd" title=" " alt="" coords="468,56,611,83"/>
<area shape="rect" href="kvm__main_8c.html#a54b22e6be98d31db1a83e7993fbcf4bc" title=" " alt="" coords="266,56,393,83"/>
<area shape="rect" href="kvm__main_8c.html#a955de4f2a1b3371438636eccab732b27" title=" " alt="" coords="5,56,199,83"/>
<area shape="rect" href="kvm__main_8c.html#af05b1274e9e33570d11f7f98bee8b839" title=" " alt="" coords="460,107,619,149"/>
<area shape="rect" href="kvm__main_8c.html#aaeec02d207c8ce5ca12b1ef2ac36fae0" title=" " alt="" coords="247,107,412,149"/>
</map>
</div>

</div>
</div>
<a id="a12ef511d512c7adb604369d12024c93f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12ef511d512c7adb604369d12024c93f">&#9670;&nbsp;</a></span>kvm_arm_init_sve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __init kvm_arm_init_sve </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00050">50</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span> (system_supports_sve()) {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <a class="code" href="reset_8c.html#ad5e1b29e54624225319be71fef740c33">kvm_sve_max_vl</a> = sve_max_virtualisable_vl();</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">         * The get_sve_reg()/set_sve_reg() ioctl interface will need</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">         * to be extended with multiple register slice support in</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">         * order to support vector lengths greater than</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">         * VL_ARCH_MAX:</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">if</span> (WARN_ON(<a class="code" href="reset_8c.html#ad5e1b29e54624225319be71fef740c33">kvm_sve_max_vl</a> &gt; VL_ARCH_MAX))</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            <a class="code" href="reset_8c.html#ad5e1b29e54624225319be71fef740c33">kvm_sve_max_vl</a> = VL_ARCH_MAX;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">         * Don&#39;t even try to make use of vector lengths that</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">         * aren&#39;t available on all CPUs, for now:</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="reset_8c.html#ad5e1b29e54624225319be71fef740c33">kvm_sve_max_vl</a> &lt; sve_max_vl())</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            pr_warn(<span class="stringliteral">&quot;KVM: SVE vector length for guests limited to %u bytes\n&quot;</span>,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                <a class="code" href="reset_8c.html#ad5e1b29e54624225319be71fef740c33">kvm_sve_max_vl</a>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div>
<div class="ttc" id="areset_8c_html_ad5e1b29e54624225319be71fef740c33"><div class="ttname"><a href="reset_8c.html#ad5e1b29e54624225319be71fef740c33">kvm_sve_max_vl</a></div><div class="ttdeci">unsigned int __ro_after_init kvm_sve_max_vl</div><div class="ttdef"><b>Definition:</b> <a href="reset_8c_source.html#l00048">reset.c:48</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_a12ef511d512c7adb604369d12024c93f_icgraph.png" border="0" usemap="#areset_8c_a12ef511d512c7adb604369d12024c93f_icgraph" alt=""/></div>
<map name="areset_8c_a12ef511d512c7adb604369d12024c93f_icgraph" id="areset_8c_a12ef511d512c7adb604369d12024c93f_icgraph">
<area shape="rect" title=" " alt="" coords="165,5,308,32"/>
<area shape="rect" href="arm_8c.html#a625df4221f73b13d9f23aa818f60e547" title=" " alt="" coords="5,5,117,32"/>
</map>
</div>

</div>
</div>
<a id="ae42f979a2e15b7e51c3e3dfc133cb473"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae42f979a2e15b7e51c3e3dfc133cb473">&#9670;&nbsp;</a></span>kvm_arm_vcpu_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_arm_vcpu_destroy </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00150">150</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordtype">void</span> *sve_state = vcpu-&gt;arch.sve_state;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="fpsimd_8c.html#a4a413d27f1db48bf29f9bdb738ab0b94">kvm_vcpu_unshare_task_fp</a>(vcpu);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="mmu_8c.html#abeed34d3f32ae7e76a83700117b7b92a">kvm_unshare_hyp</a>(vcpu, vcpu + 1);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (sve_state)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="mmu_8c.html#abeed34d3f32ae7e76a83700117b7b92a">kvm_unshare_hyp</a>(sve_state, sve_state + vcpu_sve_state_size(vcpu));</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    kfree(sve_state);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    kfree(vcpu-&gt;arch.ccsidr);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div>
<div class="ttc" id="afpsimd_8c_html_a4a413d27f1db48bf29f9bdb738ab0b94"><div class="ttname"><a href="fpsimd_8c.html#a4a413d27f1db48bf29f9bdb738ab0b94">kvm_vcpu_unshare_task_fp</a></div><div class="ttdeci">void kvm_vcpu_unshare_task_fp(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="fpsimd_8c_source.html#l00017">fpsimd.c:17</a></div></div>
<div class="ttc" id="ammu_8c_html_abeed34d3f32ae7e76a83700117b7b92a"><div class="ttname"><a href="mmu_8c.html#abeed34d3f32ae7e76a83700117b7b92a">kvm_unshare_hyp</a></div><div class="ttdeci">void kvm_unshare_hyp(void *from, void *to)</div><div class="ttdef"><b>Definition:</b> <a href="mmu_8c_source.html#l00548">mmu.c:548</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_ae42f979a2e15b7e51c3e3dfc133cb473_cgraph.png" border="0" usemap="#areset_8c_ae42f979a2e15b7e51c3e3dfc133cb473_cgraph" alt=""/></div>
<map name="areset_8c_ae42f979a2e15b7e51c3e3dfc133cb473_cgraph" id="areset_8c_ae42f979a2e15b7e51c3e3dfc133cb473_cgraph">
<area shape="rect" title=" " alt="" coords="5,281,184,308"/>
<area shape="rect" href="mmu_8c.html#abeed34d3f32ae7e76a83700117b7b92a" title=" " alt="" coords="483,281,624,308"/>
<area shape="rect" href="fpsimd_8c.html#a4a413d27f1db48bf29f9bdb738ab0b94" title=" " alt="" coords="232,307,435,333"/>
<area shape="rect" href="mmu_8c.html#af214df14aaaac0cc598374356bc3bc5b" title=" " alt="" coords="672,256,901,283"/>
<area shape="rect" href="mmu_8c.html#ab784fb7eb70984bb7728e616c60ec1e2" title=" " alt="" coords="720,307,853,333"/>
<area shape="rect" href="mem__protect_8h.html#a259c9aa4671e27b82908850ced15f83d" title=" " alt="" coords="949,281,1148,308"/>
<area shape="rect" href="mmu_8c.html#ae872b392080198975a339e2351ec3abf" title=" " alt="" coords="986,332,1111,359"/>
<area shape="rect" href="mem__protect_8c.html#ab6a32e622ae646989f8a020ce5f60ca4" title=" " alt="" coords="1237,180,1335,207"/>
<area shape="rect" href="mem__protect_8c.html#aa70b12df63f9379efa7fe11ade510b7c" title=" " alt="" coords="1204,281,1368,308"/>
<area shape="rect" href="mem__protect_8c.html#a21f32ced99ed31332ac532029100e42d" title=" " alt="" coords="1196,383,1376,409"/>
<area shape="rect" href="mem__protect_8c.html#abbc50e372d72deb41a021219c35e3589" title=" " alt="" coords="1206,231,1366,257"/>
<area shape="rect" href="mem__protect_8c.html#a024de911d90c8e8d57cc96c87fecb4d3" title=" " alt="" coords="1198,332,1374,359"/>
<area shape="rect" href="mem__protect_8c.html#a77ec896d00d3c2ebd6669edf6bc94847" title=" " alt="" coords="1434,107,1545,133"/>
<area shape="rect" href="mem__protect_8c.html#aa930dbd95452ee88a3f91456675dca49" title=" " alt="" coords="1430,193,1549,220"/>
<area shape="rect" href="mem__protect_8c.html#aad9e9a7b5fa0635f39dc96649d2eed00" title=" " alt="" coords="1608,52,1771,79"/>
<area shape="rect" href="mem__protect_8c.html#ad0fe4a77ba9585f7ad46c3d212e7559d" title=" " alt="" coords="1603,107,1776,133"/>
<area shape="rect" href="mem__protect_8c.html#a2b41e87ab661559f9f860797a14c914e" title=" " alt="" coords="1833,41,2003,82"/>
<area shape="rect" href="mem__protect_8c.html#adc131fc52bbb4443366cfbe93eb87839" title=" " alt="" coords="2060,56,2259,83"/>
<area shape="rect" href="mem__protect_8h.html#a2cf886e3d56ed4cd5ddb78944ac0a152" title=" " alt="" coords="2099,5,2219,32"/>
<area shape="rect" href="mem__protect_8c.html#add960b8fe1ef188df3090aa2102c620d" title=" " alt="" coords="2307,56,2469,83"/>
<area shape="rect" href="pgtable_8c.html#aa6720ffb7274162e966c1995acefe084" title=" " alt="" coords="2517,56,2712,83"/>
<area shape="rect" href="pgtable_8c.html#a2a6ed7242e033a1f32360cbe0e5c2281" title=" " alt="" coords="2765,107,2911,133"/>
<area shape="rect" href="pgtable_8c.html#a239db42e3530e785e70ec04460752a87" title=" " alt="" coords="2762,5,2914,32"/>
<area shape="rect" href="pgtable_8c.html#a0368ee3109cb5510bb12fe6b56e0c7f5" title=" " alt="" coords="2760,56,2916,83"/>
<area shape="rect" href="pgtable_8c.html#ac74b17e065ba3e68a10f28b594d21e40" title=" " alt="" coords="2974,107,3126,133"/>
<area shape="rect" href="pgtable_8c.html#a4819ac158aa1b43844c3a3b5e5a82ac3" title=" " alt="" coords="3209,107,3367,133"/>
<area shape="rect" href="pgtable_8c.html#af01e17f60125c9e093e082e70a43f362" title=" " alt="" coords="3214,56,3362,83"/>
<area shape="rect" href="pgtable_8c.html#a5aa0f5d1f7f2540fea515eb0b198caba" title=" " alt="" coords="3440,107,3596,133"/>
<area shape="rect" href="pgtable_8c.html#ac1a7f01d8f40491309c052bdea628e06" title=" " alt="" coords="3451,56,3585,83"/>
<area shape="rect" href="pgtable_8c.html#a98293d8aa53e4ee188e8dc42f3dc17e9" title=" " alt="" coords="3644,56,3821,83"/>
<area shape="rect" href="pgtable_8c.html#a2f4269267d0718905af8540821a6de3d" title=" " alt="" coords="3669,107,3796,133"/>
<area shape="rect" href="pgtable_8c.html#a6e3f339456d5a01daa47962cc12f080e" title=" " alt="" coords="3673,157,3792,184"/>
<area shape="rect" href="pgtable_8c.html#a6207f0c3812f7b386a306b717eb3c230" title=" " alt="" coords="2964,56,3136,83"/>
<area shape="rect" href="pgtable_8c.html#ade0f482b0d10d9aeefa9814ae4a7cf4b" title=" " alt="" coords="3184,5,3392,32"/>
<area shape="rect" href="pgtable_8c.html#af16196aa505cacc0ca294719f9575ce4" title=" " alt="" coords="2519,107,2710,133"/>
<area shape="rect" href="pgtable_8c.html#a7eb05408bfb8ee8e00dc693bbd018aa9" title=" " alt="" coords="3444,157,3592,184"/>
<area shape="rect" href="pgtable_8c.html#a42620f6fca0390491a59340e88890864" title=" " alt="" coords="3673,208,3792,235"/>
<area shape="rect" href="mem__protect_8c.html#adb6b6680efb04e5e509ccf68629283f8" title=" " alt="" coords="1607,193,1772,220"/>
<area shape="rect" href="mem__protect_8c.html#a29a8e46b3a5a7fdce3bf761585537d2d" title=" " alt="" coords="1622,291,1757,317"/>
<area shape="rect" href="mem__protect_8c.html#ab45dbaed102ffbf3ccda18c0cc20a6dc" title=" " alt="" coords="1824,186,2012,227"/>
<area shape="rect" href="mem__protect_8c.html#a3ea605c8779e3d79d674c81a6d64919c" title=" " alt="" coords="2068,208,2251,235"/>
<area shape="rect" href="mem__protect_8c.html#a39c30c3fbf244570912cbd38c6e5606a" title=" " alt="" coords="2081,157,2238,184"/>
<area shape="rect" href="spinlock_8h.html#ae92c9f4a09d239d6060880c35d12a48b" title=" " alt="" coords="2078,259,2241,285"/>
<area shape="rect" href="mem__protect_8c.html#acef59d69975c27a7815896535bbb4e65" title=" " alt="" coords="2311,209,2465,250"/>
<area shape="rect" href="mem__protect_8c.html#a89057e6dfc7b241de73b439208bcf7d5" title=" " alt="" coords="1828,317,2008,358"/>
<area shape="rect" href="mem__protect_8c.html#a4ee4815f49f2d2a8397d1e2430193a3e" title=" " alt="" coords="1826,251,2010,293"/>
<area shape="rect" href="memory_8h.html#a3858889abb828afd54e20be3a55947d8" title=" " alt="" coords="1854,383,1982,409"/>
<area shape="rect" href="mem__protect_8c.html#a906b44af03f69892941d0b4e87d52fbd" title=" " alt="" coords="2083,309,2236,336"/>
<area shape="rect" href="spinlock_8h.html#ae942ff0e878cb0f4d55ddc4cc6275ec9" title=" " alt="" coords="1432,269,1547,296"/>
<area shape="rect" href="spinlock_8h.html#a2c6e9db70599188dbe031e2ce8ec6b08" title=" " alt="" coords="1424,357,1555,384"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_ae42f979a2e15b7e51c3e3dfc133cb473_icgraph.png" border="0" usemap="#areset_8c_ae42f979a2e15b7e51c3e3dfc133cb473_icgraph" alt=""/></div>
<map name="areset_8c_ae42f979a2e15b7e51c3e3dfc133cb473_icgraph" id="areset_8c_ae42f979a2e15b7e51c3e3dfc133cb473_icgraph">
<area shape="rect" title=" " alt="" coords="1705,79,1884,105"/>
<area shape="rect" href="arm_8c.html#a25d188e4f0871968b9f428c79720a502" title=" " alt="" coords="1477,79,1657,105"/>
<area shape="rect" href="kvm__main_8c.html#a7218df747387e4034ab8442f187306b1" title=" " alt="" coords="1257,53,1402,80"/>
<area shape="rect" href="kvm__main_8c.html#ab8870469dadfadf9a204346c62016293" title=" " alt="" coords="1229,104,1429,131"/>
<area shape="rect" href="kvm__main_8c.html#a0fcd9f7671bee7debec1bc05dcd9557b" title=" " alt="" coords="1029,53,1181,80"/>
<area shape="rect" href="arm_8c.html#ad84dda268db5d48c48f3ef2f438c62a7" title=" " alt="" coords="811,53,981,80"/>
<area shape="rect" href="kvm__main_8c.html#a54b22e6be98d31db1a83e7993fbcf4bc" title=" " alt="" coords="453,9,580,36"/>
<area shape="rect" href="kvm__main_8c.html#afd922c538c448ab1248cdb9dccae9410" title=" " alt="" coords="628,79,763,105"/>
<area shape="rect" href="kvm__main_8c.html#a955de4f2a1b3371438636eccab732b27" title=" " alt="" coords="212,5,405,32"/>
<area shape="rect" href="kvm__main_8c.html#a013962010b954d8597e5987fd27c8241" title=" " alt="" coords="459,104,574,131"/>
<area shape="rect" href="kvm__main_8c.html#a37fa7805021941c56fe174eae4c8c377" title=" " alt="" coords="234,56,383,83"/>
<area shape="rect" href="kvm__main_8c.html#af19040bdcea372f13eab66499d99201c" title=" " alt="" coords="226,107,391,133"/>
<area shape="rect" href="guest__memfd_8c.html#ad8912fbda61cdcb6d9e5a3c0f839e001" title=" " alt="" coords="231,157,386,184"/>
<area shape="rect" href="kvm__main_8c.html#af67afbdcee89641f21573ac643d8e693" title=" " alt="" coords="241,208,376,235"/>
<area shape="rect" href="kvm__main_8c.html#a87bcafdc42ee32aedb84df5e564f9872" title=" " alt="" coords="5,56,164,83"/>
</map>
</div>

</div>
</div>
<a id="ae95bc53f52db3e69595fd0a53c8bc8fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae95bc53f52db3e69595fd0a53c8bc8fb">&#9670;&nbsp;</a></span>kvm_arm_vcpu_finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_arm_vcpu_finalize </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>feature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00126">126</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">switch</span> (feature) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">case</span> KVM_ARM_VCPU_SVE:</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">if</span> (!vcpu_has_sve(vcpu))</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">if</span> (kvm_arm_vcpu_sve_finalized(vcpu))</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <span class="keywordflow">return</span> -EPERM;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="reset_8c.html#a82e2644a8e182c72a70fa52b0a0acae9">kvm_vcpu_finalize_sve</a>(vcpu);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="ttc" id="areset_8c_html_a82e2644a8e182c72a70fa52b0a0acae9"><div class="ttname"><a href="reset_8c.html#a82e2644a8e182c72a70fa52b0a0acae9">kvm_vcpu_finalize_sve</a></div><div class="ttdeci">static int kvm_vcpu_finalize_sve(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="reset_8c_source.html#l00092">reset.c:92</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_ae95bc53f52db3e69595fd0a53c8bc8fb_cgraph.png" border="0" usemap="#areset_8c_ae95bc53f52db3e69595fd0a53c8bc8fb_cgraph" alt=""/></div>
<map name="areset_8c_ae95bc53f52db3e69595fd0a53c8bc8fb_cgraph" id="areset_8c_ae95bc53f52db3e69595fd0a53c8bc8fb_cgraph">
<area shape="rect" title=" " alt="" coords="5,71,181,98"/>
<area shape="rect" href="reset_8c.html#a82e2644a8e182c72a70fa52b0a0acae9" title=" " alt="" coords="229,71,403,98"/>
<area shape="rect" href="mmu_8c.html#a1b7a508d0431deb996e839b226bcda0d" title=" " alt="" coords="451,71,576,98"/>
<area shape="rect" href="mmu_8c.html#a2fae287f6a52db1bbfdcb7483ba623ca" title=" " alt="" coords="624,71,789,98"/>
<area shape="rect" href="mmu_8c.html#af214df14aaaac0cc598374356bc3bc5b" title=" " alt="" coords="1068,21,1297,47"/>
<area shape="rect" href="mmu_8c.html#aa7729a167573cc14881088e0516f28d5" title=" " alt="" coords="648,198,765,225"/>
<area shape="rect" href="mmu_8c.html#a528a37af3e2c56c76872b4113cff0877" title=" " alt="" coords="839,71,1018,98"/>
<area shape="rect" href="mmu_8c.html#a5ba832c8135d5fbf5fed763356c0a2b7" title=" " alt="" coords="853,122,1005,149"/>
<area shape="rect" href="pgtable_8c.html#ad1a61b3aa251ca1150e9359c5c31a173" title=" " alt="" coords="1977,126,2152,153"/>
<area shape="rect" href="pgtable_8c.html#a06c1f113f067476605d118dffebef6a8" title=" " alt="" coords="2219,151,2351,178"/>
<area shape="rect" href="pgtable_8c.html#ab93223f59cefdfdd0abfb060e97f7b45" title=" " alt="" coords="2217,101,2353,127"/>
<area shape="rect" href="pgtable_8c.html#a2a6ed7242e033a1f32360cbe0e5c2281" title=" " alt="" coords="2212,309,2357,335"/>
<area shape="rect" href="pgtable_8c.html#ae28010caa0eb1b8a51d07679e9d08daa" title=" " alt="" coords="2405,177,2595,203"/>
<area shape="rect" href="pgtable_8c.html#acdca989573ec9ed02b9b43a7014140c8" title=" " alt="" coords="2427,126,2573,153"/>
<area shape="rect" href="pgtable_8c.html#ad78e3b5f65ff7e25e23a1fbb89e39a24" title=" " alt="" coords="2643,145,2872,171"/>
<area shape="rect" href="pgtable_8c.html#adec3d8cce63231d14b6d3d9e635abf8e" title=" " alt="" coords="2668,195,2847,222"/>
<area shape="rect" href="pgtable_8c.html#aa480a93c3d8dd6fd53b1105fd604766c" title=" " alt="" coords="2925,145,3071,171"/>
<area shape="rect" href="pgtable_8c.html#ac74b17e065ba3e68a10f28b594d21e40" title=" " alt="" coords="2424,309,2576,335"/>
<area shape="rect" href="pgtable_8c.html#a4819ac158aa1b43844c3a3b5e5a82ac3" title=" " alt="" coords="2678,283,2837,310"/>
<area shape="rect" href="pgtable_8c.html#af01e17f60125c9e093e082e70a43f362" title=" " alt="" coords="2683,334,2831,361"/>
<area shape="rect" href="pgtable_8c.html#a5aa0f5d1f7f2540fea515eb0b198caba" title=" " alt="" coords="2920,283,3076,310"/>
<area shape="rect" href="pgtable_8c.html#ac1a7f01d8f40491309c052bdea628e06" title=" " alt="" coords="2931,233,3065,259"/>
<area shape="rect" href="pgtable_8c.html#a98293d8aa53e4ee188e8dc42f3dc17e9" title=" " alt="" coords="3124,283,3301,310"/>
<area shape="rect" href="mem__protect_8h.html#a5386cf2bf4917b7abcc5fb60845688d9" title=" " alt="" coords="837,198,1020,225"/>
<area shape="rect" href="mmu_8c.html#ae872b392080198975a339e2351ec3abf" title=" " alt="" coords="866,249,991,275"/>
<area shape="rect" href="mem__protect_8c.html#a6bfbb53a58e0b5b5533cfc11957f42c2" title=" " alt="" coords="1142,223,1223,250"/>
<area shape="rect" href="mem__protect_8c.html#aa70b12df63f9379efa7fe11ade510b7c" title=" " alt="" coords="1101,325,1265,351"/>
<area shape="rect" href="mem__protect_8c.html#a21f32ced99ed31332ac532029100e42d" title=" " alt="" coords="1093,173,1273,199"/>
<area shape="rect" href="mem__protect_8c.html#abbc50e372d72deb41a021219c35e3589" title=" " alt="" coords="1103,274,1263,301"/>
<area shape="rect" href="mem__protect_8c.html#a024de911d90c8e8d57cc96c87fecb4d3" title=" " alt="" coords="1095,122,1271,149"/>
<area shape="rect" href="mem__protect_8c.html#a813121259f4344cbf372cbf3d7f50588" title=" " alt="" coords="1363,179,1458,206"/>
<area shape="rect" href="mem__protect_8c.html#aaa8cef3120e457500b49a5de34545c24" title=" " alt="" coords="1359,246,1462,273"/>
<area shape="rect" href="mem__protect_8c.html#a6fc6b31d003170e866222dffa08ae092" title=" " alt="" coords="1529,126,1676,153"/>
<area shape="rect" href="mem__protect_8c.html#a635909c724738612986586327fa71a0b" title=" " alt="" coords="1524,179,1681,206"/>
<area shape="rect" href="mem__protect_8c.html#a2b41e87ab661559f9f860797a14c914e" title=" " alt="" coords="1738,5,1909,47"/>
<area shape="rect" href="mem__protect_8c.html#adc131fc52bbb4443366cfbe93eb87839" title=" " alt="" coords="1965,13,2164,39"/>
<area shape="rect" href="mem__protect_8h.html#a2cf886e3d56ed4cd5ddb78944ac0a152" title=" " alt="" coords="2005,69,2125,95"/>
<area shape="rect" href="mm_8h.html#a36a82f8cc52bf1bf431f904beddc6c18" title=" " alt="" coords="1734,173,1913,215"/>
<area shape="rect" href="spinlock_8h.html#ae92c9f4a09d239d6060880c35d12a48b" title=" " alt="" coords="1983,227,2146,254"/>
<area shape="rect" href="memory_8h.html#aae436fb2b3f13c0954cde727104e80ac" title=" " alt="" coords="1998,177,2131,203"/>
<area shape="rect" href="mem__protect_8c.html#a5d4226b7d58b6d55f4d6d7195914f4c2" title=" " alt="" coords="1525,239,1681,280"/>
<area shape="rect" href="mem__protect_8c.html#a54456b5931c9badb4e3272081518a9c9" title=" " alt="" coords="1543,311,1662,338"/>
<area shape="rect" href="mem__protect_8c.html#ab45dbaed102ffbf3ccda18c0cc20a6dc" title=" " alt="" coords="1729,239,1917,280"/>
<area shape="rect" href="mem__protect_8c.html#a3ea605c8779e3d79d674c81a6d64919c" title=" " alt="" coords="1973,329,2156,355"/>
<area shape="rect" href="mem__protect_8c.html#a39c30c3fbf244570912cbd38c6e5606a" title=" " alt="" coords="1986,278,2143,305"/>
<area shape="rect" href="mem__protect_8c.html#a89057e6dfc7b241de73b439208bcf7d5" title=" " alt="" coords="1733,304,1913,345"/>
<area shape="rect" href="mem__protect_8c.html#a4ee4815f49f2d2a8397d1e2430193a3e" title=" " alt="" coords="1731,369,1915,411"/>
<area shape="rect" href="mem__protect_8c.html#a906b44af03f69892941d0b4e87d52fbd" title=" " alt="" coords="1988,379,2141,406"/>
<area shape="rect" href="spinlock_8h.html#ae942ff0e878cb0f4d55ddc4cc6275ec9" title=" " alt="" coords="1353,310,1468,337"/>
<area shape="rect" href="spinlock_8h.html#a2c6e9db70599188dbe031e2ce8ec6b08" title=" " alt="" coords="1345,126,1476,153"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_ae95bc53f52db3e69595fd0a53c8bc8fb_icgraph.png" border="0" usemap="#areset_8c_ae95bc53f52db3e69595fd0a53c8bc8fb_icgraph" alt=""/></div>
<map name="areset_8c_ae95bc53f52db3e69595fd0a53c8bc8fb_icgraph" id="areset_8c_ae95bc53f52db3e69595fd0a53c8bc8fb_icgraph">
<area shape="rect" title=" " alt="" coords="384,5,560,32"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,5,336,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="a25b38ab811c0662e0d55d9a6e89c3219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25b38ab811c0662e0d55d9a6e89c3219">&#9670;&nbsp;</a></span>kvm_arm_vcpu_is_finalized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool kvm_arm_vcpu_is_finalized </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00142">142</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (vcpu_has_sve(vcpu) &amp;&amp; !kvm_arm_vcpu_sve_finalized(vcpu))</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_a25b38ab811c0662e0d55d9a6e89c3219_icgraph.png" border="0" usemap="#areset_8c_a25b38ab811c0662e0d55d9a6e89c3219_icgraph" alt=""/></div>
<map name="areset_8c_a25b38ab811c0662e0d55d9a6e89c3219_icgraph" id="areset_8c_a25b38ab811c0662e0d55d9a6e89c3219_icgraph">
<area shape="rect" title=" " alt="" coords="404,35,607,61"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="187,5,346,32"/>
<area shape="rect" href="arm_8c.html#a163f3db5fe1d973be2855f4a479a5c8c" title=" " alt="" coords="177,57,356,98"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,35,129,61"/>
</map>
</div>

</div>
</div>
<a id="a124698ccde953ff74d270ddd091fc3a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a124698ccde953ff74d270ddd091fc3a9">&#9670;&nbsp;</a></span>kvm_reset_vcpu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_reset_vcpu </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>kvm_reset_vcpu - sets core registers and sys_regs to reset value @vcpu: The VCPU pointer</p>
<p>This function sets the registers on the virtual CPU struct to their architecturally defined reset values, except for registers whose reset is deferred until <a class="el" href="reset_8c.html#ae95bc53f52db3e69595fd0a53c8bc8fb">kvm_arm_vcpu_finalize()</a>.</p>
<p>Note: This function can be called from two paths: The KVM_ARM_VCPU_INIT ioctl or as part of handling a request issued by another VCPU in the PSCI handling code. In the first case, the VCPU will not be loaded, and in the second case the VCPU will be loaded. Because this function operates purely on the memory-backed values of system registers, we want to do a full put if we were loaded (handling a request) and load the values back at the end of the function. Otherwise we leave the state alone. In both cases, we disable preemption around the vcpu reset as we would otherwise race with preempt notifiers which also call put/load. </p>

<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00191">191</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;{</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">struct </span>vcpu_reset_state reset_state;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordtype">bool</span> loaded;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    u32 pstate;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    spin_lock(&amp;vcpu-&gt;arch.mp_state_lock);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    reset_state = vcpu-&gt;arch.reset_state;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    vcpu-&gt;arch.reset_state.reset = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    spin_unlock(&amp;vcpu-&gt;arch.mp_state_lock);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">/* Reset PMU outside of the non-preemptible section */</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="pmu-emul_8c.html#aeda0ad1ae56bc4244298ae7e6c5363e5">kvm_pmu_vcpu_reset</a>(vcpu);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    preempt_disable();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    loaded = (vcpu-&gt;cpu != -1);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> (loaded)</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <a class="code" href="arm_8c.html#a9235365ce64f215b1e024f26d96537cc">kvm_arch_vcpu_put</a>(vcpu);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span> (!kvm_arm_vcpu_sve_finalized(vcpu)) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">if</span> (vcpu_has_feature(vcpu, KVM_ARM_VCPU_SVE))</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <a class="code" href="reset_8c.html#ab92e3583bde9a8ad7f80e1e93c34669b">kvm_vcpu_enable_sve</a>(vcpu);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="reset_8c.html#a8c6653216f3fcf3d0c3bd0fc89c0112a">kvm_vcpu_reset_sve</a>(vcpu);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">if</span> (vcpu_has_feature(vcpu, KVM_ARM_VCPU_PTRAUTH_ADDRESS) ||</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        vcpu_has_feature(vcpu, KVM_ARM_VCPU_PTRAUTH_GENERIC))</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="reset_8c.html#a1b7075896679e6c153d1168c8cd8e500">kvm_vcpu_enable_ptrauth</a>(vcpu);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span> (vcpu_el1_is_32bit(vcpu))</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        pstate = <a class="code" href="reset_8c.html#aca358157465efb57be832c225aeedc39">VCPU_RESET_PSTATE_SVC</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vcpu_has_nv(vcpu))</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        pstate = <a class="code" href="reset_8c.html#a5ab6890dfe2fcfff76c5ead4efccd0bd">VCPU_RESET_PSTATE_EL2</a>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        pstate = <a class="code" href="reset_8c.html#a0c03b9a1bc68ff13a33dfd6501b3d66d">VCPU_RESET_PSTATE_EL1</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">/* Reset core registers */</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    memset(vcpu_gp_regs(vcpu), 0, <span class="keyword">sizeof</span>(*vcpu_gp_regs(vcpu)));</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    memset(&amp;vcpu-&gt;arch.ctxt.fp_regs, 0, <span class="keyword">sizeof</span>(vcpu-&gt;arch.ctxt.fp_regs));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    vcpu-&gt;arch.ctxt.spsr_abt = 0;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    vcpu-&gt;arch.ctxt.spsr_und = 0;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    vcpu-&gt;arch.ctxt.spsr_irq = 0;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    vcpu-&gt;arch.ctxt.spsr_fiq = 0;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    vcpu_gp_regs(vcpu)-&gt;pstate = pstate;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">/* Reset system registers */</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="sys__regs_8c.html#abba14158e86a83e47c00e8fcde09fcfc">kvm_reset_sys_regs</a>(vcpu);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">     * Additional reset state handling that PSCI may have imposed on us.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">     * Must be done after all the sys_reg reset.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">if</span> (reset_state.reset) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> target_pc = reset_state.pc;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="comment">/* Gracefully handle Thumb2 entry point */</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">if</span> (vcpu_mode_is_32bit(vcpu) &amp;&amp; (target_pc &amp; 1)) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            target_pc &amp;= ~1UL;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            vcpu_set_thumb(vcpu);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="comment">/* Propagate caller endianness */</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">if</span> (reset_state.be)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            kvm_vcpu_set_be(vcpu);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        *vcpu_pc(vcpu) = target_pc;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        vcpu_set_reg(vcpu, 0, reset_state.r0);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">/* Reset timer */</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <a class="code" href="arch__timer_8c.html#a11b9b6e6338bbec6085332661c934e91">kvm_timer_vcpu_reset</a>(vcpu);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (loaded)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <a class="code" href="arm_8c.html#aaa51abf3d06fdaa95794b27f273278fb">kvm_arch_vcpu_load</a>(vcpu, smp_processor_id());</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    preempt_enable();</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div>
<div class="ttc" id="aarch__timer_8c_html_a11b9b6e6338bbec6085332661c934e91"><div class="ttname"><a href="arch__timer_8c.html#a11b9b6e6338bbec6085332661c934e91">kvm_timer_vcpu_reset</a></div><div class="ttdeci">void kvm_timer_vcpu_reset(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="arch__timer_8c_source.html#l00938">arch_timer.c:938</a></div></div>
<div class="ttc" id="aarm_8c_html_a9235365ce64f215b1e024f26d96537cc"><div class="ttname"><a href="arm_8c.html#a9235365ce64f215b1e024f26d96537cc">kvm_arch_vcpu_put</a></div><div class="ttdeci">void kvm_arch_vcpu_put(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="arm_8c_source.html#l00472">arm.c:472</a></div></div>
<div class="ttc" id="aarm_8c_html_aaa51abf3d06fdaa95794b27f273278fb"><div class="ttname"><a href="arm_8c.html#aaa51abf3d06fdaa95794b27f273278fb">kvm_arch_vcpu_load</a></div><div class="ttdeci">void kvm_arch_vcpu_load(struct kvm_vcpu *vcpu, int cpu)</div><div class="ttdef"><b>Definition:</b> <a href="arm_8c_source.html#l00426">arm.c:426</a></div></div>
<div class="ttc" id="apmu-emul_8c_html_aeda0ad1ae56bc4244298ae7e6c5363e5"><div class="ttname"><a href="pmu-emul_8c.html#aeda0ad1ae56bc4244298ae7e6c5363e5">kvm_pmu_vcpu_reset</a></div><div class="ttdeci">void kvm_pmu_vcpu_reset(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="pmu-emul_8c_source.html#l00245">pmu-emul.c:245</a></div></div>
<div class="ttc" id="areset_8c_html_a0c03b9a1bc68ff13a33dfd6501b3d66d"><div class="ttname"><a href="reset_8c.html#a0c03b9a1bc68ff13a33dfd6501b3d66d">VCPU_RESET_PSTATE_EL1</a></div><div class="ttdeci">#define VCPU_RESET_PSTATE_EL1</div><div class="ttdef"><b>Definition:</b> <a href="reset_8c_source.html#l00039">reset.c:39</a></div></div>
<div class="ttc" id="areset_8c_html_a1b7075896679e6c153d1168c8cd8e500"><div class="ttname"><a href="reset_8c.html#a1b7075896679e6c153d1168c8cd8e500">kvm_vcpu_enable_ptrauth</a></div><div class="ttdeci">static void kvm_vcpu_enable_ptrauth(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="reset_8c_source.html#l00168">reset.c:168</a></div></div>
<div class="ttc" id="areset_8c_html_a5ab6890dfe2fcfff76c5ead4efccd0bd"><div class="ttname"><a href="reset_8c.html#a5ab6890dfe2fcfff76c5ead4efccd0bd">VCPU_RESET_PSTATE_EL2</a></div><div class="ttdeci">#define VCPU_RESET_PSTATE_EL2</div><div class="ttdef"><b>Definition:</b> <a href="reset_8c_source.html#l00042">reset.c:42</a></div></div>
<div class="ttc" id="areset_8c_html_a8c6653216f3fcf3d0c3bd0fc89c0112a"><div class="ttname"><a href="reset_8c.html#a8c6653216f3fcf3d0c3bd0fc89c0112a">kvm_vcpu_reset_sve</a></div><div class="ttdeci">static void kvm_vcpu_reset_sve(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="reset_8c_source.html#l00162">reset.c:162</a></div></div>
<div class="ttc" id="areset_8c_html_ab92e3583bde9a8ad7f80e1e93c34669b"><div class="ttname"><a href="reset_8c.html#ab92e3583bde9a8ad7f80e1e93c34669b">kvm_vcpu_enable_sve</a></div><div class="ttdeci">static void kvm_vcpu_enable_sve(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="reset_8c_source.html#l00076">reset.c:76</a></div></div>
<div class="ttc" id="areset_8c_html_aca358157465efb57be832c225aeedc39"><div class="ttname"><a href="reset_8c.html#aca358157465efb57be832c225aeedc39">VCPU_RESET_PSTATE_SVC</a></div><div class="ttdeci">#define VCPU_RESET_PSTATE_SVC</div><div class="ttdef"><b>Definition:</b> <a href="reset_8c_source.html#l00045">reset.c:45</a></div></div>
<div class="ttc" id="asys__regs_8c_html_abba14158e86a83e47c00e8fcde09fcfc"><div class="ttname"><a href="sys__regs_8c.html#abba14158e86a83e47c00e8fcde09fcfc">kvm_reset_sys_regs</a></div><div class="ttdeci">void kvm_reset_sys_regs(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03452">sys_regs.c:3452</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_a124698ccde953ff74d270ddd091fc3a9_cgraph.png" border="0" usemap="#areset_8c_a124698ccde953ff74d270ddd091fc3a9_cgraph" alt=""/></div>
<map name="areset_8c_a124698ccde953ff74d270ddd091fc3a9_cgraph" id="areset_8c_a124698ccde953ff74d270ddd091fc3a9_cgraph">
<area shape="rect" title=" " alt="" coords="5,1317,135,1344"/>
<area shape="rect" href="arm_8c.html#aaa51abf3d06fdaa95794b27f273278fb" title=" " alt="" coords="201,600,359,627"/>
<area shape="rect" href="arm_8c.html#a9235365ce64f215b1e024f26d96537cc" title=" " alt="" coords="204,993,356,1020"/>
<area shape="rect" href="pmu-emul_8c.html#aeda0ad1ae56bc4244298ae7e6c5363e5" title=" " alt="" coords="197,1292,363,1319"/>
<area shape="rect" href="sys__regs_8c.html#abba14158e86a83e47c00e8fcde09fcfc" title=" " alt="" coords="203,1241,357,1268"/>
<area shape="rect" href="arch__timer_8c.html#a11b9b6e6338bbec6085332661c934e91" title=" " alt="" coords="453,1444,623,1471"/>
<area shape="rect" href="reset_8c.html#a1b7075896679e6c153d1168c8cd8e500" title=" " alt="" coords="183,1393,377,1420"/>
<area shape="rect" href="reset_8c.html#ab92e3583bde9a8ad7f80e1e93c34669b" title=" " alt="" coords="195,1444,365,1471"/>
<area shape="rect" href="reset_8c.html#a8c6653216f3fcf3d0c3bd0fc89c0112a" title=" " alt="" coords="201,1495,359,1521"/>
<area shape="rect" href="nvhe_2tlb_8c.html#ae52fe3c4f97b5b56e65233015785a6ec" title=" " alt="" coords="443,571,633,597"/>
<area shape="rect" href="debug_8c.html#aae61f6ee77424b3eb0cb727586a694eb" title=" " alt="" coords="459,687,617,729"/>
<area shape="rect" href="fpsimd_8c.html#a6d3b97095b4e6a0d7799fe50eb3fb762" title=" " alt="" coords="449,753,627,780"/>
<area shape="rect" href="arch__timer_8c.html#a4bf6ac76380146820b45b06feb3eab27" title=" " alt="" coords="455,232,621,259"/>
<area shape="rect" href="vhe_2switch_8c.html#ae2827f745640cc27776384fbe890f8e4" title=" " alt="" coords="461,465,615,492"/>
<area shape="rect" href="pmu_8c.html#a928d4df1b401e9b41f92dd2aa2744529" title=" " alt="" coords="449,622,627,663"/>
<area shape="rect" href="vgic_8c.html#a54d5d884ac662357df5661d80f5160e3" title=" " alt="" coords="478,520,598,547"/>
<area shape="rect" href="nvhe_2tlb_8c.html#ac4dc226b1ecb9bca38c3096eb27c4c1d" title=" " alt="" coords="721,575,886,601"/>
<area shape="rect" href="nvhe_2tlb_8c.html#afffa64d5f9de2ef7a026837a2b9a0629" title=" " alt="" coords="725,625,882,652"/>
<area shape="rect" href="arch__timer_8c.html#ad7e756ea5077e85e2a10bfe35543ce21" title=" " alt="" coords="743,1147,864,1173"/>
<area shape="rect" href="arch__timer_8c.html#aabed21346a0fc6b04d9fc11ee754d19a" title=" " alt="" coords="718,341,889,368"/>
<area shape="rect" href="arch__timer_8c.html#a1c4f03de391e27f5ba91d10b6dfab0bf" title=" " alt="" coords="707,291,899,317"/>
<area shape="rect" href="arch__timer_8c.html#a9f34b892b5c9b1e79065006b4353c76e" title=" " alt="" coords="720,225,887,266"/>
<area shape="rect" href="arch__timer_8c.html#a8fb06d125602c5b00fa9c213aa7e2520" title=" " alt="" coords="720,107,887,149"/>
<area shape="rect" href="arch__timer_8c.html#acea899fae895cedf39458ed51af3cb1a" title=" " alt="" coords="744,173,863,200"/>
<area shape="rect" href="arch__timer_8c.html#a7e1e1c3a85e2d375519e32f57a54e301" title=" " alt="" coords="728,5,879,32"/>
<area shape="rect" href="arch__timer_8c.html#af19caca81734fff66363042c1e8e2181" title=" " alt="" coords="741,56,865,83"/>
<area shape="rect" href="arch__timer_8c.html#ad19b9cbace853dd534bf572a35f83710" title=" " alt="" coords="972,1096,1109,1123"/>
<area shape="rect" href="arch__timer_8c.html#a5abc04b494763cd0814855753e56671f" title=" " alt="" coords="956,232,1125,259"/>
<area shape="rect" href="vhe_2switch_8c.html#a4195df34813c51f5d20656ca62d92086" title=" " alt="" coords="722,393,885,434"/>
<area shape="rect" href="vhe_2sysreg-sr_8c.html#ab64a6924327aef108d280fb973db4fea" title=" " alt="" coords="728,458,879,499"/>
<area shape="rect" href="arm__pmu_8h.html#a7a4fb2cf1fb48c203893224b94564f63" title=" " alt="" coords="704,676,903,703"/>
<area shape="rect" href="pmu_8c.html#abf97c7a6b0768cbe660dea1a404bc79b" title=" " alt="" coords="720,727,887,753"/>
<area shape="rect" href="pmu_8c.html#ad4ce451e7a40f149ed26e7ce8d9700d4" title=" " alt="" coords="700,777,907,804"/>
<area shape="rect" href="pmu_8c.html#a98e21a6fa41b3490e6b1356884b18d5f" title=" " alt="" coords="702,828,905,855"/>
<area shape="rect" href="vgic-v2_8c.html#a8321cd156f283292cc531c7ca6358193" title=" " alt="" coords="750,524,857,551"/>
<area shape="rect" href="debug_8c.html#a40ab178c06775c17444821f2b88d89c9" title=" " alt="" coords="439,957,637,998"/>
<area shape="rect" href="fpsimd_8c.html#a315297a309db16c8cbbe1ab46c7413ba" title=" " alt="" coords="452,1023,624,1049"/>
<area shape="rect" href="vmid_8c.html#a2de0128c579224dac8d0964d383122cf" title=" " alt="" coords="457,1074,619,1115"/>
<area shape="rect" href="arch__timer_8c.html#a0006e1b52ff819dd99be6dca260e52d6" title=" " alt="" coords="459,1140,617,1167"/>
<area shape="rect" href="pmu_8c.html#a4e027f0c751f9cc01fa6d3c3f082216b" title=" " alt="" coords="431,804,645,831"/>
<area shape="rect" href="vhe_2switch_8c.html#acecfb29f871562a6288b28ba84a8150e" title=" " alt="" coords="464,855,612,881"/>
<area shape="rect" href="vgic_8c.html#a96f93a2405989082e3693577b6b2eb5d" title=" " alt="" coords="481,905,595,932"/>
<area shape="rect" href="pmu-emul_8c.html#ab7d35d75d609bb5ca09226888f2bd096" title=" " alt="" coords="449,1292,627,1319"/>
<area shape="rect" href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6" title=" " alt="" coords="425,1343,651,1369"/>
<area shape="rect" href="pmu-emul_8c.html#af0e28bffa2a3c2ed1f5e6405b8284638" title=" " alt="" coords="453,1393,623,1420"/>
<area shape="rect" href="sys__regs_8c.html#a928c5005370eb285da77e648be052b3d" title=" " alt="" coords="763,1209,843,1236"/>
<area shape="rect" href="sys__regs_8c.html#ab8caa56833715758c346de1e7ccfaebd" title=" " alt="" coords="465,1241,611,1268"/>
<area shape="rect" href="vgic_8c.html#a37d0e0f4c579bc38afe8d5f91529a772" title=" " alt="" coords="699,1343,908,1369"/>
<area shape="rect" href="arch__timer_8c.html#ad2a704b646b65309708c3a7f6ab70913" title=" " alt="" coords="761,1393,845,1420"/>
<area shape="rect" href="arch__timer_8c.html#a2e57f3714ec062699e29ae4e13d80dac" title=" " alt="" coords="750,1444,857,1471"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_a124698ccde953ff74d270ddd091fc3a9_icgraph.png" border="0" usemap="#areset_8c_a124698ccde953ff74d270ddd091fc3a9_icgraph" alt=""/></div>
<map name="areset_8c_a124698ccde953ff74d270ddd091fc3a9_icgraph" id="areset_8c_a124698ccde953ff74d270ddd091fc3a9_icgraph">
<area shape="rect" title=" " alt="" coords="1053,81,1183,108"/>
<area shape="rect" href="arm_8c.html#ae1c5fe27678796057c4ea914a9a6897b" title=" " alt="" coords="829,5,1005,32"/>
<area shape="rect" href="arm_8c.html#a91790a6a024c83b103717f37a8f0f504" title=" " alt="" coords="619,48,781,75"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,107,336,133"/>
<area shape="rect" href="arm_8c.html#a05fa4e97677ca3190089071bfce82825" title=" " alt="" coords="837,157,998,184"/>
<area shape="rect" href="arm_8c.html#ad66c8d00e8adc8315c45170fa270304b" title=" " alt="" coords="398,41,557,82"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,132,129,159"/>
<area shape="rect" href="arm_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="384,157,571,184"/>
</map>
</div>

</div>
</div>
<a id="a69a532b35b4e40a682f5007da006827c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69a532b35b4e40a682f5007da006827c">&#9670;&nbsp;</a></span>kvm_set_ipa_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __init kvm_set_ipa_limit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00274">274</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;{</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> parange;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    u64 mmfr0;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    mmfr0 = read_sanitised_ftr_reg(SYS_ID_AA64MMFR0_EL1);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    parange = cpuid_feature_extract_unsigned_field(mmfr0,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                ID_AA64MMFR0_EL1_PARANGE_SHIFT);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">     * IPA size beyond 48 bits for 4K and 16K page size is only supported</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">     * when LPA2 is available. So if we have LPA2, enable it, else cap to 48</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">     * bits, in case it&#39;s reported as larger on the system.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span> (!kvm_lpa2_is_enabled() &amp;&amp; PAGE_SIZE != SZ_64K)</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        parange = min(parange, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)ID_AA64MMFR0_EL1_PARANGE_48);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">     * Check with ARMv8.5-GTG that our PAGE_SIZE is supported at</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">     * Stage-2. If not, things will stop very quickly.</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">switch</span> (cpuid_feature_extract_unsigned_field(mmfr0, ID_AA64MMFR0_EL1_TGRAN_2_SHIFT)) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">case</span> ID_AA64MMFR0_EL1_TGRAN_2_SUPPORTED_NONE:</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        kvm_err(<span class="stringliteral">&quot;PAGE_SIZE not supported at Stage-2, giving up\n&quot;</span>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">case</span> ID_AA64MMFR0_EL1_TGRAN_2_SUPPORTED_DEFAULT:</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        kvm_debug(<span class="stringliteral">&quot;PAGE_SIZE supported at Stage-2 (default)\n&quot;</span>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">case</span> ID_AA64MMFR0_EL1_TGRAN_2_SUPPORTED_MIN ... ID_AA64MMFR0_EL1_TGRAN_2_SUPPORTED_MAX:</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        kvm_debug(<span class="stringliteral">&quot;PAGE_SIZE supported at Stage-2 (advertised)\n&quot;</span>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        kvm_err(<span class="stringliteral">&quot;Unsupported value for TGRAN_2, giving up\n&quot;</span>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="reset_8c.html#a9679fd9a1fc8d425b993f925a7f11e91">kvm_ipa_limit</a> = id_aa64mmfr0_parange_to_phys_shift(parange);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    kvm_info(<span class="stringliteral">&quot;IPA Size Limit: %d bits%s\n&quot;</span>, <a class="code" href="reset_8c.html#a9679fd9a1fc8d425b993f925a7f11e91">kvm_ipa_limit</a>,</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;         ((<a class="code" href="reset_8c.html#a9679fd9a1fc8d425b993f925a7f11e91">kvm_ipa_limit</a> &lt; KVM_PHYS_SHIFT) ?</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;          <span class="stringliteral">&quot; (Reduced IPA size, limited VM/VMM compatibility)&quot;</span> : <span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_a69a532b35b4e40a682f5007da006827c_icgraph.png" border="0" usemap="#areset_8c_a69a532b35b4e40a682f5007da006827c_icgraph" alt=""/></div>
<map name="areset_8c_a69a532b35b4e40a682f5007da006827c_icgraph" id="areset_8c_a69a532b35b4e40a682f5007da006827c_icgraph">
<area shape="rect" title=" " alt="" coords="165,5,308,32"/>
<area shape="rect" href="arm_8c.html#a625df4221f73b13d9f23aa818f60e547" title=" " alt="" coords="5,5,117,32"/>
</map>
</div>

</div>
</div>
<a id="a1b7075896679e6c153d1168c8cd8e500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b7075896679e6c153d1168c8cd8e500">&#9670;&nbsp;</a></span>kvm_vcpu_enable_ptrauth()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kvm_vcpu_enable_ptrauth </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00168">168</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;{</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    vcpu_set_flag(vcpu, GUEST_HAS_PTRAUTH);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_a1b7075896679e6c153d1168c8cd8e500_icgraph.png" border="0" usemap="#areset_8c_a1b7075896679e6c153d1168c8cd8e500_icgraph" alt=""/></div>
<map name="areset_8c_a1b7075896679e6c153d1168c8cd8e500_icgraph" id="areset_8c_a1b7075896679e6c153d1168c8cd8e500_icgraph">
<area shape="rect" title=" " alt="" coords="1231,81,1425,108"/>
<area shape="rect" href="reset_8c.html#a124698ccde953ff74d270ddd091fc3a9" title=" " alt="" coords="1053,81,1183,108"/>
<area shape="rect" href="arm_8c.html#ae1c5fe27678796057c4ea914a9a6897b" title=" " alt="" coords="829,5,1005,32"/>
<area shape="rect" href="arm_8c.html#a91790a6a024c83b103717f37a8f0f504" title=" " alt="" coords="619,48,781,75"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,107,336,133"/>
<area shape="rect" href="arm_8c.html#a05fa4e97677ca3190089071bfce82825" title=" " alt="" coords="837,157,998,184"/>
<area shape="rect" href="arm_8c.html#ad66c8d00e8adc8315c45170fa270304b" title=" " alt="" coords="398,41,557,82"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,132,129,159"/>
<area shape="rect" href="arm_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="384,157,571,184"/>
</map>
</div>

</div>
</div>
<a id="ab92e3583bde9a8ad7f80e1e93c34669b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab92e3583bde9a8ad7f80e1e93c34669b">&#9670;&nbsp;</a></span>kvm_vcpu_enable_sve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kvm_vcpu_enable_sve </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00076">76</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    vcpu-&gt;arch.sve_max_vl = <a class="code" href="reset_8c.html#ad5e1b29e54624225319be71fef740c33">kvm_sve_max_vl</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">     * Userspace can still customize the vector lengths by writing</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">     * KVM_REG_ARM64_SVE_VLS.  Allocation is deferred until</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">     * kvm_arm_vcpu_finalize(), which freezes the configuration.</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    vcpu_set_flag(vcpu, GUEST_HAS_SVE);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_ab92e3583bde9a8ad7f80e1e93c34669b_icgraph.png" border="0" usemap="#areset_8c_ab92e3583bde9a8ad7f80e1e93c34669b_icgraph" alt=""/></div>
<map name="areset_8c_ab92e3583bde9a8ad7f80e1e93c34669b_icgraph" id="areset_8c_ab92e3583bde9a8ad7f80e1e93c34669b_icgraph">
<area shape="rect" title=" " alt="" coords="1231,81,1401,108"/>
<area shape="rect" href="reset_8c.html#a124698ccde953ff74d270ddd091fc3a9" title=" " alt="" coords="1053,81,1183,108"/>
<area shape="rect" href="arm_8c.html#ae1c5fe27678796057c4ea914a9a6897b" title=" " alt="" coords="829,5,1005,32"/>
<area shape="rect" href="arm_8c.html#a91790a6a024c83b103717f37a8f0f504" title=" " alt="" coords="619,48,781,75"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,107,336,133"/>
<area shape="rect" href="arm_8c.html#a05fa4e97677ca3190089071bfce82825" title=" " alt="" coords="837,157,998,184"/>
<area shape="rect" href="arm_8c.html#ad66c8d00e8adc8315c45170fa270304b" title=" " alt="" coords="398,41,557,82"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,132,129,159"/>
<area shape="rect" href="arm_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="384,157,571,184"/>
</map>
</div>

</div>
</div>
<a id="a82e2644a8e182c72a70fa52b0a0acae9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82e2644a8e182c72a70fa52b0a0acae9">&#9670;&nbsp;</a></span>kvm_vcpu_finalize_sve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kvm_vcpu_finalize_sve </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00092">92</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordtype">void</span> *buf;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vl;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordtype">size_t</span> reg_sz;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    vl = vcpu-&gt;arch.sve_max_vl;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">     * Responsibility for these properties is shared between</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">     * kvm_arm_init_sve(), kvm_vcpu_enable_sve() and</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">     * set_sve_vls().  Double-check here just to be sure:</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">if</span> (WARN_ON(!sve_vl_valid(vl) || vl &gt; sve_max_virtualisable_vl() ||</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            vl &gt; VL_ARCH_MAX))</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">return</span> -EIO;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    reg_sz = vcpu_sve_state_size(vcpu);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    buf = kzalloc(reg_sz, GFP_KERNEL_ACCOUNT);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (!buf)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">return</span> -ENOMEM;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    ret = <a class="code" href="mmu_8c.html#a1b7a508d0431deb996e839b226bcda0d">kvm_share_hyp</a>(buf, buf + reg_sz);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">if</span> (ret) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        kfree(buf);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    vcpu-&gt;arch.sve_state = buf;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    vcpu_set_flag(vcpu, VCPU_SVE_FINALIZED);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div>
<div class="ttc" id="ammu_8c_html_a1b7a508d0431deb996e839b226bcda0d"><div class="ttname"><a href="mmu_8c.html#a1b7a508d0431deb996e839b226bcda0d">kvm_share_hyp</a></div><div class="ttdeci">int kvm_share_hyp(void *from, void *to)</div><div class="ttdef"><b>Definition:</b> <a href="mmu_8c_source.html#l00516">mmu.c:516</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_a82e2644a8e182c72a70fa52b0a0acae9_cgraph.png" border="0" usemap="#areset_8c_a82e2644a8e182c72a70fa52b0a0acae9_cgraph" alt=""/></div>
<map name="areset_8c_a82e2644a8e182c72a70fa52b0a0acae9_cgraph" id="areset_8c_a82e2644a8e182c72a70fa52b0a0acae9_cgraph">
<area shape="rect" title=" " alt="" coords="5,71,179,98"/>
<area shape="rect" href="mmu_8c.html#a1b7a508d0431deb996e839b226bcda0d" title=" " alt="" coords="227,71,352,98"/>
<area shape="rect" href="mmu_8c.html#a2fae287f6a52db1bbfdcb7483ba623ca" title=" " alt="" coords="400,71,565,98"/>
<area shape="rect" href="mmu_8c.html#af214df14aaaac0cc598374356bc3bc5b" title=" " alt="" coords="844,21,1073,47"/>
<area shape="rect" href="mmu_8c.html#aa7729a167573cc14881088e0516f28d5" title=" " alt="" coords="424,198,541,225"/>
<area shape="rect" href="mmu_8c.html#a528a37af3e2c56c76872b4113cff0877" title=" " alt="" coords="615,71,794,98"/>
<area shape="rect" href="mmu_8c.html#a5ba832c8135d5fbf5fed763356c0a2b7" title=" " alt="" coords="629,122,781,149"/>
<area shape="rect" href="pgtable_8c.html#ad1a61b3aa251ca1150e9359c5c31a173" title=" " alt="" coords="1753,126,1928,153"/>
<area shape="rect" href="pgtable_8c.html#a06c1f113f067476605d118dffebef6a8" title=" " alt="" coords="1995,151,2127,178"/>
<area shape="rect" href="pgtable_8c.html#ab93223f59cefdfdd0abfb060e97f7b45" title=" " alt="" coords="1993,101,2129,127"/>
<area shape="rect" href="pgtable_8c.html#a2a6ed7242e033a1f32360cbe0e5c2281" title=" " alt="" coords="1988,309,2133,335"/>
<area shape="rect" href="pgtable_8c.html#ae28010caa0eb1b8a51d07679e9d08daa" title=" " alt="" coords="2181,177,2371,203"/>
<area shape="rect" href="pgtable_8c.html#acdca989573ec9ed02b9b43a7014140c8" title=" " alt="" coords="2203,126,2349,153"/>
<area shape="rect" href="pgtable_8c.html#ad78e3b5f65ff7e25e23a1fbb89e39a24" title=" " alt="" coords="2419,145,2648,171"/>
<area shape="rect" href="pgtable_8c.html#adec3d8cce63231d14b6d3d9e635abf8e" title=" " alt="" coords="2444,195,2623,222"/>
<area shape="rect" href="pgtable_8c.html#aa480a93c3d8dd6fd53b1105fd604766c" title=" " alt="" coords="2701,145,2847,171"/>
<area shape="rect" href="pgtable_8c.html#ac74b17e065ba3e68a10f28b594d21e40" title=" " alt="" coords="2200,309,2352,335"/>
<area shape="rect" href="pgtable_8c.html#a4819ac158aa1b43844c3a3b5e5a82ac3" title=" " alt="" coords="2454,283,2613,310"/>
<area shape="rect" href="pgtable_8c.html#af01e17f60125c9e093e082e70a43f362" title=" " alt="" coords="2459,334,2607,361"/>
<area shape="rect" href="pgtable_8c.html#a5aa0f5d1f7f2540fea515eb0b198caba" title=" " alt="" coords="2696,283,2852,310"/>
<area shape="rect" href="pgtable_8c.html#ac1a7f01d8f40491309c052bdea628e06" title=" " alt="" coords="2707,233,2841,259"/>
<area shape="rect" href="pgtable_8c.html#a98293d8aa53e4ee188e8dc42f3dc17e9" title=" " alt="" coords="2915,258,3093,285"/>
<area shape="rect" href="pgtable_8c.html#abfea9e86c1a7e719b3d9e35bb045d795" title=" " alt="" coords="2900,309,3108,335"/>
<area shape="rect" href="mem__protect_8h.html#a5386cf2bf4917b7abcc5fb60845688d9" title=" " alt="" coords="613,198,796,225"/>
<area shape="rect" href="mmu_8c.html#ae872b392080198975a339e2351ec3abf" title=" " alt="" coords="642,249,767,275"/>
<area shape="rect" href="mem__protect_8c.html#a6bfbb53a58e0b5b5533cfc11957f42c2" title=" " alt="" coords="918,223,999,250"/>
<area shape="rect" href="mem__protect_8c.html#aa70b12df63f9379efa7fe11ade510b7c" title=" " alt="" coords="877,325,1041,351"/>
<area shape="rect" href="mem__protect_8c.html#a21f32ced99ed31332ac532029100e42d" title=" " alt="" coords="869,173,1049,199"/>
<area shape="rect" href="mem__protect_8c.html#abbc50e372d72deb41a021219c35e3589" title=" " alt="" coords="879,274,1039,301"/>
<area shape="rect" href="mem__protect_8c.html#a024de911d90c8e8d57cc96c87fecb4d3" title=" " alt="" coords="871,122,1047,149"/>
<area shape="rect" href="mem__protect_8c.html#a813121259f4344cbf372cbf3d7f50588" title=" " alt="" coords="1139,179,1234,206"/>
<area shape="rect" href="mem__protect_8c.html#aaa8cef3120e457500b49a5de34545c24" title=" " alt="" coords="1135,246,1238,273"/>
<area shape="rect" href="mem__protect_8c.html#a6fc6b31d003170e866222dffa08ae092" title=" " alt="" coords="1305,126,1452,153"/>
<area shape="rect" href="mem__protect_8c.html#a635909c724738612986586327fa71a0b" title=" " alt="" coords="1300,179,1457,206"/>
<area shape="rect" href="mem__protect_8c.html#a2b41e87ab661559f9f860797a14c914e" title=" " alt="" coords="1514,5,1685,47"/>
<area shape="rect" href="mem__protect_8c.html#adc131fc52bbb4443366cfbe93eb87839" title=" " alt="" coords="1741,13,1940,39"/>
<area shape="rect" href="mem__protect_8h.html#a2cf886e3d56ed4cd5ddb78944ac0a152" title=" " alt="" coords="1781,69,1901,95"/>
<area shape="rect" href="mm_8h.html#a36a82f8cc52bf1bf431f904beddc6c18" title=" " alt="" coords="1510,173,1689,215"/>
<area shape="rect" href="spinlock_8h.html#ae92c9f4a09d239d6060880c35d12a48b" title=" " alt="" coords="1759,227,1922,254"/>
<area shape="rect" href="memory_8h.html#aae436fb2b3f13c0954cde727104e80ac" title=" " alt="" coords="1774,177,1907,203"/>
<area shape="rect" href="mem__protect_8c.html#a5d4226b7d58b6d55f4d6d7195914f4c2" title=" " alt="" coords="1301,239,1457,280"/>
<area shape="rect" href="mem__protect_8c.html#a54456b5931c9badb4e3272081518a9c9" title=" " alt="" coords="1319,311,1438,338"/>
<area shape="rect" href="mem__protect_8c.html#ab45dbaed102ffbf3ccda18c0cc20a6dc" title=" " alt="" coords="1505,239,1693,280"/>
<area shape="rect" href="mem__protect_8c.html#a3ea605c8779e3d79d674c81a6d64919c" title=" " alt="" coords="1749,329,1932,355"/>
<area shape="rect" href="mem__protect_8c.html#a39c30c3fbf244570912cbd38c6e5606a" title=" " alt="" coords="1762,278,1919,305"/>
<area shape="rect" href="mem__protect_8c.html#a89057e6dfc7b241de73b439208bcf7d5" title=" " alt="" coords="1509,304,1689,345"/>
<area shape="rect" href="mem__protect_8c.html#a4ee4815f49f2d2a8397d1e2430193a3e" title=" " alt="" coords="1507,369,1691,411"/>
<area shape="rect" href="mem__protect_8c.html#a906b44af03f69892941d0b4e87d52fbd" title=" " alt="" coords="1764,379,1917,406"/>
<area shape="rect" href="spinlock_8h.html#ae942ff0e878cb0f4d55ddc4cc6275ec9" title=" " alt="" coords="1129,310,1244,337"/>
<area shape="rect" href="spinlock_8h.html#a2c6e9db70599188dbe031e2ce8ec6b08" title=" " alt="" coords="1121,126,1252,153"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_a82e2644a8e182c72a70fa52b0a0acae9_icgraph.png" border="0" usemap="#areset_8c_a82e2644a8e182c72a70fa52b0a0acae9_icgraph" alt=""/></div>
<map name="areset_8c_a82e2644a8e182c72a70fa52b0a0acae9_icgraph" id="areset_8c_a82e2644a8e182c72a70fa52b0a0acae9_icgraph">
<area shape="rect" title=" " alt="" coords="608,5,781,32"/>
<area shape="rect" href="reset_8c.html#ae95bc53f52db3e69595fd0a53c8bc8fb" title=" " alt="" coords="384,5,560,32"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,5,336,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="a8c6653216f3fcf3d0c3bd0fc89c0112a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c6653216f3fcf3d0c3bd0fc89c0112a">&#9670;&nbsp;</a></span>kvm_vcpu_reset_sve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kvm_vcpu_reset_sve </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00162">162</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (vcpu_has_sve(vcpu))</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        memset(vcpu-&gt;arch.sve_state, 0, vcpu_sve_state_size(vcpu));</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="reset_8c_a8c6653216f3fcf3d0c3bd0fc89c0112a_icgraph.png" border="0" usemap="#areset_8c_a8c6653216f3fcf3d0c3bd0fc89c0112a_icgraph" alt=""/></div>
<map name="areset_8c_a8c6653216f3fcf3d0c3bd0fc89c0112a_icgraph" id="areset_8c_a8c6653216f3fcf3d0c3bd0fc89c0112a_icgraph">
<area shape="rect" title=" " alt="" coords="1231,81,1389,108"/>
<area shape="rect" href="reset_8c.html#a124698ccde953ff74d270ddd091fc3a9" title=" " alt="" coords="1053,81,1183,108"/>
<area shape="rect" href="arm_8c.html#ae1c5fe27678796057c4ea914a9a6897b" title=" " alt="" coords="829,5,1005,32"/>
<area shape="rect" href="arm_8c.html#a91790a6a024c83b103717f37a8f0f504" title=" " alt="" coords="619,48,781,75"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,107,336,133"/>
<area shape="rect" href="arm_8c.html#a05fa4e97677ca3190089071bfce82825" title=" " alt="" coords="837,157,998,184"/>
<area shape="rect" href="arm_8c.html#ad66c8d00e8adc8315c45170fa270304b" title=" " alt="" coords="398,41,557,82"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,132,129,159"/>
<area shape="rect" href="arm_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="384,157,571,184"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9679fd9a1fc8d425b993f925a7f11e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9679fd9a1fc8d425b993f925a7f11e91">&#9670;&nbsp;</a></span>kvm_ipa_limit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32 <a class="el" href="vgic_8c.html#a025fcc986fe35380110649829fd8b7ea">__ro_after_init</a> kvm_ipa_limit</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00034">34</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>

</div>
</div>
<a id="ad5e1b29e54624225319be71fef740c33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5e1b29e54624225319be71fef740c33">&#9670;&nbsp;</a></span>kvm_sve_max_vl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="vgic_8c.html#a025fcc986fe35380110649829fd8b7ea">__ro_after_init</a> kvm_sve_max_vl</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="reset_8c_source.html#l00048">48</a> of file <a class="el" href="reset_8c_source.html">reset.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
