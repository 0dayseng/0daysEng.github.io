<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KVM: arch/arm64/kvm/sys_regs.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KVM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ea9599923402ca8ab47fc3e495999dea.html">arch</a></li><li class="navelem"><a class="el" href="dir_67a9e021ce8db5d46236c6154ee454bc.html">arm64</a></li><li class="navelem"><a class="el" href="dir_42f87ef63ac4150166bf7887f68288e2.html">kvm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sys_regs.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/bitfield.h&gt;</code><br />
<code>#include &lt;linux/bsearch.h&gt;</code><br />
<code>#include &lt;linux/cacheinfo.h&gt;</code><br />
<code>#include &lt;linux/kvm_host.h&gt;</code><br />
<code>#include &lt;linux/mm.h&gt;</code><br />
<code>#include &lt;linux/printk.h&gt;</code><br />
<code>#include &lt;linux/uaccess.h&gt;</code><br />
<code>#include &lt;asm/cacheflush.h&gt;</code><br />
<code>#include &lt;asm/cputype.h&gt;</code><br />
<code>#include &lt;asm/debug-monitors.h&gt;</code><br />
<code>#include &lt;asm/esr.h&gt;</code><br />
<code>#include &lt;asm/kvm_arm.h&gt;</code><br />
<code>#include &lt;asm/kvm_emulate.h&gt;</code><br />
<code>#include &lt;asm/kvm_hyp.h&gt;</code><br />
<code>#include &lt;asm/kvm_mmu.h&gt;</code><br />
<code>#include &lt;asm/kvm_nested.h&gt;</code><br />
<code>#include &lt;asm/perf_event.h&gt;</code><br />
<code>#include &lt;asm/sysreg.h&gt;</code><br />
<code>#include &lt;trace/events/kvm.h&gt;</code><br />
<code>#include &quot;<a class="el" href="sys__regs_8h_source.html">sys_regs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trace_8h_source.html">trace.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for sys_regs.c:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c__incl.png" border="0" usemap="#aarch_2arm64_2kvm_2sys__regs_8c" alt=""/></div>
<map name="aarch_2arm64_2kvm_2sys__regs_8c" id="aarch_2arm64_2kvm_2sys__regs_8c">
<area shape="rect" title=" " alt="" coords="1351,5,1505,47"/>
<area shape="rect" title=" " alt="" coords="5,95,120,121"/>
<area shape="rect" title=" " alt="" coords="138,319,259,345"/>
<area shape="rect" title=" " alt="" coords="643,95,776,121"/>
<area shape="rect" title=" " alt="" coords="801,95,935,121"/>
<area shape="rect" title=" " alt="" coords="960,95,1056,121"/>
<area shape="rect" title=" " alt="" coords="1081,95,1189,121"/>
<area shape="rect" title=" " alt="" coords="1213,95,1336,121"/>
<area shape="rect" title=" " alt="" coords="1361,95,1495,121"/>
<area shape="rect" title=" " alt="" coords="1519,95,1638,121"/>
<area shape="rect" title=" " alt="" coords="1662,95,1831,121"/>
<area shape="rect" title=" " alt="" coords="1856,95,1941,121"/>
<area shape="rect" title=" " alt="" coords="1965,95,2093,121"/>
<area shape="rect" title=" " alt="" coords="838,244,994,271"/>
<area shape="rect" title=" " alt="" coords="2118,95,2245,121"/>
<area shape="rect" title=" " alt="" coords="2269,95,2405,121"/>
<area shape="rect" title=" " alt="" coords="2429,95,2576,121"/>
<area shape="rect" title=" " alt="" coords="2600,95,2736,121"/>
<area shape="rect" title=" " alt="" coords="2760,95,2869,121"/>
<area shape="rect" title=" " alt="" coords="2894,95,3042,121"/>
<area shape="rect" href="sys__regs_8h.html" title=" " alt="" coords="195,244,285,271"/>
<area shape="rect" href="trace_8h.html" title=" " alt="" coords="493,95,560,121"/>
<area shape="rect" href="trace__arm_8h.html" title=" " alt="" coords="477,169,577,196"/>
<area shape="rect" href="trace__handle__exit_8h.html" title=" " alt="" coords="302,169,453,196"/>
<area shape="rect" title=" " alt="" coords="645,244,814,271"/>
<area shape="rect" title=" " alt="" coords="309,244,445,271"/>
<area shape="rect" title=" " alt="" coords="470,244,621,271"/>
</map>
</div>
</div>
<p><a href="sys__regs_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af1057467dd3eaabecbd33d293431997f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a>(el2)</td></tr>
<tr class="separator:af1057467dd3eaabecbd33d293431997f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2235dee3d3cf182e7c3008d573213759"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(el2,  el1,  fn)</td></tr>
<tr class="separator:a2235dee3d3cf182e7c3008d573213759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8433ddfc43e826c3164b5f99ebcc179e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a8433ddfc43e826c3164b5f99ebcc179e">CSSELR_MAX</a>&#160;&#160;&#160;14</td></tr>
<tr class="separator:a8433ddfc43e826c3164b5f99ebcc179e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55867c984900e0c0c4320266e643986a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a55867c984900e0c0c4320266e643986a">DBG_BCR_BVR_WCR_WVR_EL1</a>(n)</td></tr>
<tr class="separator:a55867c984900e0c0c4320266e643986a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8af253de8435c2a3ab9ec3182ff8bf3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ab8af253de8435c2a3ab9ec3182ff8bf3">PMU_SYS_REG</a>(name)</td></tr>
<tr class="separator:ab8af253de8435c2a3ab9ec3182ff8bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1453cfd592aae3d071f98f95a7087e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ab1453cfd592aae3d071f98f95a7087e3">PMU_PMEVCNTR_EL0</a>(n)</td></tr>
<tr class="separator:ab1453cfd592aae3d071f98f95a7087e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e722fb171f52ca41a09cfd99db72b9a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a6e722fb171f52ca41a09cfd99db72b9a">PMU_PMEVTYPER_EL0</a>(n)</td></tr>
<tr class="separator:a6e722fb171f52ca41a09cfd99db72b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0510e9ab08471220360703e379643f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ab0510e9ab08471220360703e379643f1">AMU_AMEVCNTR0_EL0</a>(n)&#160;&#160;&#160;{ <a class="el" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_AMEVCNTR0_EL0(n)), <a class="el" href="sys__regs_8c.html#a867e1f03f1cb111be61689387070fa96">undef_access</a> }</td></tr>
<tr class="separator:ab0510e9ab08471220360703e379643f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4a4ddf5bbd269ee855a4891fedf47af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ae4a4ddf5bbd269ee855a4891fedf47af">AMU_AMEVTYPER0_EL0</a>(n)&#160;&#160;&#160;{ <a class="el" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_AMEVTYPER0_EL0(n)), <a class="el" href="sys__regs_8c.html#a867e1f03f1cb111be61689387070fa96">undef_access</a> }</td></tr>
<tr class="separator:ae4a4ddf5bbd269ee855a4891fedf47af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ac2376e27815856b092afefb2f5fbeb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a5ac2376e27815856b092afefb2f5fbeb">AMU_AMEVCNTR1_EL0</a>(n)&#160;&#160;&#160;{ <a class="el" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_AMEVCNTR1_EL0(n)), <a class="el" href="sys__regs_8c.html#a867e1f03f1cb111be61689387070fa96">undef_access</a> }</td></tr>
<tr class="separator:a5ac2376e27815856b092afefb2f5fbeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81d7f3adb1fae9c383b5ec0133d6fce1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a81d7f3adb1fae9c383b5ec0133d6fce1">AMU_AMEVTYPER1_EL0</a>(n)&#160;&#160;&#160;{ <a class="el" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_AMEVTYPER1_EL0(n)), <a class="el" href="sys__regs_8c.html#a867e1f03f1cb111be61689387070fa96">undef_access</a> }</td></tr>
<tr class="separator:a81d7f3adb1fae9c383b5ec0133d6fce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04fda1d6cda7e0c6f26cb2de8c7c5f1d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a04fda1d6cda7e0c6f26cb2de8c7c5f1d">__PTRAUTH_KEY</a>(k)</td></tr>
<tr class="separator:a04fda1d6cda7e0c6f26cb2de8c7c5f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bad316720c619e3cd85cc15b3e7fc46"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a2bad316720c619e3cd85cc15b3e7fc46">PTRAUTH_KEY</a>(k)</td></tr>
<tr class="separator:a2bad316720c619e3cd85cc15b3e7fc46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae119f35f966f3351f44f6de8899bd5ff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ae119f35f966f3351f44f6de8899bd5ff">ID_REG_LIMIT_FIELD_ENUM</a>(val,  reg,  field,  limit)</td></tr>
<tr class="separator:ae119f35f966f3351f44f6de8899bd5ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b7e3b7f27e1a29d8109cbcc97049cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a48b7e3b7f27e1a29d8109cbcc97049cb">MTE_REG</a>(name)</td></tr>
<tr class="separator:a48b7e3b7f27e1a29d8109cbcc97049cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a03712fcb523346c92d9a5db710cbd7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a7a03712fcb523346c92d9a5db710cbd7">EL2_REG</a>(name,  acc,  rst,  v)</td></tr>
<tr class="separator:a7a03712fcb523346c92d9a5db710cbd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a521a9cba9fda9af60663a414d32550f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a521a9cba9fda9af60663a414d32550f7">EL2_REG_VNCR</a>(name,  rst,  v)&#160;&#160;&#160;<a class="el" href="sys__regs_8c.html#a7a03712fcb523346c92d9a5db710cbd7">EL2_REG</a>(name, <a class="el" href="sys__regs_8c.html#a05a7fba8df9787d651813990bf08d8a3">bad_vncr_trap</a>, rst, v)</td></tr>
<tr class="separator:a521a9cba9fda9af60663a414d32550f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bc7564f62eafb90d83824e381d567bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a5bc7564f62eafb90d83824e381d567bf">EL2_REG_REDIR</a>(name,  rst,  v)&#160;&#160;&#160;<a class="el" href="sys__regs_8c.html#a7a03712fcb523346c92d9a5db710cbd7">EL2_REG</a>(name, <a class="el" href="sys__regs_8c.html#a34a8b7a8573c9ab0d01282e74ae7396d">bad_redir_trap</a>, rst, v)</td></tr>
<tr class="separator:a5bc7564f62eafb90d83824e381d567bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a093bb3cc27849269589abb662fa7dffb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a093bb3cc27849269589abb662fa7dffb">EL12_REG</a>(name,  acc,  rst,  v)</td></tr>
<tr class="separator:a093bb3cc27849269589abb662fa7dffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84982bef7188d4d44b6ad630dd61b32c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a84982bef7188d4d44b6ad630dd61b32c">ID_DESC</a>(name)</td></tr>
<tr class="separator:a84982bef7188d4d44b6ad630dd61b32c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d536ef757f45c6b1af5a67b5212062e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a3d536ef757f45c6b1af5a67b5212062e">ID_SANITISED</a>(name)</td></tr>
<tr class="separator:a3d536ef757f45c6b1af5a67b5212062e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abef62d3ff75de516a00589c872114ccd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#abef62d3ff75de516a00589c872114ccd">AA32_ID_SANITISED</a>(name)</td></tr>
<tr class="separator:abef62d3ff75de516a00589c872114ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5392c5b038e0372e4000c478715759ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a5392c5b038e0372e4000c478715759ca">ID_WRITABLE</a>(name,  mask)</td></tr>
<tr class="separator:a5392c5b038e0372e4000c478715759ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47e511f3a3ef6e1ad5ad8c3847d42e98"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a47e511f3a3ef6e1ad5ad8c3847d42e98">ID_UNALLOCATED</a>(crm,  op2)</td></tr>
<tr class="separator:a47e511f3a3ef6e1ad5ad8c3847d42e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeffe860f65119c9796682351d61e845f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aeffe860f65119c9796682351d61e845f">ID_HIDDEN</a>(name)</td></tr>
<tr class="separator:aeffe860f65119c9796682351d61e845f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd90a7e6d76f0f5ef86584eeef3edb75"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#acd90a7e6d76f0f5ef86584eeef3edb75">DBG_BCR_BVR_WCR_WVR</a>(n)</td></tr>
<tr class="separator:acd90a7e6d76f0f5ef86584eeef3edb75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176cce23dbb42bace004ab5c5fb92de3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a176cce23dbb42bace004ab5c5fb92de3">DBGBXVR</a>(n)&#160;&#160;&#160;	{ <a class="el" href="sys__regs_8h.html#ab18c78ad78648441d0ddb6e9a8c78080">AA32</a>(HI), <a class="el" href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a>( 0), <a class="el" href="sys__regs_8h.html#af18a8d404d0c11e004422697883969ff">CRn</a>( 1), <a class="el" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>((n)), <a class="el" href="sys__regs_8h.html#aa3d2ec0e5f551a75ba390172d2e6cc26">Op2</a>( 1), <a class="el" href="sys__regs_8c.html#a4411c1a1e85db475200bac119f80b106">trap_bvr</a>, NULL, n }</td></tr>
<tr class="separator:a176cce23dbb42bace004ab5c5fb92de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8720a67d3ef9b4371ac5950f9a26861"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ab8720a67d3ef9b4371ac5950f9a26861">CP15_PMU_SYS_REG</a>(_map,  _Op1,  _CRn,  _CRm,  _Op2)</td></tr>
<tr class="separator:ab8720a67d3ef9b4371ac5950f9a26861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae635a0a80b4535e666e073b1cfb58de2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ae635a0a80b4535e666e073b1cfb58de2">PMU_PMEVCNTR</a>(n)</td></tr>
<tr class="separator:ae635a0a80b4535e666e073b1cfb58de2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb8e93f3bc5eb93b4ede4b69d31cac0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a2fb8e93f3bc5eb93b4ede4b69d31cac0">PMU_PMEVTYPER</a>(n)</td></tr>
<tr class="separator:a2fb8e93f3bc5eb93b4ede4b69d31cac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace5d0355aae3558efdb7523c79b2cee9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ace5d0355aae3558efdb7523c79b2cee9">FUNCTION_INVARIANT</a>(reg)</td></tr>
<tr class="separator:ace5d0355aae3558efdb7523c79b2cee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d49e6f095a869baec1abf748f40ff19"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a0d49e6f095a869baec1abf748f40ff19">KVM_ARM_FEATURE_ID_RANGE_INDEX</a>(r)</td></tr>
<tr class="separator:a0d49e6f095a869baec1abf748f40ff19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7d2b75df72a03ffbc60733bf5e01d0fd"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a7d2b75df72a03ffbc60733bf5e01d0fd">sys_reg_to_index</a> (const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *reg)</td></tr>
<tr class="separator:a7d2b75df72a03ffbc60733bf5e01d0fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaec02e3f4aca4914e12d3cb952f82db0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aaec02e3f4aca4914e12d3cb952f82db0">set_id_reg</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 val)</td></tr>
<tr class="separator:aaec02e3f4aca4914e12d3cb952f82db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaf440dbcda866a4a7fa0d8b73f448ee"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee">bad_trap</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *params, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r, const char *msg)</td></tr>
<tr class="separator:aaaf440dbcda866a4a7fa0d8b73f448ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a08aab10b08e1c7baa994c3b9e2f4fc"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a1a08aab10b08e1c7baa994c3b9e2f4fc">read_from_write_only</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *params, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a1a08aab10b08e1c7baa994c3b9e2f4fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedd3bcce76bd27139153c8189168b449"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449">write_to_read_only</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *params, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:aedd3bcce76bd27139153c8189168b449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f5bcf4d21c4d9b1881dd3fec5bd6178"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178">get_el2_to_el1_mapping</a> (unsigned int reg, unsigned int *el1r, u64(**xlate)(u64))</td></tr>
<tr class="separator:a8f5bcf4d21c4d9b1881dd3fec5bd6178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79848758fc91bd6081326514833ffafa"><td class="memItemLeft" align="right" valign="top">u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa">vcpu_read_sys_reg</a> (const struct kvm_vcpu *vcpu, int reg)</td></tr>
<tr class="separator:a79848758fc91bd6081326514833ffafa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf66277e472bdae2cc839d450085bc4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b">vcpu_write_sys_reg</a> (struct kvm_vcpu *vcpu, u64 val, int reg)</td></tr>
<tr class="separator:adf66277e472bdae2cc839d450085bc4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dcc664cfa17fa30fd97daba07934cc8"><td class="memItemLeft" align="right" valign="top">static u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a5dcc664cfa17fa30fd97daba07934cc8">get_min_cache_line_size</a> (bool icache)</td></tr>
<tr class="separator:a5dcc664cfa17fa30fd97daba07934cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a292111fbdf0789784c74686f924d0e04"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a292111fbdf0789784c74686f924d0e04">get_ccsidr</a> (struct kvm_vcpu *vcpu, u32 csselr)</td></tr>
<tr class="separator:a292111fbdf0789784c74686f924d0e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e75bf582b5fbb9eb7e84591ab3226e6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a8e75bf582b5fbb9eb7e84591ab3226e6">set_ccsidr</a> (struct kvm_vcpu *vcpu, u32 csselr, u32 val)</td></tr>
<tr class="separator:a8e75bf582b5fbb9eb7e84591ab3226e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a2ff6ba062956e637ca0bf295bedd0c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a7a2ff6ba062956e637ca0bf295bedd0c">access_rw</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a7a2ff6ba062956e637ca0bf295bedd0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921dd58e3a4f932dc4e7a8d9165588ac"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a921dd58e3a4f932dc4e7a8d9165588ac">access_dcsw</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a921dd58e3a4f932dc4e7a8d9165588ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affcbc277fd697c88cc97fbbcce0bf78f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#affcbc277fd697c88cc97fbbcce0bf78f">access_dcgsw</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:affcbc277fd697c88cc97fbbcce0bf78f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c21b0c4a25c47c7d3f062cacd75bbe"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe">get_access_mask</a> (const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r, u64 *mask, u64 *shift)</td></tr>
<tr class="separator:a91c21b0c4a25c47c7d3f062cacd75bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01047bae0a6b3c1dbee152925e318110"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a01047bae0a6b3c1dbee152925e318110">access_vm_reg</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a01047bae0a6b3c1dbee152925e318110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0fe59a1036c0652df463e3561f5e571"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#af0fe59a1036c0652df463e3561f5e571">access_actlr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:af0fe59a1036c0652df463e3561f5e571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a972b4ec406e774f520055637a47f6421"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a972b4ec406e774f520055637a47f6421">access_gic_sgi</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a972b4ec406e774f520055637a47f6421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e91467905eab943ccddfb3a6688d3e8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a2e91467905eab943ccddfb3a6688d3e8">access_gic_sre</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a2e91467905eab943ccddfb3a6688d3e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfd6a20e8dc8a081533a84cdfe0d33e6"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#abfd6a20e8dc8a081533a84cdfe0d33e6">trap_raz_wi</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:abfd6a20e8dc8a081533a84cdfe0d33e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc9117ca7e21a07799b4e9e676f89779"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#afc9117ca7e21a07799b4e9e676f89779">trap_undef</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:afc9117ca7e21a07799b4e9e676f89779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af289b4e94e97fdd370ddab8d6cc7875f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#af289b4e94e97fdd370ddab8d6cc7875f">trap_loregion</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:af289b4e94e97fdd370ddab8d6cc7875f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc4bc6d0fcf17c818886a15afedf29af"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#afc4bc6d0fcf17c818886a15afedf29af">trap_oslar_el1</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:afc4bc6d0fcf17c818886a15afedf29af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b7c60449c33971e5d4ae7ce419dae7"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a91b7c60449c33971e5d4ae7ce419dae7">trap_oslsr_el1</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a91b7c60449c33971e5d4ae7ce419dae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4479047034364d61b04d8efde8ad3200"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a4479047034364d61b04d8efde8ad3200">set_oslsr_el1</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 val)</td></tr>
<tr class="separator:a4479047034364d61b04d8efde8ad3200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6670f49dfeed19115a01949ce80f4439"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a6670f49dfeed19115a01949ce80f4439">trap_dbgauthstatus_el1</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a6670f49dfeed19115a01949ce80f4439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fedb91c5166f9fa4a626ff95c03cacb"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a6fedb91c5166f9fa4a626ff95c03cacb">trap_debug_regs</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a6fedb91c5166f9fa4a626ff95c03cacb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8b6170529e5462d0397ed759611d6c5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ac8b6170529e5462d0397ed759611d6c5">reg_to_dbg</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 *dbg_reg)</td></tr>
<tr class="separator:ac8b6170529e5462d0397ed759611d6c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad497317a004bcc91436302950168668b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ad497317a004bcc91436302950168668b">dbg_to_reg</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 *dbg_reg)</td></tr>
<tr class="separator:ad497317a004bcc91436302950168668b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4411c1a1e85db475200bac119f80b106"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a4411c1a1e85db475200bac119f80b106">trap_bvr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:a4411c1a1e85db475200bac119f80b106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92c077d01bc99604c84180fc07b454a8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a92c077d01bc99604c84180fc07b454a8">set_bvr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 val)</td></tr>
<tr class="separator:a92c077d01bc99604c84180fc07b454a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6681d7ad1d1157802a611034cdcc437d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a6681d7ad1d1157802a611034cdcc437d">get_bvr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 *val)</td></tr>
<tr class="separator:a6681d7ad1d1157802a611034cdcc437d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee5036cf1423856a6ddccc7984a5e478"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aee5036cf1423856a6ddccc7984a5e478">reset_bvr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:aee5036cf1423856a6ddccc7984a5e478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3df2d4f3155ebf7a0cd854b7b7d6257e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a3df2d4f3155ebf7a0cd854b7b7d6257e">trap_bcr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:a3df2d4f3155ebf7a0cd854b7b7d6257e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba85580125285ebb653eea97974ee794"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aba85580125285ebb653eea97974ee794">set_bcr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 val)</td></tr>
<tr class="separator:aba85580125285ebb653eea97974ee794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a767726f8faec0694ac391a27390052c2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a767726f8faec0694ac391a27390052c2">get_bcr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 *val)</td></tr>
<tr class="separator:a767726f8faec0694ac391a27390052c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa903bec2d62b0b06b376b37dab5934d6"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aa903bec2d62b0b06b376b37dab5934d6">reset_bcr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:aa903bec2d62b0b06b376b37dab5934d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2866f9118d5d0f54255301421942807"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ad2866f9118d5d0f54255301421942807">trap_wvr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:ad2866f9118d5d0f54255301421942807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad53dbaaef428bebcdc18f4e7a70878b3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ad53dbaaef428bebcdc18f4e7a70878b3">set_wvr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 val)</td></tr>
<tr class="separator:ad53dbaaef428bebcdc18f4e7a70878b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa95f97c2afa31fbce430d5ffb539dfd3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aa95f97c2afa31fbce430d5ffb539dfd3">get_wvr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 *val)</td></tr>
<tr class="separator:aa95f97c2afa31fbce430d5ffb539dfd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87eee12fe35732a5900da516a3e914a1"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a87eee12fe35732a5900da516a3e914a1">reset_wvr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:a87eee12fe35732a5900da516a3e914a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac85f5ab422e1a957d9efb8482229b846"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ac85f5ab422e1a957d9efb8482229b846">trap_wcr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:ac85f5ab422e1a957d9efb8482229b846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a430f265b250c9a6ba9b32655ac134c58"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a430f265b250c9a6ba9b32655ac134c58">set_wcr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 val)</td></tr>
<tr class="separator:a430f265b250c9a6ba9b32655ac134c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f693a0c463677775c8f29c5abedeb86"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a4f693a0c463677775c8f29c5abedeb86">get_wcr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 *val)</td></tr>
<tr class="separator:a4f693a0c463677775c8f29c5abedeb86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affa350e6ad48a3e0c9657429ed41d1fe"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#affa350e6ad48a3e0c9657429ed41d1fe">reset_wcr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:affa350e6ad48a3e0c9657429ed41d1fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9902b3f2a39a6e1b860b65bf53a9354a"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a9902b3f2a39a6e1b860b65bf53a9354a">reset_amair_el1</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a9902b3f2a39a6e1b860b65bf53a9354a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0edd1a16bec4d82c25bd36eb79a795e8"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a0edd1a16bec4d82c25bd36eb79a795e8">reset_actlr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a0edd1a16bec4d82c25bd36eb79a795e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0c21a1988a4de35a5df265207ee768e"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#af0c21a1988a4de35a5df265207ee768e">reset_mpidr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:af0c21a1988a4de35a5df265207ee768e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9384f68614534270127b075a453ae64d"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a9384f68614534270127b075a453ae64d">pmu_visibility</a> (const struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a9384f68614534270127b075a453ae64d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae14d1853beb35530cf77ddd1db0c2a95"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ae14d1853beb35530cf77ddd1db0c2a95">reset_pmu_reg</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:ae14d1853beb35530cf77ddd1db0c2a95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf7962cceaeb6032ad246ff1dd003cb8"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#adf7962cceaeb6032ad246ff1dd003cb8">reset_pmevcntr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:adf7962cceaeb6032ad246ff1dd003cb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10fff169484fa7d65cb4adc93300aeca"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a10fff169484fa7d65cb4adc93300aeca">reset_pmevtyper</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a10fff169484fa7d65cb4adc93300aeca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2226d8e20b345ee7b7ab5829570c6884"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a2226d8e20b345ee7b7ab5829570c6884">reset_pmselr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a2226d8e20b345ee7b7ab5829570c6884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b98e402c92c628313d4ef309797ec8"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#af3b98e402c92c628313d4ef309797ec8">reset_pmcr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:af3b98e402c92c628313d4ef309797ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6825971b50ae688a266906875f787c12"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12">check_pmu_access_disabled</a> (struct kvm_vcpu *vcpu, u64 flags)</td></tr>
<tr class="separator:a6825971b50ae688a266906875f787c12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad26d1f2daf27a368a7f05c6b738f3f7a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a">pmu_access_el0_disabled</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:ad26d1f2daf27a368a7f05c6b738f3f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fa2e3c67f0e39e5bffab36a8ad01c94"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a5fa2e3c67f0e39e5bffab36a8ad01c94">pmu_write_swinc_el0_disabled</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a5fa2e3c67f0e39e5bffab36a8ad01c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b0bb9716262e47f62b72b0622bc3362"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a6b0bb9716262e47f62b72b0622bc3362">pmu_access_cycle_counter_el0_disabled</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a6b0bb9716262e47f62b72b0622bc3362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4374d3eb2bf5e2fb0db220979fba3a6"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ae4374d3eb2bf5e2fb0db220979fba3a6">pmu_access_event_counter_el0_disabled</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:ae4374d3eb2bf5e2fb0db220979fba3a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae72951c06b3847653660caea2df30434"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ae72951c06b3847653660caea2df30434">access_pmcr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:ae72951c06b3847653660caea2df30434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afce04c034ad223e02664e84c04686d8e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#afce04c034ad223e02664e84c04686d8e">access_pmselr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:afce04c034ad223e02664e84c04686d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce2c3fa2faafa46d088fb0b3081495b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a6ce2c3fa2faafa46d088fb0b3081495b">access_pmceid</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a6ce2c3fa2faafa46d088fb0b3081495b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9997b5fac75ffbb762473aefcb99d6b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ad9997b5fac75ffbb762473aefcb99d6b">pmu_counter_idx_valid</a> (struct kvm_vcpu *vcpu, u64 idx)</td></tr>
<tr class="separator:ad9997b5fac75ffbb762473aefcb99d6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a619f21eb31e46258fdc0f120f206521f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a619f21eb31e46258fdc0f120f206521f">get_pmu_evcntr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r, u64 *val)</td></tr>
<tr class="separator:a619f21eb31e46258fdc0f120f206521f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a036e9adee46363c44fc787cd30cc4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a02a036e9adee46363c44fc787cd30cc4">access_pmu_evcntr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a02a036e9adee46363c44fc787cd30cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0260b12f95bb7f271037d3e4b18b22b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ae0260b12f95bb7f271037d3e4b18b22b">access_pmu_evtyper</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:ae0260b12f95bb7f271037d3e4b18b22b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65d655135bd1275c47f0ae8999593875"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a65d655135bd1275c47f0ae8999593875">set_pmreg</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r, u64 val)</td></tr>
<tr class="separator:a65d655135bd1275c47f0ae8999593875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1c2d475ae8718190fb063eb6e8b00a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a1b1c2d475ae8718190fb063eb6e8b00a">get_pmreg</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r, u64 *val)</td></tr>
<tr class="separator:a1b1c2d475ae8718190fb063eb6e8b00a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95ce985a39ee6e0e9274d873a271e235"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a95ce985a39ee6e0e9274d873a271e235">access_pmcnten</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a95ce985a39ee6e0e9274d873a271e235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28f5c65ab2f26c33ee8a6be17c79e15c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a28f5c65ab2f26c33ee8a6be17c79e15c">access_pminten</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a28f5c65ab2f26c33ee8a6be17c79e15c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de3a35de8563dfb8655da10034bc411"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a8de3a35de8563dfb8655da10034bc411">access_pmovs</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a8de3a35de8563dfb8655da10034bc411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51b08d9bb2f9a5a87955b5554df3d8e2"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a51b08d9bb2f9a5a87955b5554df3d8e2">access_pmswinc</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a51b08d9bb2f9a5a87955b5554df3d8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a10ea607557de6d05bfd42dab2666cd"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a9a10ea607557de6d05bfd42dab2666cd">access_pmuserenr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a9a10ea607557de6d05bfd42dab2666cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7f4254c80f8d9a86cacdc232772ee1f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ab7f4254c80f8d9a86cacdc232772ee1f">get_pmcr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r, u64 *val)</td></tr>
<tr class="separator:ab7f4254c80f8d9a86cacdc232772ee1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85dc626c2a0714eacf1a06af3daac7a9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a85dc626c2a0714eacf1a06af3daac7a9">set_pmcr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r, u64 val)</td></tr>
<tr class="separator:a85dc626c2a0714eacf1a06af3daac7a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867e1f03f1cb111be61689387070fa96"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a867e1f03f1cb111be61689387070fa96">undef_access</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a867e1f03f1cb111be61689387070fa96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecb4c53374f5c7916eb9b9c1612c4bdb"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aecb4c53374f5c7916eb9b9c1612c4bdb">ptrauth_visibility</a> (const struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:aecb4c53374f5c7916eb9b9c1612c4bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9457451d95fa776f653cff6c2a8d31f9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a9457451d95fa776f653cff6c2a8d31f9">access_arch_timer</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a9457451d95fa776f653cff6c2a8d31f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab17ee3ff0bb4b9fd235c144d22fc204f"><td class="memItemLeft" align="right" valign="top">static s64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ab17ee3ff0bb4b9fd235c144d22fc204f">kvm_arm64_ftr_safe_value</a> (u32 id, const struct arm64_ftr_bits *ftrp, s64 new, s64 <a class="el" href="early__alloc_8c.html#a7eb8057942ed1846c6c3584dd9fa7bb5">cur</a>)</td></tr>
<tr class="separator:ab17ee3ff0bb4b9fd235c144d22fc204f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ea29bac78bcc910b40b746771e0e9f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a16ea29bac78bcc910b40b746771e0e9f">arm64_check_features</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 val)</td></tr>
<tr class="separator:a16ea29bac78bcc910b40b746771e0e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac09de60a049b45d951448415d1086cf4"><td class="memItemLeft" align="right" valign="top">static u8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ac09de60a049b45d951448415d1086cf4">pmuver_to_perfmon</a> (u8 pmuver)</td></tr>
<tr class="separator:ac09de60a049b45d951448415d1086cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae12eae3cc9d253be91cdffd0f5dfbbb0"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ae12eae3cc9d253be91cdffd0f5dfbbb0">__kvm_read_sanitised_id_reg</a> (const struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:ae12eae3cc9d253be91cdffd0f5dfbbb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c05eb4e2b07c46ac14ef9a3e300ae4b"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a9c05eb4e2b07c46ac14ef9a3e300ae4b">kvm_read_sanitised_id_reg</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a9c05eb4e2b07c46ac14ef9a3e300ae4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad72e5726eba0876e5110453b786a7e02"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ad72e5726eba0876e5110453b786a7e02">read_id_reg</a> (const struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:ad72e5726eba0876e5110453b786a7e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a928c5005370eb285da77e648be052b3d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a928c5005370eb285da77e648be052b3d">is_id_reg</a> (u32 id)</td></tr>
<tr class="separator:a928c5005370eb285da77e648be052b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9124f4805ad45a5494565613229f6d8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ad9124f4805ad45a5494565613229f6d8">is_aa32_id_reg</a> (u32 id)</td></tr>
<tr class="separator:ad9124f4805ad45a5494565613229f6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fe58fd7819170b255cb7c5fe2e1dcac"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a0fe58fd7819170b255cb7c5fe2e1dcac">id_visibility</a> (const struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a0fe58fd7819170b255cb7c5fe2e1dcac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04b6e7d9762e03fc49fc087431fafd21"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a04b6e7d9762e03fc49fc087431fafd21">aa32_id_visibility</a> (const struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a04b6e7d9762e03fc49fc087431fafd21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29417a403f289be68a339cbd4834d4ff"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a29417a403f289be68a339cbd4834d4ff">raz_visibility</a> (const struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a29417a403f289be68a339cbd4834d4ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6bf132e10ee734ddcea162ebdc8f041"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ae6bf132e10ee734ddcea162ebdc8f041">access_id_reg</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:ae6bf132e10ee734ddcea162ebdc8f041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7022ca82e2939ed890c54eff54c50e46"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a7022ca82e2939ed890c54eff54c50e46">sve_visibility</a> (const struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:a7022ca82e2939ed890c54eff54c50e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a163866b34cd1c568e8e01ab43e62dad1"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a163866b34cd1c568e8e01ab43e62dad1">read_sanitised_id_aa64pfr0_el1</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:a163866b34cd1c568e8e01ab43e62dad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f1eccac4700642e9da4447265c2538a"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a7f1eccac4700642e9da4447265c2538a">read_sanitised_id_aa64dfr0_el1</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:a7f1eccac4700642e9da4447265c2538a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62564f81bc501f03ed53dc6f068700c7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a62564f81bc501f03ed53dc6f068700c7">set_id_aa64dfr0_el1</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 val)</td></tr>
<tr class="separator:a62564f81bc501f03ed53dc6f068700c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf43f9071314cb6cc7f0d9c9c866e98e"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#acf43f9071314cb6cc7f0d9c9c866e98e">read_sanitised_id_dfr0_el1</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:acf43f9071314cb6cc7f0d9c9c866e98e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ff73b6677ae2e9e778417d76ba09231"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a5ff73b6677ae2e9e778417d76ba09231">set_id_dfr0_el1</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 val)</td></tr>
<tr class="separator:a5ff73b6677ae2e9e778417d76ba09231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32bbe66af0a96b4abdc1acadae38f79a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a32bbe66af0a96b4abdc1acadae38f79a">get_id_reg</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 *val)</td></tr>
<tr class="separator:a32bbe66af0a96b4abdc1acadae38f79a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e27c1446ad388719eeef9cce7d9014"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ab9e27c1446ad388719eeef9cce7d9014">get_raz_reg</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 *val)</td></tr>
<tr class="separator:ab9e27c1446ad388719eeef9cce7d9014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20654182b9364bf6f8b9c59b5411d091"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a20654182b9364bf6f8b9c59b5411d091">set_wi_reg</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 val)</td></tr>
<tr class="separator:a20654182b9364bf6f8b9c59b5411d091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0efef856de13abf2f4d85b3da73d8691"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a0efef856de13abf2f4d85b3da73d8691">access_ctr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a0efef856de13abf2f4d85b3da73d8691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1630f0f4e352458c812420b059f1f53a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a1630f0f4e352458c812420b059f1f53a">access_clidr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a1630f0f4e352458c812420b059f1f53a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97fc78b2ebb89ea07ea5796cc2790d92"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a97fc78b2ebb89ea07ea5796cc2790d92">reset_clidr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a97fc78b2ebb89ea07ea5796cc2790d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a070d58f09d1ea502e9f18c8f912c70f1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a070d58f09d1ea502e9f18c8f912c70f1">set_clidr</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 val)</td></tr>
<tr class="separator:a070d58f09d1ea502e9f18c8f912c70f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a146fa2942a8ba63d455aa914a9500"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a68a146fa2942a8ba63d455aa914a9500">access_csselr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a68a146fa2942a8ba63d455aa914a9500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3197676d6f6c5a22211e6e67ee07ae00"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a3197676d6f6c5a22211e6e67ee07ae00">access_ccsidr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a3197676d6f6c5a22211e6e67ee07ae00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14f59e91a4d1d9a65c9c366484869b55"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a14f59e91a4d1d9a65c9c366484869b55">mte_visibility</a> (const struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:a14f59e91a4d1d9a65c9c366484869b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4c8b464f239145cf4ffc392260d53fb"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aa4c8b464f239145cf4ffc392260d53fb">el2_visibility</a> (const struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:aa4c8b464f239145cf4ffc392260d53fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05a7fba8df9787d651813990bf08d8a3"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a05a7fba8df9787d651813990bf08d8a3">bad_vncr_trap</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a05a7fba8df9787d651813990bf08d8a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a8b7a8573c9ab0d01282e74ae7396d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a34a8b7a8573c9ab0d01282e74ae7396d">bad_redir_trap</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a34a8b7a8573c9ab0d01282e74ae7396d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff90c282f9677c4b8d23520a8889e442"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aff90c282f9677c4b8d23520a8889e442">hidden_user_visibility</a> (const struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd)</td></tr>
<tr class="separator:aff90c282f9677c4b8d23520a8889e442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6eb641b9af98b7c2a6492f64a9a9aa7"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ae6eb641b9af98b7c2a6492f64a9a9aa7">access_sp_el1</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:ae6eb641b9af98b7c2a6492f64a9a9aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46854382e168687c13c1a17ef2f67087"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a46854382e168687c13c1a17ef2f67087">access_elr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a46854382e168687c13c1a17ef2f67087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba77a75926c6391c8879d03096c381a8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aba77a75926c6391c8879d03096c381a8">access_spsr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:aba77a75926c6391c8879d03096c381a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c060da3ce0e4544218c062d7b155988"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a1c060da3ce0e4544218c062d7b155988">trap_dbgdidr</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *p, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a1c060da3ce0e4544218c062d7b155988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04a47f17241cf05c3ffed72f45d6702c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a04a47f17241cf05c3ffed72f45d6702c">check_sysreg_table</a> (const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *table, unsigned int n, bool is_32)</td></tr>
<tr class="separator:a04a47f17241cf05c3ffed72f45d6702c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66819aed8acf3d9c6daa1c73afd5e8f7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a66819aed8acf3d9c6daa1c73afd5e8f7">kvm_handle_cp14_load_store</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a66819aed8acf3d9c6daa1c73afd5e8f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cb2008e7051ba9d33b9ca79bca84766"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766">perform_access</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *params, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:a8cb2008e7051ba9d33b9ca79bca84766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a4f4c9413ca5dc5a4d9f5e952f991ac"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a7a4f4c9413ca5dc5a4d9f5e952f991ac">emulate_cp</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *params, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *table, size_t num)</td></tr>
<tr class="separator:a7a4f4c9413ca5dc5a4d9f5e952f991ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a253f9d1013e490024387b0d3ff8aa742"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a253f9d1013e490024387b0d3ff8aa742">unhandled_cp_access</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *params)</td></tr>
<tr class="separator:a253f9d1013e490024387b0d3ff8aa742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf2a59d7fe0d9db81c822a0973b00539"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#acf2a59d7fe0d9db81c822a0973b00539">kvm_handle_cp_64</a> (struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *global, size_t nr_global)</td></tr>
<tr class="separator:acf2a59d7fe0d9db81c822a0973b00539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d240da65ae9bd5abb59855d5eccd1bd"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a3d240da65ae9bd5abb59855d5eccd1bd">emulate_sys_reg</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *params)</td></tr>
<tr class="separator:a3d240da65ae9bd5abb59855d5eccd1bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a196dec681e095a7888287aec0146a912"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a196dec681e095a7888287aec0146a912">kvm_esr_cp10_id_to_sys64</a> (u64 esr, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *params)</td></tr>
<tr class="separator:a196dec681e095a7888287aec0146a912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4cee9d7be58e2317c540e1f87eea20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a1a4cee9d7be58e2317c540e1f87eea20">kvm_handle_cp10_id</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a1a4cee9d7be58e2317c540e1f87eea20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88f8e6bd75a62772935f734d5772c6bf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a88f8e6bd75a62772935f734d5772c6bf">kvm_emulate_cp15_id_reg</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *params)</td></tr>
<tr class="separator:a88f8e6bd75a62772935f734d5772c6bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60129df4b96ea31788ca4c84aca5296c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a60129df4b96ea31788ca4c84aca5296c">kvm_handle_cp_32</a> (struct kvm_vcpu *vcpu, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *params, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *global, size_t nr_global)</td></tr>
<tr class="separator:a60129df4b96ea31788ca4c84aca5296c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae031a976c6888fa3fb7ac85e9ffa4ce1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ae031a976c6888fa3fb7ac85e9ffa4ce1">kvm_handle_cp15_64</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:ae031a976c6888fa3fb7ac85e9ffa4ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabfd3c696cf28ee58eb8d7e421e12310"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aabfd3c696cf28ee58eb8d7e421e12310">kvm_handle_cp15_32</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:aabfd3c696cf28ee58eb8d7e421e12310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f660f6a9a4de1cfc8af20da24cdad94"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a5f660f6a9a4de1cfc8af20da24cdad94">kvm_handle_cp14_64</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a5f660f6a9a4de1cfc8af20da24cdad94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fc2578a70449007d0bac463e2d66d05"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a3fc2578a70449007d0bac463e2d66d05">kvm_handle_cp14_32</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a3fc2578a70449007d0bac463e2d66d05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac84d9b3a11a9a1dd463e8843f45b31bf"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ac84d9b3a11a9a1dd463e8843f45b31bf">is_imp_def_sys_reg</a> (struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *params)</td></tr>
<tr class="separator:ac84d9b3a11a9a1dd463e8843f45b31bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8caa56833715758c346de1e7ccfaebd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ab8caa56833715758c346de1e7ccfaebd">kvm_reset_id_regs</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:ab8caa56833715758c346de1e7ccfaebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abba14158e86a83e47c00e8fcde09fcfc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#abba14158e86a83e47c00e8fcde09fcfc">kvm_reset_sys_regs</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:abba14158e86a83e47c00e8fcde09fcfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a315e661b6f1cb224596267000909a1ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a315e661b6f1cb224596267000909a1ac">kvm_handle_sys_reg</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a315e661b6f1cb224596267000909a1ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000b8bb9ea7247fee0c7acc84817d960"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a000b8bb9ea7247fee0c7acc84817d960">index_to_params</a> (u64 id, struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *params)</td></tr>
<tr class="separator:a000b8bb9ea7247fee0c7acc84817d960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac41b37ff19cd3eda5658080a3eb8c558"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ac41b37ff19cd3eda5658080a3eb8c558">get_reg_by_id</a> (u64 id, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> table[], unsigned int num)</td></tr>
<tr class="separator:ac41b37ff19cd3eda5658080a3eb8c558"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af212e5241f19483aede7d85e43a93b42"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#af212e5241f19483aede7d85e43a93b42">id_to_sys_reg_desc</a> (struct kvm_vcpu *vcpu, u64 id, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> table[], unsigned int num)</td></tr>
<tr class="separator:af212e5241f19483aede7d85e43a93b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaecf333a8b9727e63d492661a046f4dd"><td class="memItemLeft" align="right" valign="top">static u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aaecf333a8b9727e63d492661a046f4dd">get_ctr_el0</a> (struct kvm_vcpu *v, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *r)</td></tr>
<tr class="separator:aaecf333a8b9727e63d492661a046f4dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ffec76aa0d79fe514d561af9140e9d5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a3ffec76aa0d79fe514d561af9140e9d5">get_invariant_sys_reg</a> (u64 id, u64 __user *uaddr)</td></tr>
<tr class="separator:a3ffec76aa0d79fe514d561af9140e9d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a8c62b59dd6a91702e17f7bb83e3633"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a1a8c62b59dd6a91702e17f7bb83e3633">set_invariant_sys_reg</a> (u64 id, u64 __user *uaddr)</td></tr>
<tr class="separator:a1a8c62b59dd6a91702e17f7bb83e3633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af96f247febced4bc1382d643b2ae44b3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#af96f247febced4bc1382d643b2ae44b3">demux_c15_get</a> (struct kvm_vcpu *vcpu, u64 id, void __user *uaddr)</td></tr>
<tr class="separator:af96f247febced4bc1382d643b2ae44b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1e2d05ecec16fc3b603d7b37afe0295"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ab1e2d05ecec16fc3b603d7b37afe0295">demux_c15_set</a> (struct kvm_vcpu *vcpu, u64 id, void __user *uaddr)</td></tr>
<tr class="separator:ab1e2d05ecec16fc3b603d7b37afe0295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a228e61f9390e36b563ab837dfcf03ae2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a228e61f9390e36b563ab837dfcf03ae2">kvm_sys_reg_get_user</a> (struct kvm_vcpu *vcpu, const struct kvm_one_reg *reg, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> table[], unsigned int num)</td></tr>
<tr class="separator:a228e61f9390e36b563ab837dfcf03ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af85c3c21b976f4ad1def9aaeebfcfe2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#af85c3c21b976f4ad1def9aaeebfcfe2a">kvm_arm_sys_reg_get_reg</a> (struct kvm_vcpu *vcpu, const struct kvm_one_reg *reg)</td></tr>
<tr class="separator:af85c3c21b976f4ad1def9aaeebfcfe2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab29b04a8d34d81f0cce231f94feba038"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ab29b04a8d34d81f0cce231f94feba038">kvm_sys_reg_set_user</a> (struct kvm_vcpu *vcpu, const struct kvm_one_reg *reg, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> table[], unsigned int num)</td></tr>
<tr class="separator:ab29b04a8d34d81f0cce231f94feba038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a857a1f40feb608d8b9156c442eb73f6a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a857a1f40feb608d8b9156c442eb73f6a">kvm_arm_sys_reg_set_reg</a> (struct kvm_vcpu *vcpu, const struct kvm_one_reg *reg)</td></tr>
<tr class="separator:a857a1f40feb608d8b9156c442eb73f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8996a1294bc3193aae24af847d760fd9"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a8996a1294bc3193aae24af847d760fd9">num_demux_regs</a> (void)</td></tr>
<tr class="separator:a8996a1294bc3193aae24af847d760fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ddbbc31f9d2fb247f921fd3f437a391"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a5ddbbc31f9d2fb247f921fd3f437a391">write_demux_regids</a> (u64 __user *uindices)</td></tr>
<tr class="separator:a5ddbbc31f9d2fb247f921fd3f437a391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1032ed43c78a6dff76e1116bfd0476"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a0f1032ed43c78a6dff76e1116bfd0476">copy_reg_to_user</a> (const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *reg, u64 __user **uind)</td></tr>
<tr class="separator:a0f1032ed43c78a6dff76e1116bfd0476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f111e8a8404c26f46d5191d2a7f3e1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a68f111e8a8404c26f46d5191d2a7f3e1">walk_one_sys_reg</a> (const struct kvm_vcpu *vcpu, const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *rd, u64 __user **uind, unsigned int *total)</td></tr>
<tr class="separator:a68f111e8a8404c26f46d5191d2a7f3e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd3b49a9b9e349d26d03f5dc6a42efbc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#abd3b49a9b9e349d26d03f5dc6a42efbc">walk_sys_regs</a> (struct kvm_vcpu *vcpu, u64 __user *uind)</td></tr>
<tr class="separator:abd3b49a9b9e349d26d03f5dc6a42efbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a12ba3777384275bc5ff0abd169e22c"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a3a12ba3777384275bc5ff0abd169e22c">kvm_arm_num_sys_reg_descs</a> (struct kvm_vcpu *vcpu)</td></tr>
<tr class="separator:a3a12ba3777384275bc5ff0abd169e22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4518ec5bc50f3432c171d3523dd8ea93"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a4518ec5bc50f3432c171d3523dd8ea93">kvm_arm_copy_sys_reg_indices</a> (struct kvm_vcpu *vcpu, u64 __user *uindices)</td></tr>
<tr class="separator:a4518ec5bc50f3432c171d3523dd8ea93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb66b32599b474c03e9a8a8e52edb23"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a9eb66b32599b474c03e9a8a8e52edb23">is_feature_id_reg</a> (u32 encoding)</td></tr>
<tr class="separator:a9eb66b32599b474c03e9a8a8e52edb23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c2c14feb7960c243c69a66db5eee3b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a12c2c14feb7960c243c69a66db5eee3b">kvm_vm_ioctl_get_reg_writable_masks</a> (struct kvm *kvm, struct reg_mask_range *range)</td></tr>
<tr class="separator:a12c2c14feb7960c243c69a66db5eee3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee14269677924cb86250974700c3501b"><td class="memItemLeft" align="right" valign="top">int __init&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#aee14269677924cb86250974700c3501b">kvm_sys_reg_table_init</a> (void)</td></tr>
<tr class="separator:aee14269677924cb86250974700c3501b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a51b95c5ae679f1aba7eee7379a3be6c7"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a> []</td></tr>
<tr class="separator:a51b95c5ae679f1aba7eee7379a3be6c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a216dc0d7cdd571a00af68b907e1084d6"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a216dc0d7cdd571a00af68b907e1084d6">first_idreg</a></td></tr>
<tr class="separator:a216dc0d7cdd571a00af68b907e1084d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3b1e78017871071cfa256948fb508bd"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ae3b1e78017871071cfa256948fb508bd">cp14_regs</a> []</td></tr>
<tr class="separator:ae3b1e78017871071cfa256948fb508bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae78146f4d87ed9843080338a0bfe9da0"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ae78146f4d87ed9843080338a0bfe9da0">cp14_64_regs</a> []</td></tr>
<tr class="separator:ae78146f4d87ed9843080338a0bfe9da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac86c576278c4980aa5803a3fdabbf40f"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ac86c576278c4980aa5803a3fdabbf40f">cp15_regs</a> []</td></tr>
<tr class="separator:ac86c576278c4980aa5803a3fdabbf40f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a726794e0578b31ccf17210246ea3cf4d"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#a726794e0578b31ccf17210246ea3cf4d">cp15_64_regs</a> []</td></tr>
<tr class="separator:a726794e0578b31ccf17210246ea3cf4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5e07c36827332155abf464b1ac2a560"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> invariant_sys_regs[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys__regs_8c.html#ac5e07c36827332155abf464b1ac2a560">__ro_after_init</a></td></tr>
<tr class="separator:ac5e07c36827332155abf464b1ac2a560"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a04fda1d6cda7e0c6f26cb2de8c7c5f1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04fda1d6cda7e0c6f26cb2de8c7c5f1d">&#9670;&nbsp;</a></span>__PTRAUTH_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __PTRAUTH_KEY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">k</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    { <a class="code" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_## k), <a class="code" href="sys__regs_8c.html#a867e1f03f1cb111be61689387070fa96">undef_access</a>, <a class="code" href="sys__regs_8h.html#a9921b6cef7bc6e2b9652395bab5d39c1">reset_unknown</a>, k,       \</div>
<div class="line">    .visibility = <a class="code" href="sys__regs_8c.html#aecb4c53374f5c7916eb9b9c1612c4bdb">ptrauth_visibility</a>}</div>
<div class="ttc" id="asys__regs_8c_html_a867e1f03f1cb111be61689387070fa96"><div class="ttname"><a href="sys__regs_8c.html#a867e1f03f1cb111be61689387070fa96">undef_access</a></div><div class="ttdeci">static bool undef_access(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01334">sys_regs.c:1334</a></div></div>
<div class="ttc" id="asys__regs_8c_html_aecb4c53374f5c7916eb9b9c1612c4bdb"><div class="ttname"><a href="sys__regs_8c.html#aecb4c53374f5c7916eb9b9c1612c4bdb">ptrauth_visibility</a></div><div class="ttdeci">static unsigned int ptrauth_visibility(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01348">sys_regs.c:1348</a></div></div>
<div class="ttc" id="asys__regs_8h_html_a96fbcc2f1000e9f28d779df5cc9c8a22"><div class="ttname"><a href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a></div><div class="ttdeci">#define SYS_DESC(reg)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00243">sys_regs.h:243</a></div></div>
<div class="ttc" id="asys__regs_8h_html_a9921b6cef7bc6e2b9652395bab5d39c1"><div class="ttname"><a href="sys__regs_8h.html#a9921b6cef7bc6e2b9652395bab5d39c1">reset_unknown</a></div><div class="ttdeci">static u64 reset_unknown(struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00136">sys_regs.h:136</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01360">1360</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="abef62d3ff75de516a00589c872114ccd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abef62d3ff75de516a00589c872114ccd">&#9670;&nbsp;</a></span>AA32_ID_SANITISED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AA32_ID_SANITISED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    {       \</div>
<div class="line">    ID_DESC(name),              \</div>
<div class="line">    .set_user = <a class="code" href="sys__regs_8c.html#aaec02e3f4aca4914e12d3cb952f82db0">set_id_reg</a>,         \</div>
<div class="line">    .visibility = <a class="code" href="sys__regs_8c.html#a04b6e7d9762e03fc49fc087431fafd21">aa32_id_visibility</a>,   \</div>
<div class="line">    .reset = <a class="code" href="sys__regs_8c.html#a9c05eb4e2b07c46ac14ef9a3e300ae4b">kvm_read_sanitised_id_reg</a>, \</div>
<div class="line">    .val = 0,               \</div>
<div class="line">}</div>
<div class="ttc" id="asys__regs_8c_html_a04b6e7d9762e03fc49fc087431fafd21"><div class="ttname"><a href="sys__regs_8c.html#a04b6e7d9762e03fc49fc087431fafd21">aa32_id_visibility</a></div><div class="ttdeci">static unsigned int aa32_id_visibility(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01604">sys_regs.c:1604</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a9c05eb4e2b07c46ac14ef9a3e300ae4b"><div class="ttname"><a href="sys__regs_8c.html#a9c05eb4e2b07c46ac14ef9a3e300ae4b">kvm_read_sanitised_id_reg</a></div><div class="ttdeci">static u64 kvm_read_sanitised_id_reg(struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01560">sys_regs.c:1560</a></div></div>
<div class="ttc" id="asys__regs_8c_html_aaec02e3f4aca4914e12d3cb952f82db0"><div class="ttname"><a href="sys__regs_8c.html#aaec02e3f4aca4914e12d3cb952f82db0">set_id_reg</a></div><div class="ttdeci">static int set_id_reg(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd, u64 val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01815">sys_regs.c:1815</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02096">2096</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="ab0510e9ab08471220360703e379643f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0510e9ab08471220360703e379643f1">&#9670;&nbsp;</a></span>AMU_AMEVCNTR0_EL0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMU_AMEVCNTR0_EL0</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;{ <a class="el" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_AMEVCNTR0_EL0(n)), <a class="el" href="sys__regs_8c.html#a867e1f03f1cb111be61689387070fa96">undef_access</a> }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01343">1343</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a5ac2376e27815856b092afefb2f5fbeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ac2376e27815856b092afefb2f5fbeb">&#9670;&nbsp;</a></span>AMU_AMEVCNTR1_EL0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMU_AMEVCNTR1_EL0</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;{ <a class="el" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_AMEVCNTR1_EL0(n)), <a class="el" href="sys__regs_8c.html#a867e1f03f1cb111be61689387070fa96">undef_access</a> }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01345">1345</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="ae4a4ddf5bbd269ee855a4891fedf47af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4a4ddf5bbd269ee855a4891fedf47af">&#9670;&nbsp;</a></span>AMU_AMEVTYPER0_EL0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMU_AMEVTYPER0_EL0</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;{ <a class="el" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_AMEVTYPER0_EL0(n)), <a class="el" href="sys__regs_8c.html#a867e1f03f1cb111be61689387070fa96">undef_access</a> }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01344">1344</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a81d7f3adb1fae9c383b5ec0133d6fce1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81d7f3adb1fae9c383b5ec0133d6fce1">&#9670;&nbsp;</a></span>AMU_AMEVTYPER1_EL0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AMU_AMEVTYPER1_EL0</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;{ <a class="el" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_AMEVTYPER1_EL0(n)), <a class="el" href="sys__regs_8c.html#a867e1f03f1cb111be61689387070fa96">undef_access</a> }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01346">1346</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="ab8720a67d3ef9b4371ac5950f9a26861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8720a67d3ef9b4371ac5950f9a26861">&#9670;&nbsp;</a></span>CP15_PMU_SYS_REG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CP15_PMU_SYS_REG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_map, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_Op1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_CRn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_CRm, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_Op2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code" href="sys__regs_8h.html#ab18c78ad78648441d0ddb6e9a8c78080">AA32</a>(_map),                         \</div>
<div class="line">    Op1(_Op1), <a class="code" href="sys__regs_8h.html#af18a8d404d0c11e004422697883969ff">CRn</a>(_CRn), <a class="code" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>(_CRm), <a class="code" href="sys__regs_8h.html#aa3d2ec0e5f551a75ba390172d2e6cc26">Op2</a>(_Op2),         \</div>
<div class="line">    .visibility = <a class="code" href="sys__regs_8c.html#a9384f68614534270127b075a453ae64d">pmu_visibility</a></div>
<div class="ttc" id="asys__regs_8c_html_a9384f68614534270127b075a453ae64d"><div class="ttname"><a href="sys__regs_8c.html#a9384f68614534270127b075a453ae64d">pmu_visibility</a></div><div class="ttdeci">static unsigned int pmu_visibility(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00837">sys_regs.c:837</a></div></div>
<div class="ttc" id="asys__regs_8h_html_a34090cb687d367bf2d051e1c670ed5ff"><div class="ttname"><a href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a></div><div class="ttdeci">#define CRm(_x)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00240">sys_regs.h:240</a></div></div>
<div class="ttc" id="asys__regs_8h_html_aa3d2ec0e5f551a75ba390172d2e6cc26"><div class="ttname"><a href="sys__regs_8h.html#aa3d2ec0e5f551a75ba390172d2e6cc26">Op2</a></div><div class="ttdeci">#define Op2(_x)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00241">sys_regs.h:241</a></div></div>
<div class="ttc" id="asys__regs_8h_html_ab18c78ad78648441d0ddb6e9a8c78080"><div class="ttname"><a href="sys__regs_8h.html#ab18c78ad78648441d0ddb6e9a8c78080">AA32</a></div><div class="ttdeci">#define AA32(_x)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00236">sys_regs.h:236</a></div></div>
<div class="ttc" id="asys__regs_8h_html_af18a8d404d0c11e004422697883969ff"><div class="ttname"><a href="sys__regs_8h.html#af18a8d404d0c11e004422697883969ff">CRn</a></div><div class="ttdeci">#define CRn(_x)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00239">sys_regs.h:239</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02872">2872</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a8433ddfc43e826c3164b5f99ebcc179e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8433ddfc43e826c3164b5f99ebcc179e">&#9670;&nbsp;</a></span>CSSELR_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CSSELR_MAX&#160;&#160;&#160;14</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00215">215</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="acd90a7e6d76f0f5ef86584eeef3edb75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd90a7e6d76f0f5ef86584eeef3edb75">&#9670;&nbsp;</a></span>DBG_BCR_BVR_WCR_WVR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DBG_BCR_BVR_WCR_WVR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="comment">/* DBGBVRn */</span>                                 \</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#ab18c78ad78648441d0ddb6e9a8c78080">AA32</a>(LO), <a class="code" href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a>( 0), <a class="code" href="sys__regs_8h.html#af18a8d404d0c11e004422697883969ff">CRn</a>( 0), <a class="code" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>((n)), <a class="code" href="sys__regs_8h.html#aa3d2ec0e5f551a75ba390172d2e6cc26">Op2</a>( 4), <a class="code" href="sys__regs_8c.html#a4411c1a1e85db475200bac119f80b106">trap_bvr</a>, NULL, n }, \</div>
<div class="line">    <span class="comment">/* DBGBCRn */</span>                                 \</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a>( 0), <a class="code" href="sys__regs_8h.html#af18a8d404d0c11e004422697883969ff">CRn</a>( 0), <a class="code" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>((n)), <a class="code" href="sys__regs_8h.html#aa3d2ec0e5f551a75ba390172d2e6cc26">Op2</a>( 5), <a class="code" href="sys__regs_8c.html#a3df2d4f3155ebf7a0cd854b7b7d6257e">trap_bcr</a>, NULL, n },       \</div>
<div class="line">    <span class="comment">/* DBGWVRn */</span>                                 \</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a>( 0), <a class="code" href="sys__regs_8h.html#af18a8d404d0c11e004422697883969ff">CRn</a>( 0), <a class="code" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>((n)), <a class="code" href="sys__regs_8h.html#aa3d2ec0e5f551a75ba390172d2e6cc26">Op2</a>( 6), <a class="code" href="sys__regs_8c.html#ad2866f9118d5d0f54255301421942807">trap_wvr</a>, NULL, n },       \</div>
<div class="line">    <span class="comment">/* DBGWCRn */</span>                                 \</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a>( 0), <a class="code" href="sys__regs_8h.html#af18a8d404d0c11e004422697883969ff">CRn</a>( 0), <a class="code" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>((n)), <a class="code" href="sys__regs_8h.html#aa3d2ec0e5f551a75ba390172d2e6cc26">Op2</a>( 7), <a class="code" href="sys__regs_8c.html#ac85f5ab422e1a957d9efb8482229b846">trap_wcr</a>, NULL, n }</div>
<div class="ttc" id="asys__regs_8c_html_a3df2d4f3155ebf7a0cd854b7b7d6257e"><div class="ttname"><a href="sys__regs_8c.html#a3df2d4f3155ebf7a0cd854b7b7d6257e">trap_bcr</a></div><div class="ttdeci">static bool trap_bcr(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *rd)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00691">sys_regs.c:691</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a4411c1a1e85db475200bac119f80b106"><div class="ttname"><a href="sys__regs_8c.html#a4411c1a1e85db475200bac119f80b106">trap_bvr</a></div><div class="ttdeci">static bool trap_bvr(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *rd)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00654">sys_regs.c:654</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ac85f5ab422e1a957d9efb8482229b846"><div class="ttname"><a href="sys__regs_8c.html#ac85f5ab422e1a957d9efb8482229b846">trap_wcr</a></div><div class="ttdeci">static bool trap_wcr(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *rd)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00766">sys_regs.c:766</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ad2866f9118d5d0f54255301421942807"><div class="ttname"><a href="sys__regs_8c.html#ad2866f9118d5d0f54255301421942807">trap_wvr</a></div><div class="ttdeci">static bool trap_wvr(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *rd)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00728">sys_regs.c:728</a></div></div>
<div class="ttc" id="asys__regs_8h_html_a92e5126db4f150c023e715377db74b5f"><div class="ttname"><a href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a></div><div class="ttdeci">#define Op1(_x)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00238">sys_regs.h:238</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02761">2761</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a55867c984900e0c0c4320266e643986a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55867c984900e0c0c4320266e643986a">&#9670;&nbsp;</a></span>DBG_BCR_BVR_WCR_WVR_EL1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DBG_BCR_BVR_WCR_WVR_EL1</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    { <a class="code" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_DBGBVRn_EL1(n)),                 \</div>
<div class="line">      trap_bvr, <a class="code" href="sys__regs_8c.html#aee5036cf1423856a6ddccc7984a5e478">reset_bvr</a>, 0, 0, <a class="code" href="sys__regs_8c.html#a6681d7ad1d1157802a611034cdcc437d">get_bvr</a>, <a class="code" href="sys__regs_8c.html#a92c077d01bc99604c84180fc07b454a8">set_bvr</a> },        \</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_DBGBCRn_EL1(n)),                 \</div>
<div class="line">      trap_bcr, <a class="code" href="sys__regs_8c.html#aa903bec2d62b0b06b376b37dab5934d6">reset_bcr</a>, 0, 0, <a class="code" href="sys__regs_8c.html#a767726f8faec0694ac391a27390052c2">get_bcr</a>, <a class="code" href="sys__regs_8c.html#aba85580125285ebb653eea97974ee794">set_bcr</a> },        \</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_DBGWVRn_EL1(n)),                 \</div>
<div class="line">      trap_wvr, <a class="code" href="sys__regs_8c.html#a87eee12fe35732a5900da516a3e914a1">reset_wvr</a>, 0, 0,  <a class="code" href="sys__regs_8c.html#aa95f97c2afa31fbce430d5ffb539dfd3">get_wvr</a>, <a class="code" href="sys__regs_8c.html#ad53dbaaef428bebcdc18f4e7a70878b3">set_wvr</a> },       \</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_DBGWCRn_EL1(n)),                 \</div>
<div class="line">      trap_wcr, <a class="code" href="sys__regs_8c.html#affa350e6ad48a3e0c9657429ed41d1fe">reset_wcr</a>, 0, 0,  <a class="code" href="sys__regs_8c.html#a4f693a0c463677775c8f29c5abedeb86">get_wcr</a>, <a class="code" href="sys__regs_8c.html#a430f265b250c9a6ba9b32655ac134c58">set_wcr</a> }</div>
<div class="ttc" id="asys__regs_8c_html_a430f265b250c9a6ba9b32655ac134c58"><div class="ttname"><a href="sys__regs_8c.html#a430f265b250c9a6ba9b32655ac134c58">set_wcr</a></div><div class="ttdeci">static int set_wcr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd, u64 val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00782">sys_regs.c:782</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a4f693a0c463677775c8f29c5abedeb86"><div class="ttname"><a href="sys__regs_8c.html#a4f693a0c463677775c8f29c5abedeb86">get_wcr</a></div><div class="ttdeci">static int get_wcr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd, u64 *val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00789">sys_regs.c:789</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a6681d7ad1d1157802a611034cdcc437d"><div class="ttname"><a href="sys__regs_8c.html#a6681d7ad1d1157802a611034cdcc437d">get_bvr</a></div><div class="ttdeci">static int get_bvr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd, u64 *val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00677">sys_regs.c:677</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a767726f8faec0694ac391a27390052c2"><div class="ttname"><a href="sys__regs_8c.html#a767726f8faec0694ac391a27390052c2">get_bcr</a></div><div class="ttdeci">static int get_bcr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd, u64 *val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00714">sys_regs.c:714</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a87eee12fe35732a5900da516a3e914a1"><div class="ttname"><a href="sys__regs_8c.html#a87eee12fe35732a5900da516a3e914a1">reset_wvr</a></div><div class="ttdeci">static u64 reset_wvr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00759">sys_regs.c:759</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a92c077d01bc99604c84180fc07b454a8"><div class="ttname"><a href="sys__regs_8c.html#a92c077d01bc99604c84180fc07b454a8">set_bvr</a></div><div class="ttdeci">static int set_bvr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd, u64 val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00670">sys_regs.c:670</a></div></div>
<div class="ttc" id="asys__regs_8c_html_aa903bec2d62b0b06b376b37dab5934d6"><div class="ttname"><a href="sys__regs_8c.html#aa903bec2d62b0b06b376b37dab5934d6">reset_bcr</a></div><div class="ttdeci">static u64 reset_bcr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00721">sys_regs.c:721</a></div></div>
<div class="ttc" id="asys__regs_8c_html_aa95f97c2afa31fbce430d5ffb539dfd3"><div class="ttname"><a href="sys__regs_8c.html#aa95f97c2afa31fbce430d5ffb539dfd3">get_wvr</a></div><div class="ttdeci">static int get_wvr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd, u64 *val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00752">sys_regs.c:752</a></div></div>
<div class="ttc" id="asys__regs_8c_html_aba85580125285ebb653eea97974ee794"><div class="ttname"><a href="sys__regs_8c.html#aba85580125285ebb653eea97974ee794">set_bcr</a></div><div class="ttdeci">static int set_bcr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd, u64 val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00707">sys_regs.c:707</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ad53dbaaef428bebcdc18f4e7a70878b3"><div class="ttname"><a href="sys__regs_8c.html#ad53dbaaef428bebcdc18f4e7a70878b3">set_wvr</a></div><div class="ttdeci">static int set_wvr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd, u64 val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00745">sys_regs.c:745</a></div></div>
<div class="ttc" id="asys__regs_8c_html_aee5036cf1423856a6ddccc7984a5e478"><div class="ttname"><a href="sys__regs_8c.html#aee5036cf1423856a6ddccc7984a5e478">reset_bvr</a></div><div class="ttdeci">static u64 reset_bvr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00684">sys_regs.c:684</a></div></div>
<div class="ttc" id="asys__regs_8c_html_affa350e6ad48a3e0c9657429ed41d1fe"><div class="ttname"><a href="sys__regs_8c.html#affa350e6ad48a3e0c9657429ed41d1fe">reset_wcr</a></div><div class="ttdeci">static u64 reset_wcr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00796">sys_regs.c:796</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01308">1308</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a176cce23dbb42bace004ab5c5fb92de3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a176cce23dbb42bace004ab5c5fb92de3">&#9670;&nbsp;</a></span>DBGBXVR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DBGBXVR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;	{ <a class="el" href="sys__regs_8h.html#ab18c78ad78648441d0ddb6e9a8c78080">AA32</a>(HI), <a class="el" href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a>( 0), <a class="el" href="sys__regs_8h.html#af18a8d404d0c11e004422697883969ff">CRn</a>( 1), <a class="el" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>((n)), <a class="el" href="sys__regs_8h.html#aa3d2ec0e5f551a75ba390172d2e6cc26">Op2</a>( 1), <a class="el" href="sys__regs_8c.html#a4411c1a1e85db475200bac119f80b106">trap_bvr</a>, NULL, n }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02771">2771</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a093bb3cc27849269589abb662fa7dffb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a093bb3cc27849269589abb662fa7dffb">&#9670;&nbsp;</a></span>EL12_REG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EL12_REG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">acc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rst, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    {       \</div>
<div class="line">    SYS_DESC(SYS_##name##_EL12),        \</div>
<div class="line">    .access = acc,              \</div>
<div class="line">    .reset = rst,               \</div>
<div class="line">    .reg = name##_EL1,          \</div>
<div class="line">    .val = v,               \</div>
<div class="line">    .visibility = <a class="code" href="sys__regs_8c.html#aff90c282f9677c4b8d23520a8889e442">hidden_user_visibility</a>,   \</div>
<div class="line">}</div>
<div class="ttc" id="asys__regs_8c_html_aff90c282f9677c4b8d23520a8889e442"><div class="ttname"><a href="sys__regs_8c.html#aff90c282f9677c4b8d23520a8889e442">hidden_user_visibility</a></div><div class="ttdeci">static unsigned int hidden_user_visibility(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l02055">sys_regs.c:2055</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02061">2061</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a7a03712fcb523346c92d9a5db710cbd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a03712fcb523346c92d9a5db710cbd7">&#9670;&nbsp;</a></span>EL2_REG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EL2_REG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">acc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rst, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    {       \</div>
<div class="line">    SYS_DESC(SYS_##name),           \</div>
<div class="line">    .access = acc,              \</div>
<div class="line">    .reset = rst,               \</div>
<div class="line">    .reg = name,                \</div>
<div class="line">    .visibility = <a class="code" href="sys__regs_8c.html#aa4c8b464f239145cf4ffc392260d53fb">el2_visibility</a>,       \</div>
<div class="line">    .val = v,               \</div>
<div class="line">}</div>
<div class="ttc" id="asys__regs_8c_html_aa4c8b464f239145cf4ffc392260d53fb"><div class="ttname"><a href="sys__regs_8c.html#aa4c8b464f239145cf4ffc392260d53fb">el2_visibility</a></div><div class="ttdeci">static unsigned int el2_visibility(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l02003">sys_regs.c:2003</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02038">2038</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a5bc7564f62eafb90d83824e381d567bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bc7564f62eafb90d83824e381d567bf">&#9670;&nbsp;</a></span>EL2_REG_REDIR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EL2_REG_REDIR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rst, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="sys__regs_8c.html#a7a03712fcb523346c92d9a5db710cbd7">EL2_REG</a>(name, <a class="el" href="sys__regs_8c.html#a34a8b7a8573c9ab0d01282e74ae7396d">bad_redir_trap</a>, rst, v)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02048">2048</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a521a9cba9fda9af60663a414d32550f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a521a9cba9fda9af60663a414d32550f7">&#9670;&nbsp;</a></span>EL2_REG_VNCR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EL2_REG_VNCR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rst, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="sys__regs_8c.html#a7a03712fcb523346c92d9a5db710cbd7">EL2_REG</a>(name, <a class="el" href="sys__regs_8c.html#a05a7fba8df9787d651813990bf08d8a3">bad_vncr_trap</a>, rst, v)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02047">2047</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="ace5d0355aae3558efdb7523c79b2cee9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace5d0355aae3558efdb7523c79b2cee9">&#9670;&nbsp;</a></span>FUNCTION_INVARIANT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FUNCTION_INVARIANT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">reg</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keyword">static</span> u64 get_##reg(<span class="keyword">struct</span> kvm_vcpu *v,            \</div>
<div class="line">                  <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *r)     \</div>
<div class="line">    {                               \</div>
<div class="line">        ((<span class="keyword">struct </span><a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *)r)-&gt;val = read_sysreg(<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>); \</div>
<div class="line">        return ((<span class="keyword">struct</span> <a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *)r)-&gt;val;         \</div>
<div class="line">    }</div>
<div class="ttc" id="astructsys__reg__desc_html"><div class="ttname"><a href="structsys__reg__desc.html">sys_reg_desc</a></div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00052">sys_regs.h:52</a></div></div>
<div class="ttc" id="astructsys__reg__desc_html_a48aa184844acb996f9139bee9947a816"><div class="ttname"><a href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">sys_reg_desc::reg</a></div><div class="ttdeci">int reg</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00081">sys_regs.h:81</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03569">3569</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a84982bef7188d4d44b6ad630dd61b32c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84982bef7188d4d44b6ad630dd61b32c">&#9670;&nbsp;</a></span>ID_DESC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ID_DESC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_##name),           \</div>
<div class="line">    .access = <a class="code" href="sys__regs_8c.html#ae6bf132e10ee734ddcea162ebdc8f041">access_id_reg</a>,        \</div>
<div class="line">    .get_user = <a class="code" href="sys__regs_8c.html#a32bbe66af0a96b4abdc1acadae38f79a">get_id_reg</a>          \</div>
<div class="ttc" id="asys__regs_8c_html_a32bbe66af0a96b4abdc1acadae38f79a"><div class="ttname"><a href="sys__regs_8c.html#a32bbe66af0a96b4abdc1acadae38f79a">get_id_reg</a></div><div class="ttdeci">static int get_id_reg(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd, u64 *val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01796">sys_regs.c:1796</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ae6bf132e10ee734ddcea162ebdc8f041"><div class="ttname"><a href="sys__regs_8c.html#ae6bf132e10ee734ddcea162ebdc8f041">access_id_reg</a></div><div class="ttdeci">static bool access_id_reg(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01626">sys_regs.c:1626</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02081">2081</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="aeffe860f65119c9796682351d61e845f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeffe860f65119c9796682351d61e845f">&#9670;&nbsp;</a></span>ID_HIDDEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ID_HIDDEN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    {           \</div>
<div class="line">    ID_DESC(name),              \</div>
<div class="line">    .set_user = <a class="code" href="sys__regs_8c.html#aaec02e3f4aca4914e12d3cb952f82db0">set_id_reg</a>,         \</div>
<div class="line">    .visibility = <a class="code" href="sys__regs_8c.html#a29417a403f289be68a339cbd4834d4ff">raz_visibility</a>,       \</div>
<div class="line">    .reset = <a class="code" href="sys__regs_8c.html#a9c05eb4e2b07c46ac14ef9a3e300ae4b">kvm_read_sanitised_id_reg</a>, \</div>
<div class="line">    .val = 0,               \</div>
<div class="line">}</div>
<div class="ttc" id="asys__regs_8c_html_a29417a403f289be68a339cbd4834d4ff"><div class="ttname"><a href="sys__regs_8c.html#a29417a403f289be68a339cbd4834d4ff">raz_visibility</a></div><div class="ttdeci">static unsigned int raz_visibility(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01618">sys_regs.c:1618</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02133">2133</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="ae119f35f966f3351f44f6de8899bd5ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae119f35f966f3351f44f6de8899bd5ff">&#9670;&nbsp;</a></span>ID_REG_LIMIT_FIELD_ENUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ID_REG_LIMIT_FIELD_ENUM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">reg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">limit&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">({                                         \</div>
<div class="line">    u64 __f_val = FIELD_GET(reg##_##field##_MASK, val);            \</div>
<div class="line">    (val) &amp;= ~reg##_##field##_MASK;                        \</div>
<div class="line">    (val) |= FIELD_PREP(reg##_##field##_MASK,                  \</div>
<div class="line">            min(__f_val, (u64)reg##_##field##_##limit));           \</div>
<div class="line">    (val);                                     \</div>
<div class="line">})</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01683">1683</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a3d536ef757f45c6b1af5a67b5212062e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d536ef757f45c6b1af5a67b5212062e">&#9670;&nbsp;</a></span>ID_SANITISED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ID_SANITISED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    {           \</div>
<div class="line">    ID_DESC(name),              \</div>
<div class="line">    .set_user = <a class="code" href="sys__regs_8c.html#aaec02e3f4aca4914e12d3cb952f82db0">set_id_reg</a>,         \</div>
<div class="line">    .visibility = <a class="code" href="sys__regs_8c.html#a0fe58fd7819170b255cb7c5fe2e1dcac">id_visibility</a>,        \</div>
<div class="line">    .reset = <a class="code" href="sys__regs_8c.html#a9c05eb4e2b07c46ac14ef9a3e300ae4b">kvm_read_sanitised_id_reg</a>, \</div>
<div class="line">    .val = 0,               \</div>
<div class="line">}</div>
<div class="ttc" id="asys__regs_8c_html_a0fe58fd7819170b255cb7c5fe2e1dcac"><div class="ttname"><a href="sys__regs_8c.html#a0fe58fd7819170b255cb7c5fe2e1dcac">id_visibility</a></div><div class="ttdeci">static unsigned int id_visibility(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01589">sys_regs.c:1589</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02087">2087</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a47e511f3a3ef6e1ad5ad8c3847d42e98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47e511f3a3ef6e1ad5ad8c3847d42e98">&#9670;&nbsp;</a></span>ID_UNALLOCATED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ID_UNALLOCATED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">crm, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">op2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    {           \</div>
<div class="line">    Op0(3), <a class="code" href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a>(0), <a class="code" href="sys__regs_8h.html#af18a8d404d0c11e004422697883969ff">CRn</a>(0), <a class="code" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>(crm), <a class="code" href="sys__regs_8h.html#aa3d2ec0e5f551a75ba390172d2e6cc26">Op2</a>(op2), \</div>
<div class="line">    .access = <a class="code" href="sys__regs_8c.html#ae6bf132e10ee734ddcea162ebdc8f041">access_id_reg</a>,            \</div>
<div class="line">    .get_user = <a class="code" href="sys__regs_8c.html#a32bbe66af0a96b4abdc1acadae38f79a">get_id_reg</a>,             \</div>
<div class="line">    .set_user = <a class="code" href="sys__regs_8c.html#aaec02e3f4aca4914e12d3cb952f82db0">set_id_reg</a>,             \</div>
<div class="line">    .visibility = <a class="code" href="sys__regs_8c.html#a29417a403f289be68a339cbd4834d4ff">raz_visibility</a>,           \</div>
<div class="line">    .reset = <a class="code" href="sys__regs_8c.html#a9c05eb4e2b07c46ac14ef9a3e300ae4b">kvm_read_sanitised_id_reg</a>,     \</div>
<div class="line">    .val = 0,                   \</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02118">2118</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a5392c5b038e0372e4000c478715759ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5392c5b038e0372e4000c478715759ca">&#9670;&nbsp;</a></span>ID_WRITABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ID_WRITABLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mask&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    {       \</div>
<div class="line">    ID_DESC(name),              \</div>
<div class="line">    .set_user = <a class="code" href="sys__regs_8c.html#aaec02e3f4aca4914e12d3cb952f82db0">set_id_reg</a>,         \</div>
<div class="line">    .visibility = <a class="code" href="sys__regs_8c.html#a0fe58fd7819170b255cb7c5fe2e1dcac">id_visibility</a>,        \</div>
<div class="line">    .reset = <a class="code" href="sys__regs_8c.html#a9c05eb4e2b07c46ac14ef9a3e300ae4b">kvm_read_sanitised_id_reg</a>, \</div>
<div class="line">    .val = mask,                \</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02105">2105</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a0d49e6f095a869baec1abf748f40ff19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d49e6f095a869baec1abf748f40ff19">&#9670;&nbsp;</a></span>KVM_ARM_FEATURE_ID_RANGE_INDEX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KVM_ARM_FEATURE_ID_RANGE_INDEX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">r</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    KVM_ARM_FEATURE_ID_RANGE_IDX(sys_reg_Op0(r),        \</div>
<div class="line">        sys_reg_Op1(r),                 \</div>
<div class="line">        sys_reg_CRn(r),                 \</div>
<div class="line">        sys_reg_CRm(r),                 \</div>
<div class="line">        sys_reg_Op2(r))</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03874">3874</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a2235dee3d3cf182e7c3008d573213759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2235dee3d3cf182e7c3008d573213759">&#9670;&nbsp;</a></span>MAPPED_EL2_SYSREG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAPPED_EL2_SYSREG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">el2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">el1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fn&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">case</span> el2: {                         \</div>
<div class="line">        *xlate = fn;                        \</div>
<div class="line">        *el1r = el1;                        \</div>
<div class="line">        return <span class="keyword">true</span>;                        \</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00081">81</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a48b7e3b7f27e1a29d8109cbcc97049cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48b7e3b7f27e1a29d8109cbcc97049cb">&#9670;&nbsp;</a></span>MTE_REG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MTE_REG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    {               \</div>
<div class="line">    SYS_DESC(SYS_##name),           \</div>
<div class="line">    .access = <a class="code" href="sys__regs_8c.html#a867e1f03f1cb111be61689387070fa96">undef_access</a>,         \</div>
<div class="line">    .reset = <a class="code" href="sys__regs_8h.html#a9921b6cef7bc6e2b9652395bab5d39c1">reset_unknown</a>,         \</div>
<div class="line">    .reg = name,                \</div>
<div class="line">    .visibility = <a class="code" href="sys__regs_8c.html#a14f59e91a4d1d9a65c9c366484869b55">mte_visibility</a>,       \</div>
<div class="line">}</div>
<div class="ttc" id="asys__regs_8c_html_a14f59e91a4d1d9a65c9c366484869b55"><div class="ttname"><a href="sys__regs_8c.html#a14f59e91a4d1d9a65c9c366484869b55">mte_visibility</a></div><div class="ttdeci">static unsigned int mte_visibility(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01986">sys_regs.c:1986</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01995">1995</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="ae635a0a80b4535e666e073b1cfb58de2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae635a0a80b4535e666e073b1cfb58de2">&#9670;&nbsp;</a></span>PMU_PMEVCNTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PMU_PMEVCNTR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    { <a class="code" href="sys__regs_8c.html#ab8720a67d3ef9b4371ac5950f9a26861">CP15_PMU_SYS_REG</a>(DIRECT, 0, 0b1110,               \</div>
<div class="line">      (0b1000 | (((n) &gt;&gt; 3) &amp; 0x3)), ((n) &amp; 0x7)),          \</div>
<div class="line">      .access = <a class="code" href="sys__regs_8c.html#a02a036e9adee46363c44fc787cd30cc4">access_pmu_evcntr</a> }</div>
<div class="ttc" id="asys__regs_8c_html_a02a036e9adee46363c44fc787cd30cc4"><div class="ttname"><a href="sys__regs_8c.html#a02a036e9adee46363c44fc787cd30cc4">access_pmu_evcntr</a></div><div class="ttdeci">static bool access_pmu_evcntr(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01031">sys_regs.c:1031</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ab8720a67d3ef9b4371ac5950f9a26861"><div class="ttname"><a href="sys__regs_8c.html#ab8720a67d3ef9b4371ac5950f9a26861">CP15_PMU_SYS_REG</a></div><div class="ttdeci">#define CP15_PMU_SYS_REG(_map, _Op1, _CRn, _CRm, _Op2)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l02872">sys_regs.c:2872</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02878">2878</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="ab1453cfd592aae3d071f98f95a7087e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1453cfd592aae3d071f98f95a7087e3">&#9670;&nbsp;</a></span>PMU_PMEVCNTR_EL0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PMU_PMEVCNTR_EL0</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    { <a class="code" href="sys__regs_8c.html#ab8af253de8435c2a3ab9ec3182ff8bf3">PMU_SYS_REG</a>(PMEVCNTRn_EL0(n)),                \</div>
<div class="line">      .reset = <a class="code" href="sys__regs_8c.html#adf7962cceaeb6032ad246ff1dd003cb8">reset_pmevcntr</a>, .get_user = <a class="code" href="sys__regs_8c.html#a619f21eb31e46258fdc0f120f206521f">get_pmu_evcntr</a>,      \</div>
<div class="line">      .access = <a class="code" href="sys__regs_8c.html#a02a036e9adee46363c44fc787cd30cc4">access_pmu_evcntr</a>, .reg = (PMEVCNTR0_EL0 + n), }</div>
<div class="ttc" id="asys__regs_8c_html_a619f21eb31e46258fdc0f120f206521f"><div class="ttname"><a href="sys__regs_8c.html#a619f21eb31e46258fdc0f120f206521f">get_pmu_evcntr</a></div><div class="ttdeci">static int get_pmu_evcntr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *r, u64 *val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01015">sys_regs.c:1015</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ab8af253de8435c2a3ab9ec3182ff8bf3"><div class="ttname"><a href="sys__regs_8c.html#ab8af253de8435c2a3ab9ec3182ff8bf3">PMU_SYS_REG</a></div><div class="ttdeci">#define PMU_SYS_REG(name)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01318">sys_regs.c:1318</a></div></div>
<div class="ttc" id="asys__regs_8c_html_adf7962cceaeb6032ad246ff1dd003cb8"><div class="ttname"><a href="sys__regs_8c.html#adf7962cceaeb6032ad246ff1dd003cb8">reset_pmevcntr</a></div><div class="ttdeci">static u64 reset_pmevcntr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00860">sys_regs.c:860</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01323">1323</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a2fb8e93f3bc5eb93b4ede4b69d31cac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fb8e93f3bc5eb93b4ede4b69d31cac0">&#9670;&nbsp;</a></span>PMU_PMEVTYPER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PMU_PMEVTYPER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    { <a class="code" href="sys__regs_8c.html#ab8720a67d3ef9b4371ac5950f9a26861">CP15_PMU_SYS_REG</a>(DIRECT, 0, 0b1110,               \</div>
<div class="line">      (0b1100 | (((n) &gt;&gt; 3) &amp; 0x3)), ((n) &amp; 0x7)),          \</div>
<div class="line">      .access = <a class="code" href="sys__regs_8c.html#ae0260b12f95bb7f271037d3e4b18b22b">access_pmu_evtyper</a> }</div>
<div class="ttc" id="asys__regs_8c_html_ae0260b12f95bb7f271037d3e4b18b22b"><div class="ttname"><a href="sys__regs_8c.html#ae0260b12f95bb7f271037d3e4b18b22b">access_pmu_evtyper</a></div><div class="ttdeci">static bool access_pmu_evtyper(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01084">sys_regs.c:1084</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02884">2884</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a6e722fb171f52ca41a09cfd99db72b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e722fb171f52ca41a09cfd99db72b9a">&#9670;&nbsp;</a></span>PMU_PMEVTYPER_EL0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PMU_PMEVTYPER_EL0</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    { <a class="code" href="sys__regs_8c.html#ab8af253de8435c2a3ab9ec3182ff8bf3">PMU_SYS_REG</a>(PMEVTYPERn_EL0(n)),               \</div>
<div class="line">      .reset = <a class="code" href="sys__regs_8c.html#a10fff169484fa7d65cb4adc93300aeca">reset_pmevtyper</a>,                 \</div>
<div class="line">      .access = <a class="code" href="sys__regs_8c.html#ae0260b12f95bb7f271037d3e4b18b22b">access_pmu_evtyper</a>, .reg = (PMEVTYPER0_EL0 + n), }</div>
<div class="ttc" id="asys__regs_8c_html_a10fff169484fa7d65cb4adc93300aeca"><div class="ttname"><a href="sys__regs_8c.html#a10fff169484fa7d65cb4adc93300aeca">reset_pmevtyper</a></div><div class="ttdeci">static u64 reset_pmevtyper(struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00868">sys_regs.c:868</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01329">1329</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="ab8af253de8435c2a3ab9ec3182ff8bf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8af253de8435c2a3ab9ec3182ff8bf3">&#9670;&nbsp;</a></span>PMU_SYS_REG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PMU_SYS_REG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_##name), .reset = <a class="code" href="sys__regs_8c.html#ae14d1853beb35530cf77ddd1db0c2a95">reset_pmu_reg</a>,           \</div>
<div class="line">    .visibility = <a class="code" href="sys__regs_8c.html#a9384f68614534270127b075a453ae64d">pmu_visibility</a></div>
<div class="ttc" id="asys__regs_8c_html_ae14d1853beb35530cf77ddd1db0c2a95"><div class="ttname"><a href="sys__regs_8c.html#ae14d1853beb35530cf77ddd1db0c2a95">reset_pmu_reg</a></div><div class="ttdeci">static u64 reset_pmu_reg(struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00846">sys_regs.c:846</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01318">1318</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a2bad316720c619e3cd85cc15b3e7fc46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bad316720c619e3cd85cc15b3e7fc46">&#9670;&nbsp;</a></span>PTRAUTH_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PTRAUTH_KEY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">k</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code" href="sys__regs_8c.html#a04fda1d6cda7e0c6f26cb2de8c7c5f1d">__PTRAUTH_KEY</a>(k ## KEYLO_EL1),                  \</div>
<div class="line">    __PTRAUTH_KEY(k ## KEYHI_EL1)</div>
<div class="ttc" id="asys__regs_8c_html_a04fda1d6cda7e0c6f26cb2de8c7c5f1d"><div class="ttname"><a href="sys__regs_8c.html#a04fda1d6cda7e0c6f26cb2de8c7c5f1d">__PTRAUTH_KEY</a></div><div class="ttdeci">#define __PTRAUTH_KEY(k)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01360">sys_regs.c:1360</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01364">1364</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="af1057467dd3eaabecbd33d293431997f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1057467dd3eaabecbd33d293431997f">&#9670;&nbsp;</a></span>PURE_EL2_SYSREG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PURE_EL2_SYSREG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">el2</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">case</span> el2: {                         \</div>
<div class="line">        *el1r = el2;                        \</div>
<div class="line">        return <span class="keyword">true</span>;                        \</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00075">75</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae12eae3cc9d253be91cdffd0f5dfbbb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae12eae3cc9d253be91cdffd0f5dfbbb0">&#9670;&nbsp;</a></span>__kvm_read_sanitised_id_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 __kvm_read_sanitised_id_reg </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01517">1517</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;{</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    u32 <span class="keywordtype">id</span> = <a class="code" href="sys__regs_8h.html#a2a67e99c288b572250f936d156c5d316">reg_to_encoding</a>(r);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    u64 val;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160; </div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8h.html#af39fd68b14c927a067964587e849be92">sysreg_visible_as_raz</a>(vcpu, r))</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160; </div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    val = read_sanitised_ftr_reg(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <span class="keywordflow">switch</span> (<span class="keywordtype">id</span>) {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keywordflow">case</span> SYS_ID_AA64PFR1_EL1:</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        <span class="keywordflow">if</span> (!kvm_has_mte(vcpu-&gt;kvm))</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            val &amp;= ~ARM64_FEATURE_MASK(ID_AA64PFR1_EL1_MTE);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160; </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        val &amp;= ~ARM64_FEATURE_MASK(ID_AA64PFR1_EL1_SME);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordflow">case</span> SYS_ID_AA64ISAR1_EL1:</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        <span class="keywordflow">if</span> (!vcpu_has_ptrauth(vcpu))</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            val &amp;= ~(ARM64_FEATURE_MASK(ID_AA64ISAR1_EL1_APA) |</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                 ARM64_FEATURE_MASK(ID_AA64ISAR1_EL1_API) |</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                 ARM64_FEATURE_MASK(ID_AA64ISAR1_EL1_GPA) |</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                 ARM64_FEATURE_MASK(ID_AA64ISAR1_EL1_GPI));</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">case</span> SYS_ID_AA64ISAR2_EL1:</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        <span class="keywordflow">if</span> (!vcpu_has_ptrauth(vcpu))</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;            val &amp;= ~(ARM64_FEATURE_MASK(ID_AA64ISAR2_EL1_APA3) |</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                 ARM64_FEATURE_MASK(ID_AA64ISAR2_EL1_GPA3));</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        <span class="keywordflow">if</span> (!cpus_have_final_cap(ARM64_HAS_WFXT))</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            val &amp;= ~ARM64_FEATURE_MASK(ID_AA64ISAR2_EL1_WFxT);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="keywordflow">case</span> SYS_ID_AA64MMFR2_EL1:</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        val &amp;= ~ID_AA64MMFR2_EL1_CCIDX_MASK;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="keywordflow">case</span> SYS_ID_MMFR4_EL1:</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        val &amp;= ~ARM64_FEATURE_MASK(ID_MMFR4_EL1_CCIDX);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;}</div>
<div class="ttc" id="asys__regs_8h_html_a2a67e99c288b572250f936d156c5d316"><div class="ttname"><a href="sys__regs_8h.html#a2a67e99c288b572250f936d156c5d316">reg_to_encoding</a></div><div class="ttdeci">#define reg_to_encoding(x)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00016">sys_regs.h:16</a></div></div>
<div class="ttc" id="asys__regs_8h_html_af39fd68b14c927a067964587e849be92"><div class="ttname"><a href="sys__regs_8h.html#af39fd68b14c927a067964587e849be92">sysreg_visible_as_raz</a></div><div class="ttdeci">static bool sysreg_visible_as_raz(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00177">sys_regs.h:177</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ae12eae3cc9d253be91cdffd0f5dfbbb0_cgraph.png" border="0" usemap="#asys__regs_8c_ae12eae3cc9d253be91cdffd0f5dfbbb0_cgraph" alt=""/></div>
<map name="asys__regs_8c_ae12eae3cc9d253be91cdffd0f5dfbbb0_cgraph" id="asys__regs_8c_ae12eae3cc9d253be91cdffd0f5dfbbb0_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,172,47"/>
<area shape="rect" href="sys__regs_8h.html#af39fd68b14c927a067964587e849be92" title=" " alt="" coords="220,13,384,39"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="432,13,560,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ae12eae3cc9d253be91cdffd0f5dfbbb0_icgraph.png" border="0" usemap="#asys__regs_8c_ae12eae3cc9d253be91cdffd0f5dfbbb0_icgraph" alt=""/></div>
<map name="asys__regs_8c_ae12eae3cc9d253be91cdffd0f5dfbbb0_icgraph" id="asys__regs_8c_ae12eae3cc9d253be91cdffd0f5dfbbb0_icgraph">
<area shape="rect" title=" " alt="" coords="207,5,373,47"/>
<area shape="rect" href="sys__regs_8c.html#a9c05eb4e2b07c46ac14ef9a3e300ae4b" title=" " alt="" coords="5,5,159,47"/>
</map>
</div>

</div>
</div>
<a id="a04b6e7d9762e03fc49fc087431fafd21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04b6e7d9762e03fc49fc087431fafd21">&#9670;&nbsp;</a></span>aa32_id_visibility()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int aa32_id_visibility </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01604">1604</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;{</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="comment">     * AArch32 ID registers are UNKNOWN if AArch32 isn&#39;t implemented at any</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="comment">     * EL. Promote to RAZ/WI in order to guarantee consistency between</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="comment">     * systems.</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">if</span> (!kvm_supports_32bit_el0())</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#a5ba804724d1a28c29e74a6783cffb779">REG_RAZ</a> | <a class="code" href="sys__regs_8h.html#aaad4eff396c2784375c0d4a082639f4c">REG_USER_WI</a>;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160; </div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a0fe58fd7819170b255cb7c5fe2e1dcac">id_visibility</a>(vcpu, r);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;}</div>
<div class="ttc" id="asys__regs_8h_html_a5ba804724d1a28c29e74a6783cffb779"><div class="ttname"><a href="sys__regs_8h.html#a5ba804724d1a28c29e74a6783cffb779">REG_RAZ</a></div><div class="ttdeci">#define REG_RAZ</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00099">sys_regs.h:99</a></div></div>
<div class="ttc" id="asys__regs_8h_html_aaad4eff396c2784375c0d4a082639f4c"><div class="ttname"><a href="sys__regs_8h.html#aaad4eff396c2784375c0d4a082639f4c">REG_USER_WI</a></div><div class="ttdeci">#define REG_USER_WI</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00100">sys_regs.h:100</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a04b6e7d9762e03fc49fc087431fafd21_cgraph.png" border="0" usemap="#asys__regs_8c_a04b6e7d9762e03fc49fc087431fafd21_cgraph" alt=""/></div>
<map name="asys__regs_8c_a04b6e7d9762e03fc49fc087431fafd21_cgraph" id="asys__regs_8c_a04b6e7d9762e03fc49fc087431fafd21_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,141,32"/>
<area shape="rect" href="sys__regs_8c.html#a0fe58fd7819170b255cb7c5fe2e1dcac" title=" " alt="" coords="189,5,287,32"/>
</map>
</div>

</div>
</div>
<a id="af0fe59a1036c0652df463e3561f5e571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0fe59a1036c0652df463e3561f5e571">&#9670;&nbsp;</a></span>access_actlr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_actlr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00403">403</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;{</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    u64 mask, shift;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#a7260a615d788053377ebfbcef103b638">ignore_write</a>(vcpu, p);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe">get_access_mask</a>(r, &amp;mask, &amp;shift);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = (<a class="code" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa">vcpu_read_sys_reg</a>(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) &amp; mask) &gt;&gt; shift;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div>
<div class="ttc" id="astructsys__reg__params_html_ac5ae3dcc80da0d39d6e6750884b5464a"><div class="ttname"><a href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">sys_reg_params::is_write</a></div><div class="ttdeci">bool is_write</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00027">sys_regs.h:27</a></div></div>
<div class="ttc" id="astructsys__reg__params_html_adf34da250600bce0b2741ed1d01a163d"><div class="ttname"><a href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">sys_reg_params::regval</a></div><div class="ttdeci">u64 regval</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00026">sys_regs.h:26</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a79848758fc91bd6081326514833ffafa"><div class="ttname"><a href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa">vcpu_read_sys_reg</a></div><div class="ttdeci">u64 vcpu_read_sys_reg(const struct kvm_vcpu *vcpu, int reg)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00128">sys_regs.c:128</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a91c21b0c4a25c47c7d3f062cacd75bbe"><div class="ttname"><a href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe">get_access_mask</a></div><div class="ttdeci">static void get_access_mask(const struct sys_reg_desc *r, u64 *mask, u64 *shift)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00355">sys_regs.c:355</a></div></div>
<div class="ttc" id="asys__regs_8h_html_a7260a615d788053377ebfbcef103b638"><div class="ttname"><a href="sys__regs_8h.html#a7260a615d788053377ebfbcef103b638">ignore_write</a></div><div class="ttdeci">static bool ignore_write(struct kvm_vcpu *vcpu, const struct sys_reg_params *p)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00122">sys_regs.h:122</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_af0fe59a1036c0652df463e3561f5e571_cgraph.png" border="0" usemap="#asys__regs_8c_af0fe59a1036c0652df463e3561f5e571_cgraph" alt=""/></div>
<map name="asys__regs_8c_af0fe59a1036c0652df463e3561f5e571_cgraph" id="asys__regs_8c_af0fe59a1036c0652df463e3561f5e571_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,108,83"/>
<area shape="rect" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe" title=" " alt="" coords="161,5,298,32"/>
<area shape="rect" href="sys__regs_8h.html#a7260a615d788053377ebfbcef103b638" title=" " alt="" coords="178,56,281,83"/>
<area shape="rect" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa" title=" " alt="" coords="156,107,303,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="351,107,532,133"/>
</map>
</div>

</div>
</div>
<a id="a9457451d95fa776f653cff6c2a8d31f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9457451d95fa776f653cff6c2a8d31f9">&#9670;&nbsp;</a></span>access_arch_timer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_arch_timer </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01368">1368</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;{</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keyword">enum</span> kvm_arch_timers tmr;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keyword">enum</span> kvm_arch_timer_regs treg;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    u64 reg = <a class="code" href="sys__regs_8h.html#a2a67e99c288b572250f936d156c5d316">reg_to_encoding</a>(r);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160; </div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="keywordflow">switch</span> (reg) {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">case</span> SYS_CNTP_TVAL_EL0:</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">case</span> SYS_AARCH32_CNTP_TVAL:</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        tmr = TIMER_PTIMER;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        treg = TIMER_REG_TVAL;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">case</span> SYS_CNTP_CTL_EL0:</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="keywordflow">case</span> SYS_AARCH32_CNTP_CTL:</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        tmr = TIMER_PTIMER;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        treg = TIMER_REG_CTL;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <span class="keywordflow">case</span> SYS_CNTP_CVAL_EL0:</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="keywordflow">case</span> SYS_AARCH32_CNTP_CVAL:</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        tmr = TIMER_PTIMER;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        treg = TIMER_REG_CVAL;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">case</span> SYS_CNTPCT_EL0:</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <span class="keywordflow">case</span> SYS_CNTPCTSS_EL0:</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordflow">case</span> SYS_AARCH32_CNTPCT:</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        tmr = TIMER_PTIMER;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        treg = TIMER_REG_CNT;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        print_sys_reg_msg(p, <span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot;Unhandled trapped timer register&quot;</span>);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    }</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <a class="code" href="arch__timer_8c.html#a0209ad4256c7a1fd5ea70b6abe030954">kvm_arm_timer_write_sysreg</a>(vcpu, tmr, treg, p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a>);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = <a class="code" href="arch__timer_8c.html#a4b6d62f10023e1b1effbf51b28d46d3c">kvm_arm_timer_read_sysreg</a>(vcpu, tmr, treg);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160; </div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;}</div>
<div class="ttc" id="aarch__timer_8c_html_a0209ad4256c7a1fd5ea70b6abe030954"><div class="ttname"><a href="arch__timer_8c.html#a0209ad4256c7a1fd5ea70b6abe030954">kvm_arm_timer_write_sysreg</a></div><div class="ttdeci">void kvm_arm_timer_write_sysreg(struct kvm_vcpu *vcpu, enum kvm_arch_timers tmr, enum kvm_arch_timer_regs treg, u64 val)</div><div class="ttdef"><b>Definition:</b> <a href="arch__timer_8c_source.html#l01219">arch_timer.c:1219</a></div></div>
<div class="ttc" id="aarch__timer_8c_html_a4b6d62f10023e1b1effbf51b28d46d3c"><div class="ttname"><a href="arch__timer_8c.html#a4b6d62f10023e1b1effbf51b28d46d3c">kvm_arm_timer_read_sysreg</a></div><div class="ttdeci">u64 kvm_arm_timer_read_sysreg(struct kvm_vcpu *vcpu, enum kvm_arch_timers tmr, enum kvm_arch_timer_regs treg)</div><div class="ttdef"><b>Definition:</b> <a href="arch__timer_8c_source.html#l01167">arch_timer.c:1167</a></div></div>
<div class="ttc" id="ainject__fault_8c_html_aece14f61701021b17e9cf5521f7946fb"><div class="ttname"><a href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a></div><div class="ttdeci">void kvm_inject_undefined(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="inject__fault_8c_source.html#l00225">inject_fault.c:225</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a9457451d95fa776f653cff6c2a8d31f9_cgraph.png" border="0" usemap="#asys__regs_8c_a9457451d95fa776f653cff6c2a8d31f9_cgraph" alt=""/></div>
<map name="asys__regs_8c_a9457451d95fa776f653cff6c2a8d31f9_cgraph" id="asys__regs_8c_a9457451d95fa776f653cff6c2a8d31f9_cgraph">
<area shape="rect" title=" " alt="" coords="5,932,148,959"/>
<area shape="rect" href="arch__timer_8c.html#a4b6d62f10023e1b1effbf51b28d46d3c" title=" " alt="" coords="197,925,360,966"/>
<area shape="rect" href="arch__timer_8c.html#a0209ad4256c7a1fd5ea70b6abe030954" title=" " alt="" coords="409,795,576,837"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="196,1081,361,1108"/>
<area shape="rect" href="arch__timer_8c.html#ad7e756ea5077e85e2a10bfe35543ce21" title=" " alt="" coords="645,904,766,931"/>
<area shape="rect" href="arch__timer_8c.html#a3873c5e4f0eb8a0fa2a466d8e2b9a894" title=" " alt="" coords="411,600,574,627"/>
<area shape="rect" href="arch__timer_8c.html#a7e1e1c3a85e2d375519e32f57a54e301" title=" " alt="" coords="858,955,1009,981"/>
<area shape="rect" href="arch__timer_8c.html#a08b7dad9cb511eeaec5ab08e2a2ae1af" title=" " alt="" coords="866,853,1001,880"/>
<area shape="rect" href="arch__timer_8c.html#ac9f7917175f1d6031a77dcbc82f9ee98" title=" " alt="" coords="1313,436,1479,463"/>
<area shape="rect" href="arch__timer_8c.html#a2fb3bc59ad8d869dc692674f2db4bfe9" title=" " alt="" coords="647,549,763,576"/>
<area shape="rect" href="arch__timer_8c.html#a7f5f777b74b5c9ec6e13d4f7576d7f43" title=" " alt="" coords="1331,777,1461,804"/>
<area shape="rect" href="arch__timer_8c.html#a848ba80b4ffee7a071e37abb241262cd" title=" " alt="" coords="1108,600,1227,627"/>
<area shape="rect" href="arch__timer_8c.html#aeed64583773b01dafc949df326d17db3" title=" " alt="" coords="835,495,1032,521"/>
<area shape="rect" href="arch__timer_8c.html#ad7dab91af9f69654aa27010f96125c13" title=" " alt="" coords="1342,549,1450,576"/>
<area shape="rect" href="arch__timer_8c.html#a6c290bf8212ea1388cdb4a839eae7228" title=" " alt="" coords="1082,483,1253,525"/>
<area shape="rect" href="arch__timer_8c.html#a6fcfce8307e73b5ae888edca334508aa" title=" " alt="" coords="1120,1005,1215,1032"/>
<area shape="rect" href="arch__timer_8c.html#a207ce56a4fe08e050e49e49334548e15" title=" " alt="" coords="1120,955,1215,981"/>
<area shape="rect" href="nvhe_2timer-sr_8c.html#a73539c3eaa37749e44c40351913b9efb" title=" " alt="" coords="1303,955,1489,981"/>
<area shape="rect" href="arch__timer_8c.html#a2e57f3714ec062699e29ae4e13d80dac" title=" " alt="" coords="1114,752,1221,779"/>
<area shape="rect" href="arch__timer_8c.html#ab50c2af796cc5134fa3942c857dd4fb7" title=" " alt="" coords="1108,803,1227,829"/>
<area shape="rect" href="arch__timer_8c.html#affb5181064df0b30b53f567189e15771" title=" " alt="" coords="850,701,1017,728"/>
<area shape="rect" href="arch__timer_8c.html#ad19b9cbace853dd534bf572a35f83710" title=" " alt="" coords="637,368,774,395"/>
<area shape="rect" href="arch__timer_8c.html#acea899fae895cedf39458ed51af3cb1a" title=" " alt="" coords="646,419,765,445"/>
<area shape="rect" href="arch__timer_8c.html#ae722c5e3eba2098c012b2cdc4d74bf9f" title=" " alt="" coords="1080,331,1255,357"/>
<area shape="rect" href="arch__timer_8c.html#a64a4d2f3d2a9b83524edda4b27246092" title=" " alt="" coords="848,419,1019,445"/>
<area shape="rect" href="arch__timer_8c.html#a5abc04b494763cd0814855753e56671f" title=" " alt="" coords="849,229,1018,256"/>
<area shape="rect" href="arch__timer_8c.html#a00de950346bea7137e0f06522d67ab2b" title=" " alt="" coords="871,179,996,205"/>
<area shape="rect" href="vgic_8c.html#a87038ce452e0054b853c10ccbbcc78a4" title=" " alt="" coords="1091,179,1243,205"/>
<area shape="rect" href="arch__timer_8c.html#a4f7db088b5aab3a8a6013b7f6fd12fa0" title=" " alt="" coords="1098,229,1237,256"/>
<area shape="rect" href="vgic_8c.html#a7f38a266ef3def3202e7e04aa40fd516" title=" " alt="" coords="1345,128,1447,155"/>
<area shape="rect" href="vgic-init_8c.html#a3c860e1d043352d9a02f4780b58e5af6" title=" " alt="" coords="1341,280,1451,307"/>
<area shape="rect" href="vgic_8c.html#ac055f2fa0d463d3d287ee975bb80a9c5" title=" " alt="" coords="1345,179,1447,205"/>
<area shape="rect" href="vgic_8c.html#a1e208ac24f54fa95ba74797758c5b84c" title=" " alt="" coords="1311,52,1481,79"/>
<area shape="rect" href="vgic_8c.html#a19d9c44a40cc76ccbd25bd8e0ec38a08" title=" " alt="" coords="1310,229,1482,256"/>
<area shape="rect" href="vgic_8c.html#afeaf79de85450ed5fb52dbd7bd8c6617" title=" " alt="" coords="1569,128,1669,155"/>
<area shape="rect" href="vgic_8h.html#a43d39599f0fd2d973c5af8d6045e0f91" title=" " alt="" coords="1771,51,1906,77"/>
<area shape="rect" href="vgic-init_8c.html#a39a12fe5ed5534efda33bb215a320a57" title=" " alt="" coords="1580,280,1657,307"/>
<area shape="rect" href="vgic-init_8c.html#a0f9be5cc88c88f6c0180c53b72818d3b" title=" " alt="" coords="1767,225,1911,252"/>
<area shape="rect" href="vgic-irqfd_8c.html#ab5dcaa98f287aec5083bd60daf115d71" title=" " alt="" coords="1748,277,1929,318"/>
<area shape="rect" href="vgic-init_8c.html#a2eee0060a3bdcd2a9e8fe1451a3a3fc2" title=" " alt="" coords="1751,343,1926,369"/>
<area shape="rect" href="vgic-debug_8c.html#a42534d23071b4f3c441c5f82f9e5c1ce" title=" " alt="" coords="1777,175,1901,201"/>
<area shape="rect" href="vgic_8c.html#affa1a20a5bd9d67dc546c1ccaace3406" title=" " alt="" coords="1537,179,1700,205"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1557,27,1680,53"/>
<area shape="rect" href="vgic_8c.html#a10a21280f37c620b743df86980f6d247" title=" " alt="" coords="1547,77,1690,104"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="433,1132,552,1159"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="433,1081,552,1108"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="641,1056,769,1083"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="624,1107,787,1133"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="630,1157,781,1184"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="843,1157,1024,1184"/>
</map>
</div>

</div>
</div>
<a id="a3197676d6f6c5a22211e6e67ee07ae00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3197676d6f6c5a22211e6e67ee07ae00">&#9670;&nbsp;</a></span>access_ccsidr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_ccsidr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01970">1970</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;{</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    u32 csselr;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160; </div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449">write_to_read_only</a>(vcpu, p, r);</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160; </div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    csselr = <a class="code" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa">vcpu_read_sys_reg</a>(vcpu, CSSELR_EL1);</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    csselr &amp;= CSSELR_EL1_Level | CSSELR_EL1_InD;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="keywordflow">if</span> (csselr &lt; <a class="code" href="sys__regs_8c.html#a8433ddfc43e826c3164b5f99ebcc179e">CSSELR_MAX</a>)</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = <a class="code" href="sys__regs_8c.html#a292111fbdf0789784c74686f924d0e04">get_ccsidr</a>(vcpu, csselr);</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160; </div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a292111fbdf0789784c74686f924d0e04"><div class="ttname"><a href="sys__regs_8c.html#a292111fbdf0789784c74686f924d0e04">get_ccsidr</a></div><div class="ttdeci">static u32 get_ccsidr(struct kvm_vcpu *vcpu, u32 csselr)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00243">sys_regs.c:243</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a8433ddfc43e826c3164b5f99ebcc179e"><div class="ttname"><a href="sys__regs_8c.html#a8433ddfc43e826c3164b5f99ebcc179e">CSSELR_MAX</a></div><div class="ttdeci">#define CSSELR_MAX</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00215">sys_regs.c:215</a></div></div>
<div class="ttc" id="asys__regs_8c_html_aedd3bcce76bd27139153c8189168b449"><div class="ttname"><a href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449">write_to_read_only</a></div><div class="ttdeci">static bool write_to_read_only(struct kvm_vcpu *vcpu, struct sys_reg_params *params, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00067">sys_regs.c:67</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a3197676d6f6c5a22211e6e67ee07ae00_cgraph.png" border="0" usemap="#asys__regs_8c_a3197676d6f6c5a22211e6e67ee07ae00_cgraph" alt=""/></div>
<map name="asys__regs_8c_a3197676d6f6c5a22211e6e67ee07ae00_cgraph" id="asys__regs_8c_a3197676d6f6c5a22211e6e67ee07ae00_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,116,83"/>
<area shape="rect" href="sys__regs_8c.html#a292111fbdf0789784c74686f924d0e04" title=" " alt="" coords="193,5,281,32"/>
<area shape="rect" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa" title=" " alt="" coords="377,56,524,83"/>
<area shape="rect" href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449" title=" " alt="" coords="164,107,311,133"/>
<area shape="rect" href="sys__regs_8c.html#a5dcc664cfa17fa30fd97daba07934cc8" title=" " alt="" coords="359,5,543,32"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1181,132,1363,159"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="411,107,490,133"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="591,107,756,133"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="601,157,746,184"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="804,107,923,133"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="804,157,923,184"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="988,107,1116,133"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="971,157,1133,184"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="977,208,1127,235"/>
</map>
</div>

</div>
</div>
<a id="a1630f0f4e352458c812420b059f1f53a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1630f0f4e352458c812420b059f1f53a">&#9670;&nbsp;</a></span>access_clidr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_clidr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01878">1878</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;{</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449">write_to_read_only</a>(vcpu, p, r);</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160; </div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>);</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a1630f0f4e352458c812420b059f1f53a_cgraph.png" border="0" usemap="#asys__regs_8c_a1630f0f4e352458c812420b059f1f53a_cgraph" alt=""/></div>
<map name="asys__regs_8c_a1630f0f4e352458c812420b059f1f53a_cgraph" id="asys__regs_8c_a1630f0f4e352458c812420b059f1f53a_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,107,83"/>
<area shape="rect" href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449" title=" " alt="" coords="155,56,301,83"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="349,56,428,83"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="476,31,641,57"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="486,81,631,108"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="689,5,808,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="689,56,808,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="873,5,1001,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="856,56,1019,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="862,107,1013,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1067,107,1248,133"/>
</map>
</div>

</div>
</div>
<a id="a68a146fa2942a8ba63d455aa914a9500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68a146fa2942a8ba63d455aa914a9500">&#9670;&nbsp;</a></span>access_csselr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_csselr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01958">1958</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;{</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordtype">int</span> reg = r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160; </div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        <a class="code" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b">vcpu_write_sys_reg</a>(vcpu, p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a>, reg);</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = <a class="code" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa">vcpu_read_sys_reg</a>(vcpu, reg);</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_adf66277e472bdae2cc839d450085bc4b"><div class="ttname"><a href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b">vcpu_write_sys_reg</a></div><div class="ttdeci">void vcpu_write_sys_reg(struct kvm_vcpu *vcpu, u64 val, int reg)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00172">sys_regs.c:172</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a68a146fa2942a8ba63d455aa914a9500_cgraph.png" border="0" usemap="#asys__regs_8c_a68a146fa2942a8ba63d455aa914a9500_cgraph" alt=""/></div>
<map name="asys__regs_8c_a68a146fa2942a8ba63d455aa914a9500_cgraph" id="asys__regs_8c_a68a146fa2942a8ba63d455aa914a9500_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,116,57"/>
<area shape="rect" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa" title=" " alt="" coords="166,5,313,32"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="164,56,315,83"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="363,31,544,57"/>
</map>
</div>

</div>
</div>
<a id="a0efef856de13abf2f4d85b3da73d8691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0efef856de13abf2f4d85b3da73d8691">&#9670;&nbsp;</a></span>access_ctr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_ctr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01868">1868</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;{</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449">write_to_read_only</a>(vcpu, p, r);</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160; </div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = read_sanitised_ftr_reg(SYS_CTR_EL0);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a0efef856de13abf2f4d85b3da73d8691_cgraph.png" border="0" usemap="#asys__regs_8c_a0efef856de13abf2f4d85b3da73d8691_cgraph" alt=""/></div>
<map name="asys__regs_8c_a0efef856de13abf2f4d85b3da73d8691_cgraph" id="asys__regs_8c_a0efef856de13abf2f4d85b3da73d8691_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,96,83"/>
<area shape="rect" href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449" title=" " alt="" coords="144,56,291,83"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="339,56,417,83"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="465,31,631,57"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="475,81,621,108"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="679,5,797,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="679,56,797,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="863,5,991,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="845,56,1008,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="851,107,1002,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1056,107,1237,133"/>
</map>
</div>

</div>
</div>
<a id="affcbc277fd697c88cc97fbbcce0bf78f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affcbc277fd697c88cc97fbbcce0bf78f">&#9670;&nbsp;</a></span>access_dcgsw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_dcgsw </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00342">342</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;{</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">if</span> (!kvm_has_mte(vcpu-&gt;kvm)) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">/* Treat MTE S/W ops as we treat the classic ones: with contempt */</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a921dd58e3a4f932dc4e7a8d9165588ac">access_dcsw</a>(vcpu, p, r);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a921dd58e3a4f932dc4e7a8d9165588ac"><div class="ttname"><a href="sys__regs_8c.html#a921dd58e3a4f932dc4e7a8d9165588ac">access_dcsw</a></div><div class="ttdeci">static bool access_dcsw(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00322">sys_regs.c:322</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_affcbc277fd697c88cc97fbbcce0bf78f_cgraph.png" border="0" usemap="#asys__regs_8c_affcbc277fd697c88cc97fbbcce0bf78f_cgraph" alt=""/></div>
<map name="asys__regs_8c_affcbc277fd697c88cc97fbbcce0bf78f_cgraph" id="asys__regs_8c_affcbc277fd697c88cc97fbbcce0bf78f_cgraph">
<area shape="rect" title=" " alt="" coords="5,233,120,260"/>
<area shape="rect" href="sys__regs_8c.html#a921dd58e3a4f932dc4e7a8d9165588ac" title=" " alt="" coords="168,208,275,235"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="717,259,882,285"/>
<area shape="rect" href="mmu_8c.html#a02fcf6f3335d5fa450266c18e6e8f0a5" title=" " alt="" coords="329,157,480,184"/>
<area shape="rect" href="sys__regs_8c.html#a1a08aab10b08e1c7baa994c3b9e2f4fc" title=" " alt="" coords="323,208,487,235"/>
<area shape="rect" href="mmu_8c.html#ae8fca1b7a8029fee45816e7e7eccdfd1" title=" " alt="" coords="535,157,667,184"/>
<area shape="rect" href="mmu_8c.html#a3a27465e35c31f661ad2b811ae347c23" title=" " alt="" coords="715,157,884,184"/>
<area shape="rect" href="pgtable_8c.html#a2d2b49cec6003de272a8894e958a9ee3" title=" " alt="" coords="932,150,1091,191"/>
<area shape="rect" href="pgtable_8c.html#a2a6ed7242e033a1f32360cbe0e5c2281" title=" " alt="" coords="1147,107,1293,133"/>
<area shape="rect" href="pgtable_8c.html#ad7410d161ea1f583ed8fe92581038069" title=" " alt="" coords="1143,157,1297,184"/>
<area shape="rect" href="pgtable_8c.html#a384e9e59a45ff248ae5915118664c18a" title=" " alt="" coords="1157,208,1283,235"/>
<area shape="rect" href="pgtable_8c.html#ac74b17e065ba3e68a10f28b594d21e40" title=" " alt="" coords="1364,107,1516,133"/>
<area shape="rect" href="pgtable_8c.html#a4819ac158aa1b43844c3a3b5e5a82ac3" title=" " alt="" coords="1579,56,1737,83"/>
<area shape="rect" href="pgtable_8c.html#af01e17f60125c9e093e082e70a43f362" title=" " alt="" coords="1584,107,1732,133"/>
<area shape="rect" href="pgtable_8c.html#a5aa0f5d1f7f2540fea515eb0b198caba" title=" " alt="" coords="1785,56,1941,83"/>
<area shape="rect" href="pgtable_8c.html#ac1a7f01d8f40491309c052bdea628e06" title=" " alt="" coords="1796,107,1931,133"/>
<area shape="rect" href="pgtable_8c.html#a98293d8aa53e4ee188e8dc42f3dc17e9" title=" " alt="" coords="2005,5,2182,32"/>
<area shape="rect" href="pgtable_8c.html#abfea9e86c1a7e719b3d9e35bb045d795" title=" " alt="" coords="1989,56,2197,83"/>
<area shape="rect" href="pgtable_8c.html#a2f4269267d0718905af8540821a6de3d" title=" " alt="" coords="2030,157,2157,184"/>
<area shape="rect" href="pgtable_8c.html#a6e3f339456d5a01daa47962cc12f080e" title=" " alt="" coords="2034,107,2153,133"/>
<area shape="rect" href="pgtable_8c.html#ab8689d3ee63e3c9b4f7ce2d27ad083be" title=" " alt="" coords="1357,208,1523,235"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="561,208,640,235"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="727,208,872,235"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="952,259,1071,285"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="952,309,1071,336"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1156,259,1284,285"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1139,309,1301,336"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1145,360,1295,387"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1349,360,1531,387"/>
</map>
</div>

</div>
</div>
<a id="a921dd58e3a4f932dc4e7a8d9165588ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a921dd58e3a4f932dc4e7a8d9165588ac">&#9670;&nbsp;</a></span>access_dcsw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_dcsw </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00322">322</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;{</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a1a08aab10b08e1c7baa994c3b9e2f4fc">read_from_write_only</a>(vcpu, p, r);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">     * Only track S/W ops if we don&#39;t have FWB. It still indicates</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">     * that the guest is a bit broken (S/W operations should only</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">     * be done by firmware, knowing that there is only a single</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">     * CPU left in the system, and certainly not from non-secure</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">     * software).</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span> (!cpus_have_final_cap(ARM64_HAS_STAGE2_FWB))</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="mmu_8c.html#a02fcf6f3335d5fa450266c18e6e8f0a5">kvm_set_way_flush</a>(vcpu);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="ttc" id="ammu_8c_html_a02fcf6f3335d5fa450266c18e6e8f0a5"><div class="ttname"><a href="mmu_8c.html#a02fcf6f3335d5fa450266c18e6e8f0a5">kvm_set_way_flush</a></div><div class="ttdeci">void kvm_set_way_flush(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="mmu_8c_source.html#l02102">mmu.c:2102</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a1a08aab10b08e1c7baa994c3b9e2f4fc"><div class="ttname"><a href="sys__regs_8c.html#a1a08aab10b08e1c7baa994c3b9e2f4fc">read_from_write_only</a></div><div class="ttdeci">static bool read_from_write_only(struct kvm_vcpu *vcpu, struct sys_reg_params *params, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00059">sys_regs.c:59</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a921dd58e3a4f932dc4e7a8d9165588ac_cgraph.png" border="0" usemap="#asys__regs_8c_a921dd58e3a4f932dc4e7a8d9165588ac_cgraph" alt=""/></div>
<map name="asys__regs_8c_a921dd58e3a4f932dc4e7a8d9165588ac_cgraph" id="asys__regs_8c_a921dd58e3a4f932dc4e7a8d9165588ac_cgraph">
<area shape="rect" title=" " alt="" coords="5,201,112,228"/>
<area shape="rect" href="mmu_8c.html#a02fcf6f3335d5fa450266c18e6e8f0a5" title=" " alt="" coords="167,176,317,203"/>
<area shape="rect" href="sys__regs_8c.html#a1a08aab10b08e1c7baa994c3b9e2f4fc" title=" " alt="" coords="160,227,324,253"/>
<area shape="rect" href="mmu_8c.html#ae8fca1b7a8029fee45816e7e7eccdfd1" title=" " alt="" coords="372,169,504,196"/>
<area shape="rect" href="mmu_8c.html#a3a27465e35c31f661ad2b811ae347c23" title=" " alt="" coords="552,165,721,192"/>
<area shape="rect" href="pgtable_8c.html#a2d2b49cec6003de272a8894e958a9ee3" title=" " alt="" coords="769,155,928,197"/>
<area shape="rect" href="pgtable_8c.html#a2a6ed7242e033a1f32360cbe0e5c2281" title=" " alt="" coords="985,107,1130,133"/>
<area shape="rect" href="pgtable_8c.html#ad7410d161ea1f583ed8fe92581038069" title=" " alt="" coords="980,157,1135,184"/>
<area shape="rect" href="pgtable_8c.html#a384e9e59a45ff248ae5915118664c18a" title=" " alt="" coords="994,208,1121,235"/>
<area shape="rect" href="pgtable_8c.html#ac74b17e065ba3e68a10f28b594d21e40" title=" " alt="" coords="1201,107,1353,133"/>
<area shape="rect" href="pgtable_8c.html#a4819ac158aa1b43844c3a3b5e5a82ac3" title=" " alt="" coords="1416,56,1575,83"/>
<area shape="rect" href="pgtable_8c.html#af01e17f60125c9e093e082e70a43f362" title=" " alt="" coords="1421,107,1569,133"/>
<area shape="rect" href="pgtable_8c.html#a5aa0f5d1f7f2540fea515eb0b198caba" title=" " alt="" coords="1623,56,1779,83"/>
<area shape="rect" href="pgtable_8c.html#ac1a7f01d8f40491309c052bdea628e06" title=" " alt="" coords="1633,107,1768,133"/>
<area shape="rect" href="pgtable_8c.html#a98293d8aa53e4ee188e8dc42f3dc17e9" title=" " alt="" coords="1842,5,2019,32"/>
<area shape="rect" href="pgtable_8c.html#abfea9e86c1a7e719b3d9e35bb045d795" title=" " alt="" coords="1827,56,2035,83"/>
<area shape="rect" href="pgtable_8c.html#a2f4269267d0718905af8540821a6de3d" title=" " alt="" coords="1867,157,1994,184"/>
<area shape="rect" href="pgtable_8c.html#a6e3f339456d5a01daa47962cc12f080e" title=" " alt="" coords="1871,107,1990,133"/>
<area shape="rect" href="pgtable_8c.html#ab8689d3ee63e3c9b4f7ce2d27ad083be" title=" " alt="" coords="1194,208,1361,235"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="399,227,477,253"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="554,227,719,253"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="564,277,709,304"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="789,227,908,253"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="789,288,908,315"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="993,259,1121,285"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="976,309,1139,336"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="982,360,1133,387"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1187,360,1368,387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a921dd58e3a4f932dc4e7a8d9165588ac_icgraph.png" border="0" usemap="#asys__regs_8c_a921dd58e3a4f932dc4e7a8d9165588ac_icgraph" alt=""/></div>
<map name="asys__regs_8c_a921dd58e3a4f932dc4e7a8d9165588ac_icgraph" id="asys__regs_8c_a921dd58e3a4f932dc4e7a8d9165588ac_icgraph">
<area shape="rect" title=" " alt="" coords="168,5,275,32"/>
<area shape="rect" href="sys__regs_8c.html#affcbc277fd697c88cc97fbbcce0bf78f" title=" " alt="" coords="5,5,120,32"/>
</map>
</div>

</div>
</div>
<a id="a46854382e168687c13c1a17ef2f67087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46854382e168687c13c1a17ef2f67087">&#9670;&nbsp;</a></span>access_elr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_elr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02153">2153</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;{</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;        <a class="code" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b">vcpu_write_sys_reg</a>(vcpu, p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a>, ELR_EL1);</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = <a class="code" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa">vcpu_read_sys_reg</a>(vcpu, ELR_EL1);</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160; </div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a46854382e168687c13c1a17ef2f67087_cgraph.png" border="0" usemap="#asys__regs_8c_a46854382e168687c13c1a17ef2f67087_cgraph" alt=""/></div>
<map name="asys__regs_8c_a46854382e168687c13c1a17ef2f67087_cgraph" id="asys__regs_8c_a46854382e168687c13c1a17ef2f67087_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,96,57"/>
<area shape="rect" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa" title=" " alt="" coords="146,5,293,32"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="144,56,295,83"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="343,31,524,57"/>
</map>
</div>

</div>
</div>
<a id="a972b4ec406e774f520055637a47f6421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a972b4ec406e774f520055637a47f6421">&#9670;&nbsp;</a></span>access_gic_sgi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_gic_sgi </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00424">424</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;{</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordtype">bool</span> g1;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a1a08aab10b08e1c7baa994c3b9e2f4fc">read_from_write_only</a>(vcpu, p, r);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">     * In a system where GICD_CTLR.DS=1, a ICC_SGI0R_EL1 access generates</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">     * Group0 SGIs only, while ICC_SGI1R_EL1 can generate either group,</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">     * depending on the SGI configuration. ICC_ASGI1R_EL1 is effectively</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">     * equivalent to ICC_SGI0R_EL1, as there is no &quot;alternative&quot; secure</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">     * group.</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#a7953915a142e80f399807e364c04259d">Op0</a> == 0) {      <span class="comment">/* AArch32 */</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">switch</span> (p-&gt;<a class="code" href="structsys__reg__params.html#adc62e54d1902c5ef7e2757dfe073ca6e">Op1</a>) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">default</span>:        <span class="comment">/* Keep GCC quiet */</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">case</span> 0:         <span class="comment">/* ICC_SGI1R */</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            g1 = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">case</span> 1:         <span class="comment">/* ICC_ASGI1R */</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">case</span> 2:         <span class="comment">/* ICC_SGI0R */</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            g1 = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    } <span class="keywordflow">else</span> {            <span class="comment">/* AArch64 */</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">switch</span> (p-&gt;<a class="code" href="structsys__reg__params.html#aba9656bfbf43cfd021a1559a889fd6a6">Op2</a>) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">default</span>:        <span class="comment">/* Keep GCC quiet */</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keywordflow">case</span> 5:         <span class="comment">/* ICC_SGI1R_EL1 */</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            g1 = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">case</span> 6:         <span class="comment">/* ICC_ASGI1R_EL1 */</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">case</span> 7:         <span class="comment">/* ICC_SGI0R_EL1 */</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            g1 = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="vgic-mmio-v3_8c.html#a7df84da3229db55762dde7ac4e1b3e96">vgic_v3_dispatch_sgi</a>(vcpu, p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a>, g1);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div>
<div class="ttc" id="astructsys__reg__params_html_a7953915a142e80f399807e364c04259d"><div class="ttname"><a href="structsys__reg__params.html#a7953915a142e80f399807e364c04259d">sys_reg_params::Op0</a></div><div class="ttdeci">u8 Op0</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00021">sys_regs.h:21</a></div></div>
<div class="ttc" id="astructsys__reg__params_html_aba9656bfbf43cfd021a1559a889fd6a6"><div class="ttname"><a href="structsys__reg__params.html#aba9656bfbf43cfd021a1559a889fd6a6">sys_reg_params::Op2</a></div><div class="ttdeci">u8 Op2</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00025">sys_regs.h:25</a></div></div>
<div class="ttc" id="astructsys__reg__params_html_adc62e54d1902c5ef7e2757dfe073ca6e"><div class="ttname"><a href="structsys__reg__params.html#adc62e54d1902c5ef7e2757dfe073ca6e">sys_reg_params::Op1</a></div><div class="ttdeci">u8 Op1</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00022">sys_regs.h:22</a></div></div>
<div class="ttc" id="avgic-mmio-v3_8c_html_a7df84da3229db55762dde7ac4e1b3e96"><div class="ttname"><a href="vgic-mmio-v3_8c.html#a7df84da3229db55762dde7ac4e1b3e96">vgic_v3_dispatch_sgi</a></div><div class="ttdeci">void vgic_v3_dispatch_sgi(struct kvm_vcpu *vcpu, u64 reg, bool allow_group1)</div><div class="ttdef"><b>Definition:</b> <a href="vgic-mmio-v3_8c_source.html#l01058">vgic-mmio-v3.c:1058</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a972b4ec406e774f520055637a47f6421_cgraph.png" border="0" usemap="#asys__regs_8c_a972b4ec406e774f520055637a47f6421_cgraph" alt=""/></div>
<map name="asys__regs_8c_a972b4ec406e774f520055637a47f6421_cgraph" id="asys__regs_8c_a972b4ec406e774f520055637a47f6421_cgraph">
<area shape="rect" title=" " alt="" coords="5,172,124,199"/>
<area shape="rect" href="sys__regs_8c.html#a1a08aab10b08e1c7baa994c3b9e2f4fc" title=" " alt="" coords="172,135,336,161"/>
<area shape="rect" href="vgic-mmio-v3_8c.html#a7df84da3229db55762dde7ac4e1b3e96" title=" " alt="" coords="174,197,334,224"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="422,109,501,136"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="589,57,755,84"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="599,109,745,136"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="827,7,946,33"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="827,57,946,84"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1056,5,1184,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1039,56,1201,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1045,107,1195,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1272,107,1453,133"/>
<area shape="rect" href="arm_8c.html#a0be215e1642483c65818bd994b13a421" title=" " alt="" coords="384,197,539,224"/>
<area shape="rect" href="vgic-mmio-v3_8c.html#a5039defeee267f93839f5359d7534ff7" title=" " alt="" coords="389,251,534,277"/>
<area shape="rect" href="vgic_8c.html#a7f38a266ef3def3202e7e04aa40fd516" title=" " alt="" coords="621,183,723,209"/>
<area shape="rect" href="vgic_8c.html#ac055f2fa0d463d3d287ee975bb80a9c5" title=" " alt="" coords="621,333,723,360"/>
<area shape="rect" href="vgic_8c.html#a1e208ac24f54fa95ba74797758c5b84c" title=" " alt="" coords="587,257,757,284"/>
<area shape="rect" href="vgic_8c.html#afeaf79de85450ed5fb52dbd7bd8c6617" title=" " alt="" coords="837,157,937,184"/>
<area shape="rect" href="vgic_8h.html#a43d39599f0fd2d973c5af8d6045e0f91" title=" " alt="" coords="1053,157,1187,184"/>
<area shape="rect" href="vgic_8c.html#affa1a20a5bd9d67dc546c1ccaace3406" title=" " alt="" coords="805,360,968,387"/>
<area shape="rect" href="vgic_8c.html#a7d513558f0ea4ecbc012c98b3522f797" title=" " alt="" coords="1056,360,1184,387"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="825,259,948,285"/>
<area shape="rect" href="vgic_8c.html#a10a21280f37c620b743df86980f6d247" title=" " alt="" coords="815,309,958,336"/>
<area shape="rect" href="arm_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1016,208,1224,235"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1043,259,1197,285"/>
<area shape="rect" href="vgic_8h.html#a1109d873011f89a4acb4fd461f9f0a45" title=" " alt="" coords="1062,309,1178,336"/>
</map>
</div>

</div>
</div>
<a id="a2e91467905eab943ccddfb3a6688d3e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e91467905eab943ccddfb3a6688d3e8">&#9670;&nbsp;</a></span>access_gic_sre()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_gic_sre </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00469">469</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;{</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#a7260a615d788053377ebfbcef103b638">ignore_write</a>(vcpu, p);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = vcpu-&gt;arch.vgic_cpu.vgic_v3.vgic_sre;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a2e91467905eab943ccddfb3a6688d3e8_cgraph.png" border="0" usemap="#asys__regs_8c_a2e91467905eab943ccddfb3a6688d3e8_cgraph" alt=""/></div>
<map name="asys__regs_8c_a2e91467905eab943ccddfb3a6688d3e8_cgraph" id="asys__regs_8c_a2e91467905eab943ccddfb3a6688d3e8_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,124,32"/>
<area shape="rect" href="sys__regs_8h.html#a7260a615d788053377ebfbcef103b638" title=" " alt="" coords="172,5,275,32"/>
</map>
</div>

</div>
</div>
<a id="ae6bf132e10ee734ddcea162ebdc8f041"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6bf132e10ee734ddcea162ebdc8f041">&#9670;&nbsp;</a></span>access_id_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_id_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01626">1626</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;{</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449">write_to_read_only</a>(vcpu, p, r);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = <a class="code" href="sys__regs_8c.html#ad72e5726eba0876e5110453b786a7e02">read_id_reg</a>(vcpu, r);</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_ad72e5726eba0876e5110453b786a7e02"><div class="ttname"><a href="sys__regs_8c.html#ad72e5726eba0876e5110453b786a7e02">read_id_reg</a></div><div class="ttdeci">static u64 read_id_reg(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01566">sys_regs.c:1566</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ae6bf132e10ee734ddcea162ebdc8f041_cgraph.png" border="0" usemap="#asys__regs_8c_ae6bf132e10ee734ddcea162ebdc8f041_cgraph" alt=""/></div>
<map name="asys__regs_8c_ae6bf132e10ee734ddcea162ebdc8f041_cgraph" id="asys__regs_8c_ae6bf132e10ee734ddcea162ebdc8f041_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,119,57"/>
<area shape="rect" href="sys__regs_8c.html#ad72e5726eba0876e5110453b786a7e02" title=" " alt="" coords="191,5,289,32"/>
<area shape="rect" href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449" title=" " alt="" coords="167,56,313,83"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="361,56,440,83"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="488,31,653,57"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="498,81,643,108"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="701,5,820,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="701,56,820,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="885,5,1013,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="868,56,1031,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="874,107,1025,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1079,107,1260,133"/>
</map>
</div>

</div>
</div>
<a id="a6ce2c3fa2faafa46d088fb0b3081495b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ce2c3fa2faafa46d088fb0b3081495b">&#9670;&nbsp;</a></span>access_pmceid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_pmceid </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00980">980</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;{</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    u64 pmceid, mask, shift;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    BUG_ON(p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a">pmu_access_el0_disabled</a>(vcpu))</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <a class="code" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe">get_access_mask</a>(r, &amp;mask, &amp;shift);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160; </div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    pmceid = <a class="code" href="pmu-emul_8c.html#a41e22daf5f994479987a6282d4b6a1b4">kvm_pmu_get_pmceid</a>(vcpu, (p-&gt;<a class="code" href="structsys__reg__params.html#aba9656bfbf43cfd021a1559a889fd6a6">Op2</a> &amp; 1));</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    pmceid &amp;= mask;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    pmceid &gt;&gt;= shift;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = pmceid;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;}</div>
<div class="ttc" id="apmu-emul_8c_html_a41e22daf5f994479987a6282d4b6a1b4"><div class="ttname"><a href="pmu-emul_8c.html#a41e22daf5f994479987a6282d4b6a1b4">kvm_pmu_get_pmceid</a></div><div class="ttdeci">u64 kvm_pmu_get_pmceid(struct kvm_vcpu *vcpu, bool pmceid1)</div><div class="ttdef"><b>Definition:</b> <a href="pmu-emul_8c_source.html#l00760">pmu-emul.c:760</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ad26d1f2daf27a368a7f05c6b738f3f7a"><div class="ttname"><a href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a">pmu_access_el0_disabled</a></div><div class="ttdeci">static bool pmu_access_el0_disabled(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00915">sys_regs.c:915</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a6ce2c3fa2faafa46d088fb0b3081495b_cgraph.png" border="0" usemap="#asys__regs_8c_a6ce2c3fa2faafa46d088fb0b3081495b_cgraph" alt=""/></div>
<map name="asys__regs_8c_a6ce2c3fa2faafa46d088fb0b3081495b_cgraph" id="asys__regs_8c_a6ce2c3fa2faafa46d088fb0b3081495b_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,127,83"/>
<area shape="rect" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe" title=" " alt="" coords="201,5,339,32"/>
<area shape="rect" href="pmu-emul_8c.html#a41e22daf5f994479987a6282d4b6a1b4" title=" " alt="" coords="185,56,355,83"/>
<area shape="rect" href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a" title=" " alt="" coords="175,107,365,133"/>
<area shape="rect" href="pmu-emul_8c.html#a4d63c2f53e5548109d366a7e08be43ae" title=" " alt="" coords="431,56,605,83"/>
<area shape="rect" href="pmu-emul_8c.html#a94af260df1767fa3e538518c9e6436ff" title=" " alt="" coords="671,56,859,83"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="413,107,623,133"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="682,107,847,133"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="907,81,1025,108"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="907,132,1025,159"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1091,81,1219,108"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1073,132,1236,159"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1079,183,1230,209"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1284,183,1465,209"/>
</map>
</div>

</div>
</div>
<a id="a95ce985a39ee6e0e9274d873a271e235"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95ce985a39ee6e0e9274d873a271e235">&#9670;&nbsp;</a></span>access_pmcnten()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_pmcnten </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01153">1153</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;{</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    u64 val, mask;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160; </div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a">pmu_access_el0_disabled</a>(vcpu))</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    mask = <a class="code" href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6">kvm_pmu_valid_counter_mask</a>(vcpu);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>) {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        val = p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> &amp; mask;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#a2c409db28db7235af0c8e5b6d7dfdc0f">Op2</a> &amp; 0x1) {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <span class="comment">/* accessing PMCNTENSET_EL0 */</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;            __vcpu_sys_reg(vcpu, PMCNTENSET_EL0) |= val;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            <a class="code" href="pmu-emul_8c.html#a4d7ab7f63f8cc0a899fb45ebfeb851d6">kvm_pmu_enable_counter_mask</a>(vcpu, val);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            <a class="code" href="pmu_8c.html#a928d4df1b401e9b41f92dd2aa2744529">kvm_vcpu_pmu_restore_guest</a>(vcpu);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            <span class="comment">/* accessing PMCNTENCLR_EL0 */</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            __vcpu_sys_reg(vcpu, PMCNTENSET_EL0) &amp;= ~val;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            <a class="code" href="pmu-emul_8c.html#a4ad466b516d040694a5b25e1c9eef495">kvm_pmu_disable_counter_mask</a>(vcpu, val);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = __vcpu_sys_reg(vcpu, PMCNTENSET_EL0);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    }</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160; </div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;}</div>
<div class="ttc" id="apmu-emul_8c_html_a48da2aca99c9f2f7728c108ebfe1aab6"><div class="ttname"><a href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6">kvm_pmu_valid_counter_mask</a></div><div class="ttdeci">u64 kvm_pmu_valid_counter_mask(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="pmu-emul_8c_source.html#l00268">pmu-emul.c:268</a></div></div>
<div class="ttc" id="apmu-emul_8c_html_a4ad466b516d040694a5b25e1c9eef495"><div class="ttname"><a href="pmu-emul_8c.html#a4ad466b516d040694a5b25e1c9eef495">kvm_pmu_disable_counter_mask</a></div><div class="ttdeci">void kvm_pmu_disable_counter_mask(struct kvm_vcpu *vcpu, u64 val)</div><div class="ttdef"><b>Definition:</b> <a href="pmu-emul_8c_source.html#l00319">pmu-emul.c:319</a></div></div>
<div class="ttc" id="apmu-emul_8c_html_a4d7ab7f63f8cc0a899fb45ebfeb851d6"><div class="ttname"><a href="pmu-emul_8c.html#a4d7ab7f63f8cc0a899fb45ebfeb851d6">kvm_pmu_enable_counter_mask</a></div><div class="ttdeci">void kvm_pmu_enable_counter_mask(struct kvm_vcpu *vcpu, u64 val)</div><div class="ttdef"><b>Definition:</b> <a href="pmu-emul_8c_source.html#l00285">pmu-emul.c:285</a></div></div>
<div class="ttc" id="apmu_8c_html_a928d4df1b401e9b41f92dd2aa2744529"><div class="ttname"><a href="pmu_8c.html#a928d4df1b401e9b41f92dd2aa2744529">kvm_vcpu_pmu_restore_guest</a></div><div class="ttdeci">void kvm_vcpu_pmu_restore_guest(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="pmu_8c_source.html#l00176">pmu.c:176</a></div></div>
<div class="ttc" id="astructsys__reg__desc_html_a2c409db28db7235af0c8e5b6d7dfdc0f"><div class="ttname"><a href="structsys__reg__desc.html#a2c409db28db7235af0c8e5b6d7dfdc0f">sys_reg_desc::Op2</a></div><div class="ttdeci">u8 Op2</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00067">sys_regs.h:67</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a95ce985a39ee6e0e9274d873a271e235_cgraph.png" border="0" usemap="#asys__regs_8c_a95ce985a39ee6e0e9274d873a271e235_cgraph" alt=""/></div>
<map name="asys__regs_8c_a95ce985a39ee6e0e9274d873a271e235_cgraph" id="asys__regs_8c_a95ce985a39ee6e0e9274d873a271e235_cgraph">
<area shape="rect" title=" " alt="" coords="5,148,136,175"/>
<area shape="rect" href="pmu-emul_8c.html#a4ad466b516d040694a5b25e1c9eef495" title=" " alt="" coords="184,72,424,99"/>
<area shape="rect" href="pmu-emul_8c.html#a4d7ab7f63f8cc0a899fb45ebfeb851d6" title=" " alt="" coords="185,148,423,175"/>
<area shape="rect" href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6" title=" " alt="" coords="1511,47,1736,73"/>
<area shape="rect" href="pmu_8c.html#a928d4df1b401e9b41f92dd2aa2744529" title=" " alt="" coords="215,1067,393,1109"/>
<area shape="rect" href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a" title=" " alt="" coords="209,1180,399,1207"/>
<area shape="rect" href="pmu-emul_8c.html#af0e28bffa2a3c2ed1f5e6405b8284638" title=" " alt="" coords="1273,97,1444,124"/>
<area shape="rect" href="pmu-emul_8c.html#a0d8ed834b14cf4fb055173129b978fed" title=" " alt="" coords="493,689,661,730"/>
<area shape="rect" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6" title=" " alt="" coords="1784,339,1949,365"/>
<area shape="rect" href="pmu-emul_8c.html#a7f03e9b6af2651bb2bcc5471953076e6" title=" " alt="" coords="1035,721,1162,748"/>
<area shape="rect" href="pmu-emul_8c.html#a10ab89dbf42da547c48fc7a7ad9fc2f4" title=" " alt="" coords="1795,772,1939,799"/>
<area shape="rect" href="pmu-emul_8c.html#a25e7862bfe86692b32844810dbe3d6a3" title=" " alt="" coords="1287,772,1431,799"/>
<area shape="rect" href="pmu-emul_8c.html#a507cc0978c12a18465f8f5d3987db1f3" title=" " alt="" coords="1267,671,1450,697"/>
<area shape="rect" href="pmu-emul_8c.html#ab5c66bf309304f71e8b9450e35983307" title=" " alt="" coords="1543,453,1704,494"/>
<area shape="rect" href="pmu-emul_8c.html#a4d63c2f53e5548109d366a7e08be43ae" title=" " alt="" coords="1271,569,1446,596"/>
<area shape="rect" href="pmu-emul_8c.html#acb35ae097b8b697c84c55e519566fb6a" title=" " alt="" coords="1002,823,1195,849"/>
<area shape="rect" href="pmu-emul_8c.html#a1b6c636b23b4bafd5809116ae997c71d" title=" " alt="" coords="745,519,927,545"/>
<area shape="rect" href="pmu-emul_8c.html#ab7d35d75d609bb5ca09226888f2bd096" title=" " alt="" coords="747,881,925,908"/>
<area shape="rect" href="pmu-emul_8c.html#a4262ee1559f306136fd3b9374f3ae9d3" title=" " alt="" coords="1514,519,1733,545"/>
<area shape="rect" href="pmu-emul_8c.html#a94af260df1767fa3e538518c9e6436ff" title=" " alt="" coords="1529,569,1717,596"/>
<area shape="rect" href="pmu-emul_8c.html#a450695105665f1fe0e9d2db927315c5a" title=" " alt="" coords="1277,873,1440,900"/>
<area shape="rect" href="pmu-emul_8c.html#a07f848e7e5bf226439a5ee53c941eafc" title=" " alt="" coords="1272,402,1445,443"/>
<area shape="rect" href="pmu-emul_8c.html#a1698d35e55cb9b3545159fbfae5121d2" title=" " alt="" coords="991,519,1207,545"/>
<area shape="rect" href="pmu-emul_8c.html#a4115d1a923a4a0f28962cbd9dc0b2359" title=" " alt="" coords="1525,275,1722,301"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1037,300,1160,327"/>
<area shape="rect" href="arm_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1255,300,1463,327"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1282,249,1435,276"/>
<area shape="rect" href="pmu-emul_8c.html#aa8b667a7c4c404322fa2f145e656b4a4" title=" " alt="" coords="1011,874,1186,915"/>
<area shape="rect" href="pmu_8c.html#abf97c7a6b0768cbe660dea1a404bc79b" title=" " alt="" coords="493,1049,660,1076"/>
<area shape="rect" href="pmu_8c.html#ad4ce451e7a40f149ed26e7ce8d9700d4" title=" " alt="" coords="473,1151,680,1177"/>
<area shape="rect" href="pmu_8c.html#a98e21a6fa41b3490e6b1356884b18d5f" title=" " alt="" coords="475,1100,678,1127"/>
<area shape="rect" href="pmu_8c.html#a4fbb4321f3ca694d651e668bb064aa48" title=" " alt="" coords="729,1158,943,1199"/>
<area shape="rect" href="pmu_8c.html#a78259b4926a270689ce9846f2d661c5d" title=" " alt="" coords="753,1093,919,1134"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="472,1212,681,1239"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="753,1224,919,1251"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="1039,1199,1158,1225"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="1039,1249,1158,1276"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1295,1300,1423,1327"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1277,1199,1440,1225"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1283,1249,1434,1276"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1533,1249,1714,1276"/>
</map>
</div>

</div>
</div>
<a id="ae72951c06b3847653660caea2df30434"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae72951c06b3847653660caea2df30434">&#9670;&nbsp;</a></span>access_pmcr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_pmcr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00935">935</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;{</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    u64 val;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a">pmu_access_el0_disabled</a>(vcpu))</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>) {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment">         * Only update writeable bits of PMCR (continuing into</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment">         * kvm_pmu_handle_pmcr() as well)</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        val = <a class="code" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6">kvm_vcpu_read_pmcr</a>(vcpu);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        val &amp;= ~ARMV8_PMU_PMCR_MASK;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        val |= p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> &amp; ARMV8_PMU_PMCR_MASK;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="keywordflow">if</span> (!kvm_supports_32bit_el0())</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            val |= ARMV8_PMU_PMCR_LC;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <a class="code" href="pmu-emul_8c.html#a78f7241a751047d73f010db81b33a975">kvm_pmu_handle_pmcr</a>(vcpu, val);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <span class="comment">/* PMCR.P &amp; PMCR.C are RAZ */</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        val = <a class="code" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6">kvm_vcpu_read_pmcr</a>(vcpu)</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;              &amp; ~(ARMV8_PMU_PMCR_P | ARMV8_PMU_PMCR_C);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = val;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;}</div>
<div class="ttc" id="apmu-emul_8c_html_a78f7241a751047d73f010db81b33a975"><div class="ttname"><a href="pmu-emul_8c.html#a78f7241a751047d73f010db81b33a975">kvm_pmu_handle_pmcr</a></div><div class="ttdeci">void kvm_pmu_handle_pmcr(struct kvm_vcpu *vcpu, u64 val)</div><div class="ttdef"><b>Definition:</b> <a href="pmu-emul_8c_source.html#l00551">pmu-emul.c:551</a></div></div>
<div class="ttc" id="apmu-emul_8c_html_adf428205295b3bc4fec2e00fb2c50fa6"><div class="ttname"><a href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6">kvm_vcpu_read_pmcr</a></div><div class="ttdeci">u64 kvm_vcpu_read_pmcr(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="pmu-emul_8c_source.html#l01136">pmu-emul.c:1136</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ae72951c06b3847653660caea2df30434_cgraph.png" border="0" usemap="#asys__regs_8c_ae72951c06b3847653660caea2df30434_cgraph" alt=""/></div>
<map name="asys__regs_8c_ae72951c06b3847653660caea2df30434_cgraph" id="asys__regs_8c_ae72951c06b3847653660caea2df30434_cgraph">
<area shape="rect" title=" " alt="" coords="5,1392,112,1419"/>
<area shape="rect" href="pmu-emul_8c.html#a78f7241a751047d73f010db81b33a975" title=" " alt="" coords="166,1143,345,1169"/>
<area shape="rect" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6" title=" " alt="" coords="2257,936,2423,963"/>
<area shape="rect" href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a" title=" " alt="" coords="160,1443,351,1469"/>
<area shape="rect" href="pmu-emul_8c.html#a4ad466b516d040694a5b25e1c9eef495" title=" " alt="" coords="399,1104,639,1131"/>
<area shape="rect" href="pmu-emul_8c.html#af0e28bffa2a3c2ed1f5e6405b8284638" title=" " alt="" coords="1747,1037,1917,1064"/>
<area shape="rect" href="pmu-emul_8c.html#a4d7ab7f63f8cc0a899fb45ebfeb851d6" title=" " alt="" coords="687,947,924,973"/>
<area shape="rect" href="pmu-emul_8c.html#a73de9042a2fa76e79cc6d9103b914b59" title=" " alt="" coords="433,1030,604,1071"/>
<area shape="rect" href="pmu-emul_8c.html#a6347b7f1221bf9ecfeab143625e8391f" title=" " alt="" coords="709,279,901,305"/>
<area shape="rect" href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6" title=" " alt="" coords="1984,1189,2209,1216"/>
<area shape="rect" href="pmu_8c.html#a928d4df1b401e9b41f92dd2aa2744529" title=" " alt="" coords="429,1173,608,1214"/>
<area shape="rect" href="pmu-emul_8c.html#a0d8ed834b14cf4fb055173129b978fed" title=" " alt="" coords="995,406,1163,447"/>
<area shape="rect" href="pmu-emul_8c.html#a7f03e9b6af2651bb2bcc5471953076e6" title=" " alt="" coords="1509,413,1635,440"/>
<area shape="rect" href="pmu-emul_8c.html#a10ab89dbf42da547c48fc7a7ad9fc2f4" title=" " alt="" coords="2268,337,2412,364"/>
<area shape="rect" href="pmu-emul_8c.html#a25e7862bfe86692b32844810dbe3d6a3" title=" " alt="" coords="1760,363,1904,389"/>
<area shape="rect" href="pmu-emul_8c.html#a507cc0978c12a18465f8f5d3987db1f3" title=" " alt="" coords="1741,683,1923,709"/>
<area shape="rect" href="pmu-emul_8c.html#ab5c66bf309304f71e8b9450e35983307" title=" " alt="" coords="2016,726,2177,767"/>
<area shape="rect" href="pmu-emul_8c.html#a4d63c2f53e5548109d366a7e08be43ae" title=" " alt="" coords="1745,835,1919,861"/>
<area shape="rect" href="pmu-emul_8c.html#acb35ae097b8b697c84c55e519566fb6a" title=" " alt="" coords="1475,312,1669,339"/>
<area shape="rect" href="pmu-emul_8c.html#a1b6c636b23b4bafd5809116ae997c71d" title=" " alt="" coords="1233,523,1416,549"/>
<area shape="rect" href="pmu-emul_8c.html#ab7d35d75d609bb5ca09226888f2bd096" title=" " alt="" coords="1235,261,1414,288"/>
<area shape="rect" href="pmu-emul_8c.html#a4262ee1559f306136fd3b9374f3ae9d3" title=" " alt="" coords="1987,523,2206,549"/>
<area shape="rect" href="pmu-emul_8c.html#a94af260df1767fa3e538518c9e6436ff" title=" " alt="" coords="2003,835,2191,861"/>
<area shape="rect" href="pmu-emul_8c.html#a450695105665f1fe0e9d2db927315c5a" title=" " alt="" coords="1751,261,1913,288"/>
<area shape="rect" href="pmu-emul_8c.html#a07f848e7e5bf226439a5ee53c941eafc" title=" " alt="" coords="1745,515,1919,557"/>
<area shape="rect" href="pmu-emul_8c.html#a1698d35e55cb9b3545159fbfae5121d2" title=" " alt="" coords="1464,581,1680,608"/>
<area shape="rect" href="pmu-emul_8c.html#a4115d1a923a4a0f28962cbd9dc0b2359" title=" " alt="" coords="1998,936,2195,963"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1511,784,1633,811"/>
<area shape="rect" href="arm_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1728,885,1936,912"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1755,784,1909,811"/>
<area shape="rect" href="pmu-emul_8c.html#aa8b667a7c4c404322fa2f145e656b4a4" title=" " alt="" coords="1485,145,1659,186"/>
<area shape="rect" href="pmu_8c.html#abf97c7a6b0768cbe660dea1a404bc79b" title=" " alt="" coords="722,1189,889,1216"/>
<area shape="rect" href="pmu_8c.html#ad4ce451e7a40f149ed26e7ce8d9700d4" title=" " alt="" coords="702,1240,909,1267"/>
<area shape="rect" href="pmu_8c.html#a98e21a6fa41b3490e6b1356884b18d5f" title=" " alt="" coords="704,1139,907,1165"/>
<area shape="rect" href="pmu_8c.html#a4fbb4321f3ca694d651e668bb064aa48" title=" " alt="" coords="972,1145,1185,1186"/>
<area shape="rect" href="pmu_8c.html#a78259b4926a270689ce9846f2d661c5d" title=" " alt="" coords="996,1219,1161,1261"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="414,1443,623,1469"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="723,1468,888,1495"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="1019,1519,1138,1545"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="1019,1468,1138,1495"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1261,1443,1389,1469"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1243,1493,1406,1520"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1249,1544,1400,1571"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1481,1544,1663,1571"/>
</map>
</div>

</div>
</div>
<a id="a28f5c65ab2f26c33ee8a6be17c79e15c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28f5c65ab2f26c33ee8a6be17c79e15c">&#9670;&nbsp;</a></span>access_pminten()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_pminten </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01181">1181</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;{</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    u64 mask = <a class="code" href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6">kvm_pmu_valid_counter_mask</a>(vcpu);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12">check_pmu_access_disabled</a>(vcpu, 0))</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>) {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        u64 val = p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> &amp; mask;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#a2c409db28db7235af0c8e5b6d7dfdc0f">Op2</a> &amp; 0x1)</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;            <span class="comment">/* accessing PMINTENSET_EL1 */</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            __vcpu_sys_reg(vcpu, PMINTENSET_EL1) |= val;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            <span class="comment">/* accessing PMINTENCLR_EL1 */</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            __vcpu_sys_reg(vcpu, PMINTENSET_EL1) &amp;= ~val;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = __vcpu_sys_reg(vcpu, PMINTENSET_EL1);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    }</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160; </div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a6825971b50ae688a266906875f787c12"><div class="ttname"><a href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12">check_pmu_access_disabled</a></div><div class="ttdeci">static bool check_pmu_access_disabled(struct kvm_vcpu *vcpu, u64 flags)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00904">sys_regs.c:904</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a28f5c65ab2f26c33ee8a6be17c79e15c_cgraph.png" border="0" usemap="#asys__regs_8c_a28f5c65ab2f26c33ee8a6be17c79e15c_cgraph" alt=""/></div>
<map name="asys__regs_8c_a28f5c65ab2f26c33ee8a6be17c79e15c_cgraph" id="asys__regs_8c_a28f5c65ab2f26c33ee8a6be17c79e15c_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,132,83"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="188,31,397,57"/>
<area shape="rect" href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6" title=" " alt="" coords="180,81,405,108"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="453,31,619,57"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="667,5,785,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="667,56,785,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="851,5,979,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="833,56,996,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="839,107,990,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1044,107,1225,133"/>
<area shape="rect" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6" title=" " alt="" coords="453,81,619,108"/>
</map>
</div>

</div>
</div>
<a id="a8de3a35de8563dfb8655da10034bc411"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8de3a35de8563dfb8655da10034bc411">&#9670;&nbsp;</a></span>access_pmovs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_pmovs </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01205">1205</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;{</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    u64 mask = <a class="code" href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6">kvm_pmu_valid_counter_mask</a>(vcpu);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a">pmu_access_el0_disabled</a>(vcpu))</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>) {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a> &amp; 0x2)</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;            <span class="comment">/* accessing PMOVSSET_EL0 */</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;            __vcpu_sys_reg(vcpu, PMOVSSET_EL0) |= (p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> &amp; mask);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            <span class="comment">/* accessing PMOVSCLR_EL0 */</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;            __vcpu_sys_reg(vcpu, PMOVSSET_EL0) &amp;= ~(p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> &amp; mask);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = __vcpu_sys_reg(vcpu, PMOVSSET_EL0);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    }</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;}</div>
<div class="ttc" id="astructsys__reg__desc_html_a470f57057f534f266f63561efa10ca8d"><div class="ttname"><a href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">sys_reg_desc::CRm</a></div><div class="ttdeci">u8 CRm</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00066">sys_regs.h:66</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a8de3a35de8563dfb8655da10034bc411_cgraph.png" border="0" usemap="#asys__regs_8c_a8de3a35de8563dfb8655da10034bc411_cgraph" alt=""/></div>
<map name="asys__regs_8c_a8de3a35de8563dfb8655da10034bc411_cgraph" id="asys__regs_8c_a8de3a35de8563dfb8655da10034bc411_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,123,57"/>
<area shape="rect" href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6" title=" " alt="" coords="171,5,396,32"/>
<area shape="rect" href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a" title=" " alt="" coords="188,56,379,83"/>
<area shape="rect" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6" title=" " alt="" coords="466,5,631,32"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="444,56,653,83"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="701,56,867,83"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="915,31,1033,57"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="915,81,1033,108"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1099,31,1227,57"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1081,81,1244,108"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1087,132,1238,159"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1292,132,1473,159"/>
</map>
</div>

</div>
</div>
<a id="afce04c034ad223e02664e84c04686d8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afce04c034ad223e02664e84c04686d8e">&#9670;&nbsp;</a></span>access_pmselr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_pmselr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00964">964</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;{</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#ae4374d3eb2bf5e2fb0db220979fba3a6">pmu_access_event_counter_el0_disabled</a>(vcpu))</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        __vcpu_sys_reg(vcpu, PMSELR_EL0) = p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a>;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="comment">/* return PMSELR.SEL field */</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = __vcpu_sys_reg(vcpu, PMSELR_EL0)</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                &amp; ARMV8_PMU_COUNTER_MASK;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_ae4374d3eb2bf5e2fb0db220979fba3a6"><div class="ttname"><a href="sys__regs_8c.html#ae4374d3eb2bf5e2fb0db220979fba3a6">pmu_access_event_counter_el0_disabled</a></div><div class="ttdeci">static bool pmu_access_event_counter_el0_disabled(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00930">sys_regs.c:930</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_afce04c034ad223e02664e84c04686d8e_cgraph.png" border="0" usemap="#asys__regs_8c_afce04c034ad223e02664e84c04686d8e_cgraph" alt=""/></div>
<map name="asys__regs_8c_afce04c034ad223e02664e84c04686d8e_cgraph" id="asys__regs_8c_afce04c034ad223e02664e84c04686d8e_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,124,57"/>
<area shape="rect" href="sys__regs_8c.html#ae4374d3eb2bf5e2fb0db220979fba3a6" title=" " alt="" coords="172,23,375,65"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="423,31,632,57"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="680,31,845,57"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="893,5,1012,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="893,56,1012,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1077,5,1205,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1060,56,1223,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1066,107,1217,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1271,107,1452,133"/>
</map>
</div>

</div>
</div>
<a id="a51b08d9bb2f9a5a87955b5554df3d8e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51b08d9bb2f9a5a87955b5554df3d8e2">&#9670;&nbsp;</a></span>access_pmswinc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_pmswinc </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01227">1227</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;{</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    u64 mask;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a1a08aab10b08e1c7baa994c3b9e2f4fc">read_from_write_only</a>(vcpu, p, r);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#a5fa2e3c67f0e39e5bffab36a8ad01c94">pmu_write_swinc_el0_disabled</a>(vcpu))</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    mask = <a class="code" href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6">kvm_pmu_valid_counter_mask</a>(vcpu);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <a class="code" href="pmu-emul_8c.html#ad8e8d02257514c13e74129b61ecca713">kvm_pmu_software_increment</a>(vcpu, p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> &amp; mask);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;}</div>
<div class="ttc" id="apmu-emul_8c_html_ad8e8d02257514c13e74129b61ecca713"><div class="ttname"><a href="pmu-emul_8c.html#ad8e8d02257514c13e74129b61ecca713">kvm_pmu_software_increment</a></div><div class="ttdeci">void kvm_pmu_software_increment(struct kvm_vcpu *vcpu, u64 val)</div><div class="ttdef"><b>Definition:</b> <a href="pmu-emul_8c_source.html#l00541">pmu-emul.c:541</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a5fa2e3c67f0e39e5bffab36a8ad01c94"><div class="ttname"><a href="sys__regs_8c.html#a5fa2e3c67f0e39e5bffab36a8ad01c94">pmu_write_swinc_el0_disabled</a></div><div class="ttdeci">static bool pmu_write_swinc_el0_disabled(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00920">sys_regs.c:920</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a51b08d9bb2f9a5a87955b5554df3d8e2_cgraph.png" border="0" usemap="#asys__regs_8c_a51b08d9bb2f9a5a87955b5554df3d8e2_cgraph" alt=""/></div>
<map name="asys__regs_8c_a51b08d9bb2f9a5a87955b5554df3d8e2_cgraph" id="asys__regs_8c_a51b08d9bb2f9a5a87955b5554df3d8e2_cgraph">
<area shape="rect" title=" " alt="" coords="5,452,136,479"/>
<area shape="rect" href="pmu-emul_8c.html#ad8e8d02257514c13e74129b61ecca713" title=" " alt="" coords="184,289,407,316"/>
<area shape="rect" href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6" title=" " alt="" coords="455,424,680,451"/>
<area shape="rect" href="sys__regs_8c.html#a5fa2e3c67f0e39e5bffab36a8ad01c94" title=" " alt="" coords="214,474,377,515"/>
<area shape="rect" href="sys__regs_8c.html#a1a08aab10b08e1c7baa994c3b9e2f4fc" title=" " alt="" coords="213,540,377,567"/>
<area shape="rect" href="pmu-emul_8c.html#a1698d35e55cb9b3545159fbfae5121d2" title=" " alt="" coords="459,208,675,235"/>
<area shape="rect" href="pmu-emul_8c.html#a507cc0978c12a18465f8f5d3987db1f3" title=" " alt="" coords="728,157,911,184"/>
<area shape="rect" href="pmu-emul_8c.html#a450695105665f1fe0e9d2db927315c5a" title=" " alt="" coords="738,208,901,235"/>
<area shape="rect" href="pmu-emul_8c.html#a4262ee1559f306136fd3b9374f3ae9d3" title=" " alt="" coords="959,288,1177,315"/>
<area shape="rect" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6" title=" " alt="" coords="1225,376,1391,403"/>
<area shape="rect" href="pmu-emul_8c.html#a25e7862bfe86692b32844810dbe3d6a3" title=" " alt="" coords="996,5,1140,32"/>
<area shape="rect" href="pmu-emul_8c.html#a07f848e7e5bf226439a5ee53c941eafc" title=" " alt="" coords="733,310,906,351"/>
<area shape="rect" href="pmu-emul_8c.html#a4d63c2f53e5548109d366a7e08be43ae" title=" " alt="" coords="732,56,907,83"/>
<area shape="rect" href="pmu-emul_8c.html#af0e28bffa2a3c2ed1f5e6405b8284638" title=" " alt="" coords="734,107,905,133"/>
<area shape="rect" href="pmu-emul_8c.html#a10ab89dbf42da547c48fc7a7ad9fc2f4" title=" " alt="" coords="1236,147,1380,173"/>
<area shape="rect" href="pmu-emul_8c.html#a94af260df1767fa3e538518c9e6436ff" title=" " alt="" coords="974,56,1162,83"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="463,483,672,509"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="737,484,902,511"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="1009,533,1127,560"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="1009,483,1127,509"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1244,533,1372,560"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1227,432,1389,459"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1233,483,1383,509"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1439,483,1620,509"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="528,536,607,563"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="747,536,892,563"/>
</map>
</div>

</div>
</div>
<a id="a02a036e9adee46363c44fc787cd30cc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02a036e9adee46363c44fc787cd30cc4">&#9670;&nbsp;</a></span>access_pmu_evcntr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_pmu_evcntr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01031">1031</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;{</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    u64 idx = ~0UL;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#a2788b87d4da525a57ff87f86ed40fb56">CRn</a> == 9 &amp;&amp; r-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a> == 13) {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#a2c409db28db7235af0c8e5b6d7dfdc0f">Op2</a> == 2) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            <span class="comment">/* PMXEVCNTR_EL0 */</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#ae4374d3eb2bf5e2fb0db220979fba3a6">pmu_access_event_counter_el0_disabled</a>(vcpu))</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160; </div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            idx = __vcpu_sys_reg(vcpu, PMSELR_EL0)</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                  &amp; ARMV8_PMU_COUNTER_MASK;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#a2c409db28db7235af0c8e5b6d7dfdc0f">Op2</a> == 0) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            <span class="comment">/* PMCCNTR_EL0 */</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#a6b0bb9716262e47f62b72b0622bc3362">pmu_access_cycle_counter_el0_disabled</a>(vcpu))</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            idx = ARMV8_PMU_CYCLE_IDX;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#a2788b87d4da525a57ff87f86ed40fb56">CRn</a> == 0 &amp;&amp; r-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a> == 9) {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <span class="comment">/* PMCCNTR */</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#ae4374d3eb2bf5e2fb0db220979fba3a6">pmu_access_event_counter_el0_disabled</a>(vcpu))</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        idx = ARMV8_PMU_CYCLE_IDX;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#a2788b87d4da525a57ff87f86ed40fb56">CRn</a> == 14 &amp;&amp; (r-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a> &amp; 12) == 8) {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <span class="comment">/* PMEVCNTRn_EL0 */</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#ae4374d3eb2bf5e2fb0db220979fba3a6">pmu_access_event_counter_el0_disabled</a>(vcpu))</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        idx = ((r-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a> &amp; 3) &lt;&lt; 3) | (r-&gt;<a class="code" href="structsys__reg__desc.html#a2c409db28db7235af0c8e5b6d7dfdc0f">Op2</a> &amp; 7);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    }</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="comment">/* Catch any decoding mistake */</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    WARN_ON(idx == ~0UL);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160; </div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="sys__regs_8c.html#ad9997b5fac75ffbb762473aefcb99d6b">pmu_counter_idx_valid</a>(vcpu, idx))</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>) {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a">pmu_access_el0_disabled</a>(vcpu))</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <a class="code" href="pmu-emul_8c.html#a73de9042a2fa76e79cc6d9103b914b59">kvm_pmu_set_counter_value</a>(vcpu, idx, p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a>);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = <a class="code" href="pmu-emul_8c.html#a57b710f17cc1fc314f8f1e297bcb85f3">kvm_pmu_get_counter_value</a>(vcpu, idx);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    }</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;}</div>
<div class="ttc" id="apmu-emul_8c_html_a57b710f17cc1fc314f8f1e297bcb85f3"><div class="ttname"><a href="pmu-emul_8c.html#a57b710f17cc1fc314f8f1e297bcb85f3">kvm_pmu_get_counter_value</a></div><div class="ttdeci">u64 kvm_pmu_get_counter_value(struct kvm_vcpu *vcpu, u64 select_idx)</div><div class="ttdef"><b>Definition:</b> <a href="pmu-emul_8c_source.html#l00141">pmu-emul.c:141</a></div></div>
<div class="ttc" id="apmu-emul_8c_html_a73de9042a2fa76e79cc6d9103b914b59"><div class="ttname"><a href="pmu-emul_8c.html#a73de9042a2fa76e79cc6d9103b914b59">kvm_pmu_set_counter_value</a></div><div class="ttdeci">void kvm_pmu_set_counter_value(struct kvm_vcpu *vcpu, u64 select_idx, u64 val)</div><div class="ttdef"><b>Definition:</b> <a href="pmu-emul_8c_source.html#l00182">pmu-emul.c:182</a></div></div>
<div class="ttc" id="astructsys__reg__desc_html_a2788b87d4da525a57ff87f86ed40fb56"><div class="ttname"><a href="structsys__reg__desc.html#a2788b87d4da525a57ff87f86ed40fb56">sys_reg_desc::CRn</a></div><div class="ttdeci">u8 CRn</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00065">sys_regs.h:65</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a6b0bb9716262e47f62b72b0622bc3362"><div class="ttname"><a href="sys__regs_8c.html#a6b0bb9716262e47f62b72b0622bc3362">pmu_access_cycle_counter_el0_disabled</a></div><div class="ttdeci">static bool pmu_access_cycle_counter_el0_disabled(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00925">sys_regs.c:925</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ad9997b5fac75ffbb762473aefcb99d6b"><div class="ttname"><a href="sys__regs_8c.html#ad9997b5fac75ffbb762473aefcb99d6b">pmu_counter_idx_valid</a></div><div class="ttdeci">static bool pmu_counter_idx_valid(struct kvm_vcpu *vcpu, u64 idx)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01001">sys_regs.c:1001</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a02a036e9adee46363c44fc787cd30cc4_cgraph.png" border="0" usemap="#asys__regs_8c_a02a036e9adee46363c44fc787cd30cc4_cgraph" alt=""/></div>
<map name="asys__regs_8c_a02a036e9adee46363c44fc787cd30cc4_cgraph" id="asys__regs_8c_a02a036e9adee46363c44fc787cd30cc4_cgraph">
<area shape="rect" title=" " alt="" coords="5,1054,156,1081"/>
<area shape="rect" href="pmu-emul_8c.html#a57b710f17cc1fc314f8f1e297bcb85f3" title=" " alt="" coords="934,9,1105,51"/>
<area shape="rect" href="pmu-emul_8c.html#a73de9042a2fa76e79cc6d9103b914b59" title=" " alt="" coords="220,385,391,427"/>
<area shape="rect" href="sys__regs_8c.html#a6b0bb9716262e47f62b72b0622bc3362" title=" " alt="" coords="206,1076,405,1117"/>
<area shape="rect" href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a" title=" " alt="" coords="210,1142,401,1169"/>
<area shape="rect" href="sys__regs_8c.html#ae4374d3eb2bf5e2fb0db220979fba3a6" title=" " alt="" coords="204,1193,407,1235"/>
<area shape="rect" href="sys__regs_8c.html#ad9997b5fac75ffbb762473aefcb99d6b" title=" " alt="" coords="473,1121,646,1147"/>
<area shape="rect" href="pmu-emul_8c.html#acb35ae097b8b697c84c55e519566fb6a" title=" " alt="" coords="1170,177,1363,203"/>
<area shape="rect" href="pmu-emul_8c.html#af0e28bffa2a3c2ed1f5e6405b8284638" title=" " alt="" coords="1441,75,1612,102"/>
<area shape="rect" href="pmu-emul_8c.html#a450695105665f1fe0e9d2db927315c5a" title=" " alt="" coords="1445,227,1608,254"/>
<area shape="rect" href="pmu-emul_8c.html#a25e7862bfe86692b32844810dbe3d6a3" title=" " alt="" coords="1455,446,1599,473"/>
<area shape="rect" href="pmu-emul_8c.html#a10ab89dbf42da547c48fc7a7ad9fc2f4" title=" " alt="" coords="1956,475,2100,502"/>
<area shape="rect" href="pmu-emul_8c.html#a6347b7f1221bf9ecfeab143625e8391f" title=" " alt="" coords="463,393,655,419"/>
<area shape="rect" href="pmu-emul_8c.html#a0d8ed834b14cf4fb055173129b978fed" title=" " alt="" coords="712,464,880,505"/>
<area shape="rect" href="pmu-emul_8c.html#aa8b667a7c4c404322fa2f145e656b4a4" title=" " alt="" coords="1179,329,1354,371"/>
<area shape="rect" href="pmu-emul_8c.html#a7f03e9b6af2651bb2bcc5471953076e6" title=" " alt="" coords="1203,547,1330,574"/>
<area shape="rect" href="pmu-emul_8c.html#a507cc0978c12a18465f8f5d3987db1f3" title=" " alt="" coords="1435,817,1618,843"/>
<area shape="rect" href="pmu-emul_8c.html#ab5c66bf309304f71e8b9450e35983307" title=" " alt="" coords="1707,497,1869,539"/>
<area shape="rect" href="pmu-emul_8c.html#a4d63c2f53e5548109d366a7e08be43ae" title=" " alt="" coords="1439,598,1614,625"/>
<area shape="rect" href="pmu-emul_8c.html#a1b6c636b23b4bafd5809116ae997c71d" title=" " alt="" coords="928,707,1111,734"/>
<area shape="rect" href="pmu-emul_8c.html#ab7d35d75d609bb5ca09226888f2bd096" title=" " alt="" coords="930,278,1109,305"/>
<area shape="rect" href="pmu-emul_8c.html#a4262ee1559f306136fd3b9374f3ae9d3" title=" " alt="" coords="1679,649,1897,675"/>
<area shape="rect" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6" title=" " alt="" coords="1945,766,2111,793"/>
<area shape="rect" href="pmu-emul_8c.html#a94af260df1767fa3e538518c9e6436ff" title=" " alt="" coords="1694,598,1882,625"/>
<area shape="rect" href="pmu-emul_8c.html#a07f848e7e5bf226439a5ee53c941eafc" title=" " alt="" coords="1440,700,1613,741"/>
<area shape="rect" href="pmu-emul_8c.html#a1698d35e55cb9b3545159fbfae5121d2" title=" " alt="" coords="1159,649,1375,675"/>
<area shape="rect" href="pmu-emul_8c.html#a4115d1a923a4a0f28962cbd9dc0b2359" title=" " alt="" coords="1689,1070,1887,1097"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1205,918,1328,945"/>
<area shape="rect" href="arm_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1423,969,1631,995"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1450,918,1603,945"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="455,1171,664,1198"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="713,1171,879,1198"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="960,1222,1079,1249"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="960,1171,1079,1198"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1203,1273,1331,1299"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1185,1171,1348,1198"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1191,1222,1342,1249"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1436,1222,1617,1249"/>
</map>
</div>

</div>
</div>
<a id="ae0260b12f95bb7f271037d3e4b18b22b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0260b12f95bb7f271037d3e4b18b22b">&#9670;&nbsp;</a></span>access_pmu_evtyper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_pmu_evtyper </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01084">1084</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;{</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    u64 idx, reg;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a">pmu_access_el0_disabled</a>(vcpu))</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#a2788b87d4da525a57ff87f86ed40fb56">CRn</a> == 9 &amp;&amp; r-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a> == 13 &amp;&amp; r-&gt;<a class="code" href="structsys__reg__desc.html#a2c409db28db7235af0c8e5b6d7dfdc0f">Op2</a> == 1) {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="comment">/* PMXEVTYPER_EL0 */</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        idx = __vcpu_sys_reg(vcpu, PMSELR_EL0) &amp; ARMV8_PMU_COUNTER_MASK;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        reg = PMEVTYPER0_EL0 + idx;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#a2788b87d4da525a57ff87f86ed40fb56">CRn</a> == 14 &amp;&amp; (r-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a> &amp; 12) == 12) {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        idx = ((r-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a> &amp; 3) &lt;&lt; 3) | (r-&gt;<a class="code" href="structsys__reg__desc.html#a2c409db28db7235af0c8e5b6d7dfdc0f">Op2</a> &amp; 7);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">if</span> (idx == ARMV8_PMU_CYCLE_IDX)</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            reg = PMCCFILTR_EL0;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;            <span class="comment">/* PMEVTYPERn_EL0 */</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            reg = PMEVTYPER0_EL0 + idx;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        BUG();</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="sys__regs_8c.html#ad9997b5fac75ffbb762473aefcb99d6b">pmu_counter_idx_valid</a>(vcpu, idx))</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>) {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <a class="code" href="pmu-emul_8c.html#a22f1aab98d3f43c3b6d5a33d1886d474">kvm_pmu_set_counter_event_type</a>(vcpu, p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a>, idx);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        <a class="code" href="pmu_8c.html#a928d4df1b401e9b41f92dd2aa2744529">kvm_vcpu_pmu_restore_guest</a>(vcpu);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = __vcpu_sys_reg(vcpu, reg);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;}</div>
<div class="ttc" id="apmu-emul_8c_html_a22f1aab98d3f43c3b6d5a33d1886d474"><div class="ttname"><a href="pmu-emul_8c.html#a22f1aab98d3f43c3b6d5a33d1886d474">kvm_pmu_set_counter_event_type</a></div><div class="ttdeci">void kvm_pmu_set_counter_event_type(struct kvm_vcpu *vcpu, u64 data, u64 select_idx)</div><div class="ttdef"><b>Definition:</b> <a href="pmu-emul_8c_source.html#l00678">pmu-emul.c:678</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ae0260b12f95bb7f271037d3e4b18b22b_cgraph.png" border="0" usemap="#asys__regs_8c_ae0260b12f95bb7f271037d3e4b18b22b_cgraph" alt=""/></div>
<map name="asys__regs_8c_ae0260b12f95bb7f271037d3e4b18b22b_cgraph" id="asys__regs_8c_ae0260b12f95bb7f271037d3e4b18b22b_cgraph">
<area shape="rect" title=" " alt="" coords="5,1012,164,1039"/>
<area shape="rect" href="pmu-emul_8c.html#a22f1aab98d3f43c3b6d5a33d1886d474" title=" " alt="" coords="222,507,393,549"/>
<area shape="rect" href="pmu_8c.html#a928d4df1b401e9b41f92dd2aa2744529" title=" " alt="" coords="218,1110,397,1151"/>
<area shape="rect" href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a" title=" " alt="" coords="212,1037,403,1064"/>
<area shape="rect" href="sys__regs_8c.html#ad9997b5fac75ffbb762473aefcb99d6b" title=" " alt="" coords="469,987,642,1013"/>
<area shape="rect" href="pmu-emul_8c.html#a507cc0978c12a18465f8f5d3987db1f3" title=" " alt="" coords="1246,464,1429,491"/>
<area shape="rect" href="pmu-emul_8c.html#a0d8ed834b14cf4fb055173129b978fed" title=" " alt="" coords="471,381,639,422"/>
<area shape="rect" href="pmu-emul_8c.html#af0e28bffa2a3c2ed1f5e6405b8284638" title=" " alt="" coords="1252,733,1423,760"/>
<area shape="rect" href="pmu-emul_8c.html#a1c22f46a919c0c1d2de50384f7a33ed4" title=" " alt="" coords="721,211,908,237"/>
<area shape="rect" href="pmu-emul_8c.html#a7f03e9b6af2651bb2bcc5471953076e6" title=" " alt="" coords="1014,413,1141,440"/>
<area shape="rect" href="pmu-emul_8c.html#a10ab89dbf42da547c48fc7a7ad9fc2f4" title=" " alt="" coords="1767,363,1911,389"/>
<area shape="rect" href="pmu-emul_8c.html#a25e7862bfe86692b32844810dbe3d6a3" title=" " alt="" coords="1265,363,1409,389"/>
<area shape="rect" href="pmu-emul_8c.html#ab5c66bf309304f71e8b9450e35983307" title=" " alt="" coords="1518,722,1679,763"/>
<area shape="rect" href="pmu-emul_8c.html#a4d63c2f53e5548109d366a7e08be43ae" title=" " alt="" coords="1250,312,1425,339"/>
<area shape="rect" href="pmu-emul_8c.html#acb35ae097b8b697c84c55e519566fb6a" title=" " alt="" coords="981,211,1174,237"/>
<area shape="rect" href="pmu-emul_8c.html#a1b6c636b23b4bafd5809116ae997c71d" title=" " alt="" coords="723,616,906,643"/>
<area shape="rect" href="pmu-emul_8c.html#ab7d35d75d609bb5ca09226888f2bd096" title=" " alt="" coords="725,152,904,179"/>
<area shape="rect" href="pmu-emul_8c.html#a4262ee1559f306136fd3b9374f3ae9d3" title=" " alt="" coords="1489,515,1708,541"/>
<area shape="rect" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6" title=" " alt="" coords="1756,729,1921,756"/>
<area shape="rect" href="pmu-emul_8c.html#a94af260df1767fa3e538518c9e6436ff" title=" " alt="" coords="1505,312,1693,339"/>
<area shape="rect" href="pmu-emul_8c.html#a450695105665f1fe0e9d2db927315c5a" title=" " alt="" coords="1256,261,1419,288"/>
<area shape="rect" href="pmu-emul_8c.html#a07f848e7e5bf226439a5ee53c941eafc" title=" " alt="" coords="1251,667,1424,709"/>
<area shape="rect" href="pmu-emul_8c.html#a1698d35e55cb9b3545159fbfae5121d2" title=" " alt="" coords="969,565,1185,592"/>
<area shape="rect" href="pmu-emul_8c.html#a4115d1a923a4a0f28962cbd9dc0b2359" title=" " alt="" coords="1500,835,1697,861"/>
<area shape="rect" href="kvm__main_8c.html#ac82f28c95da4a0cc137c5a37f08d1f44" title=" " alt="" coords="1016,835,1139,861"/>
<area shape="rect" href="arm_8c.html#a42500cdc8706ebf4fa3ec21645530097" title=" " alt="" coords="1233,885,1441,912"/>
<area shape="rect" href="kvm__main_8c.html#ad9f0140eebcdef9a9ebae54431d2fba5" title=" " alt="" coords="1261,835,1414,861"/>
<area shape="rect" href="pmu-emul_8c.html#aa8b667a7c4c404322fa2f145e656b4a4" title=" " alt="" coords="990,145,1165,186"/>
<area shape="rect" href="pmu_8c.html#abf97c7a6b0768cbe660dea1a404bc79b" title=" " alt="" coords="472,1088,639,1115"/>
<area shape="rect" href="pmu_8c.html#ad4ce451e7a40f149ed26e7ce8d9700d4" title=" " alt="" coords="452,1139,659,1165"/>
<area shape="rect" href="pmu_8c.html#a98e21a6fa41b3490e6b1356884b18d5f" title=" " alt="" coords="454,1189,657,1216"/>
<area shape="rect" href="pmu_8c.html#a4fbb4321f3ca694d651e668bb064aa48" title=" " alt="" coords="708,1123,921,1165"/>
<area shape="rect" href="pmu_8c.html#a78259b4926a270689ce9846f2d661c5d" title=" " alt="" coords="732,1189,897,1230"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="451,1037,660,1064"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="732,1037,897,1064"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="1018,1088,1137,1115"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="1018,1037,1137,1064"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1273,1088,1401,1115"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1256,1139,1419,1165"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1262,1037,1413,1064"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1508,1037,1689,1064"/>
</map>
</div>

</div>
</div>
<a id="a9a10ea607557de6d05bfd42dab2666cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a10ea607557de6d05bfd42dab2666cd">&#9670;&nbsp;</a></span>access_pmuserenr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_pmuserenr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01243">1243</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;{</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>) {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <span class="keywordflow">if</span> (!vcpu_mode_priv(vcpu)) {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        }</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        __vcpu_sys_reg(vcpu, PMUSERENR_EL0) =</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                   p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> &amp; ARMV8_PMU_USERENR_MASK;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = __vcpu_sys_reg(vcpu, PMUSERENR_EL0)</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                &amp; ARMV8_PMU_USERENR_MASK;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    }</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a9a10ea607557de6d05bfd42dab2666cd_cgraph.png" border="0" usemap="#asys__regs_8c_a9a10ea607557de6d05bfd42dab2666cd_cgraph" alt=""/></div>
<map name="asys__regs_8c_a9a10ea607557de6d05bfd42dab2666cd_cgraph" id="asys__regs_8c_a9a10ea607557de6d05bfd42dab2666cd_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,148,57"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="196,31,361,57"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="409,5,528,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="409,56,528,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="593,5,721,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="576,56,739,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="582,107,733,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="787,107,968,133"/>
</map>
</div>

</div>
</div>
<a id="a7a2ff6ba062956e637ca0bf295bedd0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a2ff6ba062956e637ca0bf295bedd0c">&#9670;&nbsp;</a></span>access_rw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_rw </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00307">307</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;{</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <a class="code" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b">vcpu_write_sys_reg</a>(vcpu, p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a>, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = <a class="code" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa">vcpu_read_sys_reg</a>(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a7a2ff6ba062956e637ca0bf295bedd0c_cgraph.png" border="0" usemap="#asys__regs_8c_a7a2ff6ba062956e637ca0bf295bedd0c_cgraph" alt=""/></div>
<map name="asys__regs_8c_a7a2ff6ba062956e637ca0bf295bedd0c_cgraph" id="asys__regs_8c_a7a2ff6ba062956e637ca0bf295bedd0c_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,95,57"/>
<area shape="rect" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa" title=" " alt="" coords="145,5,291,32"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="143,56,293,83"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="341,31,523,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a7a2ff6ba062956e637ca0bf295bedd0c_icgraph.png" border="0" usemap="#asys__regs_8c_a7a2ff6ba062956e637ca0bf295bedd0c_icgraph" alt=""/></div>
<map name="asys__regs_8c_a7a2ff6ba062956e637ca0bf295bedd0c_icgraph" id="asys__regs_8c_a7a2ff6ba062956e637ca0bf295bedd0c_icgraph">
<area shape="rect" title=" " alt="" coords="184,5,273,32"/>
<area shape="rect" href="sys__regs_8c.html#a6fedb91c5166f9fa4a626ff95c03cacb" title=" " alt="" coords="5,5,136,32"/>
</map>
</div>

</div>
</div>
<a id="ae6eb641b9af98b7c2a6492f64a9a9aa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6eb641b9af98b7c2a6492f64a9a9aa7">&#9670;&nbsp;</a></span>access_sp_el1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_sp_el1 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02141">2141</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;{</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;        __vcpu_sys_reg(vcpu, SP_EL1) = p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a>;</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = __vcpu_sys_reg(vcpu, SP_EL1);</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160; </div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aba77a75926c6391c8879d03096c381a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba77a75926c6391c8879d03096c381a8">&#9670;&nbsp;</a></span>access_spsr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_spsr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02165">2165</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;{</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        __vcpu_sys_reg(vcpu, SPSR_EL1) = p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a>;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = __vcpu_sys_reg(vcpu, SPSR_EL1);</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160; </div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a01047bae0a6b3c1dbee152925e318110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01047bae0a6b3c1dbee152925e318110">&#9670;&nbsp;</a></span>access_vm_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool access_vm_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00378">378</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;{</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordtype">bool</span> was_enabled = vcpu_has_cache_enabled(vcpu);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    u64 val, mask, shift;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    BUG_ON(!p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe">get_access_mask</a>(r, &amp;mask, &amp;shift);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">if</span> (~mask) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        val = <a class="code" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa">vcpu_read_sys_reg</a>(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        val &amp;= ~mask;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        val = 0;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    val |= (p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> &amp; (mask &gt;&gt; shift)) &lt;&lt; shift;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b">vcpu_write_sys_reg</a>(vcpu, val, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="mmu_8c.html#a9b63a0026cbf8d3884da7ec58add5c0c">kvm_toggle_cache</a>(vcpu, was_enabled);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;}</div>
<div class="ttc" id="ammu_8c_html_a9b63a0026cbf8d3884da7ec58add5c0c"><div class="ttname"><a href="mmu_8c.html#a9b63a0026cbf8d3884da7ec58add5c0c">kvm_toggle_cache</a></div><div class="ttdeci">void kvm_toggle_cache(struct kvm_vcpu *vcpu, bool was_enabled)</div><div class="ttdef"><b>Definition:</b> <a href="mmu_8c_source.html#l02123">mmu.c:2123</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a01047bae0a6b3c1dbee152925e318110_cgraph.png" border="0" usemap="#asys__regs_8c_a01047bae0a6b3c1dbee152925e318110_cgraph" alt=""/></div>
<map name="asys__regs_8c_a01047bae0a6b3c1dbee152925e318110_cgraph" id="asys__regs_8c_a01047bae0a6b3c1dbee152925e318110_cgraph">
<area shape="rect" title=" " alt="" coords="5,183,128,209"/>
<area shape="rect" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe" title=" " alt="" coords="183,107,320,133"/>
<area shape="rect" href="mmu_8c.html#a9b63a0026cbf8d3884da7ec58add5c0c" title=" " alt="" coords="179,157,323,184"/>
<area shape="rect" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa" title=" " alt="" coords="178,208,325,235"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="176,259,327,285"/>
<area shape="rect" href="mmu_8c.html#ae8fca1b7a8029fee45816e7e7eccdfd1" title=" " alt="" coords="399,157,531,184"/>
<area shape="rect" href="mmu_8c.html#a3a27465e35c31f661ad2b811ae347c23" title=" " alt="" coords="604,157,773,184"/>
<area shape="rect" href="pgtable_8c.html#a2d2b49cec6003de272a8894e958a9ee3" title=" " alt="" coords="821,150,980,191"/>
<area shape="rect" href="pgtable_8c.html#a2a6ed7242e033a1f32360cbe0e5c2281" title=" " alt="" coords="1033,107,1178,133"/>
<area shape="rect" href="pgtable_8c.html#ad7410d161ea1f583ed8fe92581038069" title=" " alt="" coords="1028,157,1183,184"/>
<area shape="rect" href="pgtable_8c.html#a384e9e59a45ff248ae5915118664c18a" title=" " alt="" coords="1042,208,1169,235"/>
<area shape="rect" href="pgtable_8c.html#ac74b17e065ba3e68a10f28b594d21e40" title=" " alt="" coords="1238,107,1390,133"/>
<area shape="rect" href="pgtable_8c.html#a4819ac158aa1b43844c3a3b5e5a82ac3" title=" " alt="" coords="1445,56,1604,83"/>
<area shape="rect" href="pgtable_8c.html#af01e17f60125c9e093e082e70a43f362" title=" " alt="" coords="1451,107,1599,133"/>
<area shape="rect" href="pgtable_8c.html#a5aa0f5d1f7f2540fea515eb0b198caba" title=" " alt="" coords="1652,56,1808,83"/>
<area shape="rect" href="pgtable_8c.html#ac1a7f01d8f40491309c052bdea628e06" title=" " alt="" coords="1663,107,1797,133"/>
<area shape="rect" href="pgtable_8c.html#a98293d8aa53e4ee188e8dc42f3dc17e9" title=" " alt="" coords="1871,5,2049,32"/>
<area shape="rect" href="pgtable_8c.html#abfea9e86c1a7e719b3d9e35bb045d795" title=" " alt="" coords="1856,56,2064,83"/>
<area shape="rect" href="pgtable_8c.html#a2f4269267d0718905af8540821a6de3d" title=" " alt="" coords="1897,157,2023,184"/>
<area shape="rect" href="pgtable_8c.html#a6e3f339456d5a01daa47962cc12f080e" title=" " alt="" coords="1901,107,2019,133"/>
<area shape="rect" href="pgtable_8c.html#ab8689d3ee63e3c9b4f7ce2d27ad083be" title=" " alt="" coords="1231,208,1397,235"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="375,233,556,260"/>
</map>
</div>

</div>
</div>
<a id="a16ea29bac78bcc910b40b746771e0e9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16ea29bac78bcc910b40b746771e0e9f">&#9670;&nbsp;</a></span>arm64_check_features()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int arm64_check_features </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01450">1450</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;{</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span>arm64_ftr_reg *ftr_reg;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span>arm64_ftr_bits *ftrp = NULL;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    u32 <span class="keywordtype">id</span> = <a class="code" href="sys__regs_8h.html#a2a67e99c288b572250f936d156c5d316">reg_to_encoding</a>(rd);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    u64 writable_mask = rd-&gt;<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    u64 limit = rd-&gt;<a class="code" href="structsys__reg__desc.html#aebf6cb5faf8f326e10c13df6c63e9462">reset</a>(vcpu, rd);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    u64 mask = 0;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160; </div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="comment">     * Hidden and unallocated ID registers may not have a corresponding</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="comment">     * struct arm64_ftr_reg. Of course, if the register is RAZ we know the</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;<span class="comment">     * only safe value is 0.</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8h.html#af39fd68b14c927a067964587e849be92">sysreg_visible_as_raz</a>(vcpu, rd))</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        <span class="keywordflow">return</span> val ? -E2BIG : 0;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160; </div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    ftr_reg = get_arm64_ftr_reg(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="keywordflow">if</span> (!ftr_reg)</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    ftrp = ftr_reg-&gt;ftr_bits;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordflow">for</span> (; ftrp &amp;&amp; ftrp-&gt;width; ftrp++) {</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        s64 f_val, f_lim, safe_val;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        u64 ftr_mask;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160; </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        ftr_mask = arm64_ftr_mask(ftrp);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <span class="keywordflow">if</span> ((ftr_mask &amp; writable_mask) != ftr_mask)</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160; </div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        f_val = arm64_ftr_value(ftrp, val);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        f_lim = arm64_ftr_value(ftrp, limit);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        mask |= ftr_mask;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        <span class="keywordflow">if</span> (f_val == f_lim)</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;            safe_val = f_val;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            safe_val = <a class="code" href="sys__regs_8c.html#ab17ee3ff0bb4b9fd235c144d22fc204f">kvm_arm64_ftr_safe_value</a>(<span class="keywordtype">id</span>, ftrp, f_val, f_lim);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160; </div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        <span class="keywordflow">if</span> (safe_val != f_val)</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;            <span class="keywordflow">return</span> -E2BIG;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    }</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160; </div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="comment">/* For fields that are not writable, values in limit are the safe values. */</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <span class="keywordflow">if</span> ((val &amp; ~mask) != (limit &amp; ~mask))</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        <span class="keywordflow">return</span> -E2BIG;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;}</div>
<div class="ttc" id="astructsys__reg__desc_html_ad076e217b99201ed85abb7bc956c924c"><div class="ttname"><a href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">sys_reg_desc::val</a></div><div class="ttdeci">u64 val</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00084">sys_regs.h:84</a></div></div>
<div class="ttc" id="astructsys__reg__desc_html_aebf6cb5faf8f326e10c13df6c63e9462"><div class="ttname"><a href="structsys__reg__desc.html#aebf6cb5faf8f326e10c13df6c63e9462">sys_reg_desc::reset</a></div><div class="ttdeci">u64(* reset)(struct kvm_vcpu *, const struct sys_reg_desc *)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00078">sys_regs.h:78</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ab17ee3ff0bb4b9fd235c144d22fc204f"><div class="ttname"><a href="sys__regs_8c.html#ab17ee3ff0bb4b9fd235c144d22fc204f">kvm_arm64_ftr_safe_value</a></div><div class="ttdeci">static s64 kvm_arm64_ftr_safe_value(u32 id, const struct arm64_ftr_bits *ftrp, s64 new, s64 cur)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01412">sys_regs.c:1412</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a16ea29bac78bcc910b40b746771e0e9f_cgraph.png" border="0" usemap="#asys__regs_8c_a16ea29bac78bcc910b40b746771e0e9f_cgraph" alt=""/></div>
<map name="asys__regs_8c_a16ea29bac78bcc910b40b746771e0e9f_cgraph" id="asys__regs_8c_a16ea29bac78bcc910b40b746771e0e9f_cgraph">
<area shape="rect" title=" " alt="" coords="5,42,176,69"/>
<area shape="rect" href="sys__regs_8c.html#ab17ee3ff0bb4b9fd235c144d22fc204f" title=" " alt="" coords="228,5,384,47"/>
<area shape="rect" href="sys__regs_8h.html#af39fd68b14c927a067964587e849be92" title=" " alt="" coords="224,71,388,98"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="436,71,564,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a16ea29bac78bcc910b40b746771e0e9f_icgraph.png" border="0" usemap="#asys__regs_8c_a16ea29bac78bcc910b40b746771e0e9f_icgraph" alt=""/></div>
<map name="asys__regs_8c_a16ea29bac78bcc910b40b746771e0e9f_icgraph" id="asys__regs_8c_a16ea29bac78bcc910b40b746771e0e9f_icgraph">
<area shape="rect" title=" " alt="" coords="344,31,515,57"/>
<area shape="rect" href="sys__regs_8c.html#aaec02e3f4aca4914e12d3cb952f82db0" title=" " alt="" coords="207,31,296,57"/>
<area shape="rect" href="sys__regs_8c.html#a62564f81bc501f03ed53dc6f068700c7" title=" " alt="" coords="5,5,159,32"/>
<area shape="rect" href="sys__regs_8c.html#a5ff73b6677ae2e9e778417d76ba09231" title=" " alt="" coords="21,56,143,83"/>
</map>
</div>

</div>
</div>
<a id="a34a8b7a8573c9ab0d01282e74ae7396d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a8b7a8573c9ab0d01282e74ae7396d">&#9670;&nbsp;</a></span>bad_redir_trap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool bad_redir_trap </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02025">2025</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;{</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;<span class="comment">     * We really shouldn&#39;t be here, and this is likely the result</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="comment">     * of a misconfigured trap, as this register should target the</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="comment">     * corresponding EL1, and nothing else.</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee">bad_trap</a>(vcpu, p, r,</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;            <span class="stringliteral">&quot;trap of EL2 register redirected to EL1&quot;</span>);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_aaaf440dbcda866a4a7fa0d8b73f448ee"><div class="ttname"><a href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee">bad_trap</a></div><div class="ttdeci">static bool bad_trap(struct kvm_vcpu *vcpu, struct sys_reg_params *params, const struct sys_reg_desc *r, const char *msg)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00048">sys_regs.c:48</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a34a8b7a8573c9ab0d01282e74ae7396d_cgraph.png" border="0" usemap="#asys__regs_8c_a34a8b7a8573c9ab0d01282e74ae7396d_cgraph" alt=""/></div>
<map name="asys__regs_8c_a34a8b7a8573c9ab0d01282e74ae7396d_cgraph" id="asys__regs_8c_a34a8b7a8573c9ab0d01282e74ae7396d_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,121,83"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="169,56,248,83"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="296,31,461,57"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="306,81,451,108"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="509,5,628,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="509,56,628,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="693,5,821,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="676,56,839,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="682,107,833,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="887,107,1068,133"/>
</map>
</div>

</div>
</div>
<a id="aaaf440dbcda866a4a7fa0d8b73f448ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaf440dbcda866a4a7fa0d8b73f448ee">&#9670;&nbsp;</a></span>bad_trap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool bad_trap </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00048">48</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    WARN_ONCE(1, <span class="stringliteral">&quot;Unexpected %s\n&quot;</span>, msg);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6">print_sys_reg_instr</a>(params);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="ttc" id="asys__regs_8h_html_aa0564552f7b8421fe79d8da12b5296f6"><div class="ttname"><a href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6">print_sys_reg_instr</a></div><div class="ttdeci">static void print_sys_reg_instr(const struct sys_reg_params *p)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00116">sys_regs.h:116</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_aaaf440dbcda866a4a7fa0d8b73f448ee_cgraph.png" border="0" usemap="#asys__regs_8c_aaaf440dbcda866a4a7fa0d8b73f448ee_cgraph" alt=""/></div>
<map name="asys__regs_8c_aaaf440dbcda866a4a7fa0d8b73f448ee_cgraph" id="asys__regs_8c_aaaf440dbcda866a4a7fa0d8b73f448ee_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,84,83"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="132,31,297,57"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="142,81,287,108"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="345,5,464,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="345,56,464,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="529,5,657,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="512,56,675,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="518,107,669,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="723,107,904,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_aaaf440dbcda866a4a7fa0d8b73f448ee_icgraph.png" border="0" usemap="#asys__regs_8c_aaaf440dbcda866a4a7fa0d8b73f448ee_icgraph" alt=""/></div>
<map name="asys__regs_8c_aaaf440dbcda866a4a7fa0d8b73f448ee_icgraph" id="asys__regs_8c_aaaf440dbcda866a4a7fa0d8b73f448ee_icgraph">
<area shape="rect" title=" " alt="" coords="559,81,637,108"/>
<area shape="rect" href="sys__regs_8c.html#a34a8b7a8573c9ab0d01282e74ae7396d" title=" " alt="" coords="371,5,487,32"/>
<area shape="rect" href="sys__regs_8c.html#a05a7fba8df9787d651813990bf08d8a3" title=" " alt="" coords="371,56,486,83"/>
<area shape="rect" href="sys__regs_8c.html#a1a08aab10b08e1c7baa994c3b9e2f4fc" title=" " alt="" coords="347,107,511,133"/>
<area shape="rect" href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449" title=" " alt="" coords="355,309,502,336"/>
<area shape="rect" href="sys__regs_8c.html#a921dd58e3a4f932dc4e7a8d9165588ac" title=" " alt="" coords="180,5,287,32"/>
<area shape="rect" href="sys__regs_8c.html#a972b4ec406e774f520055637a47f6421" title=" " alt="" coords="174,56,293,83"/>
<area shape="rect" href="sys__regs_8c.html#a51b08d9bb2f9a5a87955b5554df3d8e2" title=" " alt="" coords="168,107,299,133"/>
<area shape="rect" href="sys__regs_8c.html#afc4bc6d0fcf17c818886a15afedf29af" title=" " alt="" coords="176,157,291,184"/>
<area shape="rect" href="sys__regs_8c.html#affcbc277fd697c88cc97fbbcce0bf78f" title=" " alt="" coords="5,5,120,32"/>
<area shape="rect" href="sys__regs_8c.html#a3197676d6f6c5a22211e6e67ee07ae00" title=" " alt="" coords="178,208,289,235"/>
<area shape="rect" href="sys__regs_8c.html#a1630f0f4e352458c812420b059f1f53a" title=" " alt="" coords="183,259,284,285"/>
<area shape="rect" href="sys__regs_8c.html#a0efef856de13abf2f4d85b3da73d8691" title=" " alt="" coords="188,309,279,336"/>
<area shape="rect" href="sys__regs_8c.html#ae6bf132e10ee734ddcea162ebdc8f041" title=" " alt="" coords="177,360,290,387"/>
<area shape="rect" href="sys__regs_8c.html#af289b4e94e97fdd370ddab8d6cc7875f" title=" " alt="" coords="179,411,287,437"/>
<area shape="rect" href="sys__regs_8c.html#a91b7c60449c33971e5d4ae7ce419dae7" title=" " alt="" coords="177,461,290,488"/>
</map>
</div>

</div>
</div>
<a id="a05a7fba8df9787d651813990bf08d8a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05a7fba8df9787d651813990bf08d8a3">&#9670;&nbsp;</a></span>bad_vncr_trap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool bad_vncr_trap </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02012">2012</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;{</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;<span class="comment">     * We really shouldn&#39;t be here, and this is likely the result</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="comment">     * of a misconfigured trap, as this register should target the</span></div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="comment">     * VNCR page, and nothing else.</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee">bad_trap</a>(vcpu, p, r,</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;            <span class="stringliteral">&quot;trap of VNCR-backed register&quot;</span>);</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a05a7fba8df9787d651813990bf08d8a3_cgraph.png" border="0" usemap="#asys__regs_8c_a05a7fba8df9787d651813990bf08d8a3_cgraph" alt=""/></div>
<map name="asys__regs_8c_a05a7fba8df9787d651813990bf08d8a3_cgraph" id="asys__regs_8c_a05a7fba8df9787d651813990bf08d8a3_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,120,83"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="168,56,247,83"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="295,31,460,57"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="305,81,450,108"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="508,5,627,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="508,56,627,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="692,5,820,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="675,56,837,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="681,107,831,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="885,107,1067,133"/>
</map>
</div>

</div>
</div>
<a id="a6825971b50ae688a266906875f787c12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6825971b50ae688a266906875f787c12">&#9670;&nbsp;</a></span>check_pmu_access_disabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_pmu_access_disabled </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00904">904</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;{</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    u64 reg = __vcpu_sys_reg(vcpu, PMUSERENR_EL0);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordtype">bool</span> enabled = (reg &amp; flags) || vcpu_mode_priv(vcpu);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordflow">if</span> (!enabled)</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">return</span> !enabled;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a6825971b50ae688a266906875f787c12_cgraph.png" border="0" usemap="#asys__regs_8c_a6825971b50ae688a266906875f787c12_cgraph" alt=""/></div>
<map name="asys__regs_8c_a6825971b50ae688a266906875f787c12_cgraph" id="asys__regs_8c_a6825971b50ae688a266906875f787c12_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,215,57"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="263,31,428,57"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="476,5,595,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="476,56,595,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="660,5,788,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="643,56,805,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="649,107,799,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="853,107,1035,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a6825971b50ae688a266906875f787c12_icgraph.png" border="0" usemap="#asys__regs_8c_a6825971b50ae688a266906875f787c12_icgraph" alt=""/></div>
<map name="asys__regs_8c_a6825971b50ae688a266906875f787c12_icgraph" id="asys__regs_8c_a6825971b50ae688a266906875f787c12_icgraph">
<area shape="rect" title=" " alt="" coords="463,220,672,247"/>
<area shape="rect" href="sys__regs_8c.html#a28f5c65ab2f26c33ee8a6be17c79e15c" title=" " alt="" coords="250,109,377,136"/>
<area shape="rect" href="sys__regs_8c.html#a6b0bb9716262e47f62b72b0622bc3362" title=" " alt="" coords="214,213,413,254"/>
<area shape="rect" href="sys__regs_8c.html#ad26d1f2daf27a368a7f05c6b738f3f7a" title=" " alt="" coords="218,160,409,187"/>
<area shape="rect" href="sys__regs_8c.html#ae4374d3eb2bf5e2fb0db220979fba3a6" title=" " alt="" coords="212,278,415,319"/>
<area shape="rect" href="sys__regs_8c.html#a5fa2e3c67f0e39e5bffab36a8ad01c94" title=" " alt="" coords="232,346,395,387"/>
<area shape="rect" href="sys__regs_8c.html#a02a036e9adee46363c44fc787cd30cc4" title=" " alt="" coords="9,259,160,285"/>
<area shape="rect" href="sys__regs_8c.html#a6ce2c3fa2faafa46d088fb0b3081495b" title=" " alt="" coords="24,107,145,133"/>
<area shape="rect" href="sys__regs_8c.html#a95ce985a39ee6e0e9274d873a271e235" title=" " alt="" coords="19,157,150,184"/>
<area shape="rect" href="sys__regs_8c.html#ae72951c06b3847653660caea2df30434" title=" " alt="" coords="31,208,138,235"/>
<area shape="rect" href="sys__regs_8c.html#a8de3a35de8563dfb8655da10034bc411" title=" " alt="" coords="26,5,143,32"/>
<area shape="rect" href="sys__regs_8c.html#ae0260b12f95bb7f271037d3e4b18b22b" title=" " alt="" coords="5,56,164,83"/>
<area shape="rect" href="sys__regs_8c.html#afce04c034ad223e02664e84c04686d8e" title=" " alt="" coords="25,309,144,336"/>
<area shape="rect" href="sys__regs_8c.html#a51b08d9bb2f9a5a87955b5554df3d8e2" title=" " alt="" coords="19,360,150,387"/>
</map>
</div>

</div>
</div>
<a id="a04a47f17241cf05c3ffed72f45d6702c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04a47f17241cf05c3ffed72f45d6702c">&#9670;&nbsp;</a></span>check_sysreg_table()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_sysreg_table </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_32</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03053">3053</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;{</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160; </div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; n; i++) {</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;        <span class="keywordflow">if</span> (!is_32 &amp;&amp; table[i].reg &amp;&amp; !table[i].reset) {</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;            kvm_err(<span class="stringliteral">&quot;sys_reg table %pS entry %d lacks reset\n&quot;</span>, &amp;table[i], i);</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;        }</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160; </div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;        <span class="keywordflow">if</span> (i &amp;&amp; <a class="code" href="sys__regs_8h.html#ad36915b59f8e473861dcc95b0fb7655d">cmp_sys_reg</a>(&amp;table[i-1], &amp;table[i]) &gt;= 0) {</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;            kvm_err(<span class="stringliteral">&quot;sys_reg table %pS entry %d out of order\n&quot;</span>, &amp;table[i - 1], i - 1);</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;        }</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    }</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160; </div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;}</div>
<div class="ttc" id="asys__regs_8h_html_ad36915b59f8e473861dcc95b0fb7655d"><div class="ttname"><a href="sys__regs_8h.html#ad36915b59f8e473861dcc95b0fb7655d">cmp_sys_reg</a></div><div class="ttdeci">static int cmp_sys_reg(const struct sys_reg_desc *i1, const struct sys_reg_desc *i2)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00189">sys_regs.h:189</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a04a47f17241cf05c3ffed72f45d6702c_cgraph.png" border="0" usemap="#asys__regs_8c_a04a47f17241cf05c3ffed72f45d6702c_cgraph" alt=""/></div>
<map name="asys__regs_8c_a04a47f17241cf05c3ffed72f45d6702c_cgraph" id="asys__regs_8c_a04a47f17241cf05c3ffed72f45d6702c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,156,32"/>
<area shape="rect" href="sys__regs_8h.html#ad36915b59f8e473861dcc95b0fb7655d" title=" " alt="" coords="204,5,311,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a04a47f17241cf05c3ffed72f45d6702c_icgraph.png" border="0" usemap="#asys__regs_8c_a04a47f17241cf05c3ffed72f45d6702c_icgraph" alt=""/></div>
<map name="asys__regs_8c_a04a47f17241cf05c3ffed72f45d6702c_icgraph" id="asys__regs_8c_a04a47f17241cf05c3ffed72f45d6702c_icgraph">
<area shape="rect" title=" " alt="" coords="389,5,540,32"/>
<area shape="rect" href="sys__regs_8c.html#aee14269677924cb86250974700c3501b" title=" " alt="" coords="165,5,341,32"/>
<area shape="rect" href="arm_8c.html#a625df4221f73b13d9f23aa818f60e547" title=" " alt="" coords="5,5,117,32"/>
</map>
</div>

</div>
</div>
<a id="a0f1032ed43c78a6dff76e1116bfd0476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f1032ed43c78a6dff76e1116bfd0476">&#9670;&nbsp;</a></span>copy_reg_to_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool copy_reg_to_user </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 __user **&#160;</td>
          <td class="paramname"><em>uind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03795">3795</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;{</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;    <span class="keywordflow">if</span> (!*uind)</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160; </div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;    <span class="keywordflow">if</span> (put_user(<a class="code" href="sys__regs_8c.html#a7d2b75df72a03ffbc60733bf5e01d0fd">sys_reg_to_index</a>(reg), *uind))</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160; </div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;    (*uind)++;</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a7d2b75df72a03ffbc60733bf5e01d0fd"><div class="ttname"><a href="sys__regs_8c.html#a7d2b75df72a03ffbc60733bf5e01d0fd">sys_reg_to_index</a></div><div class="ttdeci">static u64 sys_reg_to_index(const struct sys_reg_desc *reg)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03784">sys_regs.c:3784</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a0f1032ed43c78a6dff76e1116bfd0476_cgraph.png" border="0" usemap="#asys__regs_8c_a0f1032ed43c78a6dff76e1116bfd0476_cgraph" alt=""/></div>
<map name="asys__regs_8c_a0f1032ed43c78a6dff76e1116bfd0476_cgraph" id="asys__regs_8c_a0f1032ed43c78a6dff76e1116bfd0476_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,141,32"/>
<area shape="rect" href="sys__regs_8c.html#a7d2b75df72a03ffbc60733bf5e01d0fd" title=" " alt="" coords="189,5,324,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a0f1032ed43c78a6dff76e1116bfd0476_icgraph.png" border="0" usemap="#asys__regs_8c_a0f1032ed43c78a6dff76e1116bfd0476_icgraph" alt=""/></div>
<map name="asys__regs_8c_a0f1032ed43c78a6dff76e1116bfd0476_icgraph" id="asys__regs_8c_a0f1032ed43c78a6dff76e1116bfd0476_icgraph">
<area shape="rect" title=" " alt="" coords="1216,46,1352,73"/>
<area shape="rect" href="sys__regs_8c.html#a68f111e8a8404c26f46d5191d2a7f3e1" title=" " alt="" coords="1027,46,1168,73"/>
<area shape="rect" href="sys__regs_8c.html#abd3b49a9b9e349d26d03f5dc6a42efbc" title=" " alt="" coords="861,46,979,73"/>
<area shape="rect" href="sys__regs_8c.html#a4518ec5bc50f3432c171d3523dd8ea93" title=" " alt="" coords="635,5,813,47"/>
<area shape="rect" href="sys__regs_8c.html#a3a12ba3777384275bc5ff0abd169e22c" title=" " alt="" coords="635,71,813,112"/>
<area shape="rect" href="guest_8c.html#a5c5ea01484b922cc9295c7e30f181076" title=" " alt="" coords="384,17,587,43"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,46,336,73"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,46,129,73"/>
<area shape="rect" href="guest_8c.html#a5ea136c294fe50fdaa31e9bc93763f7f" title=" " alt="" coords="408,71,563,98"/>
</map>
</div>

</div>
</div>
<a id="ad497317a004bcc91436302950168668b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad497317a004bcc91436302950168668b">&#9670;&nbsp;</a></span>dbg_to_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dbg_to_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>dbg_reg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00643">643</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;{</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    u64 mask, shift;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe">get_access_mask</a>(rd, &amp;mask, &amp;shift);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = (*dbg_reg &amp; mask) &gt;&gt; shift;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ad497317a004bcc91436302950168668b_cgraph.png" border="0" usemap="#asys__regs_8c_ad497317a004bcc91436302950168668b_cgraph" alt=""/></div>
<map name="asys__regs_8c_ad497317a004bcc91436302950168668b_cgraph" id="asys__regs_8c_ad497317a004bcc91436302950168668b_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,100,32"/>
<area shape="rect" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe" title=" " alt="" coords="148,5,285,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ad497317a004bcc91436302950168668b_icgraph.png" border="0" usemap="#asys__regs_8c_ad497317a004bcc91436302950168668b_icgraph" alt=""/></div>
<map name="asys__regs_8c_ad497317a004bcc91436302950168668b_icgraph" id="asys__regs_8c_ad497317a004bcc91436302950168668b_icgraph">
<area shape="rect" title=" " alt="" coords="132,81,227,108"/>
<area shape="rect" href="sys__regs_8c.html#a3df2d4f3155ebf7a0cd854b7b7d6257e" title=" " alt="" coords="7,5,82,32"/>
<area shape="rect" href="sys__regs_8c.html#a4411c1a1e85db475200bac119f80b106" title=" " alt="" coords="7,56,83,83"/>
<area shape="rect" href="sys__regs_8c.html#ac85f5ab422e1a957d9efb8482229b846" title=" " alt="" coords="5,107,84,133"/>
<area shape="rect" href="sys__regs_8c.html#ad2866f9118d5d0f54255301421942807" title=" " alt="" coords="5,157,84,184"/>
</map>
</div>

</div>
</div>
<a id="af96f247febced4bc1382d643b2ae44b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af96f247febced4bc1382d643b2ae44b3">&#9670;&nbsp;</a></span>demux_c15_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int demux_c15_get </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void __user *&#160;</td>
          <td class="paramname"><em>uaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03627">3627</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;{</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;    u32 val;</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;    u32 __user *uval = uaddr;</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160; </div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;    <span class="comment">/* Fail if we have unknown bits set. */</span></div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &amp; ~(KVM_REG_ARCH_MASK|KVM_REG_SIZE_MASK|KVM_REG_ARM_COPROC_MASK</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;           | ((1 &lt;&lt; KVM_REG_ARM_COPROC_SHIFT)-1)))</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;        <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160; </div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;    <span class="keywordflow">switch</span> (<span class="keywordtype">id</span> &amp; KVM_REG_ARM_DEMUX_ID_MASK) {</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;    <span class="keywordflow">case</span> KVM_REG_ARM_DEMUX_ID_CCSIDR:</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;        <span class="keywordflow">if</span> (KVM_REG_SIZE(<span class="keywordtype">id</span>) != 4)</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;            <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;        val = (<span class="keywordtype">id</span> &amp; KVM_REG_ARM_DEMUX_VAL_MASK)</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;            &gt;&gt; KVM_REG_ARM_DEMUX_VAL_SHIFT;</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;        <span class="keywordflow">if</span> (val &gt;= <a class="code" href="sys__regs_8c.html#a8433ddfc43e826c3164b5f99ebcc179e">CSSELR_MAX</a>)</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;            <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160; </div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;        <span class="keywordflow">return</span> put_user(<a class="code" href="sys__regs_8c.html#a292111fbdf0789784c74686f924d0e04">get_ccsidr</a>(vcpu, val), uval);</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;        <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;    }</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_af96f247febced4bc1382d643b2ae44b3_cgraph.png" border="0" usemap="#asys__regs_8c_af96f247febced4bc1382d643b2ae44b3_cgraph" alt=""/></div>
<map name="asys__regs_8c_af96f247febced4bc1382d643b2ae44b3_cgraph" id="asys__regs_8c_af96f247febced4bc1382d643b2ae44b3_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,131,32"/>
<area shape="rect" href="sys__regs_8c.html#a292111fbdf0789784c74686f924d0e04" title=" " alt="" coords="179,5,267,32"/>
<area shape="rect" href="sys__regs_8c.html#a5dcc664cfa17fa30fd97daba07934cc8" title=" " alt="" coords="315,5,499,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_af96f247febced4bc1382d643b2ae44b3_icgraph.png" border="0" usemap="#asys__regs_8c_af96f247febced4bc1382d643b2ae44b3_icgraph" alt=""/></div>
<map name="asys__regs_8c_af96f247febced4bc1382d643b2ae44b3_icgraph" id="asys__regs_8c_af96f247febced4bc1382d643b2ae44b3_icgraph">
<area shape="rect" title=" " alt="" coords="817,5,943,32"/>
<area shape="rect" href="sys__regs_8c.html#af85c3c21b976f4ad1def9aaeebfcfe2a" title=" " alt="" coords="572,5,769,32"/>
<area shape="rect" href="guest_8c.html#ad1a71190592cc60155333934b84d1d11" title=" " alt="" coords="384,5,524,32"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,5,336,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="ab1e2d05ecec16fc3b603d7b37afe0295"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1e2d05ecec16fc3b603d7b37afe0295">&#9670;&nbsp;</a></span>demux_c15_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int demux_c15_set </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void __user *&#160;</td>
          <td class="paramname"><em>uaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03652">3652</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;{</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;    u32 val, newval;</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;    u32 __user *uval = uaddr;</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160; </div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;    <span class="comment">/* Fail if we have unknown bits set. */</span></div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &amp; ~(KVM_REG_ARCH_MASK|KVM_REG_SIZE_MASK|KVM_REG_ARM_COPROC_MASK</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;           | ((1 &lt;&lt; KVM_REG_ARM_COPROC_SHIFT)-1)))</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;        <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160; </div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;    <span class="keywordflow">switch</span> (<span class="keywordtype">id</span> &amp; KVM_REG_ARM_DEMUX_ID_MASK) {</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;    <span class="keywordflow">case</span> KVM_REG_ARM_DEMUX_ID_CCSIDR:</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;        <span class="keywordflow">if</span> (KVM_REG_SIZE(<span class="keywordtype">id</span>) != 4)</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;            <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;        val = (<span class="keywordtype">id</span> &amp; KVM_REG_ARM_DEMUX_VAL_MASK)</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;            &gt;&gt; KVM_REG_ARM_DEMUX_VAL_SHIFT;</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;        <span class="keywordflow">if</span> (val &gt;= <a class="code" href="sys__regs_8c.html#a8433ddfc43e826c3164b5f99ebcc179e">CSSELR_MAX</a>)</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;            <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160; </div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;        <span class="keywordflow">if</span> (get_user(newval, uval))</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;            <span class="keywordflow">return</span> -EFAULT;</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160; </div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a8e75bf582b5fbb9eb7e84591ab3226e6">set_ccsidr</a>(vcpu, val, newval);</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;        <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;    }</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a8e75bf582b5fbb9eb7e84591ab3226e6"><div class="ttname"><a href="sys__regs_8c.html#a8e75bf582b5fbb9eb7e84591ab3226e6">set_ccsidr</a></div><div class="ttdeci">static int set_ccsidr(struct kvm_vcpu *vcpu, u32 csselr, u32 val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00278">sys_regs.c:278</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ab1e2d05ecec16fc3b603d7b37afe0295_cgraph.png" border="0" usemap="#asys__regs_8c_ab1e2d05ecec16fc3b603d7b37afe0295_cgraph" alt=""/></div>
<map name="asys__regs_8c_ab1e2d05ecec16fc3b603d7b37afe0295_cgraph" id="asys__regs_8c_ab1e2d05ecec16fc3b603d7b37afe0295_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,129,57"/>
<area shape="rect" href="sys__regs_8c.html#a8e75bf582b5fbb9eb7e84591ab3226e6" title=" " alt="" coords="177,31,264,57"/>
<area shape="rect" href="sys__regs_8c.html#a292111fbdf0789784c74686f924d0e04" title=" " alt="" coords="312,5,400,32"/>
<area shape="rect" href="sys__regs_8c.html#a5dcc664cfa17fa30fd97daba07934cc8" title=" " alt="" coords="448,31,632,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ab1e2d05ecec16fc3b603d7b37afe0295_icgraph.png" border="0" usemap="#asys__regs_8c_ab1e2d05ecec16fc3b603d7b37afe0295_icgraph" alt=""/></div>
<map name="asys__regs_8c_ab1e2d05ecec16fc3b603d7b37afe0295_icgraph" id="asys__regs_8c_ab1e2d05ecec16fc3b603d7b37afe0295_icgraph">
<area shape="rect" title=" " alt="" coords="815,5,939,32"/>
<area shape="rect" href="sys__regs_8c.html#a857a1f40feb608d8b9156c442eb73f6a" title=" " alt="" coords="571,5,767,32"/>
<area shape="rect" href="guest_8c.html#a8ee5ced2d0c0d538319888057bc58b4a" title=" " alt="" coords="384,5,523,32"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,5,336,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="aa4c8b464f239145cf4ffc392260d53fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4c8b464f239145cf4ffc392260d53fb">&#9670;&nbsp;</a></span>el2_visibility()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int el2_visibility </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02003">2003</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;{</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    <span class="keywordflow">if</span> (vcpu_has_nv(vcpu))</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160; </div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#adfaaefd051ca94abdae398a38d7c81c0">REG_HIDDEN</a>;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;}</div>
<div class="ttc" id="asys__regs_8h_html_adfaaefd051ca94abdae398a38d7c81c0"><div class="ttname"><a href="sys__regs_8h.html#adfaaefd051ca94abdae398a38d7c81c0">REG_HIDDEN</a></div><div class="ttdeci">#define REG_HIDDEN</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00097">sys_regs.h:97</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a4f4c9413ca5dc5a4d9f5e952f991ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a4f4c9413ca5dc5a4d9f5e952f991ac">&#9670;&nbsp;</a></span>emulate_cp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool emulate_cp </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03113">3113</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;{</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *r;</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160; </div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    <span class="keywordflow">if</span> (!table)</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;   <span class="comment">/* Not handled */</span></div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160; </div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    r = <a class="code" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef">find_reg</a>(params, table, num);</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160; </div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <span class="keywordflow">if</span> (r) {</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;        <a class="code" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766">perform_access</a>(vcpu, params, r);</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    }</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160; </div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;    <span class="comment">/* Not handled */</span></div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a8cb2008e7051ba9d33b9ca79bca84766"><div class="ttname"><a href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766">perform_access</a></div><div class="ttdeci">static void perform_access(struct kvm_vcpu *vcpu, struct sys_reg_params *params, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03079">sys_regs.c:3079</a></div></div>
<div class="ttc" id="asys__regs_8h_html_a5478d1284365aa547695b6889e4a05ef"><div class="ttname"><a href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef">find_reg</a></div><div class="ttdeci">static const struct sys_reg_desc * find_reg(const struct sys_reg_params *params, const struct sys_reg_desc table[], unsigned int num)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00217">sys_regs.h:217</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a7a4f4c9413ca5dc5a4d9f5e952f991ac_cgraph.png" border="0" usemap="#asys__regs_8c_a7a4f4c9413ca5dc5a4d9f5e952f991ac_cgraph" alt=""/></div>
<map name="asys__regs_8c_a7a4f4c9413ca5dc5a4d9f5e952f991ac_cgraph" id="asys__regs_8c_a7a4f4c9413ca5dc5a4d9f5e952f991ac_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,104,57"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="177,5,252,32"/>
<area shape="rect" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766" title=" " alt="" coords="152,56,277,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="348,5,468,32"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="325,56,491,83"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="350,107,466,133"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="543,5,662,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="543,56,662,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="732,5,860,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="715,56,877,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="721,107,871,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="925,107,1107,133"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="539,107,667,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a7a4f4c9413ca5dc5a4d9f5e952f991ac_icgraph.png" border="0" usemap="#asys__regs_8c_a7a4f4c9413ca5dc5a4d9f5e952f991ac_icgraph" alt=""/></div>
<map name="asys__regs_8c_a7a4f4c9413ca5dc5a4d9f5e952f991ac_icgraph" id="asys__regs_8c_a7a4f4c9413ca5dc5a4d9f5e952f991ac_icgraph">
<area shape="rect" title=" " alt="" coords="411,81,509,108"/>
<area shape="rect" href="sys__regs_8c.html#a60129df4b96ea31788ca4c84aca5296c" title=" " alt="" coords="216,56,363,83"/>
<area shape="rect" href="sys__regs_8c.html#acf2a59d7fe0d9db81c822a0973b00539" title=" " alt="" coords="216,107,363,133"/>
<area shape="rect" href="sys__regs_8c.html#a3fc2578a70449007d0bac463e2d66d05" title=" " alt="" coords="5,5,168,32"/>
<area shape="rect" href="sys__regs_8c.html#aabfd3c696cf28ee58eb8d7e421e12310" title=" " alt="" coords="5,56,168,83"/>
<area shape="rect" href="sys__regs_8c.html#a5f660f6a9a4de1cfc8af20da24cdad94" title=" " alt="" coords="5,107,168,133"/>
<area shape="rect" href="sys__regs_8c.html#ae031a976c6888fa3fb7ac85e9ffa4ce1" title=" " alt="" coords="5,157,168,184"/>
</map>
</div>

</div>
</div>
<a id="a3d240da65ae9bd5abb59855d5eccd1bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d240da65ae9bd5abb59855d5eccd1bd">&#9670;&nbsp;</a></span>emulate_sys_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool emulate_sys_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>emulate_sys_reg - Emulate a guest access to an AArch64 system register @vcpu: The VCPU pointer @params: Decoded system register parameters</p>
<p>Return: true if the system register access was successful, false otherwise. </p>

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03400">3400</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;{</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *r;</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160; </div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;    r = <a class="code" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef">find_reg</a>(params, <a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>, ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>));</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160; </div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;    <span class="keywordflow">if</span> (likely(r)) {</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;        <a class="code" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766">perform_access</a>(vcpu, params, r);</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;    }</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160; </div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#ac84d9b3a11a9a1dd463e8843f45b31bf">is_imp_def_sys_reg</a>(params)) {</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;        <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;        print_sys_reg_msg(params,</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;                  <span class="stringliteral">&quot;Unsupported guest sys_reg access at: %lx [%08lx]\n&quot;</span>,</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;                  *vcpu_pc(vcpu), *vcpu_cpsr(vcpu));</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;        <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;    }</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a51b95c5ae679f1aba7eee7379a3be6c7"><div class="ttname"><a href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a></div><div class="ttdeci">static const struct sys_reg_desc sys_reg_descs[]</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l02165">sys_regs.c:2188</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ac84d9b3a11a9a1dd463e8843f45b31bf"><div class="ttname"><a href="sys__regs_8c.html#ac84d9b3a11a9a1dd463e8843f45b31bf">is_imp_def_sys_reg</a></div><div class="ttdeci">static bool is_imp_def_sys_reg(struct sys_reg_params *params)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03387">sys_regs.c:3387</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a3d240da65ae9bd5abb59855d5eccd1bd_cgraph.png" border="0" usemap="#asys__regs_8c_a3d240da65ae9bd5abb59855d5eccd1bd_cgraph" alt=""/></div>
<map name="asys__regs_8c_a3d240da65ae9bd5abb59855d5eccd1bd_cgraph" id="asys__regs_8c_a3d240da65ae9bd5abb59855d5eccd1bd_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,139,108"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="225,5,299,32"/>
<area shape="rect" href="sys__regs_8c.html#ac84d9b3a11a9a1dd463e8843f45b31bf" title=" " alt="" coords="187,56,337,83"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="385,107,551,133"/>
<area shape="rect" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766" title=" " alt="" coords="199,157,325,184"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="408,5,528,32"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="603,56,722,83"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="603,107,722,133"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="792,56,920,83"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="775,107,937,133"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="781,157,931,184"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="985,157,1167,184"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="410,157,526,184"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="599,157,727,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a3d240da65ae9bd5abb59855d5eccd1bd_icgraph.png" border="0" usemap="#asys__regs_8c_a3d240da65ae9bd5abb59855d5eccd1bd_icgraph" alt=""/></div>
<map name="asys__regs_8c_a3d240da65ae9bd5abb59855d5eccd1bd_icgraph" id="asys__regs_8c_a3d240da65ae9bd5abb59855d5eccd1bd_icgraph">
<area shape="rect" title=" " alt="" coords="461,56,595,83"/>
<area shape="rect" href="sys__regs_8c.html#a88f8e6bd75a62772935f734d5772c6bf" title=" " alt="" coords="216,5,413,32"/>
<area shape="rect" href="sys__regs_8c.html#a1a4cee9d7be58e2317c540e1f87eea20" title=" " alt="" coords="235,56,394,83"/>
<area shape="rect" href="sys__regs_8c.html#a315e661b6f1cb224596267000909a1ac" title=" " alt="" coords="235,107,394,133"/>
<area shape="rect" href="sys__regs_8c.html#aabfd3c696cf28ee58eb8d7e421e12310" title=" " alt="" coords="5,5,168,32"/>
</map>
</div>

</div>
</div>
<a id="a91c21b0c4a25c47c7d3f062cacd75bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c21b0c4a25c47c7d3f062cacd75bbe">&#9670;&nbsp;</a></span>get_access_mask()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_access_mask </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>shift</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00355">355</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">switch</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#a10ad75877fb2b37451edd0ed5cf95472">aarch32_map</a>) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">case</span> AA32_LO:</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        *mask = GENMASK_ULL(31, 0);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        *shift = 0;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">case</span> AA32_HI:</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        *mask = GENMASK_ULL(63, 32);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        *shift = 32;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        *mask = GENMASK_ULL(63, 0);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        *shift = 0;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div>
<div class="ttc" id="astructsys__reg__desc_html_a10ad75877fb2b37451edd0ed5cf95472"><div class="ttname"><a href="structsys__reg__desc.html#a10ad75877fb2b37451edd0ed5cf95472">sys_reg_desc::aarch32_map</a></div><div class="ttdeci">enum sys_reg_desc::@4 aarch32_map</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a91c21b0c4a25c47c7d3f062cacd75bbe_icgraph.png" border="0" usemap="#asys__regs_8c_a91c21b0c4a25c47c7d3f062cacd75bbe_icgraph" alt=""/></div>
<map name="asys__regs_8c_a91c21b0c4a25c47c7d3f062cacd75bbe_icgraph" id="asys__regs_8c_a91c21b0c4a25c47c7d3f062cacd75bbe_icgraph">
<area shape="rect" title=" " alt="" coords="303,107,440,133"/>
<area shape="rect" href="sys__regs_8c.html#af0fe59a1036c0652df463e3561f5e571" title=" " alt="" coords="142,5,245,32"/>
<area shape="rect" href="sys__regs_8c.html#a6ce2c3fa2faafa46d088fb0b3081495b" title=" " alt="" coords="133,56,254,83"/>
<area shape="rect" href="sys__regs_8c.html#a01047bae0a6b3c1dbee152925e318110" title=" " alt="" coords="132,107,255,133"/>
<area shape="rect" href="sys__regs_8c.html#ad497317a004bcc91436302950168668b" title=" " alt="" coords="146,208,241,235"/>
<area shape="rect" href="sys__regs_8c.html#ac8b6170529e5462d0397ed759611d6c5" title=" " alt="" coords="146,157,241,184"/>
<area shape="rect" href="sys__regs_8c.html#a3df2d4f3155ebf7a0cd854b7b7d6257e" title=" " alt="" coords="7,208,82,235"/>
<area shape="rect" href="sys__regs_8c.html#a4411c1a1e85db475200bac119f80b106" title=" " alt="" coords="7,259,83,285"/>
<area shape="rect" href="sys__regs_8c.html#ac85f5ab422e1a957d9efb8482229b846" title=" " alt="" coords="5,107,84,133"/>
<area shape="rect" href="sys__regs_8c.html#ad2866f9118d5d0f54255301421942807" title=" " alt="" coords="5,157,84,184"/>
</map>
</div>

</div>
</div>
<a id="a767726f8faec0694ac391a27390052c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a767726f8faec0694ac391a27390052c2">&#9670;&nbsp;</a></span>get_bcr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_bcr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00714">714</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;{</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    *val = vcpu-&gt;arch.vcpu_debug_state.dbg_bcr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>];</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6681d7ad1d1157802a611034cdcc437d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6681d7ad1d1157802a611034cdcc437d">&#9670;&nbsp;</a></span>get_bvr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_bvr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00677">677</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;{</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    *val = vcpu-&gt;arch.vcpu_debug_state.dbg_bvr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>];</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a292111fbdf0789784c74686f924d0e04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a292111fbdf0789784c74686f924d0e04">&#9670;&nbsp;</a></span>get_ccsidr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u32 get_ccsidr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>csselr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00243">243</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;{</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    u8 line_size;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span> (vcpu-&gt;arch.ccsidr)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">return</span> vcpu-&gt;arch.ccsidr[csselr];</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    line_size = <a class="code" href="sys__regs_8c.html#a5dcc664cfa17fa30fd97daba07934cc8">get_min_cache_line_size</a>(csselr &amp; CSSELR_EL1_InD);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">     * Fabricate a CCSIDR value as the overriding value does not exist.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">     * The real CCSIDR value will not be used as it can vary by the</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">     * physical CPU which the vcpu currently resides in.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">     * The line size is determined with get_min_cache_line_size(), which</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">     * should be valid for all CPUs even if they have different cache</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">     * configuration.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">     * The associativity bits are cleared, meaning the geometry of all data</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">     * and unified caches (which are guaranteed to be PIPT and thus</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">     * non-aliasing) are 1 set and 1 way.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">     * Guests should not be doing cache operations by set/way at all, and</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">     * for this reason, we trap them and attempt to infer the intent, so</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">     * that we can flush the entire guest&#39;s address space at the appropriate</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">     * time. The exposed geometry minimizes the number of the traps.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">     * [If guests should attempt to infer aliasing properties from the</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">     * geometry (which is not permitted by the architecture), they would</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">     * only do so for virtually indexed caches.]</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">     * We don&#39;t check if the cache level exists as it is allowed to return</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">     * an UNKNOWN value if not.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">return</span> SYS_FIELD_PREP(CCSIDR_EL1, LineSize, line_size - 4);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a5dcc664cfa17fa30fd97daba07934cc8"><div class="ttname"><a href="sys__regs_8c.html#a5dcc664cfa17fa30fd97daba07934cc8">get_min_cache_line_size</a></div><div class="ttdeci">static u8 get_min_cache_line_size(bool icache)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00221">sys_regs.c:221</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a292111fbdf0789784c74686f924d0e04_cgraph.png" border="0" usemap="#asys__regs_8c_a292111fbdf0789784c74686f924d0e04_cgraph" alt=""/></div>
<map name="asys__regs_8c_a292111fbdf0789784c74686f924d0e04_cgraph" id="asys__regs_8c_a292111fbdf0789784c74686f924d0e04_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,93,32"/>
<area shape="rect" href="sys__regs_8c.html#a5dcc664cfa17fa30fd97daba07934cc8" title=" " alt="" coords="141,5,325,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a292111fbdf0789784c74686f924d0e04_icgraph.png" border="0" usemap="#asys__regs_8c_a292111fbdf0789784c74686f924d0e04_icgraph" alt=""/></div>
<map name="asys__regs_8c_a292111fbdf0789784c74686f924d0e04_icgraph" id="asys__regs_8c_a292111fbdf0789784c74686f924d0e04_icgraph">
<area shape="rect" title=" " alt="" coords="1235,56,1323,83"/>
<area shape="rect" href="sys__regs_8c.html#a3197676d6f6c5a22211e6e67ee07ae00" title=" " alt="" coords="1069,5,1179,32"/>
<area shape="rect" href="sys__regs_8c.html#af96f247febced4bc1382d643b2ae44b3" title=" " alt="" coords="1061,56,1187,83"/>
<area shape="rect" href="sys__regs_8c.html#a8e75bf582b5fbb9eb7e84591ab3226e6" title=" " alt="" coords="1081,107,1167,133"/>
<area shape="rect" href="sys__regs_8c.html#af85c3c21b976f4ad1def9aaeebfcfe2a" title=" " alt="" coords="816,56,1013,83"/>
<area shape="rect" href="guest_8c.html#ad1a71190592cc60155333934b84d1d11" title=" " alt="" coords="384,56,524,83"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,81,336,108"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,81,129,108"/>
<area shape="rect" href="sys__regs_8c.html#ab1e2d05ecec16fc3b603d7b37afe0295" title=" " alt="" coords="853,107,977,133"/>
<area shape="rect" href="sys__regs_8c.html#a857a1f40feb608d8b9156c442eb73f6a" title=" " alt="" coords="572,107,768,133"/>
<area shape="rect" href="guest_8c.html#a8ee5ced2d0c0d538319888057bc58b4a" title=" " alt="" coords="385,107,523,133"/>
</map>
</div>

</div>
</div>
<a id="aaecf333a8b9727e63d492661a046f4dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaecf333a8b9727e63d492661a046f4dd">&#9670;&nbsp;</a></span>get_ctr_el0()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 get_ctr_el0 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03581">3581</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;{</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;    ((<span class="keyword">struct </span><a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *)r)-&gt;val = read_sanitised_ftr_reg(SYS_CTR_EL0);</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;    <span class="keywordflow">return</span> ((<span class="keyword">struct</span> <a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *)r)-&gt;val;</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f5bcf4d21c4d9b1881dd3fec5bd6178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f5bcf4d21c4d9b1881dd3fec5bd6178">&#9670;&nbsp;</a></span>get_el2_to_el1_mapping()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool get_el2_to_el1_mapping </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>el1r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64(**)(u64)&#160;</td>
          <td class="paramname"><em>xlate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00088">88</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">switch</span> (reg) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <a class="code" href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a>(  VPIDR_EL2 );</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <a class="code" href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a>(  VMPIDR_EL2    );</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <a class="code" href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a>(  ACTLR_EL2 );</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a>(  HCR_EL2   );</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <a class="code" href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a>(  MDCR_EL2  );</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <a class="code" href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a>(  HSTR_EL2  );</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a>(  HACR_EL2  );</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <a class="code" href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a>(  VTTBR_EL2 );</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a>(  VTCR_EL2  );</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <a class="code" href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a>(  RVBAR_EL2 );</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a>(  TPIDR_EL2 );</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <a class="code" href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a>(  HPFAR_EL2 );</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <a class="code" href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a>(  CNTHCTL_EL2   );</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <a class="code" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(SCTLR_EL2,   SCTLR_EL1,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                  translate_sctlr_el2_to_sctlr_el1       );</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <a class="code" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(CPTR_EL2,    CPACR_EL1,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                  translate_cptr_el2_to_cpacr_el1        );</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <a class="code" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(TTBR0_EL2,   TTBR0_EL1,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                  translate_ttbr0_el2_to_ttbr0_el1       );</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(TTBR1_EL2,   TTBR1_EL1,   NULL         );</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(TCR_EL2,     TCR_EL1,</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                  translate_tcr_el2_to_tcr_el1           );</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(VBAR_EL2,    VBAR_EL1,    NULL         );</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(AFSR0_EL2,   AFSR0_EL1,   NULL         );</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <a class="code" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(AFSR1_EL2,   AFSR1_EL1,   NULL         );</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(ESR_EL2,     ESR_EL1,     NULL         );</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(FAR_EL2,     FAR_EL1,     NULL         );</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(MAIR_EL2,    MAIR_EL1,    NULL         );</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(AMAIR_EL2,   AMAIR_EL1,   NULL         );</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <a class="code" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(ELR_EL2,     ELR_EL1,     NULL         );</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a>(SPSR_EL2,    SPSR_EL1,    NULL         );</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a2235dee3d3cf182e7c3008d573213759"><div class="ttname"><a href="sys__regs_8c.html#a2235dee3d3cf182e7c3008d573213759">MAPPED_EL2_SYSREG</a></div><div class="ttdeci">#define MAPPED_EL2_SYSREG(el2, el1, fn)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00081">sys_regs.c:81</a></div></div>
<div class="ttc" id="asys__regs_8c_html_af1057467dd3eaabecbd33d293431997f"><div class="ttname"><a href="sys__regs_8c.html#af1057467dd3eaabecbd33d293431997f">PURE_EL2_SYSREG</a></div><div class="ttdeci">#define PURE_EL2_SYSREG(el2)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00075">sys_regs.c:75</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a8f5bcf4d21c4d9b1881dd3fec5bd6178_icgraph.png" border="0" usemap="#asys__regs_8c_a8f5bcf4d21c4d9b1881dd3fec5bd6178_icgraph" alt=""/></div>
<map name="asys__regs_8c_a8f5bcf4d21c4d9b1881dd3fec5bd6178_icgraph" id="asys__regs_8c_a8f5bcf4d21c4d9b1881dd3fec5bd6178_icgraph">
<area shape="rect" title=" " alt="" coords="1163,1043,1344,1069"/>
<area shape="rect" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa" title=" " alt="" coords="966,1245,1113,1272"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="964,840,1115,867"/>
<area shape="rect" href="exception_8c.html#aea63a7b5581ad205c5a3a5d3531b7fed" title=" " alt="" coords="738,1347,898,1373"/>
<area shape="rect" href="sys__regs_8c.html#af0fe59a1036c0652df463e3561f5e571" title=" " alt="" coords="767,1397,869,1424"/>
<area shape="rect" href="sys__regs_8c.html#a3197676d6f6c5a22211e6e67ee07ae00" title=" " alt="" coords="763,1600,873,1627"/>
<area shape="rect" href="sys__regs_8c.html#a68a146fa2942a8ba63d455aa914a9500" title=" " alt="" coords="763,1043,873,1069"/>
<area shape="rect" href="sys__regs_8c.html#a46854382e168687c13c1a17ef2f67087" title=" " alt="" coords="773,1093,863,1120"/>
<area shape="rect" href="sys__regs_8c.html#a7a2ff6ba062956e637ca0bf295bedd0c" title=" " alt="" coords="773,1144,863,1171"/>
<area shape="rect" href="sys__regs_8c.html#a01047bae0a6b3c1dbee152925e318110" title=" " alt="" coords="757,992,879,1019"/>
<area shape="rect" href="handle__exit_8c.html#a5c24d46393da9651d3133e2377fd7a69" title=" " alt="" coords="297,528,393,555"/>
<area shape="rect" href="inject__fault_8c.html#a2bfa90949caca5bddb96723105598b03" title=" " alt="" coords="767,789,869,816"/>
<area shape="rect" href="inject__fault_8c.html#af06cf949a6213151a83a09f3ba25a090" title=" " alt="" coords="263,696,427,723"/>
<area shape="rect" href="debug_8c.html#ac5de7d8da7d4a0e7d01583f9bab9590b" title=" " alt="" coords="497,1499,672,1525"/>
<area shape="rect" href="emulate-nested_8c.html#a1920c02a997dd9975bec0ee02f6ae2c4" title=" " alt="" coords="720,1549,916,1576"/>
<area shape="rect" href="debug_8c.html#a33e80ad65049d17deebb0d5fbe7cc7da" title=" " alt="" coords="721,1195,915,1221"/>
<area shape="rect" href="debug_8c.html#a8341c1ad3b486b6fbcec3681518f3d14" title=" " alt="" coords="729,1448,907,1475"/>
<area shape="rect" href="exception_8c.html#a915e81f46f11cc1767049dbbf071923f" title=" " alt="" coords="273,1347,416,1373"/>
<area shape="rect" href="exception_8c.html#a0bd428ba7b098cc3417dca2f3f3bc9bf" title=" " alt="" coords="513,992,656,1019"/>
<area shape="rect" href="exception_8c.html#af5715c62a030571c39074f9da1d5d5c3" title=" " alt="" coords="513,1397,657,1424"/>
<area shape="rect" href="exception_8c.html#a5951865f1186392f5e4f0bc260c3b840" title=" " alt="" coords="16,1271,181,1297"/>
<area shape="rect" href="sys__regs_8c.html#a6fedb91c5166f9fa4a626ff95c03cacb" title=" " alt="" coords="519,1144,650,1171"/>
<area shape="rect" href="inject__fault_8c.html#a770ee85ef976fd0ff1957245fc67f8e6" title=" " alt="" coords="519,587,650,613"/>
<area shape="rect" href="inject__fault_8c.html#af59dbe65be21cee976e3dee7750211c6" title=" " alt="" coords="519,721,650,748"/>
<area shape="rect" href="guest_8c.html#ab27fd32e1cc35e86995a78b67dfbcfd0" title=" " alt="" coords="263,579,426,621"/>
<area shape="rect" href="mmu_8c.html#a2c7559bf16232daf5d3187255f1cb70e" title=" " alt="" coords="5,696,192,723"/>
<area shape="rect" href="arm_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="251,1473,438,1500"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="37,1473,161,1500"/>
<area shape="rect" href="handle__exit_8c.html#ae96aab7918301d55b908034db5855e3d" title=" " alt="" coords="517,1549,652,1576"/>
<area shape="rect" href="debug_8c.html#a55c5a83ff9f95fb9e6ae8fa50fa07d9a" title=" " alt="" coords="499,1448,670,1475"/>
<area shape="rect" href="exception_8c.html#aa371d4a38496eb6418245edd33508e91" title=" " alt="" coords="747,891,889,917"/>
<area shape="rect" href="exception_8c.html#adfc457815ba5f6b82bcf4dd88d34749e" title=" " alt="" coords="736,840,900,867"/>
<area shape="rect" href="inject__fault_8c.html#a62c2f556fa6a43b0372827ca9a3a8017" title=" " alt="" coords="767,587,869,613"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="759,367,877,393"/>
<area shape="rect" href="emulate-nested_8c.html#a5c0ef76a2f1feaeb264f0d4957c8f527" title=" " alt="" coords="722,485,914,512"/>
<area shape="rect" href="sys__regs_8c.html#a0edd1a16bec4d82c25bd36eb79a795e8" title=" " alt="" coords="773,637,863,664"/>
<area shape="rect" href="sys__regs_8c.html#a9902b3f2a39a6e1b860b65bf53a9354a" title=" " alt="" coords="755,688,881,715"/>
<area shape="rect" href="sys__regs_8c.html#af0c21a1988a4de35a5df265207ee768e" title=" " alt="" coords="768,739,868,765"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="502,300,667,327"/>
<area shape="rect" href="sys__regs_8c.html#a9457451d95fa776f653cff6c2a8d31f9" title=" " alt="" coords="273,123,416,149"/>
<area shape="rect" href="sys__regs_8c.html#affcbc277fd697c88cc97fbbcce0bf78f" title=" " alt="" coords="287,173,402,200"/>
<area shape="rect" href="sys__regs_8c.html#a9a10ea607557de6d05bfd42dab2666cd" title=" " alt="" coords="273,275,416,301"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="305,325,384,352"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="240,376,449,403"/>
<area shape="rect" href="sys__regs_8c.html#a3d240da65ae9bd5abb59855d5eccd1bd" title=" " alt="" coords="278,224,411,251"/>
<area shape="rect" href="sys__regs_8c.html#a1a4cee9d7be58e2317c540e1f87eea20" title=" " alt="" coords="19,325,178,352"/>
<area shape="rect" href="handle__exit_8c.html#aba3cb2b15ab0fafd0ac45b621d3bb6b3" title=" " alt="" coords="274,477,415,504"/>
<area shape="rect" href="handle__exit_8c.html#a3e3ab5fffb73f5ca9700a79f510dcf8f" title=" " alt="" coords="297,5,393,32"/>
<area shape="rect" href="sys__regs_8c.html#a66819aed8acf3d9c6daa1c73afd5e8f7" title=" " alt="" coords="257,57,432,98"/>
<area shape="rect" href="emulate-nested_8c.html#a1c3e31bd85e9c0590a018ada20a5e4bf" title=" " alt="" coords="512,485,657,512"/>
</map>
</div>

</div>
</div>
<a id="a32bbe66af0a96b4abdc1acadae38f79a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32bbe66af0a96b4abdc1acadae38f79a">&#9670;&nbsp;</a></span>get_id_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_id_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01796">1796</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;{</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;<span class="comment">     * Avoid locking if the VM has already started, as the ID registers are</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;<span class="comment">     * guaranteed to be invariant at that point.</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <span class="keywordflow">if</span> (kvm_vm_has_ran_once(vcpu-&gt;kvm)) {</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;        *val = <a class="code" href="sys__regs_8c.html#ad72e5726eba0876e5110453b786a7e02">read_id_reg</a>(vcpu, rd);</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    }</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160; </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    mutex_lock(&amp;vcpu-&gt;kvm-&gt;arch.config_lock);</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    *val = <a class="code" href="sys__regs_8c.html#ad72e5726eba0876e5110453b786a7e02">read_id_reg</a>(vcpu, rd);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    mutex_unlock(&amp;vcpu-&gt;kvm-&gt;arch.config_lock);</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160; </div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a32bbe66af0a96b4abdc1acadae38f79a_cgraph.png" border="0" usemap="#asys__regs_8c_a32bbe66af0a96b4abdc1acadae38f79a_cgraph" alt=""/></div>
<map name="asys__regs_8c_a32bbe66af0a96b4abdc1acadae38f79a_cgraph" id="asys__regs_8c_a32bbe66af0a96b4abdc1acadae38f79a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,96,32"/>
<area shape="rect" href="sys__regs_8c.html#ad72e5726eba0876e5110453b786a7e02" title=" " alt="" coords="144,5,243,32"/>
</map>
</div>

</div>
</div>
<a id="a3ffec76aa0d79fe514d561af9140e9d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ffec76aa0d79fe514d561af9140e9d5">&#9670;&nbsp;</a></span>get_invariant_sys_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_invariant_sys_reg </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 __user *&#160;</td>
          <td class="paramname"><em>uaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03595">3595</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;{</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *r;</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160; </div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;    r = <a class="code" href="sys__regs_8c.html#ac41b37ff19cd3eda5658080a3eb8c558">get_reg_by_id</a>(<span class="keywordtype">id</span>, invariant_sys_regs,</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;              ARRAY_SIZE(invariant_sys_regs));</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;    <span class="keywordflow">if</span> (!r)</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;        <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160; </div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;    <span class="keywordflow">return</span> put_user(r-&gt;<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>, uaddr);</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_ac41b37ff19cd3eda5658080a3eb8c558"><div class="ttname"><a href="sys__regs_8c.html#ac41b37ff19cd3eda5658080a3eb8c558">get_reg_by_id</a></div><div class="ttdeci">const struct sys_reg_desc * get_reg_by_id(u64 id, const struct sys_reg_desc table[], unsigned int num)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03528">sys_regs.c:3528</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a3ffec76aa0d79fe514d561af9140e9d5_cgraph.png" border="0" usemap="#asys__regs_8c_a3ffec76aa0d79fe514d561af9140e9d5_cgraph" alt=""/></div>
<map name="asys__regs_8c_a3ffec76aa0d79fe514d561af9140e9d5_cgraph" id="asys__regs_8c_a3ffec76aa0d79fe514d561af9140e9d5_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,171,57"/>
<area shape="rect" href="sys__regs_8c.html#ac41b37ff19cd3eda5658080a3eb8c558" title=" " alt="" coords="219,31,332,57"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="410,5,485,32"/>
<area shape="rect" href="sys__regs_8c.html#a000b8bb9ea7247fee0c7acc84817d960" title=" " alt="" coords="380,56,515,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="563,5,683,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a3ffec76aa0d79fe514d561af9140e9d5_icgraph.png" border="0" usemap="#asys__regs_8c_a3ffec76aa0d79fe514d561af9140e9d5_icgraph" alt=""/></div>
<map name="asys__regs_8c_a3ffec76aa0d79fe514d561af9140e9d5_icgraph" id="asys__regs_8c_a3ffec76aa0d79fe514d561af9140e9d5_icgraph">
<area shape="rect" title=" " alt="" coords="817,5,983,32"/>
<area shape="rect" href="sys__regs_8c.html#af85c3c21b976f4ad1def9aaeebfcfe2a" title=" " alt="" coords="572,5,769,32"/>
<area shape="rect" href="guest_8c.html#ad1a71190592cc60155333934b84d1d11" title=" " alt="" coords="384,5,524,32"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,5,336,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="a5dcc664cfa17fa30fd97daba07934cc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dcc664cfa17fa30fd97daba07934cc8">&#9670;&nbsp;</a></span>get_min_cache_line_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u8 get_min_cache_line_size </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>icache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00221">221</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    u64 ctr = read_sanitised_ftr_reg(SYS_CTR_EL0);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    u8 field;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">if</span> (icache)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        field = SYS_FIELD_GET(CTR_EL0, IminLine, ctr);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        field = SYS_FIELD_GET(CTR_EL0, DminLine, ctr);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">     * Cache line size is represented as Log2(words) in CTR_EL0.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">     * Log2(bytes) can be derived with the following:</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">     * Log2(words) + 2 = Log2(bytes / 4) + 2</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">     *         = Log2(bytes) - 2 + 2</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">     *         = Log2(bytes)</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">return</span> field + 2;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a5dcc664cfa17fa30fd97daba07934cc8_icgraph.png" border="0" usemap="#asys__regs_8c_a5dcc664cfa17fa30fd97daba07934cc8_icgraph" alt=""/></div>
<map name="asys__regs_8c_a5dcc664cfa17fa30fd97daba07934cc8_icgraph" id="asys__regs_8c_a5dcc664cfa17fa30fd97daba07934cc8_icgraph">
<area shape="rect" title=" " alt="" coords="1371,81,1555,108"/>
<area shape="rect" href="sys__regs_8c.html#a292111fbdf0789784c74686f924d0e04" title=" " alt="" coords="1235,56,1323,83"/>
<area shape="rect" href="sys__regs_8c.html#a8e75bf582b5fbb9eb7e84591ab3226e6" title=" " alt="" coords="1081,107,1167,133"/>
<area shape="rect" href="sys__regs_8c.html#a3197676d6f6c5a22211e6e67ee07ae00" title=" " alt="" coords="1069,5,1179,32"/>
<area shape="rect" href="sys__regs_8c.html#af96f247febced4bc1382d643b2ae44b3" title=" " alt="" coords="1061,56,1187,83"/>
<area shape="rect" href="sys__regs_8c.html#af85c3c21b976f4ad1def9aaeebfcfe2a" title=" " alt="" coords="816,56,1013,83"/>
<area shape="rect" href="guest_8c.html#ad1a71190592cc60155333934b84d1d11" title=" " alt="" coords="384,56,524,83"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,81,336,108"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,81,129,108"/>
<area shape="rect" href="sys__regs_8c.html#ab1e2d05ecec16fc3b603d7b37afe0295" title=" " alt="" coords="853,107,977,133"/>
<area shape="rect" href="sys__regs_8c.html#a857a1f40feb608d8b9156c442eb73f6a" title=" " alt="" coords="572,107,768,133"/>
<area shape="rect" href="guest_8c.html#a8ee5ced2d0c0d538319888057bc58b4a" title=" " alt="" coords="385,107,523,133"/>
</map>
</div>

</div>
</div>
<a id="ab7f4254c80f8d9a86cacdc232772ee1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7f4254c80f8d9a86cacdc232772ee1f">&#9670;&nbsp;</a></span>get_pmcr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_pmcr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01262">1262</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;{</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    *val = <a class="code" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6">kvm_vcpu_read_pmcr</a>(vcpu);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ab7f4254c80f8d9a86cacdc232772ee1f_cgraph.png" border="0" usemap="#asys__regs_8c_ab7f4254c80f8d9a86cacdc232772ee1f_cgraph" alt=""/></div>
<map name="asys__regs_8c_ab7f4254c80f8d9a86cacdc232772ee1f_cgraph" id="asys__regs_8c_ab7f4254c80f8d9a86cacdc232772ee1f_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,88,32"/>
<area shape="rect" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6" title=" " alt="" coords="136,5,301,32"/>
</map>
</div>

</div>
</div>
<a id="a1b1c2d475ae8718190fb063eb6e8b00a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b1c2d475ae8718190fb063eb6e8b00a">&#9670;&nbsp;</a></span>get_pmreg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_pmreg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01145">1145</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;{</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    u64 mask = <a class="code" href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6">kvm_pmu_valid_counter_mask</a>(vcpu);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    *val = __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) &amp; mask;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a1b1c2d475ae8718190fb063eb6e8b00a_cgraph.png" border="0" usemap="#asys__regs_8c_a1b1c2d475ae8718190fb063eb6e8b00a_cgraph" alt=""/></div>
<map name="asys__regs_8c_a1b1c2d475ae8718190fb063eb6e8b00a_cgraph" id="asys__regs_8c_a1b1c2d475ae8718190fb063eb6e8b00a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,97,32"/>
<area shape="rect" href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6" title=" " alt="" coords="145,5,371,32"/>
<area shape="rect" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6" title=" " alt="" coords="419,5,584,32"/>
</map>
</div>

</div>
</div>
<a id="a619f21eb31e46258fdc0f120f206521f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a619f21eb31e46258fdc0f120f206521f">&#9670;&nbsp;</a></span>get_pmu_evcntr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_pmu_evcntr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01015">1015</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;{</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    u64 idx;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#a2788b87d4da525a57ff87f86ed40fb56">CRn</a> == 9 &amp;&amp; r-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a> == 13 &amp;&amp; r-&gt;<a class="code" href="structsys__reg__desc.html#a2c409db28db7235af0c8e5b6d7dfdc0f">Op2</a> == 0)</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        <span class="comment">/* PMCCNTR_EL0 */</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        idx = ARMV8_PMU_CYCLE_IDX;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="comment">/* PMEVCNTRn_EL0 */</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        idx = ((r-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a> &amp; 3) &lt;&lt; 3) | (r-&gt;<a class="code" href="structsys__reg__desc.html#a2c409db28db7235af0c8e5b6d7dfdc0f">Op2</a> &amp; 7);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    *val = <a class="code" href="pmu-emul_8c.html#a57b710f17cc1fc314f8f1e297bcb85f3">kvm_pmu_get_counter_value</a>(vcpu, idx);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a619f21eb31e46258fdc0f120f206521f_cgraph.png" border="0" usemap="#asys__regs_8c_a619f21eb31e46258fdc0f120f206521f_cgraph" alt=""/></div>
<map name="asys__regs_8c_a619f21eb31e46258fdc0f120f206521f_cgraph" id="asys__regs_8c_a619f21eb31e46258fdc0f120f206521f_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,132,108"/>
<area shape="rect" href="pmu-emul_8c.html#a57b710f17cc1fc314f8f1e297bcb85f3" title=" " alt="" coords="180,74,351,115"/>
<area shape="rect" href="pmu-emul_8c.html#acb35ae097b8b697c84c55e519566fb6a" title=" " alt="" coords="399,56,592,83"/>
<area shape="rect" href="pmu-emul_8c.html#af0e28bffa2a3c2ed1f5e6405b8284638" title=" " alt="" coords="410,107,581,133"/>
<area shape="rect" href="pmu-emul_8c.html#a450695105665f1fe0e9d2db927315c5a" title=" " alt="" coords="640,5,803,32"/>
<area shape="rect" href="pmu-emul_8c.html#a25e7862bfe86692b32844810dbe3d6a3" title=" " alt="" coords="649,56,793,83"/>
<area shape="rect" href="pmu-emul_8c.html#a10ab89dbf42da547c48fc7a7ad9fc2f4" title=" " alt="" coords="851,81,995,108"/>
</map>
</div>

</div>
</div>
<a id="ab9e27c1446ad388719eeef9cce7d9014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9e27c1446ad388719eeef9cce7d9014">&#9670;&nbsp;</a></span>get_raz_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_raz_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01855">1855</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;{</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    *val = 0;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac41b37ff19cd3eda5658080a3eb8c558"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac41b37ff19cd3eda5658080a3eb8c558">&#9670;&nbsp;</a></span>get_reg_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a>* get_reg_by_id </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a>&#160;</td>
          <td class="paramname"><em>table</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03528">3528</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;{</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;    <span class="keyword">struct </span><a class="code" href="structsys__reg__params.html">sys_reg_params</a> params;</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160; </div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="sys__regs_8c.html#a000b8bb9ea7247fee0c7acc84817d960">index_to_params</a>(<span class="keywordtype">id</span>, &amp;params))</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160; </div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef">find_reg</a>(&amp;params, table, num);</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;}</div>
<div class="ttc" id="astructsys__reg__params_html"><div class="ttname"><a href="structsys__reg__params.html">sys_reg_params</a></div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00020">sys_regs.h:20</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a000b8bb9ea7247fee0c7acc84817d960"><div class="ttname"><a href="sys__regs_8c.html#a000b8bb9ea7247fee0c7acc84817d960">index_to_params</a></div><div class="ttdeci">static bool index_to_params(u64 id, struct sys_reg_params *params)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03499">sys_regs.c:3499</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ac41b37ff19cd3eda5658080a3eb8c558_cgraph.png" border="0" usemap="#asys__regs_8c_ac41b37ff19cd3eda5658080a3eb8c558_cgraph" alt=""/></div>
<map name="asys__regs_8c_ac41b37ff19cd3eda5658080a3eb8c558_cgraph" id="asys__regs_8c_ac41b37ff19cd3eda5658080a3eb8c558_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,119,57"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="197,5,271,32"/>
<area shape="rect" href="sys__regs_8c.html#a000b8bb9ea7247fee0c7acc84817d960" title=" " alt="" coords="167,56,301,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="349,5,469,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ac41b37ff19cd3eda5658080a3eb8c558_icgraph.png" border="0" usemap="#asys__regs_8c_ac41b37ff19cd3eda5658080a3eb8c558_icgraph" alt=""/></div>
<map name="asys__regs_8c_ac41b37ff19cd3eda5658080a3eb8c558_icgraph" id="asys__regs_8c_ac41b37ff19cd3eda5658080a3eb8c558_icgraph">
<area shape="rect" title=" " alt="" coords="1351,132,1464,159"/>
<area shape="rect" href="sys__regs_8c.html#a3ffec76aa0d79fe514d561af9140e9d5" title=" " alt="" coords="868,5,1033,32"/>
<area shape="rect" href="sys__regs_8c.html#af212e5241f19483aede7d85e43a93b42" title=" " alt="" coords="1119,107,1267,133"/>
<area shape="rect" href="sys__regs_8c.html#a1a8c62b59dd6a91702e17f7bb83e3633" title=" " alt="" coords="1111,157,1275,184"/>
<area shape="rect" href="vgic_8h.html#af8d4c0e182ab36b9414c4dcaad810793" title=" " alt="" coords="1084,208,1303,235"/>
<area shape="rect" href="sys__regs_8c.html#af85c3c21b976f4ad1def9aaeebfcfe2a" title=" " alt="" coords="620,15,817,41"/>
<area shape="rect" href="guest_8c.html#ad1a71190592cc60155333934b84d1d11" title=" " alt="" coords="408,15,548,41"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,27,336,53"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,27,129,53"/>
<area shape="rect" href="sys__regs_8c.html#a228e61f9390e36b563ab837dfcf03ae2" title=" " alt="" coords="865,56,1036,83"/>
<area shape="rect" href="sys__regs_8c.html#ab29b04a8d34d81f0cce231f94feba038" title=" " alt="" coords="865,107,1036,133"/>
<area shape="rect" href="vgic_8h.html#ae6c5f6437d5d194daa8d1485c3dfe27b" title=" " alt="" coords="639,74,798,115"/>
<area shape="rect" href="vgic-kvm-device_8c.html#a176e49a1162579b332c8a68ab035e981" title=" " alt="" coords="384,116,572,143"/>
<area shape="rect" href="vgic-kvm-device_8c.html#ad2effaec26f6d2af865ed45b7dbc64f1" title=" " alt="" coords="191,103,322,129"/>
<area shape="rect" href="vgic-kvm-device_8c.html#aee48777d58c65e5b91c0f85e2eae843e" title=" " alt="" coords="192,153,321,180"/>
<area shape="rect" href="sys__regs_8c.html#a857a1f40feb608d8b9156c442eb73f6a" title=" " alt="" coords="621,140,817,167"/>
<area shape="rect" href="guest_8c.html#a8ee5ced2d0c0d538319888057bc58b4a" title=" " alt="" coords="409,65,547,92"/>
<area shape="rect" href="vgic-mmio-v3_8c.html#ab7ab2fb9c9721de227541e7cc6da7e3e" title=" " alt="" coords="867,208,1034,235"/>
</map>
</div>

</div>
</div>
<a id="a4f693a0c463677775c8f29c5abedeb86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f693a0c463677775c8f29c5abedeb86">&#9670;&nbsp;</a></span>get_wcr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_wcr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00789">789</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;{</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    *val = vcpu-&gt;arch.vcpu_debug_state.dbg_wcr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>];</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa95f97c2afa31fbce430d5ffb539dfd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa95f97c2afa31fbce430d5ffb539dfd3">&#9670;&nbsp;</a></span>get_wvr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_wvr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00752">752</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;{</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    *val = vcpu-&gt;arch.vcpu_debug_state.dbg_wvr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>];</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aff90c282f9677c4b8d23520a8889e442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff90c282f9677c4b8d23520a8889e442">&#9670;&nbsp;</a></span>hidden_user_visibility()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int hidden_user_visibility </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02055">2055</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;{</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#addbd7d5239f5caf40f19e0d7912215a4">REG_HIDDEN_USER</a>;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;}</div>
<div class="ttc" id="asys__regs_8h_html_addbd7d5239f5caf40f19e0d7912215a4"><div class="ttname"><a href="sys__regs_8h.html#addbd7d5239f5caf40f19e0d7912215a4">REG_HIDDEN_USER</a></div><div class="ttdeci">#define REG_HIDDEN_USER</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00098">sys_regs.h:98</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af212e5241f19483aede7d85e43a93b42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af212e5241f19483aede7d85e43a93b42">&#9670;&nbsp;</a></span>id_to_sys_reg_desc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a>* id_to_sys_reg_desc </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a>&#160;</td>
          <td class="paramname"><em>table</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03542">3542</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;{</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *r;</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160; </div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;    <span class="comment">/* We only do sys_reg for now. */</span></div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">id</span> &amp; KVM_REG_ARM_COPROC_MASK) != KVM_REG_ARM64_SYSREG)</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160; </div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;    r = <a class="code" href="sys__regs_8c.html#ac41b37ff19cd3eda5658080a3eb8c558">get_reg_by_id</a>(<span class="keywordtype">id</span>, table, num);</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160; </div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    <span class="comment">/* Not saved in the sys_reg array and not otherwise accessible? */</span></div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;    <span class="keywordflow">if</span> (r &amp;&amp; (!(r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a> || r-&gt;<a class="code" href="structsys__reg__desc.html#ad4a1cef69891a0e8d270650222ace922">get_user</a>) || <a class="code" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9">sysreg_hidden</a>(vcpu, r)))</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;        r = NULL;</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160; </div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;}</div>
<div class="ttc" id="astructsys__reg__desc_html_ad4a1cef69891a0e8d270650222ace922"><div class="ttname"><a href="structsys__reg__desc.html#ad4a1cef69891a0e8d270650222ace922">sys_reg_desc::get_user</a></div><div class="ttdeci">int(* get_user)(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd, u64 *val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00087">sys_regs.h:87</a></div></div>
<div class="ttc" id="asys__regs_8h_html_a1288fc38e8c8e5e2bbf3cfeb9291cef9"><div class="ttname"><a href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9">sysreg_hidden</a></div><div class="ttdeci">static bool sysreg_hidden(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00162">sys_regs.h:162</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_af212e5241f19483aede7d85e43a93b42_cgraph.png" border="0" usemap="#asys__regs_8c_af212e5241f19483aede7d85e43a93b42_cgraph" alt=""/></div>
<map name="asys__regs_8c_af212e5241f19483aede7d85e43a93b42_cgraph" id="asys__regs_8c_af212e5241f19483aede7d85e43a93b42_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,153,108"/>
<area shape="rect" href="sys__regs_8c.html#ac41b37ff19cd3eda5658080a3eb8c558" title=" " alt="" coords="203,56,316,83"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="201,107,317,133"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="395,5,470,32"/>
<area shape="rect" href="sys__regs_8c.html#a000b8bb9ea7247fee0c7acc84817d960" title=" " alt="" coords="365,56,500,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="548,5,668,32"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="369,107,497,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_af212e5241f19483aede7d85e43a93b42_icgraph.png" border="0" usemap="#asys__regs_8c_af212e5241f19483aede7d85e43a93b42_icgraph" alt=""/></div>
<map name="asys__regs_8c_af212e5241f19483aede7d85e43a93b42_icgraph" id="asys__regs_8c_af212e5241f19483aede7d85e43a93b42_icgraph">
<area shape="rect" title=" " alt="" coords="1084,64,1232,91"/>
<area shape="rect" href="sys__regs_8c.html#a228e61f9390e36b563ab837dfcf03ae2" title=" " alt="" coords="865,89,1036,116"/>
<area shape="rect" href="sys__regs_8c.html#ab29b04a8d34d81f0cce231f94feba038" title=" " alt="" coords="865,39,1036,65"/>
<area shape="rect" href="sys__regs_8c.html#af85c3c21b976f4ad1def9aaeebfcfe2a" title=" " alt="" coords="620,123,817,149"/>
<area shape="rect" href="vgic_8h.html#ae6c5f6437d5d194daa8d1485c3dfe27b" title=" " alt="" coords="639,57,798,98"/>
<area shape="rect" href="guest_8c.html#ad1a71190592cc60155333934b84d1d11" title=" " alt="" coords="408,56,548,83"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,17,336,44"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,17,129,44"/>
<area shape="rect" href="vgic-kvm-device_8c.html#a176e49a1162579b332c8a68ab035e981" title=" " alt="" coords="384,107,572,133"/>
<area shape="rect" href="vgic-kvm-device_8c.html#ad2effaec26f6d2af865ed45b7dbc64f1" title=" " alt="" coords="191,93,322,120"/>
<area shape="rect" href="vgic-kvm-device_8c.html#aee48777d58c65e5b91c0f85e2eae843e" title=" " alt="" coords="192,144,321,171"/>
<area shape="rect" href="sys__regs_8c.html#a857a1f40feb608d8b9156c442eb73f6a" title=" " alt="" coords="621,5,817,32"/>
<area shape="rect" href="guest_8c.html#a8ee5ced2d0c0d538319888057bc58b4a" title=" " alt="" coords="409,5,547,32"/>
</map>
</div>

</div>
</div>
<a id="a0fe58fd7819170b255cb7c5fe2e1dcac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fe58fd7819170b255cb7c5fe2e1dcac">&#9670;&nbsp;</a></span>id_visibility()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int id_visibility </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01589">1589</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;{</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    u32 <span class="keywordtype">id</span> = <a class="code" href="sys__regs_8h.html#a2a67e99c288b572250f936d156c5d316">reg_to_encoding</a>(r);</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">switch</span> (<span class="keywordtype">id</span>) {</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="keywordflow">case</span> SYS_ID_AA64ZFR0_EL1:</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        <span class="keywordflow">if</span> (!vcpu_has_sve(vcpu))</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#a5ba804724d1a28c29e74a6783cffb779">REG_RAZ</a>;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    }</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160; </div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a0fe58fd7819170b255cb7c5fe2e1dcac_icgraph.png" border="0" usemap="#asys__regs_8c_a0fe58fd7819170b255cb7c5fe2e1dcac_icgraph" alt=""/></div>
<map name="asys__regs_8c_a0fe58fd7819170b255cb7c5fe2e1dcac_icgraph" id="asys__regs_8c_a0fe58fd7819170b255cb7c5fe2e1dcac_icgraph">
<area shape="rect" title=" " alt="" coords="189,5,287,32"/>
<area shape="rect" href="sys__regs_8c.html#a04b6e7d9762e03fc49fc087431fafd21" title=" " alt="" coords="5,5,141,32"/>
</map>
</div>

</div>
</div>
<a id="a000b8bb9ea7247fee0c7acc84817d960"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a000b8bb9ea7247fee0c7acc84817d960">&#9670;&nbsp;</a></span>index_to_params()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool index_to_params </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03499">3499</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;{</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;    <span class="keywordflow">switch</span> (<span class="keywordtype">id</span> &amp; KVM_REG_SIZE_MASK) {</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;    <span class="keywordflow">case</span> KVM_REG_SIZE_U64:</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;        <span class="comment">/* Any unused index bits means it&#39;s not valid. */</span></div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &amp; ~(KVM_REG_ARCH_MASK | KVM_REG_SIZE_MASK</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;                  | KVM_REG_ARM_COPROC_MASK</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;                  | KVM_REG_ARM64_SYSREG_OP0_MASK</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;                  | KVM_REG_ARM64_SYSREG_OP1_MASK</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;                  | KVM_REG_ARM64_SYSREG_CRN_MASK</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;                  | KVM_REG_ARM64_SYSREG_CRM_MASK</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;                  | KVM_REG_ARM64_SYSREG_OP2_MASK))</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;        params-&gt;<a class="code" href="structsys__reg__params.html#a7953915a142e80f399807e364c04259d">Op0</a> = ((<span class="keywordtype">id</span> &amp; KVM_REG_ARM64_SYSREG_OP0_MASK)</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;                   &gt;&gt; KVM_REG_ARM64_SYSREG_OP0_SHIFT);</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;        params-&gt;<a class="code" href="structsys__reg__params.html#adc62e54d1902c5ef7e2757dfe073ca6e">Op1</a> = ((<span class="keywordtype">id</span> &amp; KVM_REG_ARM64_SYSREG_OP1_MASK)</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;                   &gt;&gt; KVM_REG_ARM64_SYSREG_OP1_SHIFT);</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;        params-&gt;<a class="code" href="structsys__reg__params.html#a0942605427c644a8c5f41c583b438164">CRn</a> = ((<span class="keywordtype">id</span> &amp; KVM_REG_ARM64_SYSREG_CRN_MASK)</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;                   &gt;&gt; KVM_REG_ARM64_SYSREG_CRN_SHIFT);</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;        params-&gt;<a class="code" href="structsys__reg__params.html#abaf66e6a3ec1df340ccf61f124cfc468">CRm</a> = ((<span class="keywordtype">id</span> &amp; KVM_REG_ARM64_SYSREG_CRM_MASK)</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;                   &gt;&gt; KVM_REG_ARM64_SYSREG_CRM_SHIFT);</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;        params-&gt;<a class="code" href="structsys__reg__params.html#aba9656bfbf43cfd021a1559a889fd6a6">Op2</a> = ((<span class="keywordtype">id</span> &amp; KVM_REG_ARM64_SYSREG_OP2_MASK)</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;                   &gt;&gt; KVM_REG_ARM64_SYSREG_OP2_SHIFT);</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    }</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;}</div>
<div class="ttc" id="astructsys__reg__params_html_a0942605427c644a8c5f41c583b438164"><div class="ttname"><a href="structsys__reg__params.html#a0942605427c644a8c5f41c583b438164">sys_reg_params::CRn</a></div><div class="ttdeci">u8 CRn</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00023">sys_regs.h:23</a></div></div>
<div class="ttc" id="astructsys__reg__params_html_abaf66e6a3ec1df340ccf61f124cfc468"><div class="ttname"><a href="structsys__reg__params.html#abaf66e6a3ec1df340ccf61f124cfc468">sys_reg_params::CRm</a></div><div class="ttdeci">u8 CRm</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00024">sys_regs.h:24</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a000b8bb9ea7247fee0c7acc84817d960_icgraph.png" border="0" usemap="#asys__regs_8c_a000b8bb9ea7247fee0c7acc84817d960_icgraph" alt=""/></div>
<map name="asys__regs_8c_a000b8bb9ea7247fee0c7acc84817d960_icgraph" id="asys__regs_8c_a000b8bb9ea7247fee0c7acc84817d960_icgraph">
<area shape="rect" title=" " alt="" coords="1512,132,1647,159"/>
<area shape="rect" href="sys__regs_8c.html#ac41b37ff19cd3eda5658080a3eb8c558" title=" " alt="" coords="1351,132,1464,159"/>
<area shape="rect" href="sys__regs_8c.html#a3ffec76aa0d79fe514d561af9140e9d5" title=" " alt="" coords="868,5,1033,32"/>
<area shape="rect" href="sys__regs_8c.html#af212e5241f19483aede7d85e43a93b42" title=" " alt="" coords="1119,107,1267,133"/>
<area shape="rect" href="sys__regs_8c.html#a1a8c62b59dd6a91702e17f7bb83e3633" title=" " alt="" coords="1111,157,1275,184"/>
<area shape="rect" href="vgic_8h.html#af8d4c0e182ab36b9414c4dcaad810793" title=" " alt="" coords="1084,208,1303,235"/>
<area shape="rect" href="sys__regs_8c.html#af85c3c21b976f4ad1def9aaeebfcfe2a" title=" " alt="" coords="620,15,817,41"/>
<area shape="rect" href="guest_8c.html#ad1a71190592cc60155333934b84d1d11" title=" " alt="" coords="408,15,548,41"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,27,336,53"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,27,129,53"/>
<area shape="rect" href="sys__regs_8c.html#a228e61f9390e36b563ab837dfcf03ae2" title=" " alt="" coords="865,56,1036,83"/>
<area shape="rect" href="sys__regs_8c.html#ab29b04a8d34d81f0cce231f94feba038" title=" " alt="" coords="865,107,1036,133"/>
<area shape="rect" href="vgic_8h.html#ae6c5f6437d5d194daa8d1485c3dfe27b" title=" " alt="" coords="639,74,798,115"/>
<area shape="rect" href="vgic-kvm-device_8c.html#a176e49a1162579b332c8a68ab035e981" title=" " alt="" coords="384,116,572,143"/>
<area shape="rect" href="vgic-kvm-device_8c.html#ad2effaec26f6d2af865ed45b7dbc64f1" title=" " alt="" coords="191,103,322,129"/>
<area shape="rect" href="vgic-kvm-device_8c.html#aee48777d58c65e5b91c0f85e2eae843e" title=" " alt="" coords="192,153,321,180"/>
<area shape="rect" href="sys__regs_8c.html#a857a1f40feb608d8b9156c442eb73f6a" title=" " alt="" coords="621,140,817,167"/>
<area shape="rect" href="guest_8c.html#a8ee5ced2d0c0d538319888057bc58b4a" title=" " alt="" coords="409,65,547,92"/>
<area shape="rect" href="vgic-mmio-v3_8c.html#ab7ab2fb9c9721de227541e7cc6da7e3e" title=" " alt="" coords="867,208,1034,235"/>
</map>
</div>

</div>
</div>
<a id="ad9124f4805ad45a5494565613229f6d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9124f4805ad45a5494565613229f6d8">&#9670;&nbsp;</a></span>is_aa32_id_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_aa32_id_reg </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01582">1582</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;{</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordflow">return</span> (sys_reg_Op0(<span class="keywordtype">id</span>) == 3 &amp;&amp; sys_reg_Op1(<span class="keywordtype">id</span>) == 0 &amp;&amp;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        sys_reg_CRn(<span class="keywordtype">id</span>) == 0 &amp;&amp; sys_reg_CRm(<span class="keywordtype">id</span>) &gt;= 1 &amp;&amp;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        sys_reg_CRm(<span class="keywordtype">id</span>) &lt;= 3);</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ad9124f4805ad45a5494565613229f6d8_icgraph.png" border="0" usemap="#asys__regs_8c_ad9124f4805ad45a5494565613229f6d8_icgraph" alt=""/></div>
<map name="asys__regs_8c_ad9124f4805ad45a5494565613229f6d8_icgraph" id="asys__regs_8c_ad9124f4805ad45a5494565613229f6d8_icgraph">
<area shape="rect" title=" " alt="" coords="421,13,540,39"/>
<area shape="rect" href="sys__regs_8c.html#a12c2c14feb7960c243c69a66db5eee3b" title=" " alt="" coords="203,5,373,47"/>
<area shape="rect" href="arm_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="5,13,155,39"/>
</map>
</div>

</div>
</div>
<a id="a9eb66b32599b474c03e9a8a8e52edb23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb66b32599b474c03e9a8a8e52edb23">&#9670;&nbsp;</a></span>is_feature_id_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_feature_id_reg </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>encoding</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03881">3881</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;{</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    <span class="keywordflow">return</span> (sys_reg_Op0(encoding) == 3 &amp;&amp;</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;        (sys_reg_Op1(encoding) &lt; 2 || sys_reg_Op1(encoding) == 3) &amp;&amp;</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;        sys_reg_CRn(encoding) == 0 &amp;&amp;</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;        sys_reg_CRm(encoding) &lt;= 7);</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a9eb66b32599b474c03e9a8a8e52edb23_icgraph.png" border="0" usemap="#asys__regs_8c_a9eb66b32599b474c03e9a8a8e52edb23_icgraph" alt=""/></div>
<map name="asys__regs_8c_a9eb66b32599b474c03e9a8a8e52edb23_icgraph" id="asys__regs_8c_a9eb66b32599b474c03e9a8a8e52edb23_icgraph">
<area shape="rect" title=" " alt="" coords="421,13,556,39"/>
<area shape="rect" href="sys__regs_8c.html#a12c2c14feb7960c243c69a66db5eee3b" title=" " alt="" coords="203,5,373,47"/>
<area shape="rect" href="arm_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="5,13,155,39"/>
</map>
</div>

</div>
</div>
<a id="a928c5005370eb285da77e648be052b3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a928c5005370eb285da77e648be052b3d">&#9670;&nbsp;</a></span>is_id_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_id_reg </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01575">1575</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;{</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="keywordflow">return</span> (sys_reg_Op0(<span class="keywordtype">id</span>) == 3 &amp;&amp; sys_reg_Op1(<span class="keywordtype">id</span>) == 0 &amp;&amp;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        sys_reg_CRn(<span class="keywordtype">id</span>) == 0 &amp;&amp; sys_reg_CRm(<span class="keywordtype">id</span>) &gt;= 1 &amp;&amp;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        sys_reg_CRm(<span class="keywordtype">id</span>) &lt; 8);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a928c5005370eb285da77e648be052b3d_icgraph.png" border="0" usemap="#asys__regs_8c_a928c5005370eb285da77e648be052b3d_icgraph" alt=""/></div>
<map name="asys__regs_8c_a928c5005370eb285da77e648be052b3d_icgraph" id="asys__regs_8c_a928c5005370eb285da77e648be052b3d_icgraph">
<area shape="rect" title=" " alt="" coords="1652,107,1732,133"/>
<area shape="rect" href="sys__regs_8c.html#ab8caa56833715758c346de1e7ccfaebd" title=" " alt="" coords="1446,56,1591,83"/>
<area shape="rect" href="sys__regs_8c.html#abba14158e86a83e47c00e8fcde09fcfc" title=" " alt="" coords="1231,81,1385,108"/>
<area shape="rect" href="sys__regs_8c.html#a12c2c14feb7960c243c69a66db5eee3b" title=" " alt="" coords="1433,158,1604,199"/>
<area shape="rect" href="reset_8c.html#a124698ccde953ff74d270ddd091fc3a9" title=" " alt="" coords="1053,81,1183,108"/>
<area shape="rect" href="arm_8c.html#ae1c5fe27678796057c4ea914a9a6897b" title=" " alt="" coords="829,5,1005,32"/>
<area shape="rect" href="arm_8c.html#a91790a6a024c83b103717f37a8f0f504" title=" " alt="" coords="619,48,781,75"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,107,336,133"/>
<area shape="rect" href="arm_8c.html#a05fa4e97677ca3190089071bfce82825" title=" " alt="" coords="837,157,998,184"/>
<area shape="rect" href="arm_8c.html#ad66c8d00e8adc8315c45170fa270304b" title=" " alt="" coords="398,41,557,82"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,132,129,159"/>
<area shape="rect" href="arm_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="384,157,571,184"/>
<area shape="rect" href="arm_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="1233,165,1383,192"/>
</map>
</div>

</div>
</div>
<a id="ac84d9b3a11a9a1dd463e8843f45b31bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac84d9b3a11a9a1dd463e8843f45b31bf">&#9670;&nbsp;</a></span>is_imp_def_sys_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_imp_def_sys_reg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03387">3387</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;{</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;    <span class="comment">// See ARM DDI 0487E.a, section D12.3.2</span></div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;    <span class="keywordflow">return</span> params-&gt;<a class="code" href="structsys__reg__params.html#a7953915a142e80f399807e364c04259d">Op0</a> == 3 &amp;&amp; (params-&gt;<a class="code" href="structsys__reg__params.html#a0942605427c644a8c5f41c583b438164">CRn</a> &amp; 0b1011) == 0b1011;</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ac84d9b3a11a9a1dd463e8843f45b31bf_icgraph.png" border="0" usemap="#asys__regs_8c_ac84d9b3a11a9a1dd463e8843f45b31bf_icgraph" alt=""/></div>
<map name="asys__regs_8c_ac84d9b3a11a9a1dd463e8843f45b31bf_icgraph" id="asys__regs_8c_ac84d9b3a11a9a1dd463e8843f45b31bf_icgraph">
<area shape="rect" title=" " alt="" coords="643,56,793,83"/>
<area shape="rect" href="sys__regs_8c.html#a3d240da65ae9bd5abb59855d5eccd1bd" title=" " alt="" coords="461,56,595,83"/>
<area shape="rect" href="sys__regs_8c.html#a88f8e6bd75a62772935f734d5772c6bf" title=" " alt="" coords="216,5,413,32"/>
<area shape="rect" href="sys__regs_8c.html#a1a4cee9d7be58e2317c540e1f87eea20" title=" " alt="" coords="235,56,394,83"/>
<area shape="rect" href="sys__regs_8c.html#a315e661b6f1cb224596267000909a1ac" title=" " alt="" coords="235,107,394,133"/>
<area shape="rect" href="sys__regs_8c.html#aabfd3c696cf28ee58eb8d7e421e12310" title=" " alt="" coords="5,5,168,32"/>
</map>
</div>

</div>
</div>
<a id="ab17ee3ff0bb4b9fd235c144d22fc204f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab17ee3ff0bb4b9fd235c144d22fc204f">&#9670;&nbsp;</a></span>kvm_arm64_ftr_safe_value()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static s64 kvm_arm64_ftr_safe_value </td>
          <td>(</td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct arm64_ftr_bits *&#160;</td>
          <td class="paramname"><em>ftrp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s64&#160;</td>
          <td class="paramname"><em>new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s64&#160;</td>
          <td class="paramname"><em>cur</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01412">1412</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;{</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keyword">struct </span>arm64_ftr_bits kvm_ftr = *ftrp;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; </div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="comment">/* Some features have different safe value type in KVM than host features */</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordflow">switch</span> (<span class="keywordtype">id</span>) {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">case</span> SYS_ID_AA64DFR0_EL1:</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <span class="keywordflow">switch</span> (kvm_ftr.shift) {</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <span class="keywordflow">case</span> ID_AA64DFR0_EL1_PMUVer_SHIFT:</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;            kvm_ftr.type = FTR_LOWER_SAFE;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <span class="keywordflow">case</span> ID_AA64DFR0_EL1_DebugVer_SHIFT:</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;            kvm_ftr.type = FTR_LOWER_SAFE;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        }</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordflow">case</span> SYS_ID_DFR0_EL1:</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        <span class="keywordflow">if</span> (kvm_ftr.shift == ID_DFR0_EL1_PerfMon_SHIFT)</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;            kvm_ftr.type = FTR_LOWER_SAFE;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; </div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keywordflow">return</span> arm64_ftr_safe_value(&amp;kvm_ftr, <span class="keyword">new</span>, <a class="code" href="early__alloc_8c.html#a7eb8057942ed1846c6c3584dd9fa7bb5">cur</a>);</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;}</div>
<div class="ttc" id="aearly__alloc_8c_html_a7eb8057942ed1846c6c3584dd9fa7bb5"><div class="ttname"><a href="early__alloc_8c.html#a7eb8057942ed1846c6c3584dd9fa7bb5">cur</a></div><div class="ttdeci">static unsigned long cur</div><div class="ttdef"><b>Definition:</b> <a href="early__alloc_8c_source.html#l00017">early_alloc.c:17</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ab17ee3ff0bb4b9fd235c144d22fc204f_icgraph.png" border="0" usemap="#asys__regs_8c_ab17ee3ff0bb4b9fd235c144d22fc204f_icgraph" alt=""/></div>
<map name="asys__regs_8c_ab17ee3ff0bb4b9fd235c144d22fc204f_icgraph" id="asys__regs_8c_ab17ee3ff0bb4b9fd235c144d22fc204f_icgraph">
<area shape="rect" title=" " alt="" coords="563,23,719,65"/>
<area shape="rect" href="sys__regs_8c.html#a16ea29bac78bcc910b40b746771e0e9f" title=" " alt="" coords="344,31,515,57"/>
<area shape="rect" href="sys__regs_8c.html#aaec02e3f4aca4914e12d3cb952f82db0" title=" " alt="" coords="207,31,296,57"/>
<area shape="rect" href="sys__regs_8c.html#a62564f81bc501f03ed53dc6f068700c7" title=" " alt="" coords="5,5,159,32"/>
<area shape="rect" href="sys__regs_8c.html#a5ff73b6677ae2e9e778417d76ba09231" title=" " alt="" coords="21,56,143,83"/>
</map>
</div>

</div>
</div>
<a id="a4518ec5bc50f3432c171d3523dd8ea93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4518ec5bc50f3432c171d3523dd8ea93">&#9670;&nbsp;</a></span>kvm_arm_copy_sys_reg_indices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_arm_copy_sys_reg_indices </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 __user *&#160;</td>
          <td class="paramname"><em>uindices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03854">3854</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;{</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160; </div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;    <span class="comment">/* Then give them all the invariant registers&#39; indices. */</span></div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; ARRAY_SIZE(invariant_sys_regs); i++) {</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;        <span class="keywordflow">if</span> (put_user(<a class="code" href="sys__regs_8c.html#a7d2b75df72a03ffbc60733bf5e01d0fd">sys_reg_to_index</a>(&amp;invariant_sys_regs[i]), uindices))</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;            <span class="keywordflow">return</span> -EFAULT;</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;        uindices++;</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;    }</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160; </div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;    err = <a class="code" href="sys__regs_8c.html#abd3b49a9b9e349d26d03f5dc6a42efbc">walk_sys_regs</a>(vcpu, uindices);</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;    uindices += err;</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160; </div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a5ddbbc31f9d2fb247f921fd3f437a391">write_demux_regids</a>(uindices);</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a5ddbbc31f9d2fb247f921fd3f437a391"><div class="ttname"><a href="sys__regs_8c.html#a5ddbbc31f9d2fb247f921fd3f437a391">write_demux_regids</a></div><div class="ttdeci">static int write_demux_regids(u64 __user *uindices)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03770">sys_regs.c:3770</a></div></div>
<div class="ttc" id="asys__regs_8c_html_abd3b49a9b9e349d26d03f5dc6a42efbc"><div class="ttname"><a href="sys__regs_8c.html#abd3b49a9b9e349d26d03f5dc6a42efbc">walk_sys_regs</a></div><div class="ttdeci">static int walk_sys_regs(struct kvm_vcpu *vcpu, u64 __user *uind)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03830">sys_regs.c:3830</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a4518ec5bc50f3432c171d3523dd8ea93_cgraph.png" border="0" usemap="#asys__regs_8c_a4518ec5bc50f3432c171d3523dd8ea93_cgraph" alt=""/></div>
<map name="asys__regs_8c_a4518ec5bc50f3432c171d3523dd8ea93_cgraph" id="asys__regs_8c_a4518ec5bc50f3432c171d3523dd8ea93_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,184,65"/>
<area shape="rect" href="sys__regs_8c.html#a7d2b75df72a03ffbc60733bf5e01d0fd" title=" " alt="" coords="823,5,957,32"/>
<area shape="rect" href="sys__regs_8c.html#abd3b49a9b9e349d26d03f5dc6a42efbc" title=" " alt="" coords="251,31,368,57"/>
<area shape="rect" href="sys__regs_8c.html#a5ddbbc31f9d2fb247f921fd3f437a391" title=" " alt="" coords="232,81,387,108"/>
<area shape="rect" href="sys__regs_8c.html#a68f111e8a8404c26f46d5191d2a7f3e1" title=" " alt="" coords="435,31,576,57"/>
<area shape="rect" href="sys__regs_8c.html#a0f1032ed43c78a6dff76e1116bfd0476" title=" " alt="" coords="631,31,767,57"/>
<area shape="rect" href="sys__regs_8h.html#acb0346a28ca0b3fd59d3c815d4d683a1" title=" " alt="" coords="624,81,775,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a4518ec5bc50f3432c171d3523dd8ea93_icgraph.png" border="0" usemap="#asys__regs_8c_a4518ec5bc50f3432c171d3523dd8ea93_icgraph" alt=""/></div>
<map name="asys__regs_8c_a4518ec5bc50f3432c171d3523dd8ea93_icgraph" id="asys__regs_8c_a4518ec5bc50f3432c171d3523dd8ea93_icgraph">
<area shape="rect" title=" " alt="" coords="635,5,813,47"/>
<area shape="rect" href="guest_8c.html#a5c5ea01484b922cc9295c7e30f181076" title=" " alt="" coords="384,13,587,39"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,13,336,39"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,13,129,39"/>
</map>
</div>

</div>
</div>
<a id="a3a12ba3777384275bc5ff0abd169e22c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a12ba3777384275bc5ff0abd169e22c">&#9670;&nbsp;</a></span>kvm_arm_num_sys_reg_descs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long kvm_arm_num_sys_reg_descs </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03847">3847</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;{</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;    <span class="keywordflow">return</span> ARRAY_SIZE(invariant_sys_regs)</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;        + <a class="code" href="sys__regs_8c.html#a8996a1294bc3193aae24af847d760fd9">num_demux_regs</a>()</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;        + <a class="code" href="sys__regs_8c.html#abd3b49a9b9e349d26d03f5dc6a42efbc">walk_sys_regs</a>(vcpu, (u64 __user *)NULL);</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a8996a1294bc3193aae24af847d760fd9"><div class="ttname"><a href="sys__regs_8c.html#a8996a1294bc3193aae24af847d760fd9">num_demux_regs</a></div><div class="ttdeci">static unsigned int num_demux_regs(void)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03765">sys_regs.c:3765</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a3a12ba3777384275bc5ff0abd169e22c_cgraph.png" border="0" usemap="#asys__regs_8c_a3a12ba3777384275bc5ff0abd169e22c_cgraph" alt=""/></div>
<map name="asys__regs_8c_a3a12ba3777384275bc5ff0abd169e22c_cgraph" id="asys__regs_8c_a3a12ba3777384275bc5ff0abd169e22c_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,183,65"/>
<area shape="rect" href="sys__regs_8c.html#a8996a1294bc3193aae24af847d760fd9" title=" " alt="" coords="231,5,369,32"/>
<area shape="rect" href="sys__regs_8c.html#abd3b49a9b9e349d26d03f5dc6a42efbc" title=" " alt="" coords="241,56,359,83"/>
<area shape="rect" href="sys__regs_8c.html#a68f111e8a8404c26f46d5191d2a7f3e1" title=" " alt="" coords="417,56,559,83"/>
<area shape="rect" href="sys__regs_8c.html#a0f1032ed43c78a6dff76e1116bfd0476" title=" " alt="" coords="614,31,750,57"/>
<area shape="rect" href="sys__regs_8h.html#acb0346a28ca0b3fd59d3c815d4d683a1" title=" " alt="" coords="607,81,757,108"/>
<area shape="rect" href="sys__regs_8c.html#a7d2b75df72a03ffbc60733bf5e01d0fd" title=" " alt="" coords="805,31,940,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a3a12ba3777384275bc5ff0abd169e22c_icgraph.png" border="0" usemap="#asys__regs_8c_a3a12ba3777384275bc5ff0abd169e22c_icgraph" alt=""/></div>
<map name="asys__regs_8c_a3a12ba3777384275bc5ff0abd169e22c_icgraph" id="asys__regs_8c_a3a12ba3777384275bc5ff0abd169e22c_icgraph">
<area shape="rect" title=" " alt="" coords="587,5,764,47"/>
<area shape="rect" href="guest_8c.html#a5ea136c294fe50fdaa31e9bc93763f7f" title=" " alt="" coords="384,13,539,39"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,13,336,39"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,13,129,39"/>
</map>
</div>

</div>
</div>
<a id="af85c3c21b976f4ad1def9aaeebfcfe2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af85c3c21b976f4ad1def9aaeebfcfe2a">&#9670;&nbsp;</a></span>kvm_arm_sys_reg_get_reg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_arm_sys_reg_get_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct kvm_one_reg *&#160;</td>
          <td class="paramname"><em>reg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03705">3705</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;{</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;    <span class="keywordtype">void</span> __user *uaddr = (<span class="keywordtype">void</span> __user *)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)reg-&gt;addr;</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160; </div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    <span class="keywordflow">if</span> ((reg-&gt;id &amp; KVM_REG_ARM_COPROC_MASK) == KVM_REG_ARM_DEMUX)</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#af96f247febced4bc1382d643b2ae44b3">demux_c15_get</a>(vcpu, reg-&gt;id, uaddr);</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160; </div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;    err = <a class="code" href="sys__regs_8c.html#a3ffec76aa0d79fe514d561af9140e9d5">get_invariant_sys_reg</a>(reg-&gt;id, uaddr);</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;    <span class="keywordflow">if</span> (err != -ENOENT)</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160; </div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a228e61f9390e36b563ab837dfcf03ae2">kvm_sys_reg_get_user</a>(vcpu, reg,</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;                    <a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>, ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>));</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a228e61f9390e36b563ab837dfcf03ae2"><div class="ttname"><a href="sys__regs_8c.html#a228e61f9390e36b563ab837dfcf03ae2">kvm_sys_reg_get_user</a></div><div class="ttdeci">int kvm_sys_reg_get_user(struct kvm_vcpu *vcpu, const struct kvm_one_reg *reg, const struct sys_reg_desc table[], unsigned int num)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03680">sys_regs.c:3680</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a3ffec76aa0d79fe514d561af9140e9d5"><div class="ttname"><a href="sys__regs_8c.html#a3ffec76aa0d79fe514d561af9140e9d5">get_invariant_sys_reg</a></div><div class="ttdeci">static int get_invariant_sys_reg(u64 id, u64 __user *uaddr)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03595">sys_regs.c:3595</a></div></div>
<div class="ttc" id="asys__regs_8c_html_af96f247febced4bc1382d643b2ae44b3"><div class="ttname"><a href="sys__regs_8c.html#af96f247febced4bc1382d643b2ae44b3">demux_c15_get</a></div><div class="ttdeci">static int demux_c15_get(struct kvm_vcpu *vcpu, u64 id, void __user *uaddr)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03627">sys_regs.c:3627</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_af85c3c21b976f4ad1def9aaeebfcfe2a_cgraph.png" border="0" usemap="#asys__regs_8c_af85c3c21b976f4ad1def9aaeebfcfe2a_cgraph" alt=""/></div>
<map name="asys__regs_8c_af85c3c21b976f4ad1def9aaeebfcfe2a_cgraph" id="asys__regs_8c_af85c3c21b976f4ad1def9aaeebfcfe2a_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,203,83"/>
<area shape="rect" href="sys__regs_8c.html#af96f247febced4bc1382d643b2ae44b3" title=" " alt="" coords="273,5,399,32"/>
<area shape="rect" href="sys__regs_8c.html#a3ffec76aa0d79fe514d561af9140e9d5" title=" " alt="" coords="253,56,419,83"/>
<area shape="rect" href="sys__regs_8c.html#a228e61f9390e36b563ab837dfcf03ae2" title=" " alt="" coords="251,107,421,133"/>
<area shape="rect" href="sys__regs_8c.html#a292111fbdf0789784c74686f924d0e04" title=" " alt="" coords="501,5,589,32"/>
<area shape="rect" href="sys__regs_8c.html#a5dcc664cfa17fa30fd97daba07934cc8" title=" " alt="" coords="668,5,852,32"/>
<area shape="rect" href="sys__regs_8c.html#ac41b37ff19cd3eda5658080a3eb8c558" title=" " alt="" coords="703,56,817,83"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="930,5,1005,32"/>
<area shape="rect" href="sys__regs_8c.html#a000b8bb9ea7247fee0c7acc84817d960" title=" " alt="" coords="900,56,1035,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="1083,5,1203,32"/>
<area shape="rect" href="sys__regs_8c.html#af212e5241f19483aede7d85e43a93b42" title=" " alt="" coords="471,107,619,133"/>
<area shape="rect" href="sys__regs_8h.html#acb0346a28ca0b3fd59d3c815d4d683a1" title=" " alt="" coords="469,157,620,184"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="702,107,818,133"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="903,107,1031,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_af85c3c21b976f4ad1def9aaeebfcfe2a_icgraph.png" border="0" usemap="#asys__regs_8c_af85c3c21b976f4ad1def9aaeebfcfe2a_icgraph" alt=""/></div>
<map name="asys__regs_8c_af85c3c21b976f4ad1def9aaeebfcfe2a_icgraph" id="asys__regs_8c_af85c3c21b976f4ad1def9aaeebfcfe2a_icgraph">
<area shape="rect" title=" " alt="" coords="572,5,769,32"/>
<area shape="rect" href="guest_8c.html#ad1a71190592cc60155333934b84d1d11" title=" " alt="" coords="384,5,524,32"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,5,336,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="a857a1f40feb608d8b9156c442eb73f6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a857a1f40feb608d8b9156c442eb73f6a">&#9670;&nbsp;</a></span>kvm_arm_sys_reg_set_reg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_arm_sys_reg_set_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct kvm_one_reg *&#160;</td>
          <td class="paramname"><em>reg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03749">3749</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;{</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;    <span class="keywordtype">void</span> __user *uaddr = (<span class="keywordtype">void</span> __user *)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)reg-&gt;addr;</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160; </div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;    <span class="keywordflow">if</span> ((reg-&gt;id &amp; KVM_REG_ARM_COPROC_MASK) == KVM_REG_ARM_DEMUX)</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#ab1e2d05ecec16fc3b603d7b37afe0295">demux_c15_set</a>(vcpu, reg-&gt;id, uaddr);</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160; </div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;    err = <a class="code" href="sys__regs_8c.html#a1a8c62b59dd6a91702e17f7bb83e3633">set_invariant_sys_reg</a>(reg-&gt;id, uaddr);</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;    <span class="keywordflow">if</span> (err != -ENOENT)</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160; </div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#ab29b04a8d34d81f0cce231f94feba038">kvm_sys_reg_set_user</a>(vcpu, reg,</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;                    <a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>, ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>));</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a1a8c62b59dd6a91702e17f7bb83e3633"><div class="ttname"><a href="sys__regs_8c.html#a1a8c62b59dd6a91702e17f7bb83e3633">set_invariant_sys_reg</a></div><div class="ttdeci">static int set_invariant_sys_reg(u64 id, u64 __user *uaddr)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03607">sys_regs.c:3607</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ab1e2d05ecec16fc3b603d7b37afe0295"><div class="ttname"><a href="sys__regs_8c.html#ab1e2d05ecec16fc3b603d7b37afe0295">demux_c15_set</a></div><div class="ttdeci">static int demux_c15_set(struct kvm_vcpu *vcpu, u64 id, void __user *uaddr)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03652">sys_regs.c:3652</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ab29b04a8d34d81f0cce231f94feba038"><div class="ttname"><a href="sys__regs_8c.html#ab29b04a8d34d81f0cce231f94feba038">kvm_sys_reg_set_user</a></div><div class="ttdeci">int kvm_sys_reg_set_user(struct kvm_vcpu *vcpu, const struct kvm_one_reg *reg, const struct sys_reg_desc table[], unsigned int num)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03721">sys_regs.c:3721</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a857a1f40feb608d8b9156c442eb73f6a_cgraph.png" border="0" usemap="#asys__regs_8c_a857a1f40feb608d8b9156c442eb73f6a_cgraph" alt=""/></div>
<map name="asys__regs_8c_a857a1f40feb608d8b9156c442eb73f6a_cgraph" id="asys__regs_8c_a857a1f40feb608d8b9156c442eb73f6a_cgraph">
<area shape="rect" title=" " alt="" coords="5,107,201,133"/>
<area shape="rect" href="sys__regs_8c.html#ab1e2d05ecec16fc3b603d7b37afe0295" title=" " alt="" coords="273,31,397,57"/>
<area shape="rect" href="sys__regs_8c.html#ab29b04a8d34d81f0cce231f94feba038" title=" " alt="" coords="249,107,420,133"/>
<area shape="rect" href="sys__regs_8c.html#a1a8c62b59dd6a91702e17f7bb83e3633" title=" " alt="" coords="253,183,417,209"/>
<area shape="rect" href="sys__regs_8c.html#a8e75bf582b5fbb9eb7e84591ab3226e6" title=" " alt="" coords="500,5,587,32"/>
<area shape="rect" href="sys__regs_8c.html#a292111fbdf0789784c74686f924d0e04" title=" " alt="" coords="717,31,805,57"/>
<area shape="rect" href="sys__regs_8c.html#a5dcc664cfa17fa30fd97daba07934cc8" title=" " alt="" coords="903,5,1087,32"/>
<area shape="rect" href="sys__regs_8c.html#af212e5241f19483aede7d85e43a93b42" title=" " alt="" coords="469,157,617,184"/>
<area shape="rect" href="sys__regs_8h.html#acb0346a28ca0b3fd59d3c815d4d683a1" title=" " alt="" coords="468,56,619,83"/>
<area shape="rect" href="sys__regs_8h.html#a95e3e5f281cf82d91e6a522ee3acb4cc" title=" " alt="" coords="667,107,855,133"/>
<area shape="rect" href="sys__regs_8c.html#ac41b37ff19cd3eda5658080a3eb8c558" title=" " alt="" coords="704,208,817,235"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="703,157,819,184"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="957,245,1032,272"/>
<area shape="rect" href="sys__regs_8c.html#a000b8bb9ea7247fee0c7acc84817d960" title=" " alt="" coords="927,195,1062,221"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="1135,245,1255,272"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="931,119,1059,145"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a857a1f40feb608d8b9156c442eb73f6a_icgraph.png" border="0" usemap="#asys__regs_8c_a857a1f40feb608d8b9156c442eb73f6a_icgraph" alt=""/></div>
<map name="asys__regs_8c_a857a1f40feb608d8b9156c442eb73f6a_icgraph" id="asys__regs_8c_a857a1f40feb608d8b9156c442eb73f6a_icgraph">
<area shape="rect" title=" " alt="" coords="571,5,767,32"/>
<area shape="rect" href="guest_8c.html#a8ee5ced2d0c0d538319888057bc58b4a" title=" " alt="" coords="384,5,523,32"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,5,336,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="a88f8e6bd75a62772935f734d5772c6bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88f8e6bd75a62772935f734d5772c6bf">&#9670;&nbsp;</a></span>kvm_emulate_cp15_id_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kvm_emulate_cp15_id_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="sys__regs_8c.html#a88f8e6bd75a62772935f734d5772c6bf">kvm_emulate_cp15_id_reg()</a> - Handles an MRC trap on a guest CP15 access where CRn=0, which corresponds to the AArch32 feature registers. @vcpu: the vCPU pointer @params: the system register access parameters.</p>
<p>Our cp15 system register tables do not enumerate the AArch32 feature registers. Conveniently, our AArch64 table does, and the AArch32 system register encoding can be trivially remapped into the AArch64 for the feature registers: Append op0=3, leaving op1, CRn, CRm, and op2 the same.</p>
<p>According to DDI0487G.b G7.3.1, paragraph "Behavior of VMSAv8-32 32-bit
System registers with (coproc=0b1111, CRn==c0)", read accesses from this range are either UNKNOWN or RES0. Rerouting remains architectural as we treat undefined registers in this range as RAZ. </p>

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03299">3299</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;{</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;    <span class="keywordtype">int</span> Rt = kvm_vcpu_sys_get_rt(vcpu);</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160; </div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;    <span class="comment">/* Treat impossible writes to RO registers as UNDEFINED */</span></div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    <span class="keywordflow">if</span> (params-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>) {</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;        <a class="code" href="sys__regs_8c.html#a253f9d1013e490024387b0d3ff8aa742">unhandled_cp_access</a>(vcpu, params);</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;    }</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160; </div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;    params-&gt;<a class="code" href="structsys__reg__params.html#a7953915a142e80f399807e364c04259d">Op0</a> = 3;</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160; </div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;<span class="comment">     * All registers where CRm &gt; 3 are known to be UNKNOWN/RAZ from AArch32.</span></div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;<span class="comment">     * Avoid conflicting with future expansion of AArch64 feature registers</span></div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;<span class="comment">     * and simply treat them as RAZ here.</span></div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    <span class="keywordflow">if</span> (params-&gt;<a class="code" href="structsys__reg__params.html#abaf66e6a3ec1df340ccf61f124cfc468">CRm</a> &gt; 3)</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;        params-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = 0;</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="sys__regs_8c.html#a3d240da65ae9bd5abb59855d5eccd1bd">emulate_sys_reg</a>(vcpu, params))</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160; </div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;    vcpu_set_reg(vcpu, Rt, params-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a>);</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a253f9d1013e490024387b0d3ff8aa742"><div class="ttname"><a href="sys__regs_8c.html#a253f9d1013e490024387b0d3ff8aa742">unhandled_cp_access</a></div><div class="ttdeci">static void unhandled_cp_access(struct kvm_vcpu *vcpu, struct sys_reg_params *params)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03134">sys_regs.c:3134</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a3d240da65ae9bd5abb59855d5eccd1bd"><div class="ttname"><a href="sys__regs_8c.html#a3d240da65ae9bd5abb59855d5eccd1bd">emulate_sys_reg</a></div><div class="ttdeci">static bool emulate_sys_reg(struct kvm_vcpu *vcpu, struct sys_reg_params *params)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03400">sys_regs.c:3400</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a88f8e6bd75a62772935f734d5772c6bf_cgraph.png" border="0" usemap="#asys__regs_8c_a88f8e6bd75a62772935f734d5772c6bf_cgraph" alt=""/></div>
<map name="asys__regs_8c_a88f8e6bd75a62772935f734d5772c6bf_cgraph" id="asys__regs_8c_a88f8e6bd75a62772935f734d5772c6bf_cgraph">
<area shape="rect" title=" " alt="" coords="5,157,203,184"/>
<area shape="rect" href="sys__regs_8c.html#a3d240da65ae9bd5abb59855d5eccd1bd" title=" " alt="" coords="265,107,399,133"/>
<area shape="rect" href="sys__regs_8c.html#a253f9d1013e490024387b0d3ff8aa742" title=" " alt="" coords="251,183,413,209"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="499,5,574,32"/>
<area shape="rect" href="sys__regs_8c.html#ac84d9b3a11a9a1dd463e8843f45b31bf" title=" " alt="" coords="461,107,612,133"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="660,157,825,184"/>
<area shape="rect" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766" title=" " alt="" coords="474,56,599,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="683,5,803,32"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="878,132,997,159"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="878,183,997,209"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1067,132,1195,159"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1049,183,1212,209"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1055,233,1206,260"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1260,233,1441,260"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="685,56,801,83"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="873,56,1001,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a88f8e6bd75a62772935f734d5772c6bf_icgraph.png" border="0" usemap="#asys__regs_8c_a88f8e6bd75a62772935f734d5772c6bf_icgraph" alt=""/></div>
<map name="asys__regs_8c_a88f8e6bd75a62772935f734d5772c6bf_icgraph" id="asys__regs_8c_a88f8e6bd75a62772935f734d5772c6bf_icgraph">
<area shape="rect" title=" " alt="" coords="216,5,413,32"/>
<area shape="rect" href="sys__regs_8c.html#aabfd3c696cf28ee58eb8d7e421e12310" title=" " alt="" coords="5,5,168,32"/>
</map>
</div>

</div>
</div>
<a id="a196dec681e095a7888287aec0146a912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a196dec681e095a7888287aec0146a912">&#9670;&nbsp;</a></span>kvm_esr_cp10_id_to_sys64()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool kvm_esr_cp10_id_to_sys64 </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>esr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03216">3216</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;{</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;    u8 reg_id = (esr &gt;&gt; 10) &amp; 0xf;</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <span class="keywordtype">bool</span> valid;</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160; </div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    params-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a> = ((esr &amp; 1) == 0);</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    params-&gt;<a class="code" href="structsys__reg__params.html#a7953915a142e80f399807e364c04259d">Op0</a> = 3;</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    params-&gt;<a class="code" href="structsys__reg__params.html#adc62e54d1902c5ef7e2757dfe073ca6e">Op1</a> = 0;</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;    params-&gt;<a class="code" href="structsys__reg__params.html#a0942605427c644a8c5f41c583b438164">CRn</a> = 0;</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;    params-&gt;<a class="code" href="structsys__reg__params.html#abaf66e6a3ec1df340ccf61f124cfc468">CRm</a> = 3;</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160; </div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;    <span class="comment">/* CP10 ID registers are read-only */</span></div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;    valid = !params-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>;</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160; </div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;    <span class="keywordflow">switch</span> (reg_id) {</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;    <span class="comment">/* MVFR0 */</span></div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;    <span class="keywordflow">case</span> 0b0111:</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;        params-&gt;<a class="code" href="structsys__reg__params.html#aba9656bfbf43cfd021a1559a889fd6a6">Op2</a> = 0;</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;    <span class="comment">/* MVFR1 */</span></div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    <span class="keywordflow">case</span> 0b0110:</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;        params-&gt;<a class="code" href="structsys__reg__params.html#aba9656bfbf43cfd021a1559a889fd6a6">Op2</a> = 1;</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;    <span class="comment">/* MVFR2 */</span></div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    <span class="keywordflow">case</span> 0b0101:</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;        params-&gt;<a class="code" href="structsys__reg__params.html#aba9656bfbf43cfd021a1559a889fd6a6">Op2</a> = 2;</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;        valid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;    }</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160; </div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    <span class="keywordflow">if</span> (valid)</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160; </div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;    <a class="code" href="sys__regs_8h.html#ac51d3b33e33ecf2bd1086119c1d55546">kvm_pr_unimpl</a>(<span class="stringliteral">&quot;Unhandled cp10 register %s: %u\n&quot;</span>,</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;              params-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a> ? <span class="stringliteral">&quot;write&quot;</span> : <span class="stringliteral">&quot;read&quot;</span>, reg_id);</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;}</div>
<div class="ttc" id="asys__regs_8h_html_ac51d3b33e33ecf2bd1086119c1d55546"><div class="ttname"><a href="sys__regs_8h.html#ac51d3b33e33ecf2bd1086119c1d55546">kvm_pr_unimpl</a></div><div class="ttdeci">kvm_pr_unimpl(&quot;%pV { Op0(%2u), Op1(%2u), CRn(%2u), CRm(%2u), Op2(%2u), func_%s },\n&quot;, &amp;(struct va_format){ fmt, &amp;va }, p-&gt;Op0, p-&gt;Op1, p-&gt;CRn, p-&gt;CRm, p-&gt;Op2, p-&gt;is_write ? &quot;write&quot; :&quot;read&quot;)</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a196dec681e095a7888287aec0146a912_cgraph.png" border="0" usemap="#asys__regs_8c_a196dec681e095a7888287aec0146a912_cgraph" alt=""/></div>
<map name="asys__regs_8c_a196dec681e095a7888287aec0146a912_cgraph" id="asys__regs_8c_a196dec681e095a7888287aec0146a912_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,160,47"/>
<area shape="rect" href="sys__regs_8h.html#ac51d3b33e33ecf2bd1086119c1d55546" title=" " alt="" coords="208,13,331,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a196dec681e095a7888287aec0146a912_icgraph.png" border="0" usemap="#asys__regs_8c_a196dec681e095a7888287aec0146a912_icgraph" alt=""/></div>
<map name="asys__regs_8c_a196dec681e095a7888287aec0146a912_icgraph" id="asys__regs_8c_a196dec681e095a7888287aec0146a912_icgraph">
<area shape="rect" title=" " alt="" coords="212,5,367,47"/>
<area shape="rect" href="sys__regs_8c.html#a1a4cee9d7be58e2317c540e1f87eea20" title=" " alt="" coords="5,13,164,39"/>
</map>
</div>

</div>
</div>
<a id="a1a4cee9d7be58e2317c540e1f87eea20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a4cee9d7be58e2317c540e1f87eea20">&#9670;&nbsp;</a></span>kvm_handle_cp10_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_handle_cp10_id </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="sys__regs_8c.html#a1a4cee9d7be58e2317c540e1f87eea20">kvm_handle_cp10_id()</a> - Handles a VMRS trap on guest access to a 'Media and VFP Register' from AArch32. @vcpu: The vCPU pointer</p>
<p>MVFR{0-2} are architecturally mapped to the AArch64 MVFR{0-2}_EL1 registers. Work out the correct AArch64 system register encoding and reroute to the AArch64 system register emulation. </p>

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03264">3264</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;{</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;    <span class="keywordtype">int</span> Rt = kvm_vcpu_sys_get_rt(vcpu);</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;    u64 esr = kvm_vcpu_get_esr(vcpu);</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;    <span class="keyword">struct </span><a class="code" href="structsys__reg__params.html">sys_reg_params</a> params;</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160; </div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;    <span class="comment">/* UNDEF on any unhandled register access */</span></div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="sys__regs_8c.html#a196dec681e095a7888287aec0146a912">kvm_esr_cp10_id_to_sys64</a>(esr, &amp;params)) {</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;        <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;    }</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160; </div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#a3d240da65ae9bd5abb59855d5eccd1bd">emulate_sys_reg</a>(vcpu, &amp;params))</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;        vcpu_set_reg(vcpu, Rt, params.regval);</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160; </div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a196dec681e095a7888287aec0146a912"><div class="ttname"><a href="sys__regs_8c.html#a196dec681e095a7888287aec0146a912">kvm_esr_cp10_id_to_sys64</a></div><div class="ttdeci">static bool kvm_esr_cp10_id_to_sys64(u64 esr, struct sys_reg_params *params)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03216">sys_regs.c:3216</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a1a4cee9d7be58e2317c540e1f87eea20_cgraph.png" border="0" usemap="#asys__regs_8c_a1a4cee9d7be58e2317c540e1f87eea20_cgraph" alt=""/></div>
<map name="asys__regs_8c_a1a4cee9d7be58e2317c540e1f87eea20_cgraph" id="asys__regs_8c_a1a4cee9d7be58e2317c540e1f87eea20_cgraph">
<area shape="rect" title=" " alt="" coords="5,208,164,235"/>
<area shape="rect" href="sys__regs_8c.html#a3d240da65ae9bd5abb59855d5eccd1bd" title=" " alt="" coords="223,107,356,133"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="613,157,779,184"/>
<area shape="rect" href="sys__regs_8c.html#a196dec681e095a7888287aec0146a912" title=" " alt="" coords="212,259,367,301"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="453,5,527,32"/>
<area shape="rect" href="sys__regs_8c.html#ac84d9b3a11a9a1dd463e8843f45b31bf" title=" " alt="" coords="415,56,565,83"/>
<area shape="rect" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766" title=" " alt="" coords="427,107,553,133"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="636,5,756,32"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="831,208,950,235"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="831,157,950,184"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1020,107,1148,133"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1003,157,1165,184"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1009,208,1159,235"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1213,208,1395,235"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="638,107,754,133"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="827,107,955,133"/>
<area shape="rect" href="sys__regs_8h.html#ac51d3b33e33ecf2bd1086119c1d55546" title=" " alt="" coords="429,267,551,293"/>
</map>
</div>

</div>
</div>
<a id="a3fc2578a70449007d0bac463e2d66d05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fc2578a70449007d0bac463e2d66d05">&#9670;&nbsp;</a></span>kvm_handle_cp14_32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_handle_cp14_32 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03378">3378</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;{</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;    <span class="keyword">struct </span><a class="code" href="structsys__reg__params.html">sys_reg_params</a> params;</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160; </div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    params = <a class="code" href="sys__regs_8h.html#a0b45f6b8745d2a9f0fbefab4f475d186">esr_cp1x_32_to_params</a>(kvm_vcpu_get_esr(vcpu));</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160; </div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a60129df4b96ea31788ca4c84aca5296c">kvm_handle_cp_32</a>(vcpu, &amp;params, <a class="code" href="sys__regs_8c.html#ae3b1e78017871071cfa256948fb508bd">cp14_regs</a>, ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#ae3b1e78017871071cfa256948fb508bd">cp14_regs</a>));</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a60129df4b96ea31788ca4c84aca5296c"><div class="ttname"><a href="sys__regs_8c.html#a60129df4b96ea31788ca4c84aca5296c">kvm_handle_cp_32</a></div><div class="ttdeci">static int kvm_handle_cp_32(struct kvm_vcpu *vcpu, struct sys_reg_params *params, const struct sys_reg_desc *global, size_t nr_global)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03331">sys_regs.c:3331</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ae3b1e78017871071cfa256948fb508bd"><div class="ttname"><a href="sys__regs_8c.html#ae3b1e78017871071cfa256948fb508bd">cp14_regs</a></div><div class="ttdeci">static const struct sys_reg_desc cp14_regs[]</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l02732">sys_regs.c:2779</a></div></div>
<div class="ttc" id="asys__regs_8h_html_a0b45f6b8745d2a9f0fbefab4f475d186"><div class="ttname"><a href="sys__regs_8h.html#a0b45f6b8745d2a9f0fbefab4f475d186">esr_cp1x_32_to_params</a></div><div class="ttdeci">#define esr_cp1x_32_to_params(esr)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00045">sys_regs.h:45</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a3fc2578a70449007d0bac463e2d66d05_cgraph.png" border="0" usemap="#asys__regs_8c_a3fc2578a70449007d0bac463e2d66d05_cgraph" alt=""/></div>
<map name="asys__regs_8c_a3fc2578a70449007d0bac463e2d66d05_cgraph" id="asys__regs_8c_a3fc2578a70449007d0bac463e2d66d05_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,168,108"/>
<area shape="rect" href="sys__regs_8c.html#a60129df4b96ea31788ca4c84aca5296c" title=" " alt="" coords="216,81,363,108"/>
<area shape="rect" href="sys__regs_8c.html#a7a4f4c9413ca5dc5a4d9f5e952f991ac" title=" " alt="" coords="443,56,541,83"/>
<area shape="rect" href="sys__regs_8c.html#a253f9d1013e490024387b0d3ff8aa742" title=" " alt="" coords="411,107,573,133"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="647,5,721,32"/>
<area shape="rect" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766" title=" " alt="" coords="621,56,747,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="817,5,937,32"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="795,107,960,133"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="819,56,935,83"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="1013,107,1131,133"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="1013,157,1131,184"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1201,107,1329,133"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1184,157,1347,184"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1190,208,1341,235"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1395,208,1576,235"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="1008,56,1136,83"/>
</map>
</div>

</div>
</div>
<a id="a5f660f6a9a4de1cfc8af20da24cdad94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f660f6a9a4de1cfc8af20da24cdad94">&#9670;&nbsp;</a></span>kvm_handle_cp14_64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_handle_cp14_64 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03373">3373</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;{</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#acf2a59d7fe0d9db81c822a0973b00539">kvm_handle_cp_64</a>(vcpu, <a class="code" href="sys__regs_8c.html#ae78146f4d87ed9843080338a0bfe9da0">cp14_64_regs</a>, ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#ae78146f4d87ed9843080338a0bfe9da0">cp14_64_regs</a>));</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_acf2a59d7fe0d9db81c822a0973b00539"><div class="ttname"><a href="sys__regs_8c.html#acf2a59d7fe0d9db81c822a0973b00539">kvm_handle_cp_64</a></div><div class="ttdeci">static int kvm_handle_cp_64(struct kvm_vcpu *vcpu, const struct sys_reg_desc *global, size_t nr_global)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03164">sys_regs.c:3164</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ae78146f4d87ed9843080338a0bfe9da0"><div class="ttname"><a href="sys__regs_8c.html#ae78146f4d87ed9843080338a0bfe9da0">cp14_64_regs</a></div><div class="ttdeci">static const struct sys_reg_desc cp14_64_regs[]</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l02732">sys_regs.c:2864</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a5f660f6a9a4de1cfc8af20da24cdad94_cgraph.png" border="0" usemap="#asys__regs_8c_a5f660f6a9a4de1cfc8af20da24cdad94_cgraph" alt=""/></div>
<map name="asys__regs_8c_a5f660f6a9a4de1cfc8af20da24cdad94_cgraph" id="asys__regs_8c_a5f660f6a9a4de1cfc8af20da24cdad94_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,168,108"/>
<area shape="rect" href="sys__regs_8c.html#acf2a59d7fe0d9db81c822a0973b00539" title=" " alt="" coords="216,81,363,108"/>
<area shape="rect" href="sys__regs_8c.html#a7a4f4c9413ca5dc5a4d9f5e952f991ac" title=" " alt="" coords="443,56,541,83"/>
<area shape="rect" href="sys__regs_8c.html#a253f9d1013e490024387b0d3ff8aa742" title=" " alt="" coords="411,107,573,133"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="647,5,721,32"/>
<area shape="rect" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766" title=" " alt="" coords="621,56,747,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="817,5,937,32"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="795,107,960,133"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="819,56,935,83"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="1013,107,1131,133"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="1013,157,1131,184"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1201,107,1329,133"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1184,157,1347,184"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1190,208,1341,235"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1395,208,1576,235"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="1008,56,1136,83"/>
</map>
</div>

</div>
</div>
<a id="a66819aed8acf3d9c6daa1c73afd5e8f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66819aed8acf3d9c6daa1c73afd5e8f7">&#9670;&nbsp;</a></span>kvm_handle_cp14_load_store()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_handle_cp14_load_store </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03073">3073</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;{</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a66819aed8acf3d9c6daa1c73afd5e8f7_cgraph.png" border="0" usemap="#asys__regs_8c_a66819aed8acf3d9c6daa1c73afd5e8f7_cgraph" alt=""/></div>
<map name="asys__regs_8c_a66819aed8acf3d9c6daa1c73afd5e8f7_cgraph" id="asys__regs_8c_a66819aed8acf3d9c6daa1c73afd5e8f7_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,180,65"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="228,31,393,57"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="441,5,560,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="441,56,560,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="625,5,753,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="608,56,771,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="614,107,765,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="819,107,1000,133"/>
</map>
</div>

</div>
</div>
<a id="aabfd3c696cf28ee58eb8d7e421e12310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabfd3c696cf28ee58eb8d7e421e12310">&#9670;&nbsp;</a></span>kvm_handle_cp15_32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_handle_cp15_32 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03355">3355</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;{</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;    <span class="keyword">struct </span><a class="code" href="structsys__reg__params.html">sys_reg_params</a> params;</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160; </div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;    params = <a class="code" href="sys__regs_8h.html#a0b45f6b8745d2a9f0fbefab4f475d186">esr_cp1x_32_to_params</a>(kvm_vcpu_get_esr(vcpu));</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160; </div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;<span class="comment">     * Certain AArch32 ID registers are handled by rerouting to the AArch64</span></div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;<span class="comment">     * system register table. Registers in the ID range where CRm=0 are</span></div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;<span class="comment">     * excluded from this scheme as they do not trivially map into AArch64</span></div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;<span class="comment">     * system register encodings.</span></div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;    <span class="keywordflow">if</span> (params.Op1 == 0 &amp;&amp; params.CRn == 0 &amp;&amp; params.CRm)</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a88f8e6bd75a62772935f734d5772c6bf">kvm_emulate_cp15_id_reg</a>(vcpu, &amp;params);</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160; </div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a60129df4b96ea31788ca4c84aca5296c">kvm_handle_cp_32</a>(vcpu, &amp;params, <a class="code" href="sys__regs_8c.html#ac86c576278c4980aa5803a3fdabbf40f">cp15_regs</a>, ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#ac86c576278c4980aa5803a3fdabbf40f">cp15_regs</a>));</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a88f8e6bd75a62772935f734d5772c6bf"><div class="ttname"><a href="sys__regs_8c.html#a88f8e6bd75a62772935f734d5772c6bf">kvm_emulate_cp15_id_reg</a></div><div class="ttdeci">static int kvm_emulate_cp15_id_reg(struct kvm_vcpu *vcpu, struct sys_reg_params *params)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03299">sys_regs.c:3299</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ac86c576278c4980aa5803a3fdabbf40f"><div class="ttname"><a href="sys__regs_8c.html#ac86c576278c4980aa5803a3fdabbf40f">cp15_regs</a></div><div class="ttdeci">static const struct sys_reg_desc cp15_regs[]</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l02732">sys_regs.c:2893</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_aabfd3c696cf28ee58eb8d7e421e12310_cgraph.png" border="0" usemap="#asys__regs_8c_aabfd3c696cf28ee58eb8d7e421e12310_cgraph" alt=""/></div>
<map name="asys__regs_8c_aabfd3c696cf28ee58eb8d7e421e12310_cgraph" id="asys__regs_8c_aabfd3c696cf28ee58eb8d7e421e12310_cgraph">
<area shape="rect" title=" " alt="" coords="5,107,168,133"/>
<area shape="rect" href="sys__regs_8c.html#a88f8e6bd75a62772935f734d5772c6bf" title=" " alt="" coords="216,132,413,159"/>
<area shape="rect" href="sys__regs_8c.html#a60129df4b96ea31788ca4c84aca5296c" title=" " alt="" coords="241,81,388,108"/>
<area shape="rect" href="sys__regs_8c.html#a3d240da65ae9bd5abb59855d5eccd1bd" title=" " alt="" coords="476,107,609,133"/>
<area shape="rect" href="sys__regs_8c.html#a253f9d1013e490024387b0d3ff8aa742" title=" " alt="" coords="461,157,624,184"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="710,5,785,32"/>
<area shape="rect" href="sys__regs_8c.html#ac84d9b3a11a9a1dd463e8843f45b31bf" title=" " alt="" coords="672,157,823,184"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="871,107,1036,133"/>
<area shape="rect" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766" title=" " alt="" coords="685,56,810,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="893,5,1013,32"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="1089,157,1207,184"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="1089,107,1207,133"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1277,56,1405,83"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1260,107,1423,133"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1266,157,1417,184"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1471,157,1652,184"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="895,56,1011,83"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="1084,56,1212,83"/>
<area shape="rect" href="sys__regs_8c.html#a7a4f4c9413ca5dc5a4d9f5e952f991ac" title=" " alt="" coords="493,56,592,83"/>
</map>
</div>

</div>
</div>
<a id="ae031a976c6888fa3fb7ac85e9ffa4ce1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae031a976c6888fa3fb7ac85e9ffa4ce1">&#9670;&nbsp;</a></span>kvm_handle_cp15_64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_handle_cp15_64 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03350">3350</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;{</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#acf2a59d7fe0d9db81c822a0973b00539">kvm_handle_cp_64</a>(vcpu, <a class="code" href="sys__regs_8c.html#a726794e0578b31ccf17210246ea3cf4d">cp15_64_regs</a>, ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#a726794e0578b31ccf17210246ea3cf4d">cp15_64_regs</a>));</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a726794e0578b31ccf17210246ea3cf4d"><div class="ttname"><a href="sys__regs_8c.html#a726794e0578b31ccf17210246ea3cf4d">cp15_64_regs</a></div><div class="ttdeci">static const struct sys_reg_desc cp15_64_regs[]</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l02732">sys_regs.c:3041</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ae031a976c6888fa3fb7ac85e9ffa4ce1_cgraph.png" border="0" usemap="#asys__regs_8c_ae031a976c6888fa3fb7ac85e9ffa4ce1_cgraph" alt=""/></div>
<map name="asys__regs_8c_ae031a976c6888fa3fb7ac85e9ffa4ce1_cgraph" id="asys__regs_8c_ae031a976c6888fa3fb7ac85e9ffa4ce1_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,168,108"/>
<area shape="rect" href="sys__regs_8c.html#acf2a59d7fe0d9db81c822a0973b00539" title=" " alt="" coords="216,81,363,108"/>
<area shape="rect" href="sys__regs_8c.html#a7a4f4c9413ca5dc5a4d9f5e952f991ac" title=" " alt="" coords="443,56,541,83"/>
<area shape="rect" href="sys__regs_8c.html#a253f9d1013e490024387b0d3ff8aa742" title=" " alt="" coords="411,107,573,133"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="647,5,721,32"/>
<area shape="rect" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766" title=" " alt="" coords="621,56,747,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="817,5,937,32"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="795,107,960,133"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="819,56,935,83"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="1013,107,1131,133"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="1013,157,1131,184"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1201,107,1329,133"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1184,157,1347,184"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1190,208,1341,235"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1395,208,1576,235"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="1008,56,1136,83"/>
</map>
</div>

</div>
</div>
<a id="a60129df4b96ea31788ca4c84aca5296c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60129df4b96ea31788ca4c84aca5296c">&#9670;&nbsp;</a></span>kvm_handle_cp_32()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kvm_handle_cp_32 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nr_global</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>kvm_handle_cp_32 &ndash; handles a mrc/mcr trap on a guest CP14/CP15 access @vcpu: The VCPU pointer @run: The kvm_run struct </p>

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03331">3331</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;{</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;    <span class="keywordtype">int</span> Rt  = kvm_vcpu_sys_get_rt(vcpu);</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160; </div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    params-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = vcpu_get_reg(vcpu, Rt);</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160; </div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#a7a4f4c9413ca5dc5a4d9f5e952f991ac">emulate_cp</a>(vcpu, params, global, nr_global)) {</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;        <span class="keywordflow">if</span> (!params-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;            vcpu_set_reg(vcpu, Rt, params-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a>);</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;    }</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160; </div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;    <a class="code" href="sys__regs_8c.html#a253f9d1013e490024387b0d3ff8aa742">unhandled_cp_access</a>(vcpu, params);</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a7a4f4c9413ca5dc5a4d9f5e952f991ac"><div class="ttname"><a href="sys__regs_8c.html#a7a4f4c9413ca5dc5a4d9f5e952f991ac">emulate_cp</a></div><div class="ttdeci">static bool emulate_cp(struct kvm_vcpu *vcpu, struct sys_reg_params *params, const struct sys_reg_desc *table, size_t num)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03113">sys_regs.c:3113</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a60129df4b96ea31788ca4c84aca5296c_cgraph.png" border="0" usemap="#asys__regs_8c_a60129df4b96ea31788ca4c84aca5296c_cgraph" alt=""/></div>
<map name="asys__regs_8c_a60129df4b96ea31788ca4c84aca5296c_cgraph" id="asys__regs_8c_a60129df4b96ea31788ca4c84aca5296c_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,152,108"/>
<area shape="rect" href="sys__regs_8c.html#a7a4f4c9413ca5dc5a4d9f5e952f991ac" title=" " alt="" coords="232,56,331,83"/>
<area shape="rect" href="sys__regs_8c.html#a253f9d1013e490024387b0d3ff8aa742" title=" " alt="" coords="200,107,363,133"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="436,5,511,32"/>
<area shape="rect" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766" title=" " alt="" coords="411,56,536,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="607,5,727,32"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="584,107,749,133"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="609,56,725,83"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="802,107,921,133"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="802,157,921,184"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="991,107,1119,133"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="973,157,1136,184"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="979,208,1130,235"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1184,208,1365,235"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="797,56,925,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a60129df4b96ea31788ca4c84aca5296c_icgraph.png" border="0" usemap="#asys__regs_8c_a60129df4b96ea31788ca4c84aca5296c_icgraph" alt=""/></div>
<map name="asys__regs_8c_a60129df4b96ea31788ca4c84aca5296c_icgraph" id="asys__regs_8c_a60129df4b96ea31788ca4c84aca5296c_icgraph">
<area shape="rect" title=" " alt="" coords="216,31,363,57"/>
<area shape="rect" href="sys__regs_8c.html#a3fc2578a70449007d0bac463e2d66d05" title=" " alt="" coords="5,5,168,32"/>
<area shape="rect" href="sys__regs_8c.html#aabfd3c696cf28ee58eb8d7e421e12310" title=" " alt="" coords="5,56,168,83"/>
</map>
</div>

</div>
</div>
<a id="acf2a59d7fe0d9db81c822a0973b00539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf2a59d7fe0d9db81c822a0973b00539">&#9670;&nbsp;</a></span>kvm_handle_cp_64()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kvm_handle_cp_64 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nr_global</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>kvm_handle_cp_64 &ndash; handles a mrrc/mcrr trap on a guest CP14/CP15 access @vcpu: The VCPU pointer @run: The kvm_run struct </p>

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03164">3164</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;{</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;    <span class="keyword">struct </span><a class="code" href="structsys__reg__params.html">sys_reg_params</a> params;</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    u64 esr = kvm_vcpu_get_esr(vcpu);</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;    <span class="keywordtype">int</span> Rt = kvm_vcpu_sys_get_rt(vcpu);</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    <span class="keywordtype">int</span> Rt2 = (esr &gt;&gt; 10) &amp; 0x1f;</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160; </div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    params.CRm = (esr &gt;&gt; 1) &amp; 0xf;</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    params.is_write = ((esr &amp; 1) == 0);</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160; </div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;    params.Op0 = 0;</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;    params.Op1 = (esr &gt;&gt; 16) &amp; 0xf;</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;    params.Op2 = 0;</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    params.CRn = 0;</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160; </div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;<span class="comment">     * Make a 64-bit value out of Rt and Rt2. As we use the same trap</span></div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;<span class="comment">     * backends between AArch32 and AArch64, we get away with it.</span></div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;    <span class="keywordflow">if</span> (params.is_write) {</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;        params.regval = vcpu_get_reg(vcpu, Rt) &amp; 0xffffffff;</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;        params.regval |= vcpu_get_reg(vcpu, Rt2) &lt;&lt; 32;</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    }</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160; </div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;<span class="comment">     * If the table contains a handler, handle the</span></div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;<span class="comment">     * potential register operation in the case of a read and return</span></div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;<span class="comment">     * with success.</span></div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#a7a4f4c9413ca5dc5a4d9f5e952f991ac">emulate_cp</a>(vcpu, &amp;params, global, nr_global)) {</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;        <span class="comment">/* Split up the value between registers for the read side */</span></div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;        <span class="keywordflow">if</span> (!params.is_write) {</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;            vcpu_set_reg(vcpu, Rt, lower_32_bits(params.regval));</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;            vcpu_set_reg(vcpu, Rt2, upper_32_bits(params.regval));</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;        }</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160; </div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;    }</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160; </div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;    <a class="code" href="sys__regs_8c.html#a253f9d1013e490024387b0d3ff8aa742">unhandled_cp_access</a>(vcpu, &amp;params);</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_acf2a59d7fe0d9db81c822a0973b00539_cgraph.png" border="0" usemap="#asys__regs_8c_acf2a59d7fe0d9db81c822a0973b00539_cgraph" alt=""/></div>
<map name="asys__regs_8c_acf2a59d7fe0d9db81c822a0973b00539_cgraph" id="asys__regs_8c_acf2a59d7fe0d9db81c822a0973b00539_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,152,108"/>
<area shape="rect" href="sys__regs_8c.html#a7a4f4c9413ca5dc5a4d9f5e952f991ac" title=" " alt="" coords="232,56,331,83"/>
<area shape="rect" href="sys__regs_8c.html#a253f9d1013e490024387b0d3ff8aa742" title=" " alt="" coords="200,107,363,133"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="436,5,511,32"/>
<area shape="rect" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766" title=" " alt="" coords="411,56,536,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="607,5,727,32"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="584,107,749,133"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="609,56,725,83"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="802,107,921,133"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="802,157,921,184"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="991,107,1119,133"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="973,157,1136,184"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="979,208,1130,235"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1184,208,1365,235"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="797,56,925,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_acf2a59d7fe0d9db81c822a0973b00539_icgraph.png" border="0" usemap="#asys__regs_8c_acf2a59d7fe0d9db81c822a0973b00539_icgraph" alt=""/></div>
<map name="asys__regs_8c_acf2a59d7fe0d9db81c822a0973b00539_icgraph" id="asys__regs_8c_acf2a59d7fe0d9db81c822a0973b00539_icgraph">
<area shape="rect" title=" " alt="" coords="216,31,363,57"/>
<area shape="rect" href="sys__regs_8c.html#a5f660f6a9a4de1cfc8af20da24cdad94" title=" " alt="" coords="5,5,168,32"/>
<area shape="rect" href="sys__regs_8c.html#ae031a976c6888fa3fb7ac85e9ffa4ce1" title=" " alt="" coords="5,56,168,83"/>
</map>
</div>

</div>
</div>
<a id="a315e661b6f1cb224596267000909a1ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a315e661b6f1cb224596267000909a1ac">&#9670;&nbsp;</a></span>kvm_handle_sys_reg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_handle_sys_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>kvm_handle_sys_reg &ndash; handles a mrs/msr trap on a guest sys_reg access @vcpu: The VCPU pointer </p>

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03473">3473</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;{</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    <span class="keyword">struct </span><a class="code" href="structsys__reg__params.html">sys_reg_params</a> params;</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> esr = kvm_vcpu_get_esr(vcpu);</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;    <span class="keywordtype">int</span> Rt = kvm_vcpu_sys_get_rt(vcpu);</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160; </div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    trace_kvm_handle_sys_reg(esr);</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160; </div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="emulate-nested_8c.html#a5759b383dbf067b5e90235d5fd032ab5">__check_nv_sr_forward</a>(vcpu))</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160; </div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;    params = <a class="code" href="sys__regs_8h.html#a3ae406a1d839bd866216a125ac3210cc">esr_sys64_to_params</a>(esr);</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    params.regval = vcpu_get_reg(vcpu, Rt);</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160; </div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="sys__regs_8c.html#a3d240da65ae9bd5abb59855d5eccd1bd">emulate_sys_reg</a>(vcpu, &amp;params))</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160; </div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    <span class="keywordflow">if</span> (!params.is_write)</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;        vcpu_set_reg(vcpu, Rt, params.regval);</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;}</div>
<div class="ttc" id="aemulate-nested_8c_html_a5759b383dbf067b5e90235d5fd032ab5"><div class="ttname"><a href="emulate-nested_8c.html#a5759b383dbf067b5e90235d5fd032ab5">__check_nv_sr_forward</a></div><div class="ttdeci">bool __check_nv_sr_forward(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="emulate-nested_8c_source.html#l01908">emulate-nested.c:1908</a></div></div>
<div class="ttc" id="asys__regs_8h_html_a3ae406a1d839bd866216a125ac3210cc"><div class="ttname"><a href="sys__regs_8h.html#a3ae406a1d839bd866216a125ac3210cc">esr_sys64_to_params</a></div><div class="ttdeci">#define esr_sys64_to_params(esr)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00037">sys_regs.h:37</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a315e661b6f1cb224596267000909a1ac_cgraph.png" border="0" usemap="#asys__regs_8c_a315e661b6f1cb224596267000909a1ac_cgraph" alt=""/></div>
<map name="asys__regs_8c_a315e661b6f1cb224596267000909a1ac_cgraph" id="asys__regs_8c_a315e661b6f1cb224596267000909a1ac_cgraph">
<area shape="rect" title=" " alt="" coords="5,767,164,793"/>
<area shape="rect" href="emulate-nested_8c.html#a5759b383dbf067b5e90235d5fd032ab5" title=" " alt="" coords="212,703,385,729"/>
<area shape="rect" href="sys__regs_8c.html#a3d240da65ae9bd5abb59855d5eccd1bd" title=" " alt="" coords="232,868,365,895"/>
<area shape="rect" href="emulate-nested_8c.html#adc2c01dad8b00810d1c84739af51696e" title=" " alt="" coords="471,601,580,628"/>
<area shape="rect" href="emulate-nested_8c.html#acb529e07d35e9aa4effbac4e7e20eeaa" title=" " alt="" coords="433,652,617,679"/>
<area shape="rect" href="emulate-nested_8c.html#ad3ce790c00c2fce83dc1a1499284f9b7" title=" " alt="" coords="464,703,587,729"/>
<area shape="rect" href="emulate-nested_8c.html#af5e2eb745d8ac6415fe941ebe754171d" title=" " alt="" coords="434,753,617,780"/>
<area shape="rect" href="emulate-nested_8c.html#a1c3e31bd85e9c0590a018ada20a5e4bf" title=" " alt="" coords="675,728,821,755"/>
<area shape="rect" href="exception_8c.html#a69b40cbdae816f5cb612962c0f5da592" title=" " alt="" coords="907,107,1042,133"/>
<area shape="rect" href="arm_8c.html#aaa51abf3d06fdaa95794b27f273278fb" title=" " alt="" coords="895,351,1054,377"/>
<area shape="rect" href="arm_8c.html#a9235365ce64f215b1e024f26d96537cc" title=" " alt="" coords="899,728,1051,755"/>
<area shape="rect" href="emulate-nested_8c.html#a5c0ef76a2f1feaeb264f0d4957c8f527" title=" " alt="" coords="879,804,1071,831"/>
<area shape="rect" href="exception_8c.html#a5951865f1186392f5e4f0bc260c3b840" title=" " alt="" coords="1143,56,1308,83"/>
<area shape="rect" href="adjust__pc_8h.html#a3a6ebd94aaf8bbd3c8461a2ca19a0d0d" title=" " alt="" coords="1165,107,1286,133"/>
<area shape="rect" href="exception_8c.html#a915e81f46f11cc1767049dbbf071923f" title=" " alt="" coords="1405,5,1547,32"/>
<area shape="rect" href="exception_8c.html#a0bd428ba7b098cc3417dca2f3f3bc9bf" title=" " alt="" coords="1405,56,1547,83"/>
<area shape="rect" href="aarch32_8c.html#a1b8e30a6e24795d6b69e6ff5f0e50563" title=" " alt="" coords="1407,107,1545,133"/>
<area shape="rect" href="nvhe_2tlb_8c.html#ae52fe3c4f97b5b56e65233015785a6ec" title=" " alt="" coords="1131,157,1320,184"/>
<area shape="rect" href="debug_8c.html#aae61f6ee77424b3eb0cb727586a694eb" title=" " alt="" coords="1146,209,1305,250"/>
<area shape="rect" href="fpsimd_8c.html#a6d3b97095b4e6a0d7799fe50eb3fb762" title=" " alt="" coords="1136,275,1315,301"/>
<area shape="rect" href="arch__timer_8c.html#a4bf6ac76380146820b45b06feb3eab27" title=" " alt="" coords="1142,325,1309,352"/>
<area shape="rect" href="vhe_2switch_8c.html#ae2827f745640cc27776384fbe890f8e4" title=" " alt="" coords="1148,376,1303,403"/>
<area shape="rect" href="pmu_8c.html#a928d4df1b401e9b41f92dd2aa2744529" title=" " alt="" coords="1136,427,1315,469"/>
<area shape="rect" href="vgic_8c.html#a54d5d884ac662357df5661d80f5160e3" title=" " alt="" coords="1165,493,1285,520"/>
<area shape="rect" href="nvhe_2tlb_8c.html#ac4dc226b1ecb9bca38c3096eb27c4c1d" title=" " alt="" coords="1393,157,1559,184"/>
<area shape="rect" href="nvhe_2tlb_8c.html#afffa64d5f9de2ef7a026837a2b9a0629" title=" " alt="" coords="1397,208,1555,235"/>
<area shape="rect" href="arch__timer_8c.html#ad7e756ea5077e85e2a10bfe35543ce21" title=" " alt="" coords="1415,585,1537,612"/>
<area shape="rect" href="arch__timer_8c.html#aabed21346a0fc6b04d9fc11ee754d19a" title=" " alt="" coords="1391,275,1561,301"/>
<area shape="rect" href="arch__timer_8c.html#a1c4f03de391e27f5ba91d10b6dfab0bf" title=" " alt="" coords="1380,325,1572,352"/>
<area shape="rect" href="arch__timer_8c.html#a9f34b892b5c9b1e79065006b4353c76e" title=" " alt="" coords="1393,377,1559,418"/>
<area shape="rect" href="debug_8c.html#a40ab178c06775c17444821f2b88d89c9" title=" " alt="" coords="1126,545,1325,586"/>
<area shape="rect" href="fpsimd_8c.html#a315297a309db16c8cbbe1ab46c7413ba" title=" " alt="" coords="1139,611,1311,637"/>
<area shape="rect" href="vmid_8c.html#a2de0128c579224dac8d0964d383122cf" title=" " alt="" coords="1144,662,1307,703"/>
<area shape="rect" href="arch__timer_8c.html#a0006e1b52ff819dd99be6dca260e52d6" title=" " alt="" coords="1146,728,1305,755"/>
<area shape="rect" href="pmu_8c.html#a4e027f0c751f9cc01fa6d3c3f082216b" title=" " alt="" coords="1119,779,1332,805"/>
<area shape="rect" href="vhe_2switch_8c.html#acecfb29f871562a6288b28ba84a8150e" title=" " alt="" coords="1151,829,1299,856"/>
<area shape="rect" href="vgic_8c.html#a96f93a2405989082e3693577b6b2eb5d" title=" " alt="" coords="1169,880,1282,907"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="1150,931,1301,957"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1385,931,1567,957"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="488,817,563,844"/>
<area shape="rect" href="sys__regs_8c.html#ac84d9b3a11a9a1dd463e8843f45b31bf" title=" " alt="" coords="450,868,601,895"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="665,944,831,971"/>
<area shape="rect" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766" title=" " alt="" coords="463,969,588,996"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="688,817,808,844"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="915,905,1034,932"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="915,956,1034,983"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="1161,981,1289,1008"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="1144,1032,1307,1059"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="690,995,806,1021"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="911,1007,1039,1033"/>
</map>
</div>

</div>
</div>
<a id="a9c05eb4e2b07c46ac14ef9a3e300ae4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c05eb4e2b07c46ac14ef9a3e300ae4b">&#9670;&nbsp;</a></span>kvm_read_sanitised_id_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 kvm_read_sanitised_id_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01560">1560</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;{</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#ae12eae3cc9d253be91cdffd0f5dfbbb0">__kvm_read_sanitised_id_reg</a>(vcpu, r);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_ae12eae3cc9d253be91cdffd0f5dfbbb0"><div class="ttname"><a href="sys__regs_8c.html#ae12eae3cc9d253be91cdffd0f5dfbbb0">__kvm_read_sanitised_id_reg</a></div><div class="ttdeci">static u64 __kvm_read_sanitised_id_reg(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01517">sys_regs.c:1517</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a9c05eb4e2b07c46ac14ef9a3e300ae4b_cgraph.png" border="0" usemap="#asys__regs_8c_a9c05eb4e2b07c46ac14ef9a3e300ae4b_cgraph" alt=""/></div>
<map name="asys__regs_8c_a9c05eb4e2b07c46ac14ef9a3e300ae4b_cgraph" id="asys__regs_8c_a9c05eb4e2b07c46ac14ef9a3e300ae4b_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,159,47"/>
<area shape="rect" href="sys__regs_8c.html#ae12eae3cc9d253be91cdffd0f5dfbbb0" title=" " alt="" coords="207,5,373,47"/>
<area shape="rect" href="sys__regs_8h.html#af39fd68b14c927a067964587e849be92" title=" " alt="" coords="421,13,585,39"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="633,13,761,39"/>
</map>
</div>

</div>
</div>
<a id="ab8caa56833715758c346de1e7ccfaebd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8caa56833715758c346de1e7ccfaebd">&#9670;&nbsp;</a></span>kvm_reset_id_regs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void kvm_reset_id_regs </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03423">3423</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;{</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *idreg = <a class="code" href="sys__regs_8c.html#a216dc0d7cdd571a00af68b907e1084d6">first_idreg</a>;</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    u32 <span class="keywordtype">id</span> = <a class="code" href="sys__regs_8h.html#a2a67e99c288b572250f936d156c5d316">reg_to_encoding</a>(idreg);</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;    <span class="keyword">struct </span>kvm *kvm = vcpu-&gt;kvm;</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160; </div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;    <span class="keywordflow">if</span> (test_bit(KVM_ARCH_FLAG_ID_REGS_INITIALIZED, &amp;kvm-&gt;arch.flags))</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160; </div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    lockdep_assert_held(&amp;kvm-&gt;arch.config_lock);</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160; </div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;    <span class="comment">/* Initialize all idregs */</span></div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="sys__regs_8c.html#a928c5005370eb285da77e648be052b3d">is_id_reg</a>(<span class="keywordtype">id</span>)) {</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;        IDREG(kvm, <span class="keywordtype">id</span>) = idreg-&gt;<a class="code" href="structsys__reg__desc.html#aebf6cb5faf8f326e10c13df6c63e9462">reset</a>(vcpu, idreg);</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160; </div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;        idreg++;</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;        <span class="keywordtype">id</span> = <a class="code" href="sys__regs_8h.html#a2a67e99c288b572250f936d156c5d316">reg_to_encoding</a>(idreg);</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    }</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160; </div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;    set_bit(KVM_ARCH_FLAG_ID_REGS_INITIALIZED, &amp;kvm-&gt;arch.flags);</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a216dc0d7cdd571a00af68b907e1084d6"><div class="ttname"><a href="sys__regs_8c.html#a216dc0d7cdd571a00af68b907e1084d6">first_idreg</a></div><div class="ttdeci">static const struct sys_reg_desc * first_idreg</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l02730">sys_regs.c:2730</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a928c5005370eb285da77e648be052b3d"><div class="ttname"><a href="sys__regs_8c.html#a928c5005370eb285da77e648be052b3d">is_id_reg</a></div><div class="ttdeci">static bool is_id_reg(u32 id)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01575">sys_regs.c:1575</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ab8caa56833715758c346de1e7ccfaebd_cgraph.png" border="0" usemap="#asys__regs_8c_ab8caa56833715758c346de1e7ccfaebd_cgraph" alt=""/></div>
<map name="asys__regs_8c_ab8caa56833715758c346de1e7ccfaebd_cgraph" id="asys__regs_8c_ab8caa56833715758c346de1e7ccfaebd_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,151,32"/>
<area shape="rect" href="sys__regs_8c.html#a928c5005370eb285da77e648be052b3d" title=" " alt="" coords="199,5,279,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ab8caa56833715758c346de1e7ccfaebd_icgraph.png" border="0" usemap="#asys__regs_8c_ab8caa56833715758c346de1e7ccfaebd_icgraph" alt=""/></div>
<map name="asys__regs_8c_ab8caa56833715758c346de1e7ccfaebd_icgraph" id="asys__regs_8c_ab8caa56833715758c346de1e7ccfaebd_icgraph">
<area shape="rect" title=" " alt="" coords="1433,81,1579,108"/>
<area shape="rect" href="sys__regs_8c.html#abba14158e86a83e47c00e8fcde09fcfc" title=" " alt="" coords="1231,81,1385,108"/>
<area shape="rect" href="reset_8c.html#a124698ccde953ff74d270ddd091fc3a9" title=" " alt="" coords="1053,81,1183,108"/>
<area shape="rect" href="arm_8c.html#ae1c5fe27678796057c4ea914a9a6897b" title=" " alt="" coords="829,5,1005,32"/>
<area shape="rect" href="arm_8c.html#a91790a6a024c83b103717f37a8f0f504" title=" " alt="" coords="619,48,781,75"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,107,336,133"/>
<area shape="rect" href="arm_8c.html#a05fa4e97677ca3190089071bfce82825" title=" " alt="" coords="837,157,998,184"/>
<area shape="rect" href="arm_8c.html#ad66c8d00e8adc8315c45170fa270304b" title=" " alt="" coords="398,41,557,82"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,132,129,159"/>
<area shape="rect" href="arm_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="384,157,571,184"/>
</map>
</div>

</div>
</div>
<a id="abba14158e86a83e47c00e8fcde09fcfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abba14158e86a83e47c00e8fcde09fcfc">&#9670;&nbsp;</a></span>kvm_reset_sys_regs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kvm_reset_sys_regs </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>kvm_reset_sys_regs - sets system registers to reset value @vcpu: The VCPU pointer</p>
<p>This function finds the right table above and sets the registers on the virtual CPU struct to their architecturally defined reset values. </p>

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03452">3452</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;{</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i;</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160; </div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;    <a class="code" href="sys__regs_8c.html#ab8caa56833715758c346de1e7ccfaebd">kvm_reset_id_regs</a>(vcpu);</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160; </div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>); i++) {</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *r = &amp;<a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>[i];</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160; </div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#a928c5005370eb285da77e648be052b3d">is_id_reg</a>(<a class="code" href="sys__regs_8h.html#a2a67e99c288b572250f936d156c5d316">reg_to_encoding</a>(r)))</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160; </div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;        <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#aebf6cb5faf8f326e10c13df6c63e9462">reset</a>)</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;            r-&gt;<a class="code" href="structsys__reg__desc.html#aebf6cb5faf8f326e10c13df6c63e9462">reset</a>(vcpu, r);</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;    }</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_ab8caa56833715758c346de1e7ccfaebd"><div class="ttname"><a href="sys__regs_8c.html#ab8caa56833715758c346de1e7ccfaebd">kvm_reset_id_regs</a></div><div class="ttdeci">static void kvm_reset_id_regs(struct kvm_vcpu *vcpu)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03423">sys_regs.c:3423</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_abba14158e86a83e47c00e8fcde09fcfc_cgraph.png" border="0" usemap="#asys__regs_8c_abba14158e86a83e47c00e8fcde09fcfc_cgraph" alt=""/></div>
<map name="asys__regs_8c_abba14158e86a83e47c00e8fcde09fcfc_cgraph" id="asys__regs_8c_abba14158e86a83e47c00e8fcde09fcfc_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,160,32"/>
<area shape="rect" href="sys__regs_8c.html#a928c5005370eb285da77e648be052b3d" title=" " alt="" coords="401,5,481,32"/>
<area shape="rect" href="sys__regs_8c.html#ab8caa56833715758c346de1e7ccfaebd" title=" " alt="" coords="208,31,353,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_abba14158e86a83e47c00e8fcde09fcfc_icgraph.png" border="0" usemap="#asys__regs_8c_abba14158e86a83e47c00e8fcde09fcfc_icgraph" alt=""/></div>
<map name="asys__regs_8c_abba14158e86a83e47c00e8fcde09fcfc_icgraph" id="asys__regs_8c_abba14158e86a83e47c00e8fcde09fcfc_icgraph">
<area shape="rect" title=" " alt="" coords="1231,81,1385,108"/>
<area shape="rect" href="reset_8c.html#a124698ccde953ff74d270ddd091fc3a9" title=" " alt="" coords="1053,81,1183,108"/>
<area shape="rect" href="arm_8c.html#ae1c5fe27678796057c4ea914a9a6897b" title=" " alt="" coords="829,5,1005,32"/>
<area shape="rect" href="arm_8c.html#a91790a6a024c83b103717f37a8f0f504" title=" " alt="" coords="619,48,781,75"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,107,336,133"/>
<area shape="rect" href="arm_8c.html#a05fa4e97677ca3190089071bfce82825" title=" " alt="" coords="837,157,998,184"/>
<area shape="rect" href="arm_8c.html#ad66c8d00e8adc8315c45170fa270304b" title=" " alt="" coords="398,41,557,82"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,132,129,159"/>
<area shape="rect" href="arm_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="384,157,571,184"/>
</map>
</div>

</div>
</div>
<a id="a228e61f9390e36b563ab837dfcf03ae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a228e61f9390e36b563ab837dfcf03ae2">&#9670;&nbsp;</a></span>kvm_sys_reg_get_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_sys_reg_get_user </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct kvm_one_reg *&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a>&#160;</td>
          <td class="paramname"><em>table</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03680">3680</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;{</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;    u64 __user *uaddr = (u64 __user *)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)reg-&gt;addr;</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *r;</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;    u64 <a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>;</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160; </div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    r = <a class="code" href="sys__regs_8c.html#af212e5241f19483aede7d85e43a93b42">id_to_sys_reg_desc</a>(vcpu, <a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>-&gt;id, table, num);</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;    <span class="keywordflow">if</span> (!r || <a class="code" href="sys__regs_8h.html#acb0346a28ca0b3fd59d3c815d4d683a1">sysreg_hidden_user</a>(vcpu, r))</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;        <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160; </div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#ad4a1cef69891a0e8d270650222ace922">get_user</a>) {</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;        ret = (r-&gt;<a class="code" href="structsys__reg__desc.html#ad4a1cef69891a0e8d270650222ace922">get_user</a>)(vcpu, r, &amp;<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>);</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;        <a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a> = __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>);</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;        ret = 0;</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;    }</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160; </div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;    <span class="keywordflow">if</span> (!ret)</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;        ret = put_user(<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>, uaddr);</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160; </div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_af212e5241f19483aede7d85e43a93b42"><div class="ttname"><a href="sys__regs_8c.html#af212e5241f19483aede7d85e43a93b42">id_to_sys_reg_desc</a></div><div class="ttdeci">static const struct sys_reg_desc * id_to_sys_reg_desc(struct kvm_vcpu *vcpu, u64 id, const struct sys_reg_desc table[], unsigned int num)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03542">sys_regs.c:3542</a></div></div>
<div class="ttc" id="asys__regs_8h_html_acb0346a28ca0b3fd59d3c815d4d683a1"><div class="ttname"><a href="sys__regs_8h.html#acb0346a28ca0b3fd59d3c815d4d683a1">sysreg_hidden_user</a></div><div class="ttdeci">static bool sysreg_hidden_user(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00168">sys_regs.h:168</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a228e61f9390e36b563ab837dfcf03ae2_cgraph.png" border="0" usemap="#asys__regs_8c_a228e61f9390e36b563ab837dfcf03ae2_cgraph" alt=""/></div>
<map name="asys__regs_8c_a228e61f9390e36b563ab837dfcf03ae2_cgraph" id="asys__regs_8c_a228e61f9390e36b563ab837dfcf03ae2_cgraph">
<area shape="rect" title=" " alt="" coords="5,107,176,133"/>
<area shape="rect" href="sys__regs_8c.html#af212e5241f19483aede7d85e43a93b42" title=" " alt="" coords="225,81,373,108"/>
<area shape="rect" href="sys__regs_8h.html#acb0346a28ca0b3fd59d3c815d4d683a1" title=" " alt="" coords="224,132,375,159"/>
<area shape="rect" href="sys__regs_8c.html#ac41b37ff19cd3eda5658080a3eb8c558" title=" " alt="" coords="424,56,537,83"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="423,107,539,133"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="617,5,691,32"/>
<area shape="rect" href="sys__regs_8c.html#a000b8bb9ea7247fee0c7acc84817d960" title=" " alt="" coords="587,56,721,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="769,5,889,32"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="590,107,718,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a228e61f9390e36b563ab837dfcf03ae2_icgraph.png" border="0" usemap="#asys__regs_8c_a228e61f9390e36b563ab837dfcf03ae2_icgraph" alt=""/></div>
<map name="asys__regs_8c_a228e61f9390e36b563ab837dfcf03ae2_icgraph" id="asys__regs_8c_a228e61f9390e36b563ab837dfcf03ae2_icgraph">
<area shape="rect" title=" " alt="" coords="865,35,1036,61"/>
<area shape="rect" href="sys__regs_8c.html#af85c3c21b976f4ad1def9aaeebfcfe2a" title=" " alt="" coords="620,5,817,32"/>
<area shape="rect" href="vgic_8h.html#ae6c5f6437d5d194daa8d1485c3dfe27b" title=" " alt="" coords="639,57,798,98"/>
<area shape="rect" href="guest_8c.html#ad1a71190592cc60155333934b84d1d11" title=" " alt="" coords="408,5,548,32"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,5,336,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
<area shape="rect" href="vgic-kvm-device_8c.html#a176e49a1162579b332c8a68ab035e981" title=" " alt="" coords="384,64,572,91"/>
<area shape="rect" href="vgic-kvm-device_8c.html#ad2effaec26f6d2af865ed45b7dbc64f1" title=" " alt="" coords="191,60,322,87"/>
<area shape="rect" href="vgic-kvm-device_8c.html#aee48777d58c65e5b91c0f85e2eae843e" title=" " alt="" coords="192,111,321,137"/>
</map>
</div>

</div>
</div>
<a id="ab29b04a8d34d81f0cce231f94feba038"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab29b04a8d34d81f0cce231f94feba038">&#9670;&nbsp;</a></span>kvm_sys_reg_set_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_sys_reg_set_user </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct kvm_one_reg *&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a>&#160;</td>
          <td class="paramname"><em>table</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03721">3721</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;{</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;    u64 __user *uaddr = (u64 __user *)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)reg-&gt;addr;</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *r;</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;    u64 <a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>;</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160; </div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structsys__reg__desc.html#ad4a1cef69891a0e8d270650222ace922">get_user</a>(<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>, uaddr))</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;        <span class="keywordflow">return</span> -EFAULT;</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160; </div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;    r = <a class="code" href="sys__regs_8c.html#af212e5241f19483aede7d85e43a93b42">id_to_sys_reg_desc</a>(vcpu, <a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>-&gt;id, table, num);</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;    <span class="keywordflow">if</span> (!r || <a class="code" href="sys__regs_8h.html#acb0346a28ca0b3fd59d3c815d4d683a1">sysreg_hidden_user</a>(vcpu, r))</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;        <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160; </div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8h.html#a95e3e5f281cf82d91e6a522ee3acb4cc">sysreg_user_write_ignore</a>(vcpu, r))</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160; </div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#a8f2bcd128e5dca50ecdd1430bfbf37bd">set_user</a>) {</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;        ret = (r-&gt;<a class="code" href="structsys__reg__desc.html#a8f2bcd128e5dca50ecdd1430bfbf37bd">set_user</a>)(vcpu, r, <a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>);</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;        __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) = <a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>;</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;        ret = 0;</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;    }</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160; </div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;}</div>
<div class="ttc" id="astructsys__reg__desc_html_a8f2bcd128e5dca50ecdd1430bfbf37bd"><div class="ttname"><a href="structsys__reg__desc.html#a8f2bcd128e5dca50ecdd1430bfbf37bd">sys_reg_desc::set_user</a></div><div class="ttdeci">int(* set_user)(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd, u64 val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00089">sys_regs.h:89</a></div></div>
<div class="ttc" id="asys__regs_8h_html_a95e3e5f281cf82d91e6a522ee3acb4cc"><div class="ttname"><a href="sys__regs_8h.html#a95e3e5f281cf82d91e6a522ee3acb4cc">sysreg_user_write_ignore</a></div><div class="ttdeci">static bool sysreg_user_write_ignore(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00183">sys_regs.h:183</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ab29b04a8d34d81f0cce231f94feba038_cgraph.png" border="0" usemap="#asys__regs_8c_ab29b04a8d34d81f0cce231f94feba038_cgraph" alt=""/></div>
<map name="asys__regs_8c_ab29b04a8d34d81f0cce231f94feba038_cgraph" id="asys__regs_8c_ab29b04a8d34d81f0cce231f94feba038_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,176,108"/>
<area shape="rect" href="sys__regs_8c.html#af212e5241f19483aede7d85e43a93b42" title=" " alt="" coords="225,31,373,57"/>
<area shape="rect" href="sys__regs_8h.html#acb0346a28ca0b3fd59d3c815d4d683a1" title=" " alt="" coords="224,81,375,108"/>
<area shape="rect" href="sys__regs_8h.html#a95e3e5f281cf82d91e6a522ee3acb4cc" title=" " alt="" coords="423,132,611,159"/>
<area shape="rect" href="sys__regs_8c.html#ac41b37ff19cd3eda5658080a3eb8c558" title=" " alt="" coords="460,31,573,57"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="459,81,575,108"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="689,5,763,32"/>
<area shape="rect" href="sys__regs_8c.html#a000b8bb9ea7247fee0c7acc84817d960" title=" " alt="" coords="659,56,793,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="841,5,961,32"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="662,107,790,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ab29b04a8d34d81f0cce231f94feba038_icgraph.png" border="0" usemap="#asys__regs_8c_ab29b04a8d34d81f0cce231f94feba038_icgraph" alt=""/></div>
<map name="asys__regs_8c_ab29b04a8d34d81f0cce231f94feba038_icgraph" id="asys__regs_8c_ab29b04a8d34d81f0cce231f94feba038_icgraph">
<area shape="rect" title=" " alt="" coords="864,35,1035,61"/>
<area shape="rect" href="sys__regs_8c.html#a857a1f40feb608d8b9156c442eb73f6a" title=" " alt="" coords="620,5,816,32"/>
<area shape="rect" href="vgic_8h.html#ae6c5f6437d5d194daa8d1485c3dfe27b" title=" " alt="" coords="639,57,797,98"/>
<area shape="rect" href="guest_8c.html#a8ee5ced2d0c0d538319888057bc58b4a" title=" " alt="" coords="409,5,547,32"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,5,336,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
<area shape="rect" href="vgic-kvm-device_8c.html#a176e49a1162579b332c8a68ab035e981" title=" " alt="" coords="384,64,572,91"/>
<area shape="rect" href="vgic-kvm-device_8c.html#ad2effaec26f6d2af865ed45b7dbc64f1" title=" " alt="" coords="191,60,322,87"/>
<area shape="rect" href="vgic-kvm-device_8c.html#aee48777d58c65e5b91c0f85e2eae843e" title=" " alt="" coords="192,111,321,137"/>
</map>
</div>

</div>
</div>
<a id="aee14269677924cb86250974700c3501b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee14269677924cb86250974700c3501b">&#9670;&nbsp;</a></span>kvm_sys_reg_table_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __init kvm_sys_reg_table_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03933">3933</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;{</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;    <span class="keyword">struct </span><a class="code" href="structsys__reg__params.html">sys_reg_params</a> params;</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;    <span class="keywordtype">bool</span> valid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160; </div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;    <span class="comment">/* Make sure tables are unique and in order. */</span></div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;    valid &amp;= <a class="code" href="sys__regs_8c.html#a04a47f17241cf05c3ffed72f45d6702c">check_sysreg_table</a>(<a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>, ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>), <span class="keyword">false</span>);</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;    valid &amp;= <a class="code" href="sys__regs_8c.html#a04a47f17241cf05c3ffed72f45d6702c">check_sysreg_table</a>(<a class="code" href="sys__regs_8c.html#ae3b1e78017871071cfa256948fb508bd">cp14_regs</a>, ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#ae3b1e78017871071cfa256948fb508bd">cp14_regs</a>), <span class="keyword">true</span>);</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;    valid &amp;= <a class="code" href="sys__regs_8c.html#a04a47f17241cf05c3ffed72f45d6702c">check_sysreg_table</a>(<a class="code" href="sys__regs_8c.html#ae78146f4d87ed9843080338a0bfe9da0">cp14_64_regs</a>, ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#ae78146f4d87ed9843080338a0bfe9da0">cp14_64_regs</a>), <span class="keyword">true</span>);</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;    valid &amp;= <a class="code" href="sys__regs_8c.html#a04a47f17241cf05c3ffed72f45d6702c">check_sysreg_table</a>(<a class="code" href="sys__regs_8c.html#ac86c576278c4980aa5803a3fdabbf40f">cp15_regs</a>, ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#ac86c576278c4980aa5803a3fdabbf40f">cp15_regs</a>), <span class="keyword">true</span>);</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;    valid &amp;= <a class="code" href="sys__regs_8c.html#a04a47f17241cf05c3ffed72f45d6702c">check_sysreg_table</a>(<a class="code" href="sys__regs_8c.html#a726794e0578b31ccf17210246ea3cf4d">cp15_64_regs</a>, ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#a726794e0578b31ccf17210246ea3cf4d">cp15_64_regs</a>), <span class="keyword">true</span>);</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;    valid &amp;= <a class="code" href="sys__regs_8c.html#a04a47f17241cf05c3ffed72f45d6702c">check_sysreg_table</a>(invariant_sys_regs, ARRAY_SIZE(invariant_sys_regs), <span class="keyword">false</span>);</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160; </div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;    <span class="keywordflow">if</span> (!valid)</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160; </div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;    <span class="comment">/* We abuse the reset function to overwrite the table itself. */</span></div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; ARRAY_SIZE(invariant_sys_regs); i++)</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;        invariant_sys_regs[i].reset(NULL, &amp;invariant_sys_regs[i]);</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160; </div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;    <span class="comment">/* Find the first idreg (SYS_ID_PFR0_EL1) in sys_reg_descs. */</span></div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;    params = <a class="code" href="sys__regs_8h.html#a0cc8452f8e18afbc880d9ff53e68064c">encoding_to_params</a>(SYS_ID_PFR0_EL1);</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;    <a class="code" href="sys__regs_8c.html#a216dc0d7cdd571a00af68b907e1084d6">first_idreg</a> = <a class="code" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef">find_reg</a>(&amp;params, <a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>, ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>));</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="sys__regs_8c.html#a216dc0d7cdd571a00af68b907e1084d6">first_idreg</a>)</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160; </div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="arm_8c.html#ade8fdddf9949d1e1fcc2cea2dc5a7133">kvm_get_mode</a>() == KVM_MODE_NV)</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="emulate-nested_8c.html#ab98dcc09a2d10b534d543e45a00359c3">populate_nv_trap_config</a>();</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160; </div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;}</div>
<div class="ttc" id="aarm_8c_html_ade8fdddf9949d1e1fcc2cea2dc5a7133"><div class="ttname"><a href="arm_8c.html#ade8fdddf9949d1e1fcc2cea2dc5a7133">kvm_get_mode</a></div><div class="ttdeci">enum kvm_mode kvm_get_mode(void)</div><div class="ttdef"><b>Definition:</b> <a href="arm_8c_source.html#l02655">arm.c:2657</a></div></div>
<div class="ttc" id="aemulate-nested_8c_html_ab98dcc09a2d10b534d543e45a00359c3"><div class="ttname"><a href="emulate-nested_8c.html#ab98dcc09a2d10b534d543e45a00359c3">populate_nv_trap_config</a></div><div class="ttdeci">int __init populate_nv_trap_config(void)</div><div class="ttdef"><b>Definition:</b> <a href="emulate-nested_8c_source.html#l01760">emulate-nested.c:1760</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a04a47f17241cf05c3ffed72f45d6702c"><div class="ttname"><a href="sys__regs_8c.html#a04a47f17241cf05c3ffed72f45d6702c">check_sysreg_table</a></div><div class="ttdeci">static bool check_sysreg_table(const struct sys_reg_desc *table, unsigned int n, bool is_32)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03053">sys_regs.c:3053</a></div></div>
<div class="ttc" id="asys__regs_8h_html_a0cc8452f8e18afbc880d9ff53e68064c"><div class="ttname"><a href="sys__regs_8h.html#a0cc8452f8e18afbc880d9ff53e68064c">encoding_to_params</a></div><div class="ttdeci">#define encoding_to_params(reg)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00030">sys_regs.h:30</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_aee14269677924cb86250974700c3501b_cgraph.png" border="0" usemap="#asys__regs_8c_aee14269677924cb86250974700c3501b_cgraph" alt=""/></div>
<map name="asys__regs_8c_aee14269677924cb86250974700c3501b_cgraph" id="asys__regs_8c_aee14269677924cb86250974700c3501b_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,181,108"/>
<area shape="rect" href="sys__regs_8c.html#a04a47f17241cf05c3ffed72f45d6702c" title=" " alt="" coords="245,5,395,32"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="283,56,357,83"/>
<area shape="rect" href="arm_8c.html#ade8fdddf9949d1e1fcc2cea2dc5a7133" title=" " alt="" coords="259,107,381,133"/>
<area shape="rect" href="emulate-nested_8c.html#ab98dcc09a2d10b534d543e45a00359c3" title=" " alt="" coords="229,157,411,184"/>
<area shape="rect" href="sys__regs_8h.html#ad36915b59f8e473861dcc95b0fb7655d" title=" " alt="" coords="465,5,572,32"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="459,56,579,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_aee14269677924cb86250974700c3501b_icgraph.png" border="0" usemap="#asys__regs_8c_aee14269677924cb86250974700c3501b_icgraph" alt=""/></div>
<map name="asys__regs_8c_aee14269677924cb86250974700c3501b_icgraph" id="asys__regs_8c_aee14269677924cb86250974700c3501b_icgraph">
<area shape="rect" title=" " alt="" coords="165,5,341,32"/>
<area shape="rect" href="arm_8c.html#a625df4221f73b13d9f23aa818f60e547" title=" " alt="" coords="5,5,117,32"/>
</map>
</div>

</div>
</div>
<a id="a12c2c14feb7960c243c69a66db5eee3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12c2c14feb7960c243c69a66db5eee3b">&#9670;&nbsp;</a></span>kvm_vm_ioctl_get_reg_writable_masks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kvm_vm_ioctl_get_reg_writable_masks </td>
          <td>(</td>
          <td class="paramtype">struct kvm *&#160;</td>
          <td class="paramname"><em>kvm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct reg_mask_range *&#160;</td>
          <td class="paramname"><em>range</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03889">3889</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;{</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span> *zero_page = page_to_virt(ZERO_PAGE(0));</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;    u64 __user *masks = (u64 __user *)range-&gt;addr;</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160; </div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;    <span class="comment">/* Only feature id range is supported, reserved[13] must be zero. */</span></div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;    if (range-&gt;range ||</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;        memcmp(range-&gt;reserved, zero_page, <span class="keyword">sizeof</span>(range-&gt;reserved)))</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160; </div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;    <span class="comment">/* Wipe the whole thing first */</span></div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;    <span class="keywordflow">if</span> (clear_user(masks, KVM_ARM_FEATURE_ID_RANGE_SIZE * <span class="keyword">sizeof</span>(__u64)))</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;        <span class="keywordflow">return</span> -EFAULT;</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160; </div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>); i++) {</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a> = &amp;<a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>[i];</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;        u32 encoding = <a class="code" href="sys__regs_8h.html#a2a67e99c288b572250f936d156c5d316">reg_to_encoding</a>(<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>);</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;        u64 <a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>;</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160; </div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="sys__regs_8c.html#a9eb66b32599b474c03e9a8a8e52edb23">is_feature_id_reg</a>(encoding) || !<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>-&gt;set_user)</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160; </div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;<span class="comment">         * For ID registers, we return the writable mask. Other feature</span></div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;<span class="comment">         * registers return a full 64bit mask. That&#39;s not necessary</span></div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;<span class="comment">         * compliant with a given revision of the architecture, but the</span></div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;<span class="comment">         * RES0/RES1 definitions allow us to do that.</span></div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8c.html#a928c5005370eb285da77e648be052b3d">is_id_reg</a>(encoding)) {</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>-&gt;val ||</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;                (<a class="code" href="sys__regs_8c.html#ad9124f4805ad45a5494565613229f6d8">is_aa32_id_reg</a>(encoding) &amp;&amp; !kvm_supports_32bit_el0()))</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;            <a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a> = <a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>-&gt;val;</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;            <a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a> = ~0UL;</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;        }</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160; </div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;        <span class="keywordflow">if</span> (put_user(<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>, (masks + <a class="code" href="sys__regs_8c.html#a0d49e6f095a869baec1abf748f40ff19">KVM_ARM_FEATURE_ID_RANGE_INDEX</a>(encoding))))</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;            <span class="keywordflow">return</span> -EFAULT;</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;    }</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160; </div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a0d49e6f095a869baec1abf748f40ff19"><div class="ttname"><a href="sys__regs_8c.html#a0d49e6f095a869baec1abf748f40ff19">KVM_ARM_FEATURE_ID_RANGE_INDEX</a></div><div class="ttdeci">#define KVM_ARM_FEATURE_ID_RANGE_INDEX(r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03874">sys_regs.c:3874</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a9eb66b32599b474c03e9a8a8e52edb23"><div class="ttname"><a href="sys__regs_8c.html#a9eb66b32599b474c03e9a8a8e52edb23">is_feature_id_reg</a></div><div class="ttdeci">static bool is_feature_id_reg(u32 encoding)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03881">sys_regs.c:3881</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ad9124f4805ad45a5494565613229f6d8"><div class="ttname"><a href="sys__regs_8c.html#ad9124f4805ad45a5494565613229f6d8">is_aa32_id_reg</a></div><div class="ttdeci">static bool is_aa32_id_reg(u32 id)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01582">sys_regs.c:1582</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a12c2c14feb7960c243c69a66db5eee3b_cgraph.png" border="0" usemap="#asys__regs_8c_a12c2c14feb7960c243c69a66db5eee3b_cgraph" alt=""/></div>
<map name="asys__regs_8c_a12c2c14feb7960c243c69a66db5eee3b_cgraph" id="asys__regs_8c_a12c2c14feb7960c243c69a66db5eee3b_cgraph">
<area shape="rect" title=" " alt="" coords="5,49,176,90"/>
<area shape="rect" href="sys__regs_8c.html#ad9124f4805ad45a5494565613229f6d8" title=" " alt="" coords="232,5,351,32"/>
<area shape="rect" href="sys__regs_8c.html#a9eb66b32599b474c03e9a8a8e52edb23" title=" " alt="" coords="224,56,359,83"/>
<area shape="rect" href="sys__regs_8c.html#a928c5005370eb285da77e648be052b3d" title=" " alt="" coords="251,107,331,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a12c2c14feb7960c243c69a66db5eee3b_icgraph.png" border="0" usemap="#asys__regs_8c_a12c2c14feb7960c243c69a66db5eee3b_icgraph" alt=""/></div>
<map name="asys__regs_8c_a12c2c14feb7960c243c69a66db5eee3b_icgraph" id="asys__regs_8c_a12c2c14feb7960c243c69a66db5eee3b_icgraph">
<area shape="rect" title=" " alt="" coords="203,5,373,47"/>
<area shape="rect" href="arm_8c.html#a10224987f77e7370dd9f2b80352544ab" title=" " alt="" coords="5,13,155,39"/>
</map>
</div>

</div>
</div>
<a id="a14f59e91a4d1d9a65c9c366484869b55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14f59e91a4d1d9a65c9c366484869b55">&#9670;&nbsp;</a></span>mte_visibility()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int mte_visibility </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01986">1986</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;{</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">if</span> (kvm_has_mte(vcpu-&gt;kvm))</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160; </div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#adfaaefd051ca94abdae398a38d7c81c0">REG_HIDDEN</a>;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8996a1294bc3193aae24af847d760fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8996a1294bc3193aae24af847d760fd9">&#9670;&nbsp;</a></span>num_demux_regs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int num_demux_regs </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03765">3765</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;{</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a8433ddfc43e826c3164b5f99ebcc179e">CSSELR_MAX</a>;</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a8996a1294bc3193aae24af847d760fd9_icgraph.png" border="0" usemap="#asys__regs_8c_a8996a1294bc3193aae24af847d760fd9_icgraph" alt=""/></div>
<map name="asys__regs_8c_a8996a1294bc3193aae24af847d760fd9_icgraph" id="asys__regs_8c_a8996a1294bc3193aae24af847d760fd9_icgraph">
<area shape="rect" title=" " alt="" coords="812,13,951,39"/>
<area shape="rect" href="sys__regs_8c.html#a3a12ba3777384275bc5ff0abd169e22c" title=" " alt="" coords="587,5,764,47"/>
<area shape="rect" href="guest_8c.html#a5ea136c294fe50fdaa31e9bc93763f7f" title=" " alt="" coords="384,13,539,39"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,13,336,39"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,13,129,39"/>
</map>
</div>

</div>
</div>
<a id="a8cb2008e7051ba9d33b9ca79bca84766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cb2008e7051ba9d33b9ca79bca84766">&#9670;&nbsp;</a></span>perform_access()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void perform_access </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03079">3079</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;{</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    trace_kvm_sys_access(*vcpu_pc(vcpu), params, r);</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160; </div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;    <span class="comment">/* Check for regs disabled by runtime config */</span></div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9">sysreg_hidden</a>(vcpu, r)) {</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;        <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    }</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160; </div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;<span class="comment">     * Not having an accessor means that we have configured a trap</span></div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;<span class="comment">     * that we don&#39;t know how to handle. This certainly qualifies</span></div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;<span class="comment">     * as a gross bug that should be fixed right away.</span></div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    BUG_ON(!r-&gt;<a class="code" href="structsys__reg__desc.html#a0d9927d9f62f9b7031344e01e9fdc335">access</a>);</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160; </div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;    <span class="comment">/* Skip instruction if instructed so */</span></div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    <span class="keywordflow">if</span> (likely(r-&gt;<a class="code" href="structsys__reg__desc.html#a0d9927d9f62f9b7031344e01e9fdc335">access</a>(vcpu, params, r)))</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;        kvm_incr_pc(vcpu);</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;}</div>
<div class="ttc" id="astructsys__reg__desc_html_a0d9927d9f62f9b7031344e01e9fdc335"><div class="ttname"><a href="structsys__reg__desc.html#a0d9927d9f62f9b7031344e01e9fdc335">sys_reg_desc::access</a></div><div class="ttdeci">bool(* access)(struct kvm_vcpu *, struct sys_reg_params *, const struct sys_reg_desc *)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00070">sys_regs.h:70</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a8cb2008e7051ba9d33b9ca79bca84766_cgraph.png" border="0" usemap="#asys__regs_8c_a8cb2008e7051ba9d33b9ca79bca84766_cgraph" alt=""/></div>
<map name="asys__regs_8c_a8cb2008e7051ba9d33b9ca79bca84766_cgraph" id="asys__regs_8c_a8cb2008e7051ba9d33b9ca79bca84766_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,131,108"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="179,56,344,83"/>
<area shape="rect" href="sys__regs_8h.html#a1288fc38e8c8e5e2bbf3cfeb9291cef9" title=" " alt="" coords="203,107,319,133"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="397,5,515,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="397,56,515,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="585,5,713,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="568,56,731,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="574,107,725,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="779,107,960,133"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="392,107,520,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a8cb2008e7051ba9d33b9ca79bca84766_icgraph.png" border="0" usemap="#asys__regs_8c_a8cb2008e7051ba9d33b9ca79bca84766_icgraph" alt=""/></div>
<map name="asys__regs_8c_a8cb2008e7051ba9d33b9ca79bca84766_icgraph" id="asys__regs_8c_a8cb2008e7051ba9d33b9ca79bca84766_icgraph">
<area shape="rect" title=" " alt="" coords="643,157,768,184"/>
<area shape="rect" href="sys__regs_8c.html#a7a4f4c9413ca5dc5a4d9f5e952f991ac" title=" " alt="" coords="479,107,577,133"/>
<area shape="rect" href="sys__regs_8c.html#a3d240da65ae9bd5abb59855d5eccd1bd" title=" " alt="" coords="461,183,595,209"/>
<area shape="rect" href="sys__regs_8c.html#a60129df4b96ea31788ca4c84aca5296c" title=" " alt="" coords="241,107,388,133"/>
<area shape="rect" href="sys__regs_8c.html#acf2a59d7fe0d9db81c822a0973b00539" title=" " alt="" coords="241,56,388,83"/>
<area shape="rect" href="sys__regs_8c.html#a3fc2578a70449007d0bac463e2d66d05" title=" " alt="" coords="5,107,168,133"/>
<area shape="rect" href="sys__regs_8c.html#aabfd3c696cf28ee58eb8d7e421e12310" title=" " alt="" coords="5,183,168,209"/>
<area shape="rect" href="sys__regs_8c.html#a5f660f6a9a4de1cfc8af20da24cdad94" title=" " alt="" coords="5,5,168,32"/>
<area shape="rect" href="sys__regs_8c.html#ae031a976c6888fa3fb7ac85e9ffa4ce1" title=" " alt="" coords="5,56,168,83"/>
<area shape="rect" href="sys__regs_8c.html#a88f8e6bd75a62772935f734d5772c6bf" title=" " alt="" coords="216,208,413,235"/>
<area shape="rect" href="sys__regs_8c.html#a1a4cee9d7be58e2317c540e1f87eea20" title=" " alt="" coords="235,157,394,184"/>
<area shape="rect" href="sys__regs_8c.html#a315e661b6f1cb224596267000909a1ac" title=" " alt="" coords="235,259,394,285"/>
</map>
</div>

</div>
</div>
<a id="a6b0bb9716262e47f62b72b0622bc3362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b0bb9716262e47f62b72b0622bc3362">&#9670;&nbsp;</a></span>pmu_access_cycle_counter_el0_disabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool pmu_access_cycle_counter_el0_disabled </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00925">925</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;{</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12">check_pmu_access_disabled</a>(vcpu, ARMV8_PMU_USERENR_CR | ARMV8_PMU_USERENR_EN);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a6b0bb9716262e47f62b72b0622bc3362_cgraph.png" border="0" usemap="#asys__regs_8c_a6b0bb9716262e47f62b72b0622bc3362_cgraph" alt=""/></div>
<map name="asys__regs_8c_a6b0bb9716262e47f62b72b0622bc3362_cgraph" id="asys__regs_8c_a6b0bb9716262e47f62b72b0622bc3362_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,204,65"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="252,31,461,57"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="509,31,675,57"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="723,5,841,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="723,56,841,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="907,5,1035,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="889,56,1052,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="895,107,1046,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1100,107,1281,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a6b0bb9716262e47f62b72b0622bc3362_icgraph.png" border="0" usemap="#asys__regs_8c_a6b0bb9716262e47f62b72b0622bc3362_icgraph" alt=""/></div>
<map name="asys__regs_8c_a6b0bb9716262e47f62b72b0622bc3362_icgraph" id="asys__regs_8c_a6b0bb9716262e47f62b72b0622bc3362_icgraph">
<area shape="rect" title=" " alt="" coords="204,5,403,47"/>
<area shape="rect" href="sys__regs_8c.html#a02a036e9adee46363c44fc787cd30cc4" title=" " alt="" coords="5,13,156,39"/>
</map>
</div>

</div>
</div>
<a id="ad26d1f2daf27a368a7f05c6b738f3f7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad26d1f2daf27a368a7f05c6b738f3f7a">&#9670;&nbsp;</a></span>pmu_access_el0_disabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool pmu_access_el0_disabled </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00915">915</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;{</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12">check_pmu_access_disabled</a>(vcpu, ARMV8_PMU_USERENR_EN);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ad26d1f2daf27a368a7f05c6b738f3f7a_cgraph.png" border="0" usemap="#asys__regs_8c_ad26d1f2daf27a368a7f05c6b738f3f7a_cgraph" alt=""/></div>
<map name="asys__regs_8c_ad26d1f2daf27a368a7f05c6b738f3f7a_cgraph" id="asys__regs_8c_ad26d1f2daf27a368a7f05c6b738f3f7a_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,196,57"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="244,31,453,57"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="501,31,667,57"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="715,5,833,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="715,56,833,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="899,5,1027,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="881,56,1044,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="887,107,1038,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1092,107,1273,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ad26d1f2daf27a368a7f05c6b738f3f7a_icgraph.png" border="0" usemap="#asys__regs_8c_ad26d1f2daf27a368a7f05c6b738f3f7a_icgraph" alt=""/></div>
<map name="asys__regs_8c_ad26d1f2daf27a368a7f05c6b738f3f7a_icgraph" id="asys__regs_8c_ad26d1f2daf27a368a7f05c6b738f3f7a_icgraph">
<area shape="rect" title=" " alt="" coords="212,132,403,159"/>
<area shape="rect" href="sys__regs_8c.html#a6ce2c3fa2faafa46d088fb0b3081495b" title=" " alt="" coords="24,5,145,32"/>
<area shape="rect" href="sys__regs_8c.html#a95ce985a39ee6e0e9274d873a271e235" title=" " alt="" coords="19,56,150,83"/>
<area shape="rect" href="sys__regs_8c.html#ae72951c06b3847653660caea2df30434" title=" " alt="" coords="31,107,138,133"/>
<area shape="rect" href="sys__regs_8c.html#a8de3a35de8563dfb8655da10034bc411" title=" " alt="" coords="26,157,143,184"/>
<area shape="rect" href="sys__regs_8c.html#a02a036e9adee46363c44fc787cd30cc4" title=" " alt="" coords="9,208,160,235"/>
<area shape="rect" href="sys__regs_8c.html#ae0260b12f95bb7f271037d3e4b18b22b" title=" " alt="" coords="5,259,164,285"/>
</map>
</div>

</div>
</div>
<a id="ae4374d3eb2bf5e2fb0db220979fba3a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4374d3eb2bf5e2fb0db220979fba3a6">&#9670;&nbsp;</a></span>pmu_access_event_counter_el0_disabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool pmu_access_event_counter_el0_disabled </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00930">930</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;{</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12">check_pmu_access_disabled</a>(vcpu, ARMV8_PMU_USERENR_ER | ARMV8_PMU_USERENR_EN);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ae4374d3eb2bf5e2fb0db220979fba3a6_cgraph.png" border="0" usemap="#asys__regs_8c_ae4374d3eb2bf5e2fb0db220979fba3a6_cgraph" alt=""/></div>
<map name="asys__regs_8c_ae4374d3eb2bf5e2fb0db220979fba3a6_cgraph" id="asys__regs_8c_ae4374d3eb2bf5e2fb0db220979fba3a6_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,208,65"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="256,31,465,57"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="513,31,679,57"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="727,5,845,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="727,56,845,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="911,5,1039,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="893,56,1056,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="899,107,1050,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1104,107,1285,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ae4374d3eb2bf5e2fb0db220979fba3a6_icgraph.png" border="0" usemap="#asys__regs_8c_ae4374d3eb2bf5e2fb0db220979fba3a6_icgraph" alt=""/></div>
<map name="asys__regs_8c_ae4374d3eb2bf5e2fb0db220979fba3a6_icgraph" id="asys__regs_8c_ae4374d3eb2bf5e2fb0db220979fba3a6_icgraph">
<area shape="rect" title=" " alt="" coords="204,23,407,65"/>
<area shape="rect" href="sys__regs_8c.html#afce04c034ad223e02664e84c04686d8e" title=" " alt="" coords="21,5,140,32"/>
<area shape="rect" href="sys__regs_8c.html#a02a036e9adee46363c44fc787cd30cc4" title=" " alt="" coords="5,56,156,83"/>
</map>
</div>

</div>
</div>
<a id="ad9997b5fac75ffbb762473aefcb99d6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9997b5fac75ffbb762473aefcb99d6b">&#9670;&nbsp;</a></span>pmu_counter_idx_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool pmu_counter_idx_valid </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01001">1001</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;{</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    u64 pmcr, val;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    pmcr = <a class="code" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6">kvm_vcpu_read_pmcr</a>(vcpu);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    val = FIELD_GET(ARMV8_PMU_PMCR_N, pmcr);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">if</span> (idx &gt;= val &amp;&amp; idx != ARMV8_PMU_CYCLE_IDX) {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ad9997b5fac75ffbb762473aefcb99d6b_cgraph.png" border="0" usemap="#asys__regs_8c_ad9997b5fac75ffbb762473aefcb99d6b_cgraph" alt=""/></div>
<map name="asys__regs_8c_ad9997b5fac75ffbb762473aefcb99d6b_cgraph" id="asys__regs_8c_ad9997b5fac75ffbb762473aefcb99d6b_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,179,83"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="227,31,392,57"/>
<area shape="rect" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6" title=" " alt="" coords="227,81,392,108"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="440,5,559,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="440,56,559,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="624,5,752,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="607,56,769,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="613,107,763,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="817,107,999,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ad9997b5fac75ffbb762473aefcb99d6b_icgraph.png" border="0" usemap="#asys__regs_8c_ad9997b5fac75ffbb762473aefcb99d6b_icgraph" alt=""/></div>
<map name="asys__regs_8c_ad9997b5fac75ffbb762473aefcb99d6b_icgraph" id="asys__regs_8c_ad9997b5fac75ffbb762473aefcb99d6b_icgraph">
<area shape="rect" title=" " alt="" coords="212,31,385,57"/>
<area shape="rect" href="sys__regs_8c.html#a02a036e9adee46363c44fc787cd30cc4" title=" " alt="" coords="9,5,160,32"/>
<area shape="rect" href="sys__regs_8c.html#ae0260b12f95bb7f271037d3e4b18b22b" title=" " alt="" coords="5,56,164,83"/>
</map>
</div>

</div>
</div>
<a id="a9384f68614534270127b075a453ae64d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9384f68614534270127b075a453ae64d">&#9670;&nbsp;</a></span>pmu_visibility()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int pmu_visibility </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00837">837</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;{</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">if</span> (kvm_vcpu_has_pmu(vcpu))</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#adfaaefd051ca94abdae398a38d7c81c0">REG_HIDDEN</a>;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5fa2e3c67f0e39e5bffab36a8ad01c94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fa2e3c67f0e39e5bffab36a8ad01c94">&#9670;&nbsp;</a></span>pmu_write_swinc_el0_disabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool pmu_write_swinc_el0_disabled </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00920">920</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;{</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12">check_pmu_access_disabled</a>(vcpu, ARMV8_PMU_USERENR_SW | ARMV8_PMU_USERENR_EN);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a5fa2e3c67f0e39e5bffab36a8ad01c94_cgraph.png" border="0" usemap="#asys__regs_8c_a5fa2e3c67f0e39e5bffab36a8ad01c94_cgraph" alt=""/></div>
<map name="asys__regs_8c_a5fa2e3c67f0e39e5bffab36a8ad01c94_cgraph" id="asys__regs_8c_a5fa2e3c67f0e39e5bffab36a8ad01c94_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,168,65"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="216,31,425,57"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="473,31,639,57"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="687,5,805,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="687,56,805,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="871,5,999,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="853,56,1016,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="859,107,1010,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1064,107,1245,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a5fa2e3c67f0e39e5bffab36a8ad01c94_icgraph.png" border="0" usemap="#asys__regs_8c_a5fa2e3c67f0e39e5bffab36a8ad01c94_icgraph" alt=""/></div>
<map name="asys__regs_8c_a5fa2e3c67f0e39e5bffab36a8ad01c94_icgraph" id="asys__regs_8c_a5fa2e3c67f0e39e5bffab36a8ad01c94_icgraph">
<area shape="rect" title=" " alt="" coords="184,5,347,47"/>
<area shape="rect" href="sys__regs_8c.html#a51b08d9bb2f9a5a87955b5554df3d8e2" title=" " alt="" coords="5,13,136,39"/>
</map>
</div>

</div>
</div>
<a id="ac09de60a049b45d951448415d1086cf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac09de60a049b45d951448415d1086cf4">&#9670;&nbsp;</a></span>pmuver_to_perfmon()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u8 pmuver_to_perfmon </td>
          <td>(</td>
          <td class="paramtype">u8&#160;</td>
          <td class="paramname"><em>pmuver</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01503">1503</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;{</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">switch</span> (pmuver) {</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="keywordflow">case</span> ID_AA64DFR0_EL1_PMUVer_IMP:</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <span class="keywordflow">return</span> ID_DFR0_EL1_PerfMon_PMUv3;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keywordflow">case</span> ID_AA64DFR0_EL1_PMUVer_IMP_DEF:</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <span class="keywordflow">return</span> ID_DFR0_EL1_PerfMon_IMPDEF;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        <span class="comment">/* Anything ARMv8.1+ and NI have the same value. For now. */</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        <span class="keywordflow">return</span> pmuver;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    }</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ac09de60a049b45d951448415d1086cf4_icgraph.png" border="0" usemap="#asys__regs_8c_ac09de60a049b45d951448415d1086cf4_icgraph" alt=""/></div>
<map name="asys__regs_8c_ac09de60a049b45d951448415d1086cf4_icgraph" id="asys__regs_8c_ac09de60a049b45d951448415d1086cf4_icgraph">
<area shape="rect" title=" " alt="" coords="249,5,404,32"/>
<area shape="rect" href="sys__regs_8c.html#acf43f9071314cb6cc7f0d9c9c866e98e" title=" " alt="" coords="5,5,201,32"/>
</map>
</div>

</div>
</div>
<a id="aecb4c53374f5c7916eb9b9c1612c4bdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecb4c53374f5c7916eb9b9c1612c4bdb">&#9670;&nbsp;</a></span>ptrauth_visibility()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int ptrauth_visibility </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01348">1348</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;{</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keywordflow">return</span> vcpu_has_ptrauth(vcpu) ? 0 : <a class="code" href="sys__regs_8h.html#adfaaefd051ca94abdae398a38d7c81c0">REG_HIDDEN</a>;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a29417a403f289be68a339cbd4834d4ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29417a403f289be68a339cbd4834d4ff">&#9670;&nbsp;</a></span>raz_visibility()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int raz_visibility </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01618">1618</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;{</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#a5ba804724d1a28c29e74a6783cffb779">REG_RAZ</a>;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a08aab10b08e1c7baa994c3b9e2f4fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a08aab10b08e1c7baa994c3b9e2f4fc">&#9670;&nbsp;</a></span>read_from_write_only()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool read_from_write_only </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00059">59</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee">bad_trap</a>(vcpu, params, r,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="stringliteral">&quot;sys_reg read to write-only register&quot;</span>);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a1a08aab10b08e1c7baa994c3b9e2f4fc_cgraph.png" border="0" usemap="#asys__regs_8c_a1a08aab10b08e1c7baa994c3b9e2f4fc_cgraph" alt=""/></div>
<map name="asys__regs_8c_a1a08aab10b08e1c7baa994c3b9e2f4fc_cgraph" id="asys__regs_8c_a1a08aab10b08e1c7baa994c3b9e2f4fc_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,169,83"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="217,56,296,83"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="344,31,509,57"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="354,81,499,108"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="557,5,676,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="557,56,676,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="741,5,869,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="724,56,887,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="730,107,881,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="935,107,1116,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a1a08aab10b08e1c7baa994c3b9e2f4fc_icgraph.png" border="0" usemap="#asys__regs_8c_a1a08aab10b08e1c7baa994c3b9e2f4fc_icgraph" alt=""/></div>
<map name="asys__regs_8c_a1a08aab10b08e1c7baa994c3b9e2f4fc_icgraph" id="asys__regs_8c_a1a08aab10b08e1c7baa994c3b9e2f4fc_icgraph">
<area shape="rect" title=" " alt="" coords="347,81,511,108"/>
<area shape="rect" href="sys__regs_8c.html#a921dd58e3a4f932dc4e7a8d9165588ac" title=" " alt="" coords="180,5,287,32"/>
<area shape="rect" href="sys__regs_8c.html#a972b4ec406e774f520055637a47f6421" title=" " alt="" coords="174,56,293,83"/>
<area shape="rect" href="sys__regs_8c.html#a51b08d9bb2f9a5a87955b5554df3d8e2" title=" " alt="" coords="168,107,299,133"/>
<area shape="rect" href="sys__regs_8c.html#afc4bc6d0fcf17c818886a15afedf29af" title=" " alt="" coords="176,157,291,184"/>
<area shape="rect" href="sys__regs_8c.html#affcbc277fd697c88cc97fbbcce0bf78f" title=" " alt="" coords="5,5,120,32"/>
</map>
</div>

</div>
</div>
<a id="ad72e5726eba0876e5110453b786a7e02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad72e5726eba0876e5110453b786a7e02">&#9670;&nbsp;</a></span>read_id_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 read_id_reg </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01566">1566</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;{</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordflow">return</span> IDREG(vcpu-&gt;kvm, <a class="code" href="sys__regs_8h.html#a2a67e99c288b572250f936d156c5d316">reg_to_encoding</a>(r));</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ad72e5726eba0876e5110453b786a7e02_icgraph.png" border="0" usemap="#asys__regs_8c_ad72e5726eba0876e5110453b786a7e02_icgraph" alt=""/></div>
<map name="asys__regs_8c_ad72e5726eba0876e5110453b786a7e02_icgraph" id="asys__regs_8c_ad72e5726eba0876e5110453b786a7e02_icgraph">
<area shape="rect" title=" " alt="" coords="368,56,467,83"/>
<area shape="rect" href="sys__regs_8c.html#ae6bf132e10ee734ddcea162ebdc8f041" title=" " alt="" coords="207,5,320,32"/>
<area shape="rect" href="sys__regs_8c.html#a32bbe66af0a96b4abdc1acadae38f79a" title=" " alt="" coords="218,56,309,83"/>
<area shape="rect" href="sys__regs_8c.html#aaec02e3f4aca4914e12d3cb952f82db0" title=" " alt="" coords="219,107,308,133"/>
<area shape="rect" href="sys__regs_8c.html#a62564f81bc501f03ed53dc6f068700c7" title=" " alt="" coords="5,81,159,108"/>
<area shape="rect" href="sys__regs_8c.html#a5ff73b6677ae2e9e778417d76ba09231" title=" " alt="" coords="21,132,143,159"/>
</map>
</div>

</div>
</div>
<a id="a7f1eccac4700642e9da4447265c2538a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f1eccac4700642e9da4447265c2538a">&#9670;&nbsp;</a></span>read_sanitised_id_aa64dfr0_el1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 read_sanitised_id_aa64dfr0_el1 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01692">1692</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;{</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    u64 val = read_sanitised_ftr_reg(SYS_ID_AA64DFR0_EL1);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160; </div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    val = <a class="code" href="sys__regs_8c.html#ae119f35f966f3351f44f6de8899bd5ff">ID_REG_LIMIT_FIELD_ENUM</a>(val, ID_AA64DFR0_EL1, DebugVer, V8P8);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160; </div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;<span class="comment">     * Only initialize the PMU version if the vCPU was configured with one.</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    val &amp;= ~ID_AA64DFR0_EL1_PMUVer_MASK;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <span class="keywordflow">if</span> (kvm_vcpu_has_pmu(vcpu))</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        val |= SYS_FIELD_PREP(ID_AA64DFR0_EL1, PMUVer,</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;                      <a class="code" href="pmu-emul_8c.html#a354060fe62ba5fb3f6f3967232f15ddf">kvm_arm_pmu_get_pmuver_limit</a>());</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160; </div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <span class="comment">/* Hide SPE from guests */</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    val &amp;= ~ID_AA64DFR0_EL1_PMSVer_MASK;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160; </div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;}</div>
<div class="ttc" id="apmu-emul_8c_html_a354060fe62ba5fb3f6f3967232f15ddf"><div class="ttname"><a href="pmu-emul_8c.html#a354060fe62ba5fb3f6f3967232f15ddf">kvm_arm_pmu_get_pmuver_limit</a></div><div class="ttdeci">u8 kvm_arm_pmu_get_pmuver_limit(void)</div><div class="ttdef"><b>Definition:</b> <a href="pmu-emul_8c_source.html#l01121">pmu-emul.c:1121</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ae119f35f966f3351f44f6de8899bd5ff"><div class="ttname"><a href="sys__regs_8c.html#ae119f35f966f3351f44f6de8899bd5ff">ID_REG_LIMIT_FIELD_ENUM</a></div><div class="ttdeci">#define ID_REG_LIMIT_FIELD_ENUM(val, reg, field, limit)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01683">sys_regs.c:1683</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a7f1eccac4700642e9da4447265c2538a_cgraph.png" border="0" usemap="#asys__regs_8c_a7f1eccac4700642e9da4447265c2538a_cgraph" alt=""/></div>
<map name="asys__regs_8c_a7f1eccac4700642e9da4447265c2538a_cgraph" id="asys__regs_8c_a7f1eccac4700642e9da4447265c2538a_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,233,39"/>
<area shape="rect" href="pmu-emul_8c.html#a354060fe62ba5fb3f6f3967232f15ddf" title=" " alt="" coords="281,5,487,47"/>
</map>
</div>

</div>
</div>
<a id="a163866b34cd1c568e8e01ab43e62dad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a163866b34cd1c568e8e01ab43e62dad1">&#9670;&nbsp;</a></span>read_sanitised_id_aa64pfr0_el1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 read_sanitised_id_aa64pfr0_el1 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01648">1648</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;{</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    u64 val = read_sanitised_ftr_reg(SYS_ID_AA64PFR0_EL1);</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160; </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="keywordflow">if</span> (!vcpu_has_sve(vcpu))</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        val &amp;= ~ID_AA64PFR0_EL1_SVE_MASK;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160; </div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;<span class="comment">     * The default is to expose CSV2 == 1 if the HW isn&#39;t affected.</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="comment">     * Although this is a per-CPU feature, we make it global because</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="comment">     * asymmetric systems are just a nuisance.</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="comment">     * Userspace can override this as long as it doesn&#39;t promise</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="comment">     * the impossible.</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordflow">if</span> (arm64_get_spectre_v2_state() == SPECTRE_UNAFFECTED) {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        val &amp;= ~ID_AA64PFR0_EL1_CSV2_MASK;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        val |= SYS_FIELD_PREP_ENUM(ID_AA64PFR0_EL1, CSV2, IMP);</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    }</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keywordflow">if</span> (arm64_get_meltdown_state() == SPECTRE_UNAFFECTED) {</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        val &amp;= ~ID_AA64PFR0_EL1_CSV3_MASK;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        val |= SYS_FIELD_PREP_ENUM(ID_AA64PFR0_EL1, CSV3, IMP);</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    }</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160; </div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordflow">if</span> (kvm_vgic_global_state.type == VGIC_V3) {</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        val &amp;= ~ID_AA64PFR0_EL1_GIC_MASK;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        val |= SYS_FIELD_PREP_ENUM(ID_AA64PFR0_EL1, GIC, IMP);</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    }</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160; </div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    val &amp;= ~ID_AA64PFR0_EL1_AMU_MASK;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acf43f9071314cb6cc7f0d9c9c866e98e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf43f9071314cb6cc7f0d9c9c866e98e">&#9670;&nbsp;</a></span>read_sanitised_id_dfr0_el1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 read_sanitised_id_dfr0_el1 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01747">1747</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;{</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    u8 perfmon = <a class="code" href="sys__regs_8c.html#ac09de60a049b45d951448415d1086cf4">pmuver_to_perfmon</a>(<a class="code" href="pmu-emul_8c.html#a354060fe62ba5fb3f6f3967232f15ddf">kvm_arm_pmu_get_pmuver_limit</a>());</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    u64 val = read_sanitised_ftr_reg(SYS_ID_DFR0_EL1);</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160; </div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    val &amp;= ~ID_DFR0_EL1_PerfMon_MASK;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="keywordflow">if</span> (kvm_vcpu_has_pmu(vcpu))</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        val |= SYS_FIELD_PREP(ID_DFR0_EL1, PerfMon, perfmon);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160; </div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    val = <a class="code" href="sys__regs_8c.html#ae119f35f966f3351f44f6de8899bd5ff">ID_REG_LIMIT_FIELD_ENUM</a>(val, ID_DFR0_EL1, CopDbg, Debugv8p8);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160; </div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_ac09de60a049b45d951448415d1086cf4"><div class="ttname"><a href="sys__regs_8c.html#ac09de60a049b45d951448415d1086cf4">pmuver_to_perfmon</a></div><div class="ttdeci">static u8 pmuver_to_perfmon(u8 pmuver)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01503">sys_regs.c:1503</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_acf43f9071314cb6cc7f0d9c9c866e98e_cgraph.png" border="0" usemap="#asys__regs_8c_acf43f9071314cb6cc7f0d9c9c866e98e_cgraph" alt=""/></div>
<map name="asys__regs_8c_acf43f9071314cb6cc7f0d9c9c866e98e_cgraph" id="asys__regs_8c_acf43f9071314cb6cc7f0d9c9c866e98e_cgraph">
<area shape="rect" title=" " alt="" coords="5,42,201,69"/>
<area shape="rect" href="pmu-emul_8c.html#a354060fe62ba5fb3f6f3967232f15ddf" title=" " alt="" coords="249,5,455,47"/>
<area shape="rect" href="sys__regs_8c.html#ac09de60a049b45d951448415d1086cf4" title=" " alt="" coords="275,71,429,98"/>
</map>
</div>

</div>
</div>
<a id="ac8b6170529e5462d0397ed759611d6c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8b6170529e5462d0397ed759611d6c5">&#9670;&nbsp;</a></span>reg_to_dbg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void reg_to_dbg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>dbg_reg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00626">626</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;{</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    u64 mask, shift, val;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <a class="code" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe">get_access_mask</a>(rd, &amp;mask, &amp;shift);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    val = *dbg_reg;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    val &amp;= ~mask;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    val |= (p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> &amp; (mask &gt;&gt; shift)) &lt;&lt; shift;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    *dbg_reg = val;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    vcpu_set_flag(vcpu, DEBUG_DIRTY);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ac8b6170529e5462d0397ed759611d6c5_cgraph.png" border="0" usemap="#asys__regs_8c_ac8b6170529e5462d0397ed759611d6c5_cgraph" alt=""/></div>
<map name="asys__regs_8c_ac8b6170529e5462d0397ed759611d6c5_cgraph" id="asys__regs_8c_ac8b6170529e5462d0397ed759611d6c5_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,100,32"/>
<area shape="rect" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe" title=" " alt="" coords="148,5,285,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ac8b6170529e5462d0397ed759611d6c5_icgraph.png" border="0" usemap="#asys__regs_8c_ac8b6170529e5462d0397ed759611d6c5_icgraph" alt=""/></div>
<map name="asys__regs_8c_ac8b6170529e5462d0397ed759611d6c5_icgraph" id="asys__regs_8c_ac8b6170529e5462d0397ed759611d6c5_icgraph">
<area shape="rect" title=" " alt="" coords="132,81,227,108"/>
<area shape="rect" href="sys__regs_8c.html#a3df2d4f3155ebf7a0cd854b7b7d6257e" title=" " alt="" coords="7,5,82,32"/>
<area shape="rect" href="sys__regs_8c.html#a4411c1a1e85db475200bac119f80b106" title=" " alt="" coords="7,56,83,83"/>
<area shape="rect" href="sys__regs_8c.html#ac85f5ab422e1a957d9efb8482229b846" title=" " alt="" coords="5,107,84,133"/>
<area shape="rect" href="sys__regs_8c.html#ad2866f9118d5d0f54255301421942807" title=" " alt="" coords="5,157,84,184"/>
</map>
</div>

</div>
</div>
<a id="a0edd1a16bec4d82c25bd36eb79a795e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0edd1a16bec4d82c25bd36eb79a795e8">&#9670;&nbsp;</a></span>reset_actlr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 reset_actlr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00810">810</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;{</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    u64 actlr = read_sysreg(actlr_el1);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <a class="code" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b">vcpu_write_sys_reg</a>(vcpu, actlr, ACTLR_EL1);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">return</span> actlr;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a0edd1a16bec4d82c25bd36eb79a795e8_cgraph.png" border="0" usemap="#asys__regs_8c_a0edd1a16bec4d82c25bd36eb79a795e8_cgraph" alt=""/></div>
<map name="asys__regs_8c_a0edd1a16bec4d82c25bd36eb79a795e8_cgraph" id="asys__regs_8c_a0edd1a16bec4d82c25bd36eb79a795e8_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,96,32"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="144,5,295,32"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="343,5,524,32"/>
</map>
</div>

</div>
</div>
<a id="a9902b3f2a39a6e1b860b65bf53a9354a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9902b3f2a39a6e1b860b65bf53a9354a">&#9670;&nbsp;</a></span>reset_amair_el1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 reset_amair_el1 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00803">803</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;{</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    u64 amair = read_sysreg(amair_el1);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b">vcpu_write_sys_reg</a>(vcpu, amair, AMAIR_EL1);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">return</span> amair;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a9902b3f2a39a6e1b860b65bf53a9354a_cgraph.png" border="0" usemap="#asys__regs_8c_a9902b3f2a39a6e1b860b65bf53a9354a_cgraph" alt=""/></div>
<map name="asys__regs_8c_a9902b3f2a39a6e1b860b65bf53a9354a_cgraph" id="asys__regs_8c_a9902b3f2a39a6e1b860b65bf53a9354a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,132,32"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="180,5,331,32"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="379,5,560,32"/>
</map>
</div>

</div>
</div>
<a id="aa903bec2d62b0b06b376b37dab5934d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa903bec2d62b0b06b376b37dab5934d6">&#9670;&nbsp;</a></span>reset_bcr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 reset_bcr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00721">721</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;{</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    vcpu-&gt;arch.vcpu_debug_state.dbg_bcr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>] = rd-&gt;<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordflow">return</span> rd-&gt;<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aee5036cf1423856a6ddccc7984a5e478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee5036cf1423856a6ddccc7984a5e478">&#9670;&nbsp;</a></span>reset_bvr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 reset_bvr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00684">684</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;{</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    vcpu-&gt;arch.vcpu_debug_state.dbg_bvr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>] = rd-&gt;<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">return</span> rd-&gt;<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a97fc78b2ebb89ea07ea5796cc2790d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97fc78b2ebb89ea07ea5796cc2790d92">&#9670;&nbsp;</a></span>reset_clidr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 reset_clidr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01892">1892</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;{</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    u64 ctr_el0 = read_sanitised_ftr_reg(SYS_CTR_EL0);</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    u64 clidr;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    u8 loc;</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160; </div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <span class="keywordflow">if</span> ((ctr_el0 &amp; CTR_EL0_IDC)) {</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;<span class="comment">         * Data cache clean to the PoU is not required so LoUU and LoUIS</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;<span class="comment">         * will not be set and a unified cache, which will be marked as</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;<span class="comment">         * LoC, will be added.</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;<span class="comment">         * If not DIC, let the unified cache L2 so that an instruction</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;<span class="comment">         * cache can be added as L1 later.</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        loc = (ctr_el0 &amp; CTR_EL0_DIC) ? 1 : 2;</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;        clidr = CACHE_TYPE_UNIFIED &lt;&lt; CLIDR_CTYPE_SHIFT(loc);</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;<span class="comment">         * Data cache clean to the PoU is required so let L1 have a data</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;<span class="comment">         * cache and mark it as LoUU and LoUIS. As L1 has a data cache,</span></div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;<span class="comment">         * it can be marked as LoC too.</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        loc = 1;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        clidr = 1 &lt;&lt; CLIDR_LOUU_SHIFT;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;        clidr |= 1 &lt;&lt; CLIDR_LOUIS_SHIFT;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        clidr |= CACHE_TYPE_DATA &lt;&lt; CLIDR_CTYPE_SHIFT(1);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    }</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160; </div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;<span class="comment">     * Instruction cache invalidation to the PoU is required so let L1 have</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;<span class="comment">     * an instruction cache. If L1 already has a data cache, it will be</span></div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;<span class="comment">     * CACHE_TYPE_SEPARATE.</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="keywordflow">if</span> (!(ctr_el0 &amp; CTR_EL0_DIC))</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        clidr |= CACHE_TYPE_INST &lt;&lt; CLIDR_CTYPE_SHIFT(1);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160; </div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    clidr |= loc &lt;&lt; CLIDR_LOC_SHIFT;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160; </div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<span class="comment">     * Add tag cache unified to data cache. Allocation tags and data are</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;<span class="comment">     * unified in a cache line so that it looks valid even if there is only</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;<span class="comment">     * one cache line.</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    <span class="keywordflow">if</span> (kvm_has_mte(vcpu-&gt;kvm))</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;        clidr |= 2 &lt;&lt; CLIDR_TTYPE_SHIFT(loc);</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160; </div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) = clidr;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160; </div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    <span class="keywordflow">return</span> __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>);</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af0c21a1988a4de35a5df265207ee768e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0c21a1988a4de35a5df265207ee768e">&#9670;&nbsp;</a></span>reset_mpidr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 reset_mpidr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00817">817</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;{</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    u64 mpidr;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">     * Map the vcpu_id into the first three affinity level fields of</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">     * the MPIDR. We limit the number of VCPUs in level 0 due to a</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">     * limitation to 16 CPUs in that level in the ICC_SGIxR registers</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">     * of the GICv3 to be able to address each CPU directly when</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">     * sending IPIs.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    mpidr = (vcpu-&gt;vcpu_id &amp; 0x0f) &lt;&lt; MPIDR_LEVEL_SHIFT(0);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    mpidr |= ((vcpu-&gt;vcpu_id &gt;&gt; 4) &amp; 0xff) &lt;&lt; MPIDR_LEVEL_SHIFT(1);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    mpidr |= ((vcpu-&gt;vcpu_id &gt;&gt; 12) &amp; 0xff) &lt;&lt; MPIDR_LEVEL_SHIFT(2);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    mpidr |= (1ULL &lt;&lt; 31);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <a class="code" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b">vcpu_write_sys_reg</a>(vcpu, mpidr, MPIDR_EL1);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">return</span> mpidr;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_af0c21a1988a4de35a5df265207ee768e_cgraph.png" border="0" usemap="#asys__regs_8c_af0c21a1988a4de35a5df265207ee768e_cgraph" alt=""/></div>
<map name="asys__regs_8c_af0c21a1988a4de35a5df265207ee768e_cgraph" id="asys__regs_8c_af0c21a1988a4de35a5df265207ee768e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,105,32"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="153,5,304,32"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="352,5,533,32"/>
</map>
</div>

</div>
</div>
<a id="af3b98e402c92c628313d4ef309797ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3b98e402c92c628313d4ef309797ec8">&#9670;&nbsp;</a></span>reset_pmcr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 reset_pmcr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00888">888</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;{</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    u64 pmcr = 0;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordflow">if</span> (!kvm_supports_32bit_el0())</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        pmcr |= ARMV8_PMU_PMCR_LC;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">     * The value of PMCR.N field is included when the</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">     * vCPU register is read via kvm_vcpu_read_pmcr().</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) = pmcr;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">return</span> __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adf7962cceaeb6032ad246ff1dd003cb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf7962cceaeb6032ad246ff1dd003cb8">&#9670;&nbsp;</a></span>reset_pmevcntr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 reset_pmevcntr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00860">860</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;{</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <a class="code" href="sys__regs_8h.html#a9921b6cef7bc6e2b9652395bab5d39c1">reset_unknown</a>(vcpu, r);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) &amp;= GENMASK(31, 0);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">return</span> __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_adf7962cceaeb6032ad246ff1dd003cb8_cgraph.png" border="0" usemap="#asys__regs_8c_adf7962cceaeb6032ad246ff1dd003cb8_cgraph" alt=""/></div>
<map name="asys__regs_8c_adf7962cceaeb6032ad246ff1dd003cb8_cgraph" id="asys__regs_8c_adf7962cceaeb6032ad246ff1dd003cb8_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,129,32"/>
<area shape="rect" href="sys__regs_8h.html#a9921b6cef7bc6e2b9652395bab5d39c1" title=" " alt="" coords="177,5,299,32"/>
</map>
</div>

</div>
</div>
<a id="a10fff169484fa7d65cb4adc93300aeca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10fff169484fa7d65cb4adc93300aeca">&#9670;&nbsp;</a></span>reset_pmevtyper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 reset_pmevtyper </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00868">868</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;{</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="comment">/* This thing will UNDEF, who cares about the reset value? */</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">if</span> (!kvm_vcpu_has_pmu(vcpu))</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <a class="code" href="sys__regs_8h.html#a9921b6cef7bc6e2b9652395bab5d39c1">reset_unknown</a>(vcpu, r);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) &amp;= <a class="code" href="pmu-emul_8c.html#a1c22f46a919c0c1d2de50384f7a33ed4">kvm_pmu_evtyper_mask</a>(vcpu-&gt;kvm);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">return</span> __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;}</div>
<div class="ttc" id="apmu-emul_8c_html_a1c22f46a919c0c1d2de50384f7a33ed4"><div class="ttname"><a href="pmu-emul_8c.html#a1c22f46a919c0c1d2de50384f7a33ed4">kvm_pmu_evtyper_mask</a></div><div class="ttdeci">u64 kvm_pmu_evtyper_mask(struct kvm *kvm)</div><div class="ttdef"><b>Definition:</b> <a href="pmu-emul_8c_source.html#l00063">pmu-emul.c:63</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a10fff169484fa7d65cb4adc93300aeca_cgraph.png" border="0" usemap="#asys__regs_8c_a10fff169484fa7d65cb4adc93300aeca_cgraph" alt=""/></div>
<map name="asys__regs_8c_a10fff169484fa7d65cb4adc93300aeca_cgraph" id="asys__regs_8c_a10fff169484fa7d65cb4adc93300aeca_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,139,57"/>
<area shape="rect" href="pmu-emul_8c.html#a1c22f46a919c0c1d2de50384f7a33ed4" title=" " alt="" coords="187,5,373,32"/>
<area shape="rect" href="sys__regs_8h.html#a9921b6cef7bc6e2b9652395bab5d39c1" title=" " alt="" coords="219,56,341,83"/>
<area shape="rect" href="pmu-emul_8c.html#a4d63c2f53e5548109d366a7e08be43ae" title=" " alt="" coords="421,5,596,32"/>
<area shape="rect" href="pmu-emul_8c.html#a94af260df1767fa3e538518c9e6436ff" title=" " alt="" coords="644,5,832,32"/>
</map>
</div>

</div>
</div>
<a id="a2226d8e20b345ee7b7ab5829570c6884"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2226d8e20b345ee7b7ab5829570c6884">&#9670;&nbsp;</a></span>reset_pmselr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 reset_pmselr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00880">880</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;{</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <a class="code" href="sys__regs_8h.html#a9921b6cef7bc6e2b9652395bab5d39c1">reset_unknown</a>(vcpu, r);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) &amp;= ARMV8_PMU_COUNTER_MASK;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">return</span> __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a2226d8e20b345ee7b7ab5829570c6884_cgraph.png" border="0" usemap="#asys__regs_8c_a2226d8e20b345ee7b7ab5829570c6884_cgraph" alt=""/></div>
<map name="asys__regs_8c_a2226d8e20b345ee7b7ab5829570c6884_cgraph" id="asys__regs_8c_a2226d8e20b345ee7b7ab5829570c6884_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,112,32"/>
<area shape="rect" href="sys__regs_8h.html#a9921b6cef7bc6e2b9652395bab5d39c1" title=" " alt="" coords="160,5,281,32"/>
</map>
</div>

</div>
</div>
<a id="ae14d1853beb35530cf77ddd1db0c2a95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae14d1853beb35530cf77ddd1db0c2a95">&#9670;&nbsp;</a></span>reset_pmu_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 reset_pmu_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00846">846</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;{</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    u64 mask = BIT(ARMV8_PMU_CYCLE_IDX);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    u8 n = vcpu-&gt;kvm-&gt;arch.pmcr_n;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">if</span> (n)</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        mask |= GENMASK(n - 1, 0);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <a class="code" href="sys__regs_8h.html#a9921b6cef7bc6e2b9652395bab5d39c1">reset_unknown</a>(vcpu, r);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) &amp;= mask;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">return</span> __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ae14d1853beb35530cf77ddd1db0c2a95_cgraph.png" border="0" usemap="#asys__regs_8c_ae14d1853beb35530cf77ddd1db0c2a95_cgraph" alt=""/></div>
<map name="asys__regs_8c_ae14d1853beb35530cf77ddd1db0c2a95_cgraph" id="asys__regs_8c_ae14d1853beb35530cf77ddd1db0c2a95_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,124,32"/>
<area shape="rect" href="sys__regs_8h.html#a9921b6cef7bc6e2b9652395bab5d39c1" title=" " alt="" coords="172,5,293,32"/>
</map>
</div>

</div>
</div>
<a id="affa350e6ad48a3e0c9657429ed41d1fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affa350e6ad48a3e0c9657429ed41d1fe">&#9670;&nbsp;</a></span>reset_wcr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 reset_wcr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00796">796</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;{</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    vcpu-&gt;arch.vcpu_debug_state.dbg_wcr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>] = rd-&gt;<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">return</span> rd-&gt;<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a87eee12fe35732a5900da516a3e914a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87eee12fe35732a5900da516a3e914a1">&#9670;&nbsp;</a></span>reset_wvr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 reset_wvr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00759">759</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;{</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    vcpu-&gt;arch.vcpu_debug_state.dbg_wvr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>] = rd-&gt;<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">return</span> rd-&gt;<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aba85580125285ebb653eea97974ee794"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba85580125285ebb653eea97974ee794">&#9670;&nbsp;</a></span>set_bcr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_bcr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00707">707</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;{</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    vcpu-&gt;arch.vcpu_debug_state.dbg_bcr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>] = val;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a92c077d01bc99604c84180fc07b454a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92c077d01bc99604c84180fc07b454a8">&#9670;&nbsp;</a></span>set_bvr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_bvr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00670">670</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;{</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    vcpu-&gt;arch.vcpu_debug_state.dbg_bvr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>] = val;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e75bf582b5fbb9eb7e84591ab3226e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e75bf582b5fbb9eb7e84591ab3226e6">&#9670;&nbsp;</a></span>set_ccsidr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_ccsidr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>csselr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00278">278</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    u8 line_size = FIELD_GET(CCSIDR_EL1_LineSize, val) + 4;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    u32 *ccsidr = vcpu-&gt;arch.ccsidr;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    u32 i;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span> ((val &amp; CCSIDR_EL1_RES0) ||</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        line_size &lt; <a class="code" href="sys__regs_8c.html#a5dcc664cfa17fa30fd97daba07934cc8">get_min_cache_line_size</a>(csselr &amp; CSSELR_EL1_InD))</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">if</span> (!ccsidr) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">if</span> (val == <a class="code" href="sys__regs_8c.html#a292111fbdf0789784c74686f924d0e04">get_ccsidr</a>(vcpu, csselr))</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        ccsidr = kmalloc_array(<a class="code" href="sys__regs_8c.html#a8433ddfc43e826c3164b5f99ebcc179e">CSSELR_MAX</a>, <span class="keyword">sizeof</span>(u32), GFP_KERNEL_ACCOUNT);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">if</span> (!ccsidr)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordflow">return</span> -ENOMEM;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="sys__regs_8c.html#a8433ddfc43e826c3164b5f99ebcc179e">CSSELR_MAX</a>; i++)</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            ccsidr[i] = <a class="code" href="sys__regs_8c.html#a292111fbdf0789784c74686f924d0e04">get_ccsidr</a>(vcpu, i);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        vcpu-&gt;arch.ccsidr = ccsidr;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    ccsidr[csselr] = val;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a8e75bf582b5fbb9eb7e84591ab3226e6_cgraph.png" border="0" usemap="#asys__regs_8c_a8e75bf582b5fbb9eb7e84591ab3226e6_cgraph" alt=""/></div>
<map name="asys__regs_8c_a8e75bf582b5fbb9eb7e84591ab3226e6_cgraph" id="asys__regs_8c_a8e75bf582b5fbb9eb7e84591ab3226e6_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,92,57"/>
<area shape="rect" href="sys__regs_8c.html#a292111fbdf0789784c74686f924d0e04" title=" " alt="" coords="140,5,228,32"/>
<area shape="rect" href="sys__regs_8c.html#a5dcc664cfa17fa30fd97daba07934cc8" title=" " alt="" coords="276,31,460,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a8e75bf582b5fbb9eb7e84591ab3226e6_icgraph.png" border="0" usemap="#asys__regs_8c_a8e75bf582b5fbb9eb7e84591ab3226e6_icgraph" alt=""/></div>
<map name="asys__regs_8c_a8e75bf582b5fbb9eb7e84591ab3226e6_icgraph" id="asys__regs_8c_a8e75bf582b5fbb9eb7e84591ab3226e6_icgraph">
<area shape="rect" title=" " alt="" coords="987,5,1073,32"/>
<area shape="rect" href="sys__regs_8c.html#ab1e2d05ecec16fc3b603d7b37afe0295" title=" " alt="" coords="815,5,939,32"/>
<area shape="rect" href="sys__regs_8c.html#a857a1f40feb608d8b9156c442eb73f6a" title=" " alt="" coords="571,5,767,32"/>
<area shape="rect" href="guest_8c.html#a8ee5ced2d0c0d538319888057bc58b4a" title=" " alt="" coords="384,5,523,32"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,5,336,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="a070d58f09d1ea502e9f18c8f912c70f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a070d58f09d1ea502e9f18c8f912c70f1">&#9670;&nbsp;</a></span>set_clidr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_clidr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01944">1944</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;{</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    u64 ctr_el0 = read_sanitised_ftr_reg(SYS_CTR_EL0);</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    u64 idc = !CLIDR_LOC(val) || (!CLIDR_LOUIS(val) &amp;&amp; !CLIDR_LOUU(val));</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160; </div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <span class="keywordflow">if</span> ((val &amp; CLIDR_EL1_RES0) || (!(ctr_el0 &amp; CTR_EL0_IDC) &amp;&amp; idc))</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160; </div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    __vcpu_sys_reg(vcpu, rd-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) = val;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160; </div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a62564f81bc501f03ed53dc6f068700c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62564f81bc501f03ed53dc6f068700c7">&#9670;&nbsp;</a></span>set_id_aa64dfr0_el1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_id_aa64dfr0_el1 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01713">1713</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;{</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    u8 debugver = SYS_FIELD_GET(ID_AA64DFR0_EL1, DebugVer, val);</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    u8 pmuver = SYS_FIELD_GET(ID_AA64DFR0_EL1, PMUVer, val);</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160; </div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;<span class="comment">     * Prior to commit 3d0dba5764b9 (&quot;KVM: arm64: PMU: Move the</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;<span class="comment">     * ID_AA64DFR0_EL1.PMUver limit to VM creation&quot;), KVM erroneously</span></div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;<span class="comment">     * exposed an IMP_DEF PMU to userspace and the guest on systems w/</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;<span class="comment">     * non-architectural PMUs. Of course, PMUv3 is the only game in town for</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;<span class="comment">     * PMU virtualization, so the IMP_DEF value was rather user-hostile.</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;<span class="comment">     * At minimum, we&#39;re on the hook to allow values that were given to</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;<span class="comment">     * userspace by KVM. Cover our tracks here and replace the IMP_DEF value</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="comment">     * with a more sensible NI. The value of an ID register changing under</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="comment">     * the nose of the guest is unfortunate, but is certainly no more</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="comment">     * surprising than an ill-guided PMU driver poking at impdef system</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;<span class="comment">     * registers that end in an UNDEF...</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="keywordflow">if</span> (pmuver == ID_AA64DFR0_EL1_PMUVer_IMP_DEF)</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        val &amp;= ~ID_AA64DFR0_EL1_PMUVer_MASK;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160; </div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="comment">     * ID_AA64DFR0_EL1.DebugVer is one of those awkward fields with a</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="comment">     * nonzero minimum safe value.</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="keywordflow">if</span> (debugver &lt; ID_AA64DFR0_EL1_DebugVer_IMP)</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160; </div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#aaec02e3f4aca4914e12d3cb952f82db0">set_id_reg</a>(vcpu, rd, val);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a62564f81bc501f03ed53dc6f068700c7_cgraph.png" border="0" usemap="#asys__regs_8c_a62564f81bc501f03ed53dc6f068700c7_cgraph" alt=""/></div>
<map name="asys__regs_8c_a62564f81bc501f03ed53dc6f068700c7_cgraph" id="asys__regs_8c_a62564f81bc501f03ed53dc6f068700c7_cgraph">
<area shape="rect" title=" " alt="" coords="5,67,159,94"/>
<area shape="rect" href="sys__regs_8c.html#aaec02e3f4aca4914e12d3cb952f82db0" title=" " alt="" coords="207,67,296,94"/>
<area shape="rect" href="sys__regs_8c.html#a16ea29bac78bcc910b40b746771e0e9f" title=" " alt="" coords="344,42,515,69"/>
<area shape="rect" href="sys__regs_8c.html#ad72e5726eba0876e5110453b786a7e02" title=" " alt="" coords="380,93,479,119"/>
<area shape="rect" href="sys__regs_8c.html#ab17ee3ff0bb4b9fd235c144d22fc204f" title=" " alt="" coords="567,5,723,47"/>
<area shape="rect" href="sys__regs_8h.html#af39fd68b14c927a067964587e849be92" title=" " alt="" coords="563,71,727,98"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="775,71,903,98"/>
</map>
</div>

</div>
</div>
<a id="a5ff73b6677ae2e9e778417d76ba09231"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ff73b6677ae2e9e778417d76ba09231">&#9670;&nbsp;</a></span>set_id_dfr0_el1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_id_dfr0_el1 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01762">1762</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;{</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    u8 perfmon = SYS_FIELD_GET(ID_DFR0_EL1, PerfMon, val);</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    u8 copdbg = SYS_FIELD_GET(ID_DFR0_EL1, CopDbg, val);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160; </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="keywordflow">if</span> (perfmon == ID_DFR0_EL1_PerfMon_IMPDEF) {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        val &amp;= ~ID_DFR0_EL1_PerfMon_MASK;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        perfmon = 0;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    }</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;<span class="comment">     * Allow DFR0_EL1.PerfMon to be set from userspace as long as</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="comment">     * it doesn&#39;t promise more than what the HW gives us on the</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="comment">     * AArch64 side (as everything is emulated with that), and</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="comment">     * that this is a PMUv3.</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">if</span> (perfmon != 0 &amp;&amp; perfmon &lt; ID_DFR0_EL1_PerfMon_PMUv3)</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160; </div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="keywordflow">if</span> (copdbg &lt; ID_DFR0_EL1_CopDbg_Armv8)</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160; </div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#aaec02e3f4aca4914e12d3cb952f82db0">set_id_reg</a>(vcpu, rd, val);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a5ff73b6677ae2e9e778417d76ba09231_cgraph.png" border="0" usemap="#asys__regs_8c_a5ff73b6677ae2e9e778417d76ba09231_cgraph" alt=""/></div>
<map name="asys__regs_8c_a5ff73b6677ae2e9e778417d76ba09231_cgraph" id="asys__regs_8c_a5ff73b6677ae2e9e778417d76ba09231_cgraph">
<area shape="rect" title=" " alt="" coords="5,67,127,94"/>
<area shape="rect" href="sys__regs_8c.html#aaec02e3f4aca4914e12d3cb952f82db0" title=" " alt="" coords="175,67,264,94"/>
<area shape="rect" href="sys__regs_8c.html#a16ea29bac78bcc910b40b746771e0e9f" title=" " alt="" coords="312,42,483,69"/>
<area shape="rect" href="sys__regs_8c.html#ad72e5726eba0876e5110453b786a7e02" title=" " alt="" coords="348,93,447,119"/>
<area shape="rect" href="sys__regs_8c.html#ab17ee3ff0bb4b9fd235c144d22fc204f" title=" " alt="" coords="535,5,691,47"/>
<area shape="rect" href="sys__regs_8h.html#af39fd68b14c927a067964587e849be92" title=" " alt="" coords="531,71,695,98"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="743,71,871,98"/>
</map>
</div>

</div>
</div>
<a id="aaec02e3f4aca4914e12d3cb952f82db0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaec02e3f4aca4914e12d3cb952f82db0">&#9670;&nbsp;</a></span>set_id_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_id_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01815">1815</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;{</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    u32 <span class="keywordtype">id</span> = <a class="code" href="sys__regs_8h.html#a2a67e99c288b572250f936d156c5d316">reg_to_encoding</a>(rd);</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160; </div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    mutex_lock(&amp;vcpu-&gt;kvm-&gt;arch.config_lock);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="comment">     * Once the VM has started the ID registers are immutable. Reject any</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="comment">     * write that does not match the final register value.</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">if</span> (kvm_vm_has_ran_once(vcpu-&gt;kvm)) {</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;        <span class="keywordflow">if</span> (val != <a class="code" href="sys__regs_8c.html#ad72e5726eba0876e5110453b786a7e02">read_id_reg</a>(vcpu, rd))</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;            ret = -EBUSY;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;            ret = 0;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160; </div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        mutex_unlock(&amp;vcpu-&gt;kvm-&gt;arch.config_lock);</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    }</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160; </div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    ret = <a class="code" href="sys__regs_8c.html#a16ea29bac78bcc910b40b746771e0e9f">arm64_check_features</a>(vcpu, rd, val);</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keywordflow">if</span> (!ret)</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        IDREG(vcpu-&gt;kvm, <span class="keywordtype">id</span>) = val;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160; </div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    mutex_unlock(&amp;vcpu-&gt;kvm-&gt;arch.config_lock);</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160; </div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="comment">     * arm64_check_features() returns -E2BIG to indicate the register&#39;s</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;<span class="comment">     * feature set is a superset of the maximally-allowed register value.</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;<span class="comment">     * While it would be nice to precisely describe this to userspace, the</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;<span class="comment">     * existing UAPI for KVM_SET_ONE_REG has it that invalid register</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;<span class="comment">     * writes return -EINVAL.</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="keywordflow">if</span> (ret == -E2BIG)</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;        ret = -EINVAL;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a16ea29bac78bcc910b40b746771e0e9f"><div class="ttname"><a href="sys__regs_8c.html#a16ea29bac78bcc910b40b746771e0e9f">arm64_check_features</a></div><div class="ttdeci">static int arm64_check_features(struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd, u64 val)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01450">sys_regs.c:1450</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_aaec02e3f4aca4914e12d3cb952f82db0_cgraph.png" border="0" usemap="#asys__regs_8c_aaec02e3f4aca4914e12d3cb952f82db0_cgraph" alt=""/></div>
<map name="asys__regs_8c_aaec02e3f4aca4914e12d3cb952f82db0_cgraph" id="asys__regs_8c_aaec02e3f4aca4914e12d3cb952f82db0_cgraph">
<area shape="rect" title=" " alt="" coords="5,67,95,94"/>
<area shape="rect" href="sys__regs_8c.html#a16ea29bac78bcc910b40b746771e0e9f" title=" " alt="" coords="143,42,313,69"/>
<area shape="rect" href="sys__regs_8c.html#ad72e5726eba0876e5110453b786a7e02" title=" " alt="" coords="179,93,277,119"/>
<area shape="rect" href="sys__regs_8c.html#ab17ee3ff0bb4b9fd235c144d22fc204f" title=" " alt="" coords="365,5,521,47"/>
<area shape="rect" href="sys__regs_8h.html#af39fd68b14c927a067964587e849be92" title=" " alt="" coords="361,71,525,98"/>
<area shape="rect" href="sys__regs_8h.html#ad57e201c718d43223fb293d770c1ef3b" title=" " alt="" coords="573,71,701,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_aaec02e3f4aca4914e12d3cb952f82db0_icgraph.png" border="0" usemap="#asys__regs_8c_aaec02e3f4aca4914e12d3cb952f82db0_icgraph" alt=""/></div>
<map name="asys__regs_8c_aaec02e3f4aca4914e12d3cb952f82db0_icgraph" id="asys__regs_8c_aaec02e3f4aca4914e12d3cb952f82db0_icgraph">
<area shape="rect" title=" " alt="" coords="207,31,296,57"/>
<area shape="rect" href="sys__regs_8c.html#a62564f81bc501f03ed53dc6f068700c7" title=" " alt="" coords="5,5,159,32"/>
<area shape="rect" href="sys__regs_8c.html#a5ff73b6677ae2e9e778417d76ba09231" title=" " alt="" coords="21,56,143,83"/>
</map>
</div>

</div>
</div>
<a id="a1a8c62b59dd6a91702e17f7bb83e3633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a8c62b59dd6a91702e17f7bb83e3633">&#9670;&nbsp;</a></span>set_invariant_sys_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_invariant_sys_reg </td>
          <td>(</td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 __user *&#160;</td>
          <td class="paramname"><em>uaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03607">3607</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;{</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *r;</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;    u64 <a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>;</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160; </div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;    r = <a class="code" href="sys__regs_8c.html#ac41b37ff19cd3eda5658080a3eb8c558">get_reg_by_id</a>(<span class="keywordtype">id</span>, invariant_sys_regs,</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;              ARRAY_SIZE(invariant_sys_regs));</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;    <span class="keywordflow">if</span> (!r)</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;        <span class="keywordflow">return</span> -ENOENT;</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160; </div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structsys__reg__desc.html#ad4a1cef69891a0e8d270650222ace922">get_user</a>(<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>, uaddr))</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;        <span class="keywordflow">return</span> -EFAULT;</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160; </div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    <span class="comment">/* This is what we mean by invariant: you can&#39;t change it. */</span></div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;    <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a> != <a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>)</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160; </div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a1a8c62b59dd6a91702e17f7bb83e3633_cgraph.png" border="0" usemap="#asys__regs_8c_a1a8c62b59dd6a91702e17f7bb83e3633_cgraph" alt=""/></div>
<map name="asys__regs_8c_a1a8c62b59dd6a91702e17f7bb83e3633_cgraph" id="asys__regs_8c_a1a8c62b59dd6a91702e17f7bb83e3633_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,169,57"/>
<area shape="rect" href="sys__regs_8c.html#ac41b37ff19cd3eda5658080a3eb8c558" title=" " alt="" coords="217,31,331,57"/>
<area shape="rect" href="sys__regs_8h.html#a5478d1284365aa547695b6889e4a05ef" title=" " alt="" coords="409,5,483,32"/>
<area shape="rect" href="sys__regs_8c.html#a000b8bb9ea7247fee0c7acc84817d960" title=" " alt="" coords="379,56,513,83"/>
<area shape="rect" href="sys__regs_8h.html#aba3abb7cabe45542d03289fe25af9526" title=" " alt="" coords="561,5,681,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a1a8c62b59dd6a91702e17f7bb83e3633_icgraph.png" border="0" usemap="#asys__regs_8c_a1a8c62b59dd6a91702e17f7bb83e3633_icgraph" alt=""/></div>
<map name="asys__regs_8c_a1a8c62b59dd6a91702e17f7bb83e3633_icgraph" id="asys__regs_8c_a1a8c62b59dd6a91702e17f7bb83e3633_icgraph">
<area shape="rect" title=" " alt="" coords="815,5,979,32"/>
<area shape="rect" href="sys__regs_8c.html#a857a1f40feb608d8b9156c442eb73f6a" title=" " alt="" coords="571,5,767,32"/>
<area shape="rect" href="guest_8c.html#a8ee5ced2d0c0d538319888057bc58b4a" title=" " alt="" coords="384,5,523,32"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,5,336,32"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,5,129,32"/>
</map>
</div>

</div>
</div>
<a id="a4479047034364d61b04d8efde8ad3200"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4479047034364d61b04d8efde8ad3200">&#9670;&nbsp;</a></span>set_oslsr_el1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_oslsr_el1 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00551">551</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;{</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">     * The only modifiable bit is the OSLK bit. Refuse the write if</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">     * userspace attempts to change any other bit in the register.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span> ((val ^ rd-&gt;<a class="code" href="structsys__reg__desc.html#ad076e217b99201ed85abb7bc956c924c">val</a>) &amp; ~OSLSR_EL1_OSLK)</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    __vcpu_sys_reg(vcpu, rd-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) = val;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a85dc626c2a0714eacf1a06af3daac7a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85dc626c2a0714eacf1a06af3daac7a9">&#9670;&nbsp;</a></span>set_pmcr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_pmcr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01269">1269</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;{</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    u8 new_n = FIELD_GET(ARMV8_PMU_PMCR_N, val);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keyword">struct </span>kvm *kvm = vcpu-&gt;kvm;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    mutex_lock(&amp;kvm-&gt;arch.config_lock);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment">     * The vCPU can&#39;t have more counters than the PMU hardware</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="comment">     * implements. Ignore this error to maintain compatibility</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="comment">     * with the existing KVM behavior.</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordflow">if</span> (!kvm_vm_has_ran_once(kvm) &amp;&amp;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        new_n &lt;= <a class="code" href="pmu-emul_8c.html#a3af47a523e17d28ac178784b84bedcf8">kvm_arm_pmu_get_max_counters</a>(kvm))</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        kvm-&gt;arch.pmcr_n = new_n;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    mutex_unlock(&amp;kvm-&gt;arch.config_lock);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="comment">     * Ignore writes to RES0 bits, read only bits that are cleared on</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment">     * vCPU reset, and writable bits that KVM doesn&#39;t support yet.</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment">     * (i.e. only PMCR.N and bits [7:0] are mutable from userspace)</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment">     * The LP bit is RES0 when FEAT_PMUv3p5 is not supported on the vCPU.</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="comment">     * But, we leave the bit as it is here, as the vCPU&#39;s PMUver might</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="comment">     * be changed later (NOTE: the bit will be cleared on first vCPU run</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="comment">     * if necessary).</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    val &amp;= ARMV8_PMU_PMCR_MASK;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="comment">/* The LC bit is RES1 when AArch32 is not supported */</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordflow">if</span> (!kvm_supports_32bit_el0())</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        val |= ARMV8_PMU_PMCR_LC;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) = val;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;}</div>
<div class="ttc" id="apmu-emul_8c_html_a3af47a523e17d28ac178784b84bedcf8"><div class="ttname"><a href="pmu-emul_8c.html#a3af47a523e17d28ac178784b84bedcf8">kvm_arm_pmu_get_max_counters</a></div><div class="ttdeci">u8 kvm_arm_pmu_get_max_counters(struct kvm *kvm)</div><div class="ttdef"><b>Definition:</b> <a href="pmu-emul_8c_source.html#l00908">pmu-emul.c:908</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a85dc626c2a0714eacf1a06af3daac7a9_cgraph.png" border="0" usemap="#asys__regs_8c_a85dc626c2a0714eacf1a06af3daac7a9_cgraph" alt=""/></div>
<map name="asys__regs_8c_a85dc626c2a0714eacf1a06af3daac7a9_cgraph" id="asys__regs_8c_a85dc626c2a0714eacf1a06af3daac7a9_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,88,39"/>
<area shape="rect" href="pmu-emul_8c.html#a3af47a523e17d28ac178784b84bedcf8" title=" " alt="" coords="136,5,320,47"/>
</map>
</div>

</div>
</div>
<a id="a65d655135bd1275c47f0ae8999593875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65d655135bd1275c47f0ae8999593875">&#9670;&nbsp;</a></span>set_pmreg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_pmreg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01120">1120</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;{</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordtype">bool</span> set;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    val &amp;= <a class="code" href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6">kvm_pmu_valid_counter_mask</a>(vcpu);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">switch</span> (r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordflow">case</span> PMOVSSET_EL0:</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="comment">/* CRm[1] being set indicates a SET register, and CLR otherwise */</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        set = r-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a> &amp; 2;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <span class="comment">/* Op2[0] being set indicates a SET register, and CLR otherwise */</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        set = r-&gt;<a class="code" href="structsys__reg__desc.html#a2c409db28db7235af0c8e5b6d7dfdc0f">Op2</a> &amp; 1;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    }</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="keywordflow">if</span> (set)</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) |= val;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>) &amp;= ~val;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a65d655135bd1275c47f0ae8999593875_cgraph.png" border="0" usemap="#asys__regs_8c_a65d655135bd1275c47f0ae8999593875_cgraph" alt=""/></div>
<map name="asys__regs_8c_a65d655135bd1275c47f0ae8999593875_cgraph" id="asys__regs_8c_a65d655135bd1275c47f0ae8999593875_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,96,32"/>
<area shape="rect" href="pmu-emul_8c.html#a48da2aca99c9f2f7728c108ebfe1aab6" title=" " alt="" coords="144,5,369,32"/>
<area shape="rect" href="pmu-emul_8c.html#adf428205295b3bc4fec2e00fb2c50fa6" title=" " alt="" coords="417,5,583,32"/>
</map>
</div>

</div>
</div>
<a id="a430f265b250c9a6ba9b32655ac134c58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a430f265b250c9a6ba9b32655ac134c58">&#9670;&nbsp;</a></span>set_wcr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_wcr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00782">782</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;{</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    vcpu-&gt;arch.vcpu_debug_state.dbg_wcr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>] = val;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a20654182b9364bf6f8b9c59b5411d091"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20654182b9364bf6f8b9c59b5411d091">&#9670;&nbsp;</a></span>set_wi_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_wi_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01862">1862</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;{</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad53dbaaef428bebcdc18f4e7a70878b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad53dbaaef428bebcdc18f4e7a70878b3">&#9670;&nbsp;</a></span>set_wvr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_wvr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00745">745</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;{</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    vcpu-&gt;arch.vcpu_debug_state.dbg_wvr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>] = val;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7022ca82e2939ed890c54eff54c50e46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7022ca82e2939ed890c54eff54c50e46">&#9670;&nbsp;</a></span>sve_visibility()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int sve_visibility </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01639">1639</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;{</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keywordflow">if</span> (vcpu_has_sve(vcpu))</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160; </div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#adfaaefd051ca94abdae398a38d7c81c0">REG_HIDDEN</a>;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7d2b75df72a03ffbc60733bf5e01d0fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d2b75df72a03ffbc60733bf5e01d0fd">&#9670;&nbsp;</a></span>sys_reg_to_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u64 sys_reg_to_index </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>reg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03784">3784</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;{</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;    <span class="keywordflow">return</span> (KVM_REG_ARM64 | KVM_REG_SIZE_U64 |</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;        KVM_REG_ARM64_SYSREG |</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;        (reg-&gt;<a class="code" href="structsys__reg__desc.html#a84b945eda67548290f0f8687b49eeca8">Op0</a> &lt;&lt; KVM_REG_ARM64_SYSREG_OP0_SHIFT) |</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;        (reg-&gt;<a class="code" href="structsys__reg__desc.html#a89cf9d34a6ec034642b292786901a0d5">Op1</a> &lt;&lt; KVM_REG_ARM64_SYSREG_OP1_SHIFT) |</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;        (reg-&gt;<a class="code" href="structsys__reg__desc.html#a2788b87d4da525a57ff87f86ed40fb56">CRn</a> &lt;&lt; KVM_REG_ARM64_SYSREG_CRN_SHIFT) |</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;        (reg-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a> &lt;&lt; KVM_REG_ARM64_SYSREG_CRM_SHIFT) |</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;        (reg-&gt;<a class="code" href="structsys__reg__desc.html#a2c409db28db7235af0c8e5b6d7dfdc0f">Op2</a> &lt;&lt; KVM_REG_ARM64_SYSREG_OP2_SHIFT));</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;}</div>
<div class="ttc" id="astructsys__reg__desc_html_a84b945eda67548290f0f8687b49eeca8"><div class="ttname"><a href="structsys__reg__desc.html#a84b945eda67548290f0f8687b49eeca8">sys_reg_desc::Op0</a></div><div class="ttdeci">u8 Op0</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00063">sys_regs.h:63</a></div></div>
<div class="ttc" id="astructsys__reg__desc_html_a89cf9d34a6ec034642b292786901a0d5"><div class="ttname"><a href="structsys__reg__desc.html#a89cf9d34a6ec034642b292786901a0d5">sys_reg_desc::Op1</a></div><div class="ttdeci">u8 Op1</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00064">sys_regs.h:64</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a7d2b75df72a03ffbc60733bf5e01d0fd_icgraph.png" border="0" usemap="#asys__regs_8c_a7d2b75df72a03ffbc60733bf5e01d0fd_icgraph" alt=""/></div>
<map name="asys__regs_8c_a7d2b75df72a03ffbc60733bf5e01d0fd_icgraph" id="asys__regs_8c_a7d2b75df72a03ffbc60733bf5e01d0fd_icgraph">
<area shape="rect" title=" " alt="" coords="1400,53,1535,79"/>
<area shape="rect" href="sys__regs_8c.html#a0f1032ed43c78a6dff76e1116bfd0476" title=" " alt="" coords="1216,27,1352,54"/>
<area shape="rect" href="sys__regs_8c.html#a4518ec5bc50f3432c171d3523dd8ea93" title=" " alt="" coords="635,71,813,112"/>
<area shape="rect" href="sys__regs_8c.html#a68f111e8a8404c26f46d5191d2a7f3e1" title=" " alt="" coords="1027,27,1168,54"/>
<area shape="rect" href="sys__regs_8c.html#abd3b49a9b9e349d26d03f5dc6a42efbc" title=" " alt="" coords="861,27,979,54"/>
<area shape="rect" href="sys__regs_8c.html#a3a12ba3777384275bc5ff0abd169e22c" title=" " alt="" coords="635,5,813,47"/>
<area shape="rect" href="guest_8c.html#a5c5ea01484b922cc9295c7e30f181076" title=" " alt="" coords="384,71,587,98"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,46,336,73"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,46,129,73"/>
<area shape="rect" href="guest_8c.html#a5ea136c294fe50fdaa31e9bc93763f7f" title=" " alt="" coords="408,17,563,43"/>
</map>
</div>

</div>
</div>
<a id="a3df2d4f3155ebf7a0cd854b7b7d6257e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3df2d4f3155ebf7a0cd854b7b7d6257e">&#9670;&nbsp;</a></span>trap_bcr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool trap_bcr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00691">691</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;{</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    u64 *dbg_reg = &amp;vcpu-&gt;arch.vcpu_debug_state.dbg_bcr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>];</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <a class="code" href="sys__regs_8c.html#ac8b6170529e5462d0397ed759611d6c5">reg_to_dbg</a>(vcpu, p, rd, dbg_reg);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <a class="code" href="sys__regs_8c.html#ad497317a004bcc91436302950168668b">dbg_to_reg</a>(vcpu, p, rd, dbg_reg);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    trace_trap_reg(__func__, rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>, p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>, *dbg_reg);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_ac8b6170529e5462d0397ed759611d6c5"><div class="ttname"><a href="sys__regs_8c.html#ac8b6170529e5462d0397ed759611d6c5">reg_to_dbg</a></div><div class="ttdeci">static void reg_to_dbg(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *rd, u64 *dbg_reg)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00626">sys_regs.c:626</a></div></div>
<div class="ttc" id="asys__regs_8c_html_ad497317a004bcc91436302950168668b"><div class="ttname"><a href="sys__regs_8c.html#ad497317a004bcc91436302950168668b">dbg_to_reg</a></div><div class="ttdeci">static void dbg_to_reg(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *rd, u64 *dbg_reg)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00643">sys_regs.c:643</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a3df2d4f3155ebf7a0cd854b7b7d6257e_cgraph.png" border="0" usemap="#asys__regs_8c_a3df2d4f3155ebf7a0cd854b7b7d6257e_cgraph" alt=""/></div>
<map name="asys__regs_8c_a3df2d4f3155ebf7a0cd854b7b7d6257e_cgraph" id="asys__regs_8c_a3df2d4f3155ebf7a0cd854b7b7d6257e_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,80,57"/>
<area shape="rect" href="sys__regs_8c.html#ad497317a004bcc91436302950168668b" title=" " alt="" coords="128,5,223,32"/>
<area shape="rect" href="sys__regs_8c.html#ac8b6170529e5462d0397ed759611d6c5" title=" " alt="" coords="128,56,223,83"/>
<area shape="rect" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe" title=" " alt="" coords="271,31,408,57"/>
</map>
</div>

</div>
</div>
<a id="a4411c1a1e85db475200bac119f80b106"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4411c1a1e85db475200bac119f80b106">&#9670;&nbsp;</a></span>trap_bvr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool trap_bvr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00654">654</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;{</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    u64 *dbg_reg = &amp;vcpu-&gt;arch.vcpu_debug_state.dbg_bvr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>];</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <a class="code" href="sys__regs_8c.html#ac8b6170529e5462d0397ed759611d6c5">reg_to_dbg</a>(vcpu, p, rd, dbg_reg);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <a class="code" href="sys__regs_8c.html#ad497317a004bcc91436302950168668b">dbg_to_reg</a>(vcpu, p, rd, dbg_reg);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160; </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    trace_trap_reg(__func__, rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>, p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>, *dbg_reg);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a4411c1a1e85db475200bac119f80b106_cgraph.png" border="0" usemap="#asys__regs_8c_a4411c1a1e85db475200bac119f80b106_cgraph" alt=""/></div>
<map name="asys__regs_8c_a4411c1a1e85db475200bac119f80b106_cgraph" id="asys__regs_8c_a4411c1a1e85db475200bac119f80b106_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,81,57"/>
<area shape="rect" href="sys__regs_8c.html#ad497317a004bcc91436302950168668b" title=" " alt="" coords="129,5,224,32"/>
<area shape="rect" href="sys__regs_8c.html#ac8b6170529e5462d0397ed759611d6c5" title=" " alt="" coords="129,56,224,83"/>
<area shape="rect" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe" title=" " alt="" coords="272,31,409,57"/>
</map>
</div>

</div>
</div>
<a id="a6670f49dfeed19115a01949ce80f4439"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6670f49dfeed19115a01949ce80f4439">&#9670;&nbsp;</a></span>trap_dbgauthstatus_el1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool trap_dbgauthstatus_el1 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00565">565</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;{</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#a7260a615d788053377ebfbcef103b638">ignore_write</a>(vcpu, p);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = read_sysreg(dbgauthstatus_el1);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    }</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a6670f49dfeed19115a01949ce80f4439_cgraph.png" border="0" usemap="#asys__regs_8c_a6670f49dfeed19115a01949ce80f4439_cgraph" alt=""/></div>
<map name="asys__regs_8c_a6670f49dfeed19115a01949ce80f4439_cgraph" id="asys__regs_8c_a6670f49dfeed19115a01949ce80f4439_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,180,32"/>
<area shape="rect" href="sys__regs_8h.html#a7260a615d788053377ebfbcef103b638" title=" " alt="" coords="228,5,331,32"/>
</map>
</div>

</div>
</div>
<a id="a1c060da3ce0e4544218c062d7b155988"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c060da3ce0e4544218c062d7b155988">&#9670;&nbsp;</a></span>trap_dbgdidr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool trap_dbgdidr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02732">2732</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;{</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>) {</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#a7260a615d788053377ebfbcef103b638">ignore_write</a>(vcpu, p);</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;        u64 dfr = IDREG(vcpu-&gt;kvm, SYS_ID_AA64DFR0_EL1);</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;        u64 pfr = IDREG(vcpu-&gt;kvm, SYS_ID_AA64PFR0_EL1);</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;        u32 el3 = !!SYS_FIELD_GET(ID_AA64PFR0_EL1, EL3, pfr);</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160; </div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;        p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = ((SYS_FIELD_GET(ID_AA64DFR0_EL1, WRPs, dfr) &lt;&lt; 28) |</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;                 (SYS_FIELD_GET(ID_AA64DFR0_EL1, BRPs, dfr) &lt;&lt; 24) |</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;                 (SYS_FIELD_GET(ID_AA64DFR0_EL1, CTX_CMPs, dfr) &lt;&lt; 20) |</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;                 (SYS_FIELD_GET(ID_AA64DFR0_EL1, DebugVer, dfr) &lt;&lt; 16) |</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;                 (1 &lt;&lt; 15) | (el3 &lt;&lt; 14) | (el3 &lt;&lt; 12));</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    }</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6fedb91c5166f9fa4a626ff95c03cacb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fedb91c5166f9fa4a626ff95c03cacb">&#9670;&nbsp;</a></span>trap_debug_regs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool trap_debug_regs </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00604">604</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;{</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <a class="code" href="sys__regs_8c.html#a7a2ff6ba062956e637ca0bf295bedd0c">access_rw</a>(vcpu, p, r);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        vcpu_set_flag(vcpu, DEBUG_DIRTY);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    trace_trap_reg(__func__, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>, p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>, p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a7a2ff6ba062956e637ca0bf295bedd0c"><div class="ttname"><a href="sys__regs_8c.html#a7a2ff6ba062956e637ca0bf295bedd0c">access_rw</a></div><div class="ttdeci">static bool access_rw(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00307">sys_regs.c:307</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a6fedb91c5166f9fa4a626ff95c03cacb_cgraph.png" border="0" usemap="#asys__regs_8c_a6fedb91c5166f9fa4a626ff95c03cacb_cgraph" alt=""/></div>
<map name="asys__regs_8c_a6fedb91c5166f9fa4a626ff95c03cacb_cgraph" id="asys__regs_8c_a6fedb91c5166f9fa4a626ff95c03cacb_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,136,57"/>
<area shape="rect" href="sys__regs_8c.html#a7a2ff6ba062956e637ca0bf295bedd0c" title=" " alt="" coords="184,31,273,57"/>
<area shape="rect" href="sys__regs_8c.html#a79848758fc91bd6081326514833ffafa" title=" " alt="" coords="323,5,470,32"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="321,56,472,83"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="520,31,701,57"/>
</map>
</div>

</div>
</div>
<a id="af289b4e94e97fdd370ddab8d6cc7875f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af289b4e94e97fdd370ddab8d6cc7875f">&#9670;&nbsp;</a></span>trap_loregion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool trap_loregion </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00504">504</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;{</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    u64 val = IDREG(vcpu-&gt;kvm, SYS_ID_AA64MMFR1_EL1);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    u32 sr = <a class="code" href="sys__regs_8h.html#a2a67e99c288b572250f936d156c5d316">reg_to_encoding</a>(r);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span> (!(val &amp; (0xfUL &lt;&lt; ID_AA64MMFR1_EL1_LO_SHIFT))) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a> &amp;&amp; sr == SYS_LORID_EL1)</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449">write_to_read_only</a>(vcpu, p, r);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#abfd6a20e8dc8a081533a84cdfe0d33e6">trap_raz_wi</a>(vcpu, p, r);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_abfd6a20e8dc8a081533a84cdfe0d33e6"><div class="ttname"><a href="sys__regs_8c.html#abfd6a20e8dc8a081533a84cdfe0d33e6">trap_raz_wi</a></div><div class="ttdeci">static bool trap_raz_wi(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00480">sys_regs.c:480</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_af289b4e94e97fdd370ddab8d6cc7875f_cgraph.png" border="0" usemap="#asys__regs_8c_af289b4e94e97fdd370ddab8d6cc7875f_cgraph" alt=""/></div>
<map name="asys__regs_8c_af289b4e94e97fdd370ddab8d6cc7875f_cgraph" id="asys__regs_8c_af289b4e94e97fdd370ddab8d6cc7875f_cgraph">
<area shape="rect" title=" " alt="" coords="5,43,113,69"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="507,31,672,57"/>
<area shape="rect" href="sys__regs_8c.html#abfd6a20e8dc8a081533a84cdfe0d33e6" title=" " alt="" coords="186,43,283,69"/>
<area shape="rect" href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449" title=" " alt="" coords="161,119,308,145"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="720,5,839,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="720,56,839,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="904,5,1032,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="887,56,1049,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="893,107,1043,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1097,107,1279,133"/>
<area shape="rect" href="sys__regs_8h.html#a7260a615d788053377ebfbcef103b638" title=" " alt="" coords="356,31,459,57"/>
<area shape="rect" href="sys__regs_8h.html#a6c4efbc03408e743b8cfd3970889ce53" title=" " alt="" coords="364,81,451,108"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="368,132,447,159"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="517,132,662,159"/>
</map>
</div>

</div>
</div>
<a id="afc4bc6d0fcf17c818886a15afedf29af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc4bc6d0fcf17c818886a15afedf29af">&#9670;&nbsp;</a></span>trap_oslar_el1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool trap_oslar_el1 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00522">522</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;{</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    u64 oslsr;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> (!p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#a1a08aab10b08e1c7baa994c3b9e2f4fc">read_from_write_only</a>(vcpu, p, r);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="comment">/* Forward the OSLK bit to OSLSR */</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    oslsr = __vcpu_sys_reg(vcpu, OSLSR_EL1) &amp; ~OSLSR_EL1_OSLK;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> &amp; OSLAR_EL1_OSLK)</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        oslsr |= OSLSR_EL1_OSLK;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    __vcpu_sys_reg(vcpu, OSLSR_EL1) = oslsr;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_afc4bc6d0fcf17c818886a15afedf29af_cgraph.png" border="0" usemap="#asys__regs_8c_afc4bc6d0fcf17c818886a15afedf29af_cgraph" alt=""/></div>
<map name="asys__regs_8c_afc4bc6d0fcf17c818886a15afedf29af_cgraph" id="asys__regs_8c_afc4bc6d0fcf17c818886a15afedf29af_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,120,83"/>
<area shape="rect" href="sys__regs_8c.html#a1a08aab10b08e1c7baa994c3b9e2f4fc" title=" " alt="" coords="168,56,332,83"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="380,56,459,83"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="507,31,672,57"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="517,81,662,108"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="720,5,839,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="720,56,839,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="904,5,1032,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="887,56,1049,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="893,107,1043,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1097,107,1279,133"/>
</map>
</div>

</div>
</div>
<a id="a91b7c60449c33971e5d4ae7ce419dae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91b7c60449c33971e5d4ae7ce419dae7">&#9670;&nbsp;</a></span>trap_oslsr_el1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool trap_oslsr_el1 </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00540">540</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;{</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449">write_to_read_only</a>(vcpu, p, r);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    p-&gt;<a class="code" href="structsys__reg__params.html#adf34da250600bce0b2741ed1d01a163d">regval</a> = __vcpu_sys_reg(vcpu, r-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a>);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a91b7c60449c33971e5d4ae7ce419dae7_cgraph.png" border="0" usemap="#asys__regs_8c_a91b7c60449c33971e5d4ae7ce419dae7_cgraph" alt=""/></div>
<map name="asys__regs_8c_a91b7c60449c33971e5d4ae7ce419dae7_cgraph" id="asys__regs_8c_a91b7c60449c33971e5d4ae7ce419dae7_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,119,83"/>
<area shape="rect" href="sys__regs_8c.html#aedd3bcce76bd27139153c8189168b449" title=" " alt="" coords="167,56,313,83"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="361,56,440,83"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="488,31,653,57"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="498,81,643,108"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="701,5,820,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="701,56,820,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="885,5,1013,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="868,56,1031,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="874,107,1025,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="1079,107,1260,133"/>
</map>
</div>

</div>
</div>
<a id="abfd6a20e8dc8a081533a84cdfe0d33e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfd6a20e8dc8a081533a84cdfe0d33e6">&#9670;&nbsp;</a></span>trap_raz_wi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool trap_raz_wi </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00480">480</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;{</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#a7260a615d788053377ebfbcef103b638">ignore_write</a>(vcpu, p);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="sys__regs_8h.html#a6c4efbc03408e743b8cfd3970889ce53">read_zero</a>(vcpu, p);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="ttc" id="asys__regs_8h_html_a6c4efbc03408e743b8cfd3970889ce53"><div class="ttname"><a href="sys__regs_8h.html#a6c4efbc03408e743b8cfd3970889ce53">read_zero</a></div><div class="ttdeci">static bool read_zero(struct kvm_vcpu *vcpu, struct sys_reg_params *p)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8h_source.html#l00128">sys_regs.h:128</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_abfd6a20e8dc8a081533a84cdfe0d33e6_cgraph.png" border="0" usemap="#asys__regs_8c_abfd6a20e8dc8a081533a84cdfe0d33e6_cgraph" alt=""/></div>
<map name="asys__regs_8c_abfd6a20e8dc8a081533a84cdfe0d33e6_cgraph" id="asys__regs_8c_abfd6a20e8dc8a081533a84cdfe0d33e6_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,103,57"/>
<area shape="rect" href="sys__regs_8h.html#a7260a615d788053377ebfbcef103b638" title=" " alt="" coords="151,5,253,32"/>
<area shape="rect" href="sys__regs_8h.html#a6c4efbc03408e743b8cfd3970889ce53" title=" " alt="" coords="159,56,245,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_abfd6a20e8dc8a081533a84cdfe0d33e6_icgraph.png" border="0" usemap="#asys__regs_8c_abfd6a20e8dc8a081533a84cdfe0d33e6_icgraph" alt=""/></div>
<map name="asys__regs_8c_abfd6a20e8dc8a081533a84cdfe0d33e6_icgraph" id="asys__regs_8c_abfd6a20e8dc8a081533a84cdfe0d33e6_icgraph">
<area shape="rect" title=" " alt="" coords="161,5,259,32"/>
<area shape="rect" href="sys__regs_8c.html#af289b4e94e97fdd370ddab8d6cc7875f" title=" " alt="" coords="5,5,113,32"/>
</map>
</div>

</div>
</div>
<a id="afc9117ca7e21a07799b4e9e676f89779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc9117ca7e21a07799b4e9e676f89779">&#9670;&nbsp;</a></span>trap_undef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool trap_undef </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00490">490</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;{</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_afc9117ca7e21a07799b4e9e676f89779_cgraph.png" border="0" usemap="#asys__regs_8c_afc9117ca7e21a07799b4e9e676f89779_cgraph" alt=""/></div>
<map name="asys__regs_8c_afc9117ca7e21a07799b4e9e676f89779_cgraph" id="asys__regs_8c_afc9117ca7e21a07799b4e9e676f89779_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,97,57"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="145,31,311,57"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="359,5,477,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="359,56,477,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="543,5,671,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="525,56,688,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="531,107,682,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="736,107,917,133"/>
</map>
</div>

</div>
</div>
<a id="ac85f5ab422e1a957d9efb8482229b846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac85f5ab422e1a957d9efb8482229b846">&#9670;&nbsp;</a></span>trap_wcr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool trap_wcr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00766">766</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;{</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    u64 *dbg_reg = &amp;vcpu-&gt;arch.vcpu_debug_state.dbg_wcr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>];</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <a class="code" href="sys__regs_8c.html#ac8b6170529e5462d0397ed759611d6c5">reg_to_dbg</a>(vcpu, p, rd, dbg_reg);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <a class="code" href="sys__regs_8c.html#ad497317a004bcc91436302950168668b">dbg_to_reg</a>(vcpu, p, rd, dbg_reg);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    trace_trap_reg(__func__, rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>, p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>, *dbg_reg);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ac85f5ab422e1a957d9efb8482229b846_cgraph.png" border="0" usemap="#asys__regs_8c_ac85f5ab422e1a957d9efb8482229b846_cgraph" alt=""/></div>
<map name="asys__regs_8c_ac85f5ab422e1a957d9efb8482229b846_cgraph" id="asys__regs_8c_ac85f5ab422e1a957d9efb8482229b846_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,84,57"/>
<area shape="rect" href="sys__regs_8c.html#ad497317a004bcc91436302950168668b" title=" " alt="" coords="132,5,227,32"/>
<area shape="rect" href="sys__regs_8c.html#ac8b6170529e5462d0397ed759611d6c5" title=" " alt="" coords="132,56,227,83"/>
<area shape="rect" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe" title=" " alt="" coords="275,31,412,57"/>
</map>
</div>

</div>
</div>
<a id="ad2866f9118d5d0f54255301421942807"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2866f9118d5d0f54255301421942807">&#9670;&nbsp;</a></span>trap_wvr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool trap_wvr </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00728">728</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;{</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    u64 *dbg_reg = &amp;vcpu-&gt;arch.vcpu_debug_state.dbg_wvr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>];</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>)</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <a class="code" href="sys__regs_8c.html#ac8b6170529e5462d0397ed759611d6c5">reg_to_dbg</a>(vcpu, p, rd, dbg_reg);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <a class="code" href="sys__regs_8c.html#ad497317a004bcc91436302950168668b">dbg_to_reg</a>(vcpu, p, rd, dbg_reg);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    trace_trap_reg(__func__, rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>, p-&gt;<a class="code" href="structsys__reg__params.html#ac5ae3dcc80da0d39d6e6750884b5464a">is_write</a>,</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        vcpu-&gt;arch.vcpu_debug_state.dbg_wvr[rd-&gt;<a class="code" href="structsys__reg__desc.html#a470f57057f534f266f63561efa10ca8d">CRm</a>]);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_ad2866f9118d5d0f54255301421942807_cgraph.png" border="0" usemap="#asys__regs_8c_ad2866f9118d5d0f54255301421942807_cgraph" alt=""/></div>
<map name="asys__regs_8c_ad2866f9118d5d0f54255301421942807_cgraph" id="asys__regs_8c_ad2866f9118d5d0f54255301421942807_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,84,57"/>
<area shape="rect" href="sys__regs_8c.html#ad497317a004bcc91436302950168668b" title=" " alt="" coords="132,5,227,32"/>
<area shape="rect" href="sys__regs_8c.html#ac8b6170529e5462d0397ed759611d6c5" title=" " alt="" coords="132,56,227,83"/>
<area shape="rect" href="sys__regs_8c.html#a91c21b0c4a25c47c7d3f062cacd75bbe" title=" " alt="" coords="275,31,412,57"/>
</map>
</div>

</div>
</div>
<a id="a867e1f03f1cb111be61689387070fa96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a867e1f03f1cb111be61689387070fa96">&#9670;&nbsp;</a></span>undef_access()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool undef_access </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l01334">1334</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;{</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160; </div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a867e1f03f1cb111be61689387070fa96_cgraph.png" border="0" usemap="#asys__regs_8c_a867e1f03f1cb111be61689387070fa96_cgraph" alt=""/></div>
<map name="asys__regs_8c_a867e1f03f1cb111be61689387070fa96_cgraph" id="asys__regs_8c_a867e1f03f1cb111be61689387070fa96_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,116,57"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="164,31,329,57"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="377,5,496,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="377,56,496,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="561,5,689,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="544,56,707,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="550,107,701,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="755,107,936,133"/>
</map>
</div>

</div>
</div>
<a id="a253f9d1013e490024387b0d3ff8aa742"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a253f9d1013e490024387b0d3ff8aa742">&#9670;&nbsp;</a></span>unhandled_cp_access()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unhandled_cp_access </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03134">3134</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;{</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;    u8 esr_ec = kvm_vcpu_trap_get_class(vcpu);</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;    <span class="keywordtype">int</span> cp = -1;</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160; </div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;    <span class="keywordflow">switch</span> (esr_ec) {</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;    <span class="keywordflow">case</span> ESR_ELx_EC_CP15_32:</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    <span class="keywordflow">case</span> ESR_ELx_EC_CP15_64:</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;        cp = 15;</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;    <span class="keywordflow">case</span> ESR_ELx_EC_CP14_MR:</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;    <span class="keywordflow">case</span> ESR_ELx_EC_CP14_64:</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;        cp = 14;</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;        WARN_ON(1);</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;    }</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160; </div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;    print_sys_reg_msg(params,</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;              <span class="stringliteral">&quot;Unsupported guest CP%d access at: %08lx [%08lx]\n&quot;</span>,</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;              cp, *vcpu_pc(vcpu), *vcpu_cpsr(vcpu));</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;    <a class="code" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb">kvm_inject_undefined</a>(vcpu);</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a253f9d1013e490024387b0d3ff8aa742_cgraph.png" border="0" usemap="#asys__regs_8c_a253f9d1013e490024387b0d3ff8aa742_cgraph" alt=""/></div>
<map name="asys__regs_8c_a253f9d1013e490024387b0d3ff8aa742_cgraph" id="asys__regs_8c_a253f9d1013e490024387b0d3ff8aa742_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,168,57"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="216,31,381,57"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="429,5,548,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="429,56,548,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="613,5,741,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="596,56,759,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="602,107,753,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="807,107,988,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a253f9d1013e490024387b0d3ff8aa742_icgraph.png" border="0" usemap="#asys__regs_8c_a253f9d1013e490024387b0d3ff8aa742_icgraph" alt=""/></div>
<map name="asys__regs_8c_a253f9d1013e490024387b0d3ff8aa742_icgraph" id="asys__regs_8c_a253f9d1013e490024387b0d3ff8aa742_icgraph">
<area shape="rect" title=" " alt="" coords="461,56,624,83"/>
<area shape="rect" href="sys__regs_8c.html#a88f8e6bd75a62772935f734d5772c6bf" title=" " alt="" coords="216,5,413,32"/>
<area shape="rect" href="sys__regs_8c.html#a60129df4b96ea31788ca4c84aca5296c" title=" " alt="" coords="241,56,388,83"/>
<area shape="rect" href="sys__regs_8c.html#acf2a59d7fe0d9db81c822a0973b00539" title=" " alt="" coords="241,107,388,133"/>
<area shape="rect" href="sys__regs_8c.html#aabfd3c696cf28ee58eb8d7e421e12310" title=" " alt="" coords="5,5,168,32"/>
<area shape="rect" href="sys__regs_8c.html#a3fc2578a70449007d0bac463e2d66d05" title=" " alt="" coords="5,56,168,83"/>
<area shape="rect" href="sys__regs_8c.html#a5f660f6a9a4de1cfc8af20da24cdad94" title=" " alt="" coords="5,107,168,133"/>
<area shape="rect" href="sys__regs_8c.html#ae031a976c6888fa3fb7ac85e9ffa4ce1" title=" " alt="" coords="5,157,168,184"/>
</map>
</div>

</div>
</div>
<a id="a79848758fc91bd6081326514833ffafa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79848758fc91bd6081326514833ffafa">&#9670;&nbsp;</a></span>vcpu_read_sys_reg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u64 vcpu_read_sys_reg </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00128">128</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    u64 val = 0x8badf00d8badf00d;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    u64 (*xlate)(u64) = NULL;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> el1r;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span> (!vcpu_get_flag(vcpu, SYSREGS_ON_CPU))</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">goto</span> memory_read;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (unlikely(<a class="code" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178">get_el2_to_el1_mapping</a>(reg, &amp;el1r, &amp;xlate))) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">if</span> (!is_hyp_ctxt(vcpu))</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">goto</span> memory_read;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">         * If this register does not have an EL1 counterpart,</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">         * then read the stored EL2 version.</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">if</span> (reg == el1r)</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keywordflow">goto</span> memory_read;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">         * If we have a non-VHE guest and that the sysreg</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">         * requires translation to be used at EL1, use the</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">         * in-memory copy instead.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">if</span> (!vcpu_el2_e2h_is_set(vcpu) &amp;&amp; xlate)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">goto</span> memory_read;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="comment">/* Get the current version of the EL1 counterpart. */</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        WARN_ON(!__vcpu_read_sys_reg_from_cpu(el1r, &amp;val));</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">/* EL1 register can&#39;t be on the CPU if the guest is in vEL2. */</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">if</span> (unlikely(is_hyp_ctxt(vcpu)))</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">goto</span> memory_read;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">if</span> (__vcpu_read_sys_reg_from_cpu(reg, &amp;val))</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">return</span> val;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;memory_read:</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">return</span> __vcpu_sys_reg(vcpu, reg);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a8f5bcf4d21c4d9b1881dd3fec5bd6178"><div class="ttname"><a href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178">get_el2_to_el1_mapping</a></div><div class="ttdeci">static bool get_el2_to_el1_mapping(unsigned int reg, unsigned int *el1r, u64(**xlate)(u64))</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00088">sys_regs.c:88</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a79848758fc91bd6081326514833ffafa_cgraph.png" border="0" usemap="#asys__regs_8c_a79848758fc91bd6081326514833ffafa_cgraph" alt=""/></div>
<map name="asys__regs_8c_a79848758fc91bd6081326514833ffafa_cgraph" id="asys__regs_8c_a79848758fc91bd6081326514833ffafa_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,152,32"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="200,5,381,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a79848758fc91bd6081326514833ffafa_icgraph.png" border="0" usemap="#asys__regs_8c_a79848758fc91bd6081326514833ffafa_icgraph" alt=""/></div>
<map name="asys__regs_8c_a79848758fc91bd6081326514833ffafa_icgraph" id="asys__regs_8c_a79848758fc91bd6081326514833ffafa_icgraph">
<area shape="rect" title=" " alt="" coords="2109,639,2256,665"/>
<area shape="rect" href="exception_8c.html#aea63a7b5581ad205c5a3a5d3531b7fed" title=" " alt="" coords="1885,309,2045,336"/>
<area shape="rect" href="handle__exit_8c.html#a5c24d46393da9651d3133e2377fd7a69" title=" " alt="" coords="257,5,353,32"/>
<area shape="rect" href="sys__regs_8c.html#af0fe59a1036c0652df463e3561f5e571" title=" " alt="" coords="1913,715,2016,741"/>
<area shape="rect" href="sys__regs_8c.html#a3197676d6f6c5a22211e6e67ee07ae00" title=" " alt="" coords="1909,765,2020,792"/>
<area shape="rect" href="sys__regs_8c.html#a68a146fa2942a8ba63d455aa914a9500" title=" " alt="" coords="1909,816,2020,843"/>
<area shape="rect" href="sys__regs_8c.html#a46854382e168687c13c1a17ef2f67087" title=" " alt="" coords="1919,867,2010,893"/>
<area shape="rect" href="sys__regs_8c.html#a7a2ff6ba062956e637ca0bf295bedd0c" title=" " alt="" coords="1920,917,2009,944"/>
<area shape="rect" href="sys__regs_8c.html#a01047bae0a6b3c1dbee152925e318110" title=" " alt="" coords="1903,968,2026,995"/>
<area shape="rect" href="inject__fault_8c.html#a2bfa90949caca5bddb96723105598b03" title=" " alt="" coords="1913,563,2016,589"/>
<area shape="rect" href="inject__fault_8c.html#af06cf949a6213151a83a09f3ba25a090" title=" " alt="" coords="1430,512,1594,539"/>
<area shape="rect" href="debug_8c.html#ac5de7d8da7d4a0e7d01583f9bab9590b" title=" " alt="" coords="1645,664,1820,691"/>
<area shape="rect" href="emulate-nested_8c.html#a1920c02a997dd9975bec0ee02f6ae2c4" title=" " alt="" coords="935,436,1131,463"/>
<area shape="rect" href="debug_8c.html#a33e80ad65049d17deebb0d5fbe7cc7da" title=" " alt="" coords="1868,461,2061,488"/>
<area shape="rect" href="debug_8c.html#a8341c1ad3b486b6fbcec3681518f3d14" title=" " alt="" coords="1875,613,2054,640"/>
<area shape="rect" href="exception_8c.html#a915e81f46f11cc1767049dbbf071923f" title=" " alt="" coords="1441,272,1583,299"/>
<area shape="rect" href="exception_8c.html#a0bd428ba7b098cc3417dca2f3f3bc9bf" title=" " alt="" coords="1441,323,1583,349"/>
<area shape="rect" href="exception_8c.html#af5715c62a030571c39074f9da1d5d5c3" title=" " alt="" coords="1661,233,1805,260"/>
<area shape="rect" href="exception_8c.html#a5951865f1186392f5e4f0bc260c3b840" title=" " alt="" coords="1196,272,1361,299"/>
<area shape="rect" href="exception_8c.html#a69b40cbdae816f5cb612962c0f5da592" title=" " alt="" coords="965,259,1100,285"/>
<area shape="rect" href="nvhe_2switch_8c.html#af2f5ac35e771dfefeec346aaa6a850fa" title=" " alt="" coords="729,360,859,387"/>
<area shape="rect" href="arm_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="212,563,399,589"/>
<area shape="rect" href="vhe_2switch_8c.html#a1e6833f85cd789386b1d4bd05759903d" title=" " alt="" coords="713,208,875,235"/>
<area shape="rect" href="hyp-main_8c.html#a6d022fca3fc87f84f3a3537e84077c95" title=" " alt="" coords="701,107,887,133"/>
<area shape="rect" href="hyp_2nvhe_2sys__regs_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="735,259,853,285"/>
<area shape="rect" href="emulate-nested_8c.html#a1c3e31bd85e9c0590a018ada20a5e4bf" title=" " alt="" coords="721,157,867,184"/>
<area shape="rect" href="hyp-main_8c.html#a4ee0e6f5a31d21183ee7fea340479a2a" title=" " alt="" coords="459,360,641,387"/>
<area shape="rect" href="arm_8c.html#a4493733d569c32f65f6a791f995628c9" title=" " alt="" coords="453,411,647,437"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="23,588,147,615"/>
<area shape="rect" href="vhe_2switch_8c.html#af2f5ac35e771dfefeec346aaa6a850fa" title=" " alt="" coords="485,107,615,133"/>
<area shape="rect" href="fixed__config_8h.html#a7c9904c4087b4c76fed28f0e1d61b0f6" title=" " alt="" coords="447,309,653,336"/>
<area shape="rect" href="fixed__config_8h.html#a24698fa7e239e46dd4bb852b3c213287" title=" " alt="" coords="456,208,644,235"/>
<area shape="rect" href="hyp_2nvhe_2sys__regs_8c.html#a7f07a9a30c76197718973cee0a2e226f" title=" " alt="" coords="460,157,640,184"/>
<area shape="rect" href="hyp_2nvhe_2sys__regs_8c.html#a4004a761f43f232d622c44ffe6b5c9de" title=" " alt="" coords="460,259,640,285"/>
<area shape="rect" href="nvhe_2switch_8c.html#aa318270974ce5cfb7f419268de5a1d0f" title=" " alt="" coords="214,208,397,235"/>
<area shape="rect" href="emulate-nested_8c.html#af5e2eb745d8ac6415fe941ebe754171d" title=" " alt="" coords="459,56,641,83"/>
<area shape="rect" href="emulate-nested_8c.html#a5759b383dbf067b5e90235d5fd032ab5" title=" " alt="" coords="219,107,392,133"/>
<area shape="rect" href="handle__exit_8c.html#aeaf983f5c40202edc8b07a76603330cd" title=" " alt="" coords="258,56,353,83"/>
<area shape="rect" href="handle__exit_8c.html#ae96aab7918301d55b908034db5855e3d" title=" " alt="" coords="238,157,373,184"/>
<area shape="rect" href="sys__regs_8c.html#a315e661b6f1cb224596267000909a1ac" title=" " alt="" coords="5,107,164,133"/>
<area shape="rect" href="sys__regs_8c.html#a6fedb91c5166f9fa4a626ff95c03cacb" title=" " alt="" coords="1667,917,1798,944"/>
<area shape="rect" href="inject__fault_8c.html#a770ee85ef976fd0ff1957245fc67f8e6" title=" " alt="" coords="1667,613,1798,640"/>
<area shape="rect" href="inject__fault_8c.html#af59dbe65be21cee976e3dee7750211c6" title=" " alt="" coords="1667,563,1798,589"/>
<area shape="rect" href="guest_8c.html#ab27fd32e1cc35e86995a78b67dfbcfd0" title=" " alt="" coords="1431,665,1593,706"/>
<area shape="rect" href="mmu_8c.html#a2c7559bf16232daf5d3187255f1cb70e" title=" " alt="" coords="1185,613,1372,640"/>
<area shape="rect" href="arm_8c.html#ad6500123b9d72298f0cc7f63642ffc71" title=" " alt="" coords="1179,668,1379,695"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="953,657,1112,684"/>
<area shape="rect" href="debug_8c.html#a55c5a83ff9f95fb9e6ae8fa50fa07d9a" title=" " alt="" coords="1427,461,1597,488"/>
</map>
</div>

</div>
</div>
<a id="adf66277e472bdae2cc839d450085bc4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf66277e472bdae2cc839d450085bc4b">&#9670;&nbsp;</a></span>vcpu_write_sys_reg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vcpu_write_sys_reg </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00172">172</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    u64 (*xlate)(u64) = NULL;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> el1r;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> (!vcpu_get_flag(vcpu, SYSREGS_ON_CPU))</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">goto</span> memory_write;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span> (unlikely(<a class="code" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178">get_el2_to_el1_mapping</a>(reg, &amp;el1r, &amp;xlate))) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">if</span> (!is_hyp_ctxt(vcpu))</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keywordflow">goto</span> memory_write;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">         * Always store a copy of the write to memory to avoid having</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">         * to reverse-translate virtual EL2 system registers for a</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">         * non-VHE guest hypervisor.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        __vcpu_sys_reg(vcpu, reg) = val;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="comment">/* No EL1 counterpart? We&#39;re done here.? */</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">if</span> (reg == el1r)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">if</span> (!vcpu_el2_e2h_is_set(vcpu) &amp;&amp; xlate)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            val = xlate(val);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="comment">/* Redirect this to the EL1 version of the register. */</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        WARN_ON(!__vcpu_write_sys_reg_to_cpu(val, el1r));</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">/* EL1 register can&#39;t be on the CPU if the guest is in vEL2. */</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span> (unlikely(is_hyp_ctxt(vcpu)))</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">goto</span> memory_write;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> (__vcpu_write_sys_reg_to_cpu(val, reg))</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;memory_write:</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;     __vcpu_sys_reg(vcpu, reg) = val;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_adf66277e472bdae2cc839d450085bc4b_cgraph.png" border="0" usemap="#asys__regs_8c_adf66277e472bdae2cc839d450085bc4b_cgraph" alt=""/></div>
<map name="asys__regs_8c_adf66277e472bdae2cc839d450085bc4b_cgraph" id="asys__regs_8c_adf66277e472bdae2cc839d450085bc4b_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,156,32"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="204,5,385,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_adf66277e472bdae2cc839d450085bc4b_icgraph.png" border="0" usemap="#asys__regs_8c_adf66277e472bdae2cc839d450085bc4b_icgraph" alt=""/></div>
<map name="asys__regs_8c_adf66277e472bdae2cc839d450085bc4b_icgraph" id="asys__regs_8c_adf66277e472bdae2cc839d450085bc4b_icgraph">
<area shape="rect" title=" " alt="" coords="1567,865,1717,892"/>
<area shape="rect" href="exception_8c.html#aa371d4a38496eb6418245edd33508e91" title=" " alt="" coords="1351,181,1493,208"/>
<area shape="rect" href="exception_8c.html#adfc457815ba5f6b82bcf4dd88d34749e" title=" " alt="" coords="1340,232,1504,258"/>
<area shape="rect" href="sys__regs_8c.html#a68a146fa2942a8ba63d455aa914a9500" title=" " alt="" coords="1367,789,1477,816"/>
<area shape="rect" href="sys__regs_8c.html#a46854382e168687c13c1a17ef2f67087" title=" " alt="" coords="1377,840,1467,866"/>
<area shape="rect" href="sys__regs_8c.html#a7a2ff6ba062956e637ca0bf295bedd0c" title=" " alt="" coords="1377,890,1467,917"/>
<area shape="rect" href="sys__regs_8c.html#a01047bae0a6b3c1dbee152925e318110" title=" " alt="" coords="1361,941,1483,968"/>
<area shape="rect" href="inject__fault_8c.html#a2bfa90949caca5bddb96723105598b03" title=" " alt="" coords="1371,1042,1473,1069"/>
<area shape="rect" href="inject__fault_8c.html#af06cf949a6213151a83a09f3ba25a090" title=" " alt="" coords="877,1312,1041,1338"/>
<area shape="rect" href="inject__fault_8c.html#a62c2f556fa6a43b0372827ca9a3a8017" title=" " alt="" coords="1371,1093,1473,1120"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="1363,738,1481,765"/>
<area shape="rect" href="debug_8c.html#ac5de7d8da7d4a0e7d01583f9bab9590b" title=" " alt="" coords="623,80,798,106"/>
<area shape="rect" href="emulate-nested_8c.html#a5c0ef76a2f1feaeb264f0d4957c8f527" title=" " alt="" coords="615,232,807,258"/>
<area shape="rect" href="sys__regs_8c.html#a0edd1a16bec4d82c25bd36eb79a795e8" title=" " alt="" coords="1377,1144,1467,1170"/>
<area shape="rect" href="sys__regs_8c.html#a9902b3f2a39a6e1b860b65bf53a9354a" title=" " alt="" coords="1359,1194,1485,1221"/>
<area shape="rect" href="sys__regs_8c.html#af0c21a1988a4de35a5df265207ee768e" title=" " alt="" coords="1372,1245,1472,1272"/>
<area shape="rect" href="debug_8c.html#a33e80ad65049d17deebb0d5fbe7cc7da" title=" " alt="" coords="1325,130,1519,157"/>
<area shape="rect" href="exception_8c.html#a0bd428ba7b098cc3417dca2f3f3bc9bf" title=" " alt="" coords="1123,181,1266,208"/>
<area shape="rect" href="exception_8c.html#a5951865f1186392f5e4f0bc260c3b840" title=" " alt="" coords="877,181,1042,208"/>
<area shape="rect" href="exception_8c.html#a69b40cbdae816f5cb612962c0f5da592" title=" " alt="" coords="643,181,778,208"/>
<area shape="rect" href="arm_8c.html#adbabb8b4e50c9c51eec6373fcbc833aa" title=" " alt="" coords="380,130,567,157"/>
<area shape="rect" href="emulate-nested_8c.html#a1c3e31bd85e9c0590a018ada20a5e4bf" title=" " alt="" coords="401,232,546,258"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="179,130,303,157"/>
<area shape="rect" href="emulate-nested_8c.html#af5e2eb745d8ac6415fe941ebe754171d" title=" " alt="" coords="149,434,332,461"/>
<area shape="rect" href="handle__exit_8c.html#a5c24d46393da9651d3133e2377fd7a69" title=" " alt="" coords="5,561,101,588"/>
<area shape="rect" href="sys__regs_8c.html#a6fedb91c5166f9fa4a626ff95c03cacb" title=" " alt="" coords="1129,890,1260,917"/>
<area shape="rect" href="inject__fault_8c.html#a770ee85ef976fd0ff1957245fc67f8e6" title=" " alt="" coords="1129,1312,1260,1338"/>
<area shape="rect" href="inject__fault_8c.html#af59dbe65be21cee976e3dee7750211c6" title=" " alt="" coords="1129,1177,1260,1204"/>
<area shape="rect" href="guest_8c.html#ab27fd32e1cc35e86995a78b67dfbcfd0" title=" " alt="" coords="878,1363,1041,1404"/>
<area shape="rect" href="mmu_8c.html#a2c7559bf16232daf5d3187255f1cb70e" title=" " alt="" coords="617,1312,804,1338"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="1112,738,1277,765"/>
<area shape="rect" href="sys__regs_8c.html#a9457451d95fa776f653cff6c2a8d31f9" title=" " alt="" coords="888,586,1031,613"/>
<area shape="rect" href="sys__regs_8c.html#affcbc277fd697c88cc97fbbcce0bf78f" title=" " alt="" coords="902,637,1017,664"/>
<area shape="rect" href="sys__regs_8c.html#a9a10ea607557de6d05bfd42dab2666cd" title=" " alt="" coords="888,738,1031,765"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="920,789,999,816"/>
<area shape="rect" href="sys__regs_8c.html#a6825971b50ae688a266906875f787c12" title=" " alt="" coords="855,840,1064,866"/>
<area shape="rect" href="sys__regs_8c.html#a3d240da65ae9bd5abb59855d5eccd1bd" title=" " alt="" coords="644,941,777,968"/>
<area shape="rect" href="sys__regs_8c.html#a1a4cee9d7be58e2317c540e1f87eea20" title=" " alt="" coords="394,966,553,993"/>
<area shape="rect" href="handle__exit_8c.html#aba3cb2b15ab0fafd0ac45b621d3bb6b3" title=" " alt="" coords="889,1042,1030,1069"/>
<area shape="rect" href="handle__exit_8c.html#a3e3ab5fffb73f5ca9700a79f510dcf8f" title=" " alt="" coords="911,1093,1007,1120"/>
<area shape="rect" href="sys__regs_8c.html#a66819aed8acf3d9c6daa1c73afd5e8f7" title=" " alt="" coords="872,1144,1047,1186"/>
<area shape="rect" href="handle__exit_8c.html#a0a50407175f0512dcb278e198ce16254" title=" " alt="" coords="881,1210,1037,1237"/>
<area shape="rect" href="handle__exit_8c.html#a313f5469836166a2b9b9e2164fd00cdb" title=" " alt="" coords="864,282,1055,309"/>
<area shape="rect" href="sys__regs_8c.html#a8cb2008e7051ba9d33b9ca79bca84766" title=" " alt="" coords="897,890,1022,917"/>
<area shape="rect" href="sys__regs_8c.html#ad9997b5fac75ffbb762473aefcb99d6b" title=" " alt="" coords="873,333,1046,360"/>
<area shape="rect" href="sys__regs_8c.html#af289b4e94e97fdd370ddab8d6cc7875f" title=" " alt="" coords="905,384,1013,410"/>
<area shape="rect" href="sys__regs_8c.html#afc9117ca7e21a07799b4e9e676f89779" title=" " alt="" coords="913,434,1005,461"/>
<area shape="rect" href="sys__regs_8c.html#a867e1f03f1cb111be61689387070fa96" title=" " alt="" coords="904,485,1015,512"/>
<area shape="rect" href="sys__regs_8c.html#a253f9d1013e490024387b0d3ff8aa742" title=" " alt="" coords="878,536,1041,562"/>
<area shape="rect" href="debug_8c.html#a55c5a83ff9f95fb9e6ae8fa50fa07d9a" title=" " alt="" coords="625,130,796,157"/>
</map>
</div>

</div>
</div>
<a id="a68f111e8a8404c26f46d5191d2a7f3e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f111e8a8404c26f46d5191d2a7f3e1">&#9670;&nbsp;</a></span>walk_one_sys_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int walk_one_sys_reg </td>
          <td>(</td>
          <td class="paramtype">const struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 __user **&#160;</td>
          <td class="paramname"><em>uind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>total</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03807">3807</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;{</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;<span class="comment">     * Ignore registers we trap but don&#39;t save,</span></div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;<span class="comment">     * and for which no custom user accessor is provided.</span></div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;    <span class="keywordflow">if</span> (!(rd-&gt;<a class="code" href="structsys__reg__desc.html#a48aa184844acb996f9139bee9947a816">reg</a> || rd-&gt;<a class="code" href="structsys__reg__desc.html#ad4a1cef69891a0e8d270650222ace922">get_user</a>))</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160; </div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="sys__regs_8h.html#acb0346a28ca0b3fd59d3c815d4d683a1">sysreg_hidden_user</a>(vcpu, rd))</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160; </div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="sys__regs_8c.html#a0f1032ed43c78a6dff76e1116bfd0476">copy_reg_to_user</a>(rd, uind))</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;        <span class="keywordflow">return</span> -EFAULT;</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160; </div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;    (*total)++;</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a0f1032ed43c78a6dff76e1116bfd0476"><div class="ttname"><a href="sys__regs_8c.html#a0f1032ed43c78a6dff76e1116bfd0476">copy_reg_to_user</a></div><div class="ttdeci">static bool copy_reg_to_user(const struct sys_reg_desc *reg, u64 __user **uind)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03795">sys_regs.c:3795</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a68f111e8a8404c26f46d5191d2a7f3e1_cgraph.png" border="0" usemap="#asys__regs_8c_a68f111e8a8404c26f46d5191d2a7f3e1_cgraph" alt=""/></div>
<map name="asys__regs_8c_a68f111e8a8404c26f46d5191d2a7f3e1_cgraph" id="asys__regs_8c_a68f111e8a8404c26f46d5191d2a7f3e1_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,147,57"/>
<area shape="rect" href="sys__regs_8c.html#a0f1032ed43c78a6dff76e1116bfd0476" title=" " alt="" coords="202,5,338,32"/>
<area shape="rect" href="sys__regs_8h.html#acb0346a28ca0b3fd59d3c815d4d683a1" title=" " alt="" coords="195,56,345,83"/>
<area shape="rect" href="sys__regs_8c.html#a7d2b75df72a03ffbc60733bf5e01d0fd" title=" " alt="" coords="393,5,528,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a68f111e8a8404c26f46d5191d2a7f3e1_icgraph.png" border="0" usemap="#asys__regs_8c_a68f111e8a8404c26f46d5191d2a7f3e1_icgraph" alt=""/></div>
<map name="asys__regs_8c_a68f111e8a8404c26f46d5191d2a7f3e1_icgraph" id="asys__regs_8c_a68f111e8a8404c26f46d5191d2a7f3e1_icgraph">
<area shape="rect" title=" " alt="" coords="1027,46,1168,73"/>
<area shape="rect" href="sys__regs_8c.html#abd3b49a9b9e349d26d03f5dc6a42efbc" title=" " alt="" coords="861,46,979,73"/>
<area shape="rect" href="sys__regs_8c.html#a4518ec5bc50f3432c171d3523dd8ea93" title=" " alt="" coords="635,5,813,47"/>
<area shape="rect" href="sys__regs_8c.html#a3a12ba3777384275bc5ff0abd169e22c" title=" " alt="" coords="635,71,813,112"/>
<area shape="rect" href="guest_8c.html#a5c5ea01484b922cc9295c7e30f181076" title=" " alt="" coords="384,17,587,43"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,46,336,73"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,46,129,73"/>
<area shape="rect" href="guest_8c.html#a5ea136c294fe50fdaa31e9bc93763f7f" title=" " alt="" coords="408,71,563,98"/>
</map>
</div>

</div>
</div>
<a id="abd3b49a9b9e349d26d03f5dc6a42efbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd3b49a9b9e349d26d03f5dc6a42efbc">&#9670;&nbsp;</a></span>walk_sys_regs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int walk_sys_regs </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 __user *&#160;</td>
          <td class="paramname"><em>uind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03830">3830</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;{</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structsys__reg__desc.html">sys_reg_desc</a> *i2, *end2;</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> total = 0;</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160; </div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;    i2 = <a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>;</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;    end2 = <a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a> + ARRAY_SIZE(<a class="code" href="sys__regs_8c.html#a51b95c5ae679f1aba7eee7379a3be6c7">sys_reg_descs</a>);</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160; </div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;    <span class="keywordflow">while</span> (i2 != end2) {</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;        err = <a class="code" href="sys__regs_8c.html#a68f111e8a8404c26f46d5191d2a7f3e1">walk_one_sys_reg</a>(vcpu, i2++, &amp;uind, &amp;total);</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;        <span class="keywordflow">if</span> (err)</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;    }</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;    <span class="keywordflow">return</span> total;</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;}</div>
<div class="ttc" id="asys__regs_8c_html_a68f111e8a8404c26f46d5191d2a7f3e1"><div class="ttname"><a href="sys__regs_8c.html#a68f111e8a8404c26f46d5191d2a7f3e1">walk_one_sys_reg</a></div><div class="ttdeci">static int walk_one_sys_reg(const struct kvm_vcpu *vcpu, const struct sys_reg_desc *rd, u64 __user **uind, unsigned int *total)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03807">sys_regs.c:3807</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_abd3b49a9b9e349d26d03f5dc6a42efbc_cgraph.png" border="0" usemap="#asys__regs_8c_abd3b49a9b9e349d26d03f5dc6a42efbc_cgraph" alt=""/></div>
<map name="asys__regs_8c_abd3b49a9b9e349d26d03f5dc6a42efbc_cgraph" id="asys__regs_8c_abd3b49a9b9e349d26d03f5dc6a42efbc_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,123,57"/>
<area shape="rect" href="sys__regs_8c.html#a68f111e8a8404c26f46d5191d2a7f3e1" title=" " alt="" coords="171,31,312,57"/>
<area shape="rect" href="sys__regs_8c.html#a0f1032ed43c78a6dff76e1116bfd0476" title=" " alt="" coords="367,5,503,32"/>
<area shape="rect" href="sys__regs_8h.html#acb0346a28ca0b3fd59d3c815d4d683a1" title=" " alt="" coords="360,56,511,83"/>
<area shape="rect" href="sys__regs_8c.html#a7d2b75df72a03ffbc60733bf5e01d0fd" title=" " alt="" coords="559,5,693,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_abd3b49a9b9e349d26d03f5dc6a42efbc_icgraph.png" border="0" usemap="#asys__regs_8c_abd3b49a9b9e349d26d03f5dc6a42efbc_icgraph" alt=""/></div>
<map name="asys__regs_8c_abd3b49a9b9e349d26d03f5dc6a42efbc_icgraph" id="asys__regs_8c_abd3b49a9b9e349d26d03f5dc6a42efbc_icgraph">
<area shape="rect" title=" " alt="" coords="861,46,979,73"/>
<area shape="rect" href="sys__regs_8c.html#a4518ec5bc50f3432c171d3523dd8ea93" title=" " alt="" coords="635,5,813,47"/>
<area shape="rect" href="sys__regs_8c.html#a3a12ba3777384275bc5ff0abd169e22c" title=" " alt="" coords="635,71,813,112"/>
<area shape="rect" href="guest_8c.html#a5c5ea01484b922cc9295c7e30f181076" title=" " alt="" coords="384,17,587,43"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,46,336,73"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,46,129,73"/>
<area shape="rect" href="guest_8c.html#a5ea136c294fe50fdaa31e9bc93763f7f" title=" " alt="" coords="408,71,563,98"/>
</map>
</div>

</div>
</div>
<a id="a5ddbbc31f9d2fb247f921fd3f437a391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ddbbc31f9d2fb247f921fd3f437a391">&#9670;&nbsp;</a></span>write_demux_regids()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int write_demux_regids </td>
          <td>(</td>
          <td class="paramtype">u64 __user *&#160;</td>
          <td class="paramname"><em>uindices</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03770">3770</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;{</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;    u64 val = KVM_REG_ARM64 | KVM_REG_SIZE_U32 | KVM_REG_ARM_DEMUX;</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160; </div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;    val |= KVM_REG_ARM_DEMUX_ID_CCSIDR;</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="sys__regs_8c.html#a8433ddfc43e826c3164b5f99ebcc179e">CSSELR_MAX</a>; i++) {</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;        <span class="keywordflow">if</span> (put_user(val | i, uindices))</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;            <span class="keywordflow">return</span> -EFAULT;</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;        uindices++;</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;    }</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_a5ddbbc31f9d2fb247f921fd3f437a391_icgraph.png" border="0" usemap="#asys__regs_8c_a5ddbbc31f9d2fb247f921fd3f437a391_icgraph" alt=""/></div>
<map name="asys__regs_8c_a5ddbbc31f9d2fb247f921fd3f437a391_icgraph" id="asys__regs_8c_a5ddbbc31f9d2fb247f921fd3f437a391_icgraph">
<area shape="rect" title=" " alt="" coords="861,13,1016,39"/>
<area shape="rect" href="sys__regs_8c.html#a4518ec5bc50f3432c171d3523dd8ea93" title=" " alt="" coords="635,5,813,47"/>
<area shape="rect" href="guest_8c.html#a5c5ea01484b922cc9295c7e30f181076" title=" " alt="" coords="384,13,587,39"/>
<area shape="rect" href="arm_8c.html#ab4ac4d44dfa1ed8985130249d6a8385e" title=" " alt="" coords="177,13,336,39"/>
<area shape="rect" href="kvm__main_8c.html#a2f2d3734c4cf61a1f4f94e9d47c37d55" title=" " alt="" coords="5,13,129,39"/>
</map>
</div>

</div>
</div>
<a id="aedd3bcce76bd27139153c8189168b449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedd3bcce76bd27139153c8189168b449">&#9670;&nbsp;</a></span>write_to_read_only()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool write_to_read_only </td>
          <td>(</td>
          <td class="paramtype">struct kvm_vcpu *&#160;</td>
          <td class="paramname"><em>vcpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsys__reg__params.html">sys_reg_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l00067">67</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee">bad_trap</a>(vcpu, params, r,</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="stringliteral">&quot;sys_reg write to read-only register&quot;</span>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_aedd3bcce76bd27139153c8189168b449_cgraph.png" border="0" usemap="#asys__regs_8c_aedd3bcce76bd27139153c8189168b449_cgraph" alt=""/></div>
<map name="asys__regs_8c_aedd3bcce76bd27139153c8189168b449_cgraph" id="asys__regs_8c_aedd3bcce76bd27139153c8189168b449_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,152,83"/>
<area shape="rect" href="sys__regs_8c.html#aaaf440dbcda866a4a7fa0d8b73f448ee" title=" " alt="" coords="200,56,279,83"/>
<area shape="rect" href="inject__fault_8c.html#aece14f61701021b17e9cf5521f7946fb" title=" " alt="" coords="327,31,492,57"/>
<area shape="rect" href="sys__regs_8h.html#aa0564552f7b8421fe79d8da12b5296f6" title=" " alt="" coords="337,81,482,108"/>
<area shape="rect" href="inject__fault_8c.html#ae6fc8db83ad0518fddd2e485687e0f7d" title=" " alt="" coords="540,5,659,32"/>
<area shape="rect" href="inject__fault_8c.html#a846082def00d9a7db3f28b1b7fb2a07a" title=" " alt="" coords="540,56,659,83"/>
<area shape="rect" href="inject__fault_8c.html#a326fe690ce371beb7496d3ed3cbe1a6e" title=" " alt="" coords="724,5,852,32"/>
<area shape="rect" href="inject__fault_8c.html#a887586bbc6bac834ae37cbf84711288c" title=" " alt="" coords="707,56,869,83"/>
<area shape="rect" href="sys__regs_8c.html#adf66277e472bdae2cc839d450085bc4b" title=" " alt="" coords="713,107,863,133"/>
<area shape="rect" href="sys__regs_8c.html#a8f5bcf4d21c4d9b1881dd3fec5bd6178" title=" " alt="" coords="917,107,1099,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="sys__regs_8c_aedd3bcce76bd27139153c8189168b449_icgraph.png" border="0" usemap="#asys__regs_8c_aedd3bcce76bd27139153c8189168b449_icgraph" alt=""/></div>
<map name="asys__regs_8c_aedd3bcce76bd27139153c8189168b449_icgraph" id="asys__regs_8c_aedd3bcce76bd27139153c8189168b449_icgraph">
<area shape="rect" title=" " alt="" coords="167,132,313,159"/>
<area shape="rect" href="sys__regs_8c.html#a3197676d6f6c5a22211e6e67ee07ae00" title=" " alt="" coords="7,5,117,32"/>
<area shape="rect" href="sys__regs_8c.html#a1630f0f4e352458c812420b059f1f53a" title=" " alt="" coords="11,56,113,83"/>
<area shape="rect" href="sys__regs_8c.html#a0efef856de13abf2f4d85b3da73d8691" title=" " alt="" coords="17,107,107,133"/>
<area shape="rect" href="sys__regs_8c.html#ae6bf132e10ee734ddcea162ebdc8f041" title=" " alt="" coords="5,157,119,184"/>
<area shape="rect" href="sys__regs_8c.html#af289b4e94e97fdd370ddab8d6cc7875f" title=" " alt="" coords="8,208,116,235"/>
<area shape="rect" href="sys__regs_8c.html#a91b7c60449c33971e5d4ae7ce419dae7" title=" " alt="" coords="5,259,119,285"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac5e07c36827332155abf464b1ac2a560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5e07c36827332155abf464b1ac2a560">&#9670;&nbsp;</a></span>__ro_after_init</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> invariant_sys_regs [] __ro_after_init</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_MIDR_EL1), NULL, get_midr_el1 },</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_REVIDR_EL1), NULL, get_revidr_el1 },</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_AIDR_EL1), NULL, get_aidr_el1 },</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_CTR_EL0), NULL, <a class="code" href="sys__regs_8c.html#aaecf333a8b9727e63d492661a046f4dd">get_ctr_el0</a> },</div>
<div class="line">}</div>
<div class="ttc" id="asys__regs_8c_html_aaecf333a8b9727e63d492661a046f4dd"><div class="ttname"><a href="sys__regs_8c.html#aaecf333a8b9727e63d492661a046f4dd">get_ctr_el0</a></div><div class="ttdeci">static u64 get_ctr_el0(struct kvm_vcpu *v, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l03581">sys_regs.c:3581</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l03588">3588</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="ae78146f4d87ed9843080338a0bfe9da0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae78146f4d87ed9843080338a0bfe9da0">&#9670;&nbsp;</a></span>cp14_64_regs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> cp14_64_regs[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    </div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a>( 0), <a class="code" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>( 1), .access = <a class="code" href="sys__regs_8c.html#abfd6a20e8dc8a081533a84cdfe0d33e6">trap_raz_wi</a> },</div>
<div class="line"> </div>
<div class="line">    </div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a>( 0), <a class="code" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>( 2), .access = <a class="code" href="sys__regs_8c.html#abfd6a20e8dc8a081533a84cdfe0d33e6">trap_raz_wi</a> },</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02732">2732</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="ae3b1e78017871071cfa256948fb508bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3b1e78017871071cfa256948fb508bd">&#9670;&nbsp;</a></span>cp14_regs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> cp14_regs[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02732">2732</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a726794e0578b31ccf17210246ea3cf4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a726794e0578b31ccf17210246ea3cf4d">&#9670;&nbsp;</a></span>cp15_64_regs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> cp15_64_regs[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a>( 0), <a class="code" href="sys__regs_8h.html#af18a8d404d0c11e004422697883969ff">CRn</a>( 0), <a class="code" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>( 2), <a class="code" href="sys__regs_8h.html#aa3d2ec0e5f551a75ba390172d2e6cc26">Op2</a>( 0), <a class="code" href="sys__regs_8c.html#a01047bae0a6b3c1dbee152925e318110">access_vm_reg</a>, NULL, TTBR0_EL1 },</div>
<div class="line">    { <a class="code" href="sys__regs_8c.html#ab8720a67d3ef9b4371ac5950f9a26861">CP15_PMU_SYS_REG</a>(DIRECT, 0, 0, 9, 0), .access = <a class="code" href="sys__regs_8c.html#a02a036e9adee46363c44fc787cd30cc4">access_pmu_evcntr</a> },</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a>( 0), <a class="code" href="sys__regs_8h.html#af18a8d404d0c11e004422697883969ff">CRn</a>( 0), <a class="code" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>(12), <a class="code" href="sys__regs_8h.html#aa3d2ec0e5f551a75ba390172d2e6cc26">Op2</a>( 0), <a class="code" href="sys__regs_8c.html#a972b4ec406e774f520055637a47f6421">access_gic_sgi</a> }, </div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_AARCH32_CNTPCT),       <a class="code" href="sys__regs_8c.html#a9457451d95fa776f653cff6c2a8d31f9">access_arch_timer</a> },</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a>( 1), <a class="code" href="sys__regs_8h.html#af18a8d404d0c11e004422697883969ff">CRn</a>( 0), <a class="code" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>( 2), <a class="code" href="sys__regs_8h.html#aa3d2ec0e5f551a75ba390172d2e6cc26">Op2</a>( 0), <a class="code" href="sys__regs_8c.html#a01047bae0a6b3c1dbee152925e318110">access_vm_reg</a>, NULL, TTBR1_EL1 },</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a>( 1), <a class="code" href="sys__regs_8h.html#af18a8d404d0c11e004422697883969ff">CRn</a>( 0), <a class="code" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>(12), <a class="code" href="sys__regs_8h.html#aa3d2ec0e5f551a75ba390172d2e6cc26">Op2</a>( 0), <a class="code" href="sys__regs_8c.html#a972b4ec406e774f520055637a47f6421">access_gic_sgi</a> }, </div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a92e5126db4f150c023e715377db74b5f">Op1</a>( 2), <a class="code" href="sys__regs_8h.html#af18a8d404d0c11e004422697883969ff">CRn</a>( 0), <a class="code" href="sys__regs_8h.html#a34090cb687d367bf2d051e1c670ed5ff">CRm</a>(12), <a class="code" href="sys__regs_8h.html#aa3d2ec0e5f551a75ba390172d2e6cc26">Op2</a>( 0), <a class="code" href="sys__regs_8c.html#a972b4ec406e774f520055637a47f6421">access_gic_sgi</a> }, </div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_AARCH32_CNTP_CVAL),    <a class="code" href="sys__regs_8c.html#a9457451d95fa776f653cff6c2a8d31f9">access_arch_timer</a> },</div>
<div class="line">    { <a class="code" href="sys__regs_8h.html#a96fbcc2f1000e9f28d779df5cc9c8a22">SYS_DESC</a>(SYS_AARCH32_CNTPCTSS),     <a class="code" href="sys__regs_8c.html#a9457451d95fa776f653cff6c2a8d31f9">access_arch_timer</a> },</div>
<div class="line">}</div>
<div class="ttc" id="asys__regs_8c_html_a01047bae0a6b3c1dbee152925e318110"><div class="ttname"><a href="sys__regs_8c.html#a01047bae0a6b3c1dbee152925e318110">access_vm_reg</a></div><div class="ttdeci">static bool access_vm_reg(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00378">sys_regs.c:378</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a9457451d95fa776f653cff6c2a8d31f9"><div class="ttname"><a href="sys__regs_8c.html#a9457451d95fa776f653cff6c2a8d31f9">access_arch_timer</a></div><div class="ttdeci">static bool access_arch_timer(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l01368">sys_regs.c:1368</a></div></div>
<div class="ttc" id="asys__regs_8c_html_a972b4ec406e774f520055637a47f6421"><div class="ttname"><a href="sys__regs_8c.html#a972b4ec406e774f520055637a47f6421">access_gic_sgi</a></div><div class="ttdeci">static bool access_gic_sgi(struct kvm_vcpu *vcpu, struct sys_reg_params *p, const struct sys_reg_desc *r)</div><div class="ttdef"><b>Definition:</b> <a href="sys__regs_8c_source.html#l00424">sys_regs.c:424</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02732">2732</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="ac86c576278c4980aa5803a3fdabbf40f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac86c576278c4980aa5803a3fdabbf40f">&#9670;&nbsp;</a></span>cp15_regs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> cp15_regs[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02732">2732</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a216dc0d7cdd571a00af68b907e1084d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a216dc0d7cdd571a00af68b907e1084d6">&#9670;&nbsp;</a></span>first_idreg</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a>* first_idreg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02730">2730</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
<a id="a51b95c5ae679f1aba7eee7379a3be6c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51b95c5ae679f1aba7eee7379a3be6c7">&#9670;&nbsp;</a></span>sys_reg_descs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structsys__reg__desc.html">sys_reg_desc</a> sys_reg_descs[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sys__regs_8c_source.html#l02165">2165</a> of file <a class="el" href="sys__regs_8c_source.html">sys_regs.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
